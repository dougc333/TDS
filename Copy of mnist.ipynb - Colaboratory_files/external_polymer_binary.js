(function(){var G={},F={},M={};(function(x,v){function k(){this._endDelay=this._delay=0;this._fill="none";this._iterationStart=0;this._iterations=1;this._duration=0;this._playbackRate=1;this._direction="normal";this._easing="linear";this._easingFunction=n}function f(){return x.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function h(m,A,B){var C=new k;A&&(C.fill="both",C.duration="auto");"number"!=typeof m||isNaN(m)?void 0!==m&&Object.getOwnPropertyNames(m).forEach(function(w){if("auto"!=
m[w]){if("number"==typeof C[w]||"duration"==w)if("number"!=typeof m[w]||isNaN(m[w]))return;"fill"==w&&-1==d.indexOf(m[w])||"direction"==w&&-1==l.indexOf(m[w])||"playbackRate"==w&&1!==m[w]&&x.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead.")||(C[w]=m[w])}}):C.duration=m;return C}function e(m,A,B,C){return 0>m||1<m||0>B||1<B?n:function(w){if(0>=w){var D=0;0<m?D=A/m:!A&&0<B&&(D=C/B);return D*w}if(1<=w)return D=0,1>B?D=(C-1)/(B-1):1==B&&1>m&&(D=(A-1)/
(m-1)),1+D*(w-1);D=0;for(var H=1;D<H;){var E=(D+H)/2,I=3*m*(1-E)*(1-E)*E+3*B*(1-E)*E*E+E*E*E;if(1E-5>Math.abs(w-I))break;I<w?D=E:H=E}return 3*A*(1-E)*(1-E)*E+3*C*(1-E)*E*E+E*E*E}}function a(m,A){return function(B){if(1<=B)return 1;var C=1/m;B+=A*C;return B-B%C}}function c(m){u||(u=document.createElement("div").style);u.animationTimingFunction="";u.animationTimingFunction=m;var A=u.animationTimingFunction;if(""==A&&f())throw new TypeError(m+" is not a valid value for easing");return A}function b(m){if("linear"==
m)return n;var A=r.exec(m);return A?e.apply(this,A.slice(1).map(Number)):(A=y.exec(m))?a(Number(A[1]),{start:t,middle:p,end:q}[A[2]]):(m=z[m])?m:n}function g(m,A,B){if(null==A)return 0;var C=B.delay+m+B.endDelay;return A<Math.min(B.delay,C)?1:A>=Math.min(B.delay+m,C)?2:3}var d=["backwards","forwards","both","none"],l=["reverse","alternate","alternate-reverse"],n=function(m){return m};k.prototype={_setMember:function(m,A){this["_"+m]=A;this._effect&&(this._effect._timingInput[m]=A,this._effect._timing=
x.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=x.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(m){this._setMember("delay",m)},get delay(){return this._delay},set endDelay(m){this._setMember("endDelay",m)},get endDelay(){return this._endDelay},set fill(m){this._setMember("fill",m)},get fill(){return this._fill},set iterationStart(m){if((isNaN(m)||
0>m)&&f())throw new TypeError("iterationStart must be a non-negative number, received: "+m);this._setMember("iterationStart",m)},get iterationStart(){return this._iterationStart},set duration(m){if("auto"!=m&&(isNaN(m)||0>m)&&f())throw new TypeError("duration must be non-negative or auto, received: "+m);this._setMember("duration",m)},get duration(){return this._duration},set direction(m){this._setMember("direction",m)},get direction(){return this._direction},set easing(m){this._easingFunction=b(c(m));
this._setMember("easing",m)},get easing(){return this._easing},set iterations(m){if((isNaN(m)||0>m)&&f())throw new TypeError("iterations must be non-negative, received: "+m);this._setMember("iterations",m)},get iterations(){return this._iterations}};var t=1,p=.5,q=0,z={ease:e(.25,.1,.25,1),"ease-in":e(.42,0,1,1),"ease-out":e(0,0,.58,1),"ease-in-out":e(.42,0,.58,1),"step-start":a(1,t),"step-middle":a(1,p),"step-end":a(1,q)},u=null,r=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,
y=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;x.cloneTimingInput=function(m){if("number"==typeof m)return m;var A={},B;for(B in m)A[B]=m[B];return A};x.makeTiming=h;x.numericTimingToObject=function(m){"number"==typeof m&&(m=isNaN(m)?{duration:0}:{duration:m});return m};x.normalizeTimingInput=function(m,A){m=x.numericTimingToObject(m);return h(m,A)};x.calculateActiveDuration=function(m){return Math.abs((0===m.duration||0===m.iterations?0:m.duration*m.iterations)/m.playbackRate)};x.calculateIterationProgress=
function(m,A,B){var C=g(m,A,B);a:{var w=B.fill;switch(C){case 1:m="backwards"==w||"both"==w?0:null;break a;case 3:m=A-B.delay;break a;case 2:m="forwards"==w||"both"==w?m:null;break a;case 0:m=null;break a}m=void 0}if(null===m)return null;A=B.duration;w=B.iterationStart;0===A?1!==C&&(w+=B.iterations):w+=m/A;A=w;w=Infinity===A?B.iterationStart%1:A%1;0!==w||2!==C||0===B.iterations||0===m&&0!==B.duration||(w=1);m=w;w=2===C&&Infinity===B.iterations?Infinity:1===m?Math.floor(A)-1:Math.floor(A);A=C=B.direction;
"normal"!==C&&"reverse"!==C&&("alternate-reverse"===C&&(w+=1),A="normal",Infinity!==w&&0!==w%2&&(A="reverse"));return B._easingFunction("normal"===A?m:1-m)};x.calculatePhase=g;x.normalizeEasing=c;x.parseEasingFunction=b})(G,null);(function(x,v){function k(a){var c=[],b;for(b in a)if(!(b in["easing","offset","composite"])){var g=a[b];Array.isArray(g)||(g=[g]);for(var d,l=g.length,n=0;n<l;n++)d={},d.offset="offset"in a?a.offset:1==l?1:n/(l-1),"easing"in a&&(d.easing=a.easing),"composite"in a&&(d.composite=
a.composite),d[b]=g[n],c.push(d)}c.sort(function(t,p){return t.offset-p.offset});return c}var f={background:"backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundAttachment backgroundOrigin backgroundClip backgroundColor".split(" "),border:"borderTopColor borderTopStyle borderTopWidth borderRightColor borderRightStyle borderRightWidth borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth".split(" "),borderBottom:["borderBottomWidth",
"borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth",
"borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:"fontFamily fontSize fontStyle fontVariant fontWeight lineHeight".split(" "),margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div");v={thin:"1px",medium:"3px",thick:"5px"};var e={borderBottomWidth:v,borderLeftWidth:v,borderRightWidth:v,borderTopWidth:v,
fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:v,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};x.convertToArrayForm=k;x.normalizeKeyframes=function(a){function c(){var n=b.length;null==b[n-1].offset&&(b[n-1].offset=1);1<n&&null==b[0].offset&&(b[0].offset=0);for(var t=0,p=b[0].offset,q=1;q<n;q++){var z=b[q].offset;if(null!=z){for(var u=
1;u<q-t;u++)b[t+u].offset=p+(z-p)*u/(q-t);t=q;p=z}}}if(null==a)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a));Array.isArray(a)||(a=k(a));var b=a.map(function(n){var t={},p;for(p in n){var q=n[p];if("offset"==p){if(null!=q){q=Number(q);if(!isFinite(q))throw new TypeError("Keyframe offsets must be numbers.");if(0>q||1<q)throw new TypeError("Keyframe offsets must be between 0 and 1.");}}else if("composite"==p){if("add"==q||"accumulate"==q)throw{type:DOMException.NOT_SUPPORTED_ERR,
name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=q)throw new TypeError("Invalid composite mode "+q+".");}else q="easing"==p?x.normalizeEasing(q):""+q;var z=void 0,u=p,r=q;q=t;var y=u;if("display"!==y&&0!==y.lastIndexOf("animation",0)&&0!==y.lastIndexOf("transition",0))if(y=f[u])for(z in h.style[u]=r,y)u=y[z],r=h.style[u],q[u]=u in e?e[u][r]||r:r;else q[u]=u in e?e[u][r]||r:r}void 0==t.offset&&(t.offset=null);void 0==t.easing&&(t.easing="linear");return t});a=!0;for(var g=
-Infinity,d=0;d<b.length;d++){var l=b[d].offset;if(null!=l){if(l<g)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");g=l}else a=!1}b=b.filter(function(n){return 0<=n.offset&&1>=n.offset});a||c();return b}})(G,null);(function(x){var v={};x.isDeprecated=function(k,f,h,e){e=e?"are":"is";var a=new Date;f=new Date(f);f.setMonth(f.getMonth()+3);return a<f?(k in v||console.warn("Web Animations: "+k+" "+e+" deprecated and will stop working on "+f.toDateString()+". "+
h),v[k]=!0,!1):!0};x.deprecated=function(k,f,h,e){var a=e?"are":"is";if(x.isDeprecated(k,f,h,e))throw Error(k+" "+a+" no longer supported. "+h);}})(G);(function(){if(document.documentElement.animate){var x=document.documentElement.animate([],0),v=!0;x&&(v=!1,"play currentTime pause reverse playbackRate cancel finish startTime playState".split(" ").forEach(function(k){void 0===x[k]&&(v=!0)}));if(!v)return}(function(k,f,h){function e(c){for(var b={},g=0;g<c.length;g++)for(var d in c[g])if("offset"!=
d&&"easing"!=d&&"composite"!=d){var l={offset:c[g].offset,easing:c[g].easing,value:c[g][d]};b[d]=b[d]||[];b[d].push(l)}for(var n in b)if(c=b[n],0!=c[0].offset||1!=c[c.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"};return b}function a(c){var b=[],g;for(g in c)for(var d=c[g],l=0;l<d.length-1;l++){var n=l,t=l+1,p=d[n].offset,q=d[t].offset,z=p,u=q;0==l&&(z=-Infinity,0==q&&(t=n));l==d.length-2&&(u=Infinity,1==p&&(n=t));
b.push({applyFrom:z,applyTo:u,startOffset:d[n].offset,endOffset:d[t].offset,easingFunction:k.parseEasingFunction(d[n].easing),property:g,interpolation:f.propertyInterpolation(g,d[n].value,d[t].value)})}b.sort(function(r,y){return r.startOffset-y.startOffset});return b}f.convertEffectInput=function(c){c=k.normalizeKeyframes(c);var b=e(c),g=a(b);return function(d,l){if(null!=l)g.filter(function(t){return l>=t.applyFrom&&l<t.applyTo}).forEach(function(t){var p=l-t.startOffset,q=t.endOffset-t.startOffset;
p=0==q?0:t.easingFunction(p/q);f.apply(d,t.property,t.interpolation(p))});else for(var n in b)"offset"!=n&&"easing"!=n&&"composite"!=n&&f.clear(d,n)}}})(G,F,null);(function(k,f,h){function e(b){return b.replace(/-(.)/g,function(g,d){return d.toUpperCase()})}var a={};f.addPropertiesHandler=function(b,g,d){for(var l=0;l<d.length;l++){var n=b,t=g,p=e(d[l]);a[p]=a[p]||[];a[p].push([n,t])}};var c={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",
borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",
maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};f.propertyInterpolation=function(b,g,d){var l=b;/-/.test(b)&&
!k.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(l=e(b));if("initial"==g||"initial"==d)"initial"==g&&(g=c[l]),"initial"==d&&(d=c[l]);b=g==d?[]:a[l];for(l=0;b&&l<b.length;l++){var n=b[l][0](g),t=b[l][0](d);if(void 0!==n&&void 0!==t&&(n=b[l][1](n,t))){var p=f.Interpolation.apply(null,n);return function(q){return 0==q?g:1==q?d:p(q)}}}return f.Interpolation(!1,!0,function(q){return q?d:g})}})(G,F,null);(function(k,f,h){function e(a){var c=k.calculateActiveDuration(a),
b=function(g){return k.calculateIterationProgress(c,g,a)};b._totalDuration=a.delay+c+a.endDelay;return b}f.KeyframeEffect=function(a,c,b,g){var d=e(k.normalizeTimingInput(b)),l=f.convertEffectInput(c),n;c=function(){l(a,n)};c._update=function(t){n=d(t);return null!==n};c._clear=function(){l(a,null)};c._hasSameTarget=function(t){return a===t};c._target=a;c._totalDuration=d._totalDuration;c._id=g;return c}})(G,F,null);(function(k,f){k.apply=function(h,e,a){h.style[k.propertyName(e)]=a};k.clear=function(h,
e){h.style[k.propertyName(e)]=""}})(F,null);(function(k){window.Element.prototype.animate=function(f,h){var e="";h&&h.id&&(e=h.id);return k.timeline._play(k.KeyframeEffect(this,f,h,e))}})(F);(function(k,f){function h(e,a,c){if("number"==typeof e&&"number"==typeof a)return e*(1-c)+a*c;if("boolean"==typeof e&&"boolean"==typeof a)return.5>c?e:a;if(e.length==a.length){for(var b=[],g=0;g<e.length;g++)b.push(h(e[g],a[g],c));return b}throw"Mismatched interpolation arguments "+e+":"+a;}k.Interpolation=function(e,
a,c){return function(b){return c(h(e,a,b))}}})(F,null);(function(k,f,h){k.sequenceNumber=0;var e=function(a,c,b){this.target=a;this.currentTime=c;this.timelineTime=b;this.type="finish";this.cancelable=this.bubbles=!1;this.currentTarget=a;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()};f.Animation=function(a){this.id="";a&&a._id&&(this.id=a._id);this._sequenceNumber=k.sequenceNumber++;this._currentTime=0;this._startTime=null;this._paused=!1;this._playbackRate=1;
this._finishedFlag=this._inTimeline=!0;this.onfinish=null;this._finishHandlers=[];this._effect=a;this._inEffect=this._effect._update(0);this._idle=!0;this._currentTimePending=!1};f.Animation.prototype={_ensureAlive:function(){this._inEffect=0>this.playbackRate&&0===this.currentTime?this._effect._update(-1):this._effect._update(this.currentTime);this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,f.timeline._animations.push(this))},_tickCurrentTime:function(a,c){a!=this._currentTime&&
(this._currentTime=a,this._isFinished&&!c&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a;isNaN(a)||(f.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,!0),f.applyDirtiedAnimation(this)))},
get startTime(){return this._startTime},set startTime(a){a=+a;isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),f.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var c=this.currentTime;this._playbackRate=a;this._startTime=null;"paused"!=this.playState&&"idle"!=this.playState&&(this._idle=this._finishedFlag=!1,this._ensureAlive(),f.applyDirtiedAnimation(this));
null!=c&&(this.currentTime=c)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else if(Infinity>
this._totalDuration)this._currentTime=this._totalDuration;else throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");},play:function(){this._paused=!1;if(this._isFinished||this._idle)this._rewind(),this._startTime=null;this._idle=this._finishedFlag=!1;this._ensureAlive();f.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0;this._startTime=
null;this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,f.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),f.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1;this.play()},addEventListener:function(a,
c){"function"==typeof c&&"finish"==a&&this._finishHandlers.push(c)},removeEventListener:function(a,c){"finish"==a&&(a=this._finishHandlers.indexOf(c),0<=a&&this._finishHandlers.splice(a,1))},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var c=new e(this,this._currentTime,a),b=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){b.forEach(function(g){g.call(c.target,c)})},0);this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,c){this._idle||
this._paused||(null==this._startTime?c&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate));c&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var a=this._effect._target;a._activeAnimations||(a._activeAnimations=[]);return a._activeAnimations},_markTarget:function(){var a=this._targetAnimations();-1===
a.indexOf(this)&&a.push(this)},_unmarkTarget:function(){var a=this._targetAnimations(),c=a.indexOf(this);-1!==c&&a.splice(c,1)}}})(G,F,null);(function(k,f,h){function e(r){var y=l;l=[];r<u.currentTime&&(r=u.currentTime);u._animations.sort(a);u._animations=g(r,!0,u._animations)[0];y.forEach(function(m){m[1](r)});b()}function a(r,y){return r._sequenceNumber-y._sequenceNumber}function c(){this._animations=[];this.currentTime=window.performance&&performance.now?performance.now():0}function b(){q.forEach(function(r){r()});
q.length=0}function g(r,y,m){z=!0;p=!1;f.timeline.currentTime=r;t=!1;var A=[],B=[],C=[],w=[];m.forEach(function(D){D._tick(r,y);D._inEffect?(B.push(D._effect),D._markTarget()):(A.push(D._effect),D._unmarkTarget());D._needsTick&&(t=!0);var H=D._inEffect||D._needsTick;(D._inTimeline=H)?C.push(D):w.push(D)});q.push.apply(q,A);q.push.apply(q,B);t&&requestAnimationFrame(function(){});z=!1;return[C,w]}var d=window.requestAnimationFrame,l=[],n=0;window.requestAnimationFrame=function(r){var y=n++;0!=l.length||
d(e);l.push([y,r]);return y};window.cancelAnimationFrame=function(r){l.forEach(function(y){y[0]==r&&(y[1]=function(){})})};c.prototype={_play:function(r){r._timing=k.normalizeTimingInput(r.timing);r=new f.Animation(r);r._idle=!1;r._timeline=this;this._animations.push(r);f.restart();f.applyDirtiedAnimation(r);return r}};var t=!1,p=!1;f.restart=function(){t||(t=!0,requestAnimationFrame(function(){}),p=!0);return p};f.applyDirtiedAnimation=function(r){z||(r._markTarget(),r=r._targetAnimations(),r.sort(a),
g(f.timeline.currentTime,!1,r.slice())[1].forEach(function(y){y=u._animations.indexOf(y);-1!==y&&u._animations.splice(y,1)}),b())};var q=[],z=!1,u=new c;f.timeline=u})(G,F,null);(function(k){function f(c,b){var g=c.exec(b);if(g)return g=c.ignoreCase?g[0].toLowerCase():g[0],[g,b.substr(g.length)]}function h(c,b){b=b.replace(/^\s*/,"");if(c=c(b))return[c[0],c[1].replace(/^\s*/,"")]}function e(c,b){for(var g=c,d=b;g&&d;)g>d?g%=d:d%=g;return c*b/(g+d)}function a(c,b,g,d,l){for(var n=[],t=[],p=[],q=e(d.length,
l.length),z=0;z<q;z++){var u=b(d[z%d.length],l[z%l.length]);if(!u)return;n.push(u[0]);t.push(u[1]);p.push(u[2])}return[n,t,function(r){r=r.map(function(y,m){return p[m](y)}).join(g);return c?c(r):r}]}k.consumeToken=f;k.consumeTrimmed=h;k.consumeRepeated=function(c,b,g){c=h.bind(null,c);for(var d=[];;){var l=c(g);if(!l)return[d,g];d.push(l[0]);g=l[1];l=f(b,g);if(!l||""==l[1])return[d,g];g=l[1]}};k.consumeParenthesised=function(c,b){for(var g=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=g);d++)if("("==
b[d])g++;else if(")"==b[d]&&(g--,0==g&&d++,0>=g))break;c=c(b.substr(0,d));return void 0==c?void 0:[c,b.substr(d)]};k.ignore=function(c){return function(b){(b=c(b))&&(b[0]=void 0);return b}};k.optional=function(c,b){return function(g){var d=c(g);return d?d:[b,g]}};k.consumeList=function(c,b){for(var g=[],d=0;d<c.length;d++){b=k.consumeTrimmed(c[d],b);if(!b||""==b[0])return;void 0!==b[0]&&g.push(b[0]);b=b[1]}if(""==b)return g};k.mergeNestedRepeated=a.bind(null,null);k.mergeWrappedNestedRepeated=a;k.mergeList=
function(c,b,g){for(var d=[],l=[],n=[],t=0,p=0;p<g.length;p++)if("function"==typeof g[p]){var q=g[p](c[t],b[t++]);d.push(q[0]);l.push(q[1]);n.push(q[2])}else(function(z){d.push(!1);l.push(!1);n.push(function(){return g[z]})})(p);return[d,l,function(z){for(var u="",r=0;r<z.length;r++)u+=n[r](z[r]);return u}]}})(F);(function(k){function f(e){var a={inset:!1,lengths:[],color:null};if((e=k.consumeRepeated(function(c){var b=k.consumeToken(/^inset/i,c);if(b)return a.inset=!0,b;if(b=k.consumeLengthOrPercent(c))return a.lengths.push(b[0]),
b;if(b=k.consumeColor(c))return a.color=b[0],b},/^/,e))&&e[0].length)return[a,e[1]]}var h=function(e,a,c,b){function g(q){return{inset:q,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var d=[],l=[],n=0;n<c.length||n<b.length;n++){var t=c[n]||g(b[n].inset),p=b[n]||g(c[n].inset);d.push(t);l.push(p)}return k.mergeNestedRepeated(e,a,d,l)}.bind(null,function(e,a){for(;e.lengths.length<Math.max(e.lengths.length,a.lengths.length);)e.lengths.push({px:0});for(;a.lengths.length<Math.max(e.lengths.length,
a.lengths.length);)a.lengths.push({px:0});if(e.inset==a.inset&&!!e.color==!!a.color){for(var c=[],b,g=[[],0],d=[[],0],l=0;l<e.lengths.length;l++){var n=k.mergeDimensions(e.lengths[l],a.lengths[l],2==l);g[0].push(n[0]);d[0].push(n[1]);c.push(n[2])}e.color&&a.color&&(a=k.mergeColors(e.color,a.color),g[1]=a[0],d[1]=a[1],b=a[2]);return[g,d,function(t){for(var p=e.inset?"inset ":" ",q=0;q<c.length;q++)p+=c[q](t[0][q])+" ";b&&(p+=b(t[1]));return p}]}},", ");k.addPropertiesHandler(function(e){if((e=k.consumeRepeated(f,
/^,/,e))&&""==e[1])return e[0]},h,["box-shadow","text-shadow"])})(F);(function(k,f){function h(g){return g.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function e(g,d,l){return Math.min(d,Math.max(g,l))}function a(g){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(g))return Number(g)}function c(g,d){return function(l,n){return[l,n,function(t){return h(e(g,d,t))}]}}function b(g){g=g.trim().split(/\s*[\s,]\s*/);if(0!==g.length){for(var d=[],l=0;l<g.length;l++){var n=a(g[l]);if(void 0===n)return;d.push(n)}return d}}
k.clamp=e;k.addPropertiesHandler(b,function(g,d){if(g.length==d.length)return[g,d,function(l){return l.map(h).join(" ")}]},["stroke-dasharray"]);k.addPropertiesHandler(a,c(0,Infinity),["border-image-width","line-height"]);k.addPropertiesHandler(a,c(0,1),["opacity","shape-image-threshold"]);k.addPropertiesHandler(a,function(g,d){if(0!=g)return c(0,Infinity)(g,d)},["flex-grow","flex-shrink"]);k.addPropertiesHandler(a,function(g,d){return[g,d,function(l){return Math.round(e(1,Infinity,l))}]},["orphans",
"widows"]);k.addPropertiesHandler(a,function(g,d){return[g,d,Math.round]},["z-index"]);k.parseNumber=a;k.parseNumberList=b;k.mergeNumbers=function(g,d){return[g,d,h]};k.numberToString=h})(F,null);(function(k,f){k.addPropertiesHandler(String,function(h,e){if("visible"==h||"visible"==e)return[0,1,function(a){return 0>=a?h:1<=a?e:"visible"}]},["visibility"])})(F);(function(k,f){function h(c){c=c.trim();a.fillStyle="#000";a.fillStyle=c;var b=a.fillStyle;a.fillStyle="#fff";a.fillStyle=c;if(b==a.fillStyle)return a.fillRect(0,
0,1,1),c=a.getImageData(0,0,1,1).data,a.clearRect(0,0,1,1),b=c[3]/255,[c[0]*b,c[1]*b,c[2]*b,b]}function e(c,b){return[c,b,function(g){if(g[3])for(var d=0;3>d;d++)g[d]=Math.round(Math.max(0,Math.min(255,g[d]/g[3])));g[3]=k.numberToString(k.clamp(0,1,g[3]));return"rgba("+g.join(",")+")"}]}f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");f.width=f.height=1;var a=f.getContext("2d");k.addPropertiesHandler(h,e,"background-color border-bottom-color border-left-color border-right-color border-top-color color fill flood-color lighting-color outline-color stop-color stroke text-decoration-color".split(" "));
k.consumeColor=k.consumeParenthesised.bind(null,h);k.mergeColors=e})(F,null);(function(k,f){function h(l){function n(){var r=z.exec(l);u=r?r[0]:void 0}function t(){if("("!==u){var r=Number(u);n();return r}n();r=q();if(")"!==u)return NaN;n();return r}function p(){for(var r=t();"*"===u||"/"===u;){var y=u;n();var m=t();r="*"===y?r*m:r/m}return r}function q(){for(var r=p();"+"===u||"-"===u;){var y=u;n();var m=p();r="+"===y?r+m:r-m}return r}var z=/([\+\-\w\.]+|[\(\)\*\/])/g,u;n();return q()}function e(l,
n){n=n.trim().toLowerCase();if("0"==n&&0<="px".search(l))return{px:0};if(/^[^(]*$|^calc/.test(n)){n=n.replace(/calc\(/g,"(");var t={};n=n.replace(l,function(r){t[r]=null;return"U"+r});l="U("+l.source+")";for(var p=n.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+l,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),q=[/N\*(D)/g,/(N|D)[*/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],z=0;z<q.length;)q[z].test(p)?(p=p.replace(q[z],"$1"),z=0):z++;if("D"==p){for(var u in t){p=h(n.replace(new RegExp("U"+
u,"g"),"").replace(new RegExp(l,"g"),"*0"));if(!isFinite(p))return;t[u]=p}return t}}}function a(l,n){return c(l,n,!0)}function c(l,n,t){var p=[],q;for(q in l)p.push(q);for(q in n)0>p.indexOf(q)&&p.push(q);l=p.map(function(z){return l[z]||0});n=p.map(function(z){return n[z]||0});return[l,n,function(z){var u=z.map(function(r,y){1==z.length&&t&&(r=Math.max(r,0));return k.numberToString(r)+p[y]}).join(" + ");return 1<z.length?"calc("+u+")":u}]}var b=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g);
f=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g);var g=e.bind(null,/deg|rad|grad|turn/g);k.parseLength=b;k.parseLengthOrPercent=f;k.consumeLengthOrPercent=k.consumeParenthesised.bind(null,f);k.parseAngle=g;k.mergeDimensions=c;b=k.consumeParenthesised.bind(null,b);b=k.consumeRepeated.bind(void 0,b,/^/);var d=k.consumeRepeated.bind(void 0,b,/^,/);k.consumeSizePairList=d;b=k.mergeNestedRepeated.bind(void 0,a," ");g=k.mergeNestedRepeated.bind(void 0,b,",");k.mergeNonNegativeSizePair=
b;k.addPropertiesHandler(function(l){if((l=d(l))&&""==l[1])return l[0]},g,["background-size"]);k.addPropertiesHandler(f,a,"border-bottom-width border-image-width border-left-width border-right-width border-top-width flex-basis font-size height line-height max-height max-width outline-width width".split(" "));k.addPropertiesHandler(f,c,"border-bottom-left-radius border-bottom-right-radius border-top-left-radius border-top-right-radius bottom left letter-spacing margin-bottom margin-left margin-right margin-top min-height min-width outline-offset padding-bottom padding-left padding-right padding-top perspective right shape-margin stroke-dashoffset text-indent top vertical-align word-spacing".split(" "))})(F,
null);(function(k,f){function h(a){return k.consumeLengthOrPercent(a)||k.consumeToken(/^auto/,a)}function e(a){if((a=k.consumeList([k.ignore(k.consumeToken.bind(null,/^rect/)),k.ignore(k.consumeToken.bind(null,/^\(/)),k.consumeRepeated.bind(null,h,/^,/),k.ignore(k.consumeToken.bind(null,/^\)/))],a))&&4==a[0].length)return a[0]}f=k.mergeWrappedNestedRepeated.bind(null,function(a){return"rect("+a+")"},function(a,c){return"auto"==a||"auto"==c?[!0,!1,function(b){b=b?a:c;if("auto"==b)return"auto";b=k.mergeDimensions(b,
b);return b[2](b[0])}]:k.mergeDimensions(a,c)},", ");k.parseBox=e;k.mergeBoxes=f;k.addPropertiesHandler(e,f,["clip"])})(F,null);(function(k,f){function h(p){return function(q){var z=0;return p.map(function(u){return u===d?q[z++]:u})}}function e(p){return p}function a(p){p=p.toLowerCase().trim();if("none"==p)return[];for(var q=/\s*(\w+)\(([^)]*)\)/g,z=[],u,r=0;(u=q.exec(p))&&u.index==r;){r=u.index+u[0].length;var y=u[1],m=t[y];if(!m)break;u=u[2].split(",");m=m[0];if(m.length<u.length)break;for(var A=
[],B=0;B<m.length;B++){var C=u[B],w=m[B];C=C?{A:function(D){return"0"==D.trim()?n:k.parseAngle(D)},N:k.parseNumber,T:k.parseLengthOrPercent,L:k.parseLength}[w.toUpperCase()](C):{a:n,n:A[0],t:l}[w];if(void 0===C)return;A.push(C)}z.push({t:y,d:A});if(q.lastIndex==p.length)return z}}function c(p){return p.toFixed(6).replace(".000000","")}function b(p,q){if(p.decompositionPair!==q){p.decompositionPair=q;var z=k.makeMatrixDecomposition(p)}if(q.decompositionPair!==p){q.decompositionPair=p;var u=k.makeMatrixDecomposition(q)}if(null==
z[0]||null==u[0])return[[!1],[!0],function(r){return r?q[0].d:p[0].d}];z[0].push(0);u[0].push(1);return[z,u,function(r){var y=k.quat(z[0][3],u[0][3],r[5]);return k.composeMatrix(r[0],r[1],r[2],y,r[4]).map(c).join(",")}]}function g(p){return p.replace(/(x|y|z|3d)?$/,"3d")}var d=null,l={px:0},n={deg:0},t={matrix:["NNNNNN",[d,d,0,0,d,d,0,0,0,0,1,0,d,d,0,1],e],matrix3d:["NNNNNNNNNNNNNNNN",e],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",h([d,d,
1]),e],scalex:["N",h([d,1,1]),h([d,1])],scaley:["N",h([1,d,1]),h([1,d])],scalez:["N",h([1,1,d])],scale3d:["NNN",e],skew:["Aa",null,e],skewx:["A",null,h([d,n])],skewy:["A",null,h([n,d])],translate:["Tt",h([d,d,l]),e],translatex:["T",h([d,l,l]),h([d,l])],translatey:["T",h([l,d,l]),h([l,d])],translatez:["L",h([l,l,d])],translate3d:["TTL",e]};k.addPropertiesHandler(a,function(p,q){var z=k.makeMatrixDecomposition&&!0,u=!1;if(!p.length||!q.length){p.length||(u=!0,p=q,q=[]);for(var r=0;r<p.length;r++){var y=
p[r].t,m=p[r].d,A="scale"==y.substr(0,5)?1:0;q.push({t:y,d:m.map(function(N){if("number"==typeof N)return A;var J={},K;for(K in N)J[K]=A;return J})})}}m=[];var B=[],C=[];if(p.length!=q.length){if(!z)return;var w=b(p,q);m=[w[0]];B=[w[1]];C=[["matrix",[w[2]]]]}else for(r=0;r<p.length;r++){y=p[r].t;var D=q[r].t,H=p[r].d,E=q[r].d;w=t[y];var I=t[D];if("perspective"==y&&"perspective"==D||!("matrix"!=y&&"matrix3d"!=y||"matrix"!=D&&"matrix3d"!=D)){if(!z)return;w=b([p[r]],[q[r]]);m.push(w[0]);B.push(w[1]);
C.push(["matrix",[w[2]]])}else{if(y!=D)if(w[2]&&I[2]&&y.replace(/[xy]/,"")==D.replace(/[xy]/,""))y=y.replace(/[xy]/,""),H=w[2](H),E=I[2](E);else if(w[1]&&I[1]&&g(y)==g(D))y=g(y),H=w[1](H),E=I[1](E);else{if(!z)return;w=b(p,q);m=[w[0]];B=[w[1]];C=[["matrix",[w[2]]]];break}I=[];D=[];for(var O=[],L=0;L<H.length;L++)w=("number"==typeof H[L]?k.mergeNumbers:k.mergeDimensions)(H[L],E[L]),I[L]=w[0],D[L]=w[1],O.push(w[2]);m.push(I);B.push(D);C.push([y,O])}}u&&(p=m,m=B,B=p);return[m,B,function(N){return N.map(function(J,
K){J=J.map(function(P,Q){return C[K][1][Q](P)}).join(",");"matrix"==C[K][0]&&16==J.split(",").length&&(C[K][0]="matrix3d");return C[K][0]+"("+J+")"}).join(" ")}]},["transform"]);k.transformToSvgMatrix=function(p){p=k.transformListToMatrix(a(p));return"matrix("+c(p[0])+" "+c(p[1])+" "+c(p[4])+" "+c(p[5])+" "+c(p[12])+" "+c(p[13])+")"}})(F,null);(function(k,f){function h(c,b){b.concat([c]).forEach(function(g){g in document.documentElement.style&&(e[c]=g);a[g]=c})}var e={},a={};h("transform",["webkitTransform",
"msTransform"]);h("transformOrigin",["webkitTransformOrigin"]);h("perspective",["webkitPerspective"]);h("perspectiveOrigin",["webkitPerspectiveOrigin"]);k.propertyName=function(c){return e[c]||c};k.unprefixedPropertyName=function(c){return a[c]||c}})(F,null)})();(function(){if(void 0===document.createElement("div").animate([]).oncancel){var x=window.performance&&performance.now?function(){return performance.now()}:function(){return Date.now()},v=function(f,h,e){this.target=f;this.currentTime=h;this.timelineTime=
e;this.type="cancel";this.cancelable=this.bubbles=!1;this.currentTarget=f;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()},k=window.Element.prototype.animate;window.Element.prototype.animate=function(f,h){f=k.call(this,f,h);f._cancelHandlers=[];f.oncancel=null;var e=f.cancel;f.cancel=function(){e.call(this);var b=new v(this,null,x()),g=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){g.forEach(function(d){d.call(b.target,b)})},
0)};var a=f.addEventListener;f.addEventListener=function(b,g){"function"==typeof g&&"cancel"==b?this._cancelHandlers.push(g):a.call(this,b,g)};var c=f.removeEventListener;f.removeEventListener=function(b,g){"cancel"==b?(b=this._cancelHandlers.indexOf(g),0<=b&&this._cancelHandlers.splice(b,1)):c.call(this,b,g)};return f}}})();(function(x){var v=document.documentElement,k=null,f=!1;try{var h="0"==getComputedStyle(v).getPropertyValue("opacity")?"1":"0";k=v.animate({opacity:[h,h]},{duration:1});k.currentTime=
0;f=getComputedStyle(v).getPropertyValue("opacity")==h}catch(a){}finally{k&&k.cancel()}if(!f){var e=window.Element.prototype.animate;window.Element.prototype.animate=function(a,c){window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a));Array.isArray(a)||null===a||(a=x.convertToArrayForm(a));return e.call(this,a,c)}}})(G);(function(x,v,k){function f(c){var b=v.timeline;b.currentTime=c;b._discardAnimations();0==b._animations.length?e=!1:requestAnimationFrame(f)}var h=
window.requestAnimationFrame;window.requestAnimationFrame=function(c){return h(function(b){v.timeline._updateAnimationsPromises();c(b);v.timeline._updateAnimationsPromises()})};v.AnimationTimeline=function(){this._animations=[];this.currentTime=void 0};v.AnimationTimeline.prototype={getAnimations:function(){this._discardAnimations();return this._animations.slice()},_updateAnimationsPromises:function(){v.animationsWithPromises=v.animationsWithPromises.filter(function(c){return c._updatePromises()})},
_discardAnimations:function(){this._updateAnimationsPromises();this._animations=this._animations.filter(function(c){return"finished"!=c.playState&&"idle"!=c.playState})},_play:function(c){c=new v.Animation(c,this);this._animations.push(c);v.restartWebAnimationsNextTick();c._updatePromises();c._animation.play();c._updatePromises();return c},play:function(c){c&&c.remove();return this._play(c)}};var e=!1;v.restartWebAnimationsNextTick=function(){e||(e=!0,requestAnimationFrame(f))};var a=new v.AnimationTimeline;
v.timeline=a;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return a}})}catch(c){}try{window.document.timeline=a}catch(c$0){}})(G,M,null);(function(x,v,k){v.animationsWithPromises=[];v.Animation=function(f,h){this.id="";f&&f._id&&(this.id=f._id);if(this.effect=f)f._animation=this;if(!h)throw Error("Animation with null timeline is not supported");this._timeline=h;this._sequenceNumber=x.sequenceNumber++;this._holdTime=0;this._isGroup=this._paused=!1;this._animation=
null;this._childAnimations=[];this._callback=null;this._oldPlayState="idle";this._rebuildUnderlyingAnimation();this._animation.cancel();this._updatePromises()};v.Animation.prototype={_updatePromises:function(){var f=this._oldPlayState,h=this.playState;this._readyPromise&&h!==f&&("idle"==h?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==f?this._resolveReadyPromise():"pending"==h&&(this._readyPromise=void 0));this._finishedPromise&&h!==f&&("idle"==h?(this._rejectFinishedPromise(),
this._finishedPromise=void 0):"finished"==h?this._resolveFinishedPromise():"finished"==f&&(this._finishedPromise=void 0));this._oldPlayState=this.playState;return this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var f=this._animation?!0:!1;if(f){var h=this.playbackRate;var e=this._paused;var a=this.startTime;var c=this.currentTime;this._animation.cancel();this._animation=this._animation._wrapper=null}if(!this.effect||this.effect instanceof window.KeyframeEffect)this._animation=
v.newUnderlyingAnimationForKeyframeEffect(this.effect),v.bindAnimationForKeyframeEffect(this);if(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)this._animation=v.newUnderlyingAnimationForGroup(this.effect),v.bindAnimationForGroup(this);this.effect&&this.effect._onsample&&v.bindAnimationForCustomEffect(this);f&&(1!=h&&(this.playbackRate=h),null!==a?this.startTime=a:null!==c?this.currentTime=c:null!==this._holdTime&&(this.currentTime=this._holdTime),e&&this.pause());
this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var f=this.effect._timing.delay;this._childAnimations.forEach(function(h){this._arrangeChildren(h,f);this.effect instanceof window.SequenceEffect&&(f+=v.groupChildDuration(h.effect))}.bind(this))}},_setExternalAnimation:function(f){if(this.effect&&this._isGroup)for(var h=0;h<this.effect.children.length;h++)this.effect.children[h]._animation=f,this._childAnimations[h]._setExternalAnimation(f)},_constructChildAnimations:function(){if(this.effect&&
this._isGroup){var f=this.effect._timing.delay;this._removeChildAnimations();this.effect.children.forEach(function(h){var e=v.timeline._play(h);this._childAnimations.push(e);e.playbackRate=this.playbackRate;this._paused&&e.pause();h._animation=this.effect._animation;this._arrangeChildren(e,f);this.effect instanceof window.SequenceEffect&&(f+=v.groupChildDuration(h))}.bind(this))}},_arrangeChildren:function(f,h){null===this.startTime?f.currentTime=this.currentTime-h/this.playbackRate:f.startTime!==
this.startTime+h/this.playbackRate&&(f.startTime=this.startTime+h/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){if(!window.Promise)return console.warn("Animation Promises require JavaScript Promise constructor"),null;this._finishedPromise||(-1==v.animationsWithPromises.indexOf(this)&&v.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(f,h){this._resolveFinishedPromise=function(){f(this)};
this._rejectFinishedPromise=function(){h({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise());return this._finishedPromise},get ready(){if(!window.Promise)return console.warn("Animation Promises require JavaScript Promise constructor"),null;this._readyPromise||(-1==v.animationsWithPromises.indexOf(this)&&v.animationsWithPromises.push(this),this._readyPromise=new Promise(function(f,h){this._resolveReadyPromise=function(){f(this)};
this._rejectReadyPromise=function(){h({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise());return this._readyPromise},get onfinish(){return this._animation.onfinish},set onfinish(f){this._animation.onfinish="function"==typeof f?function(h){h.target=this;f.call(this,h)}.bind(this):f},get oncancel(){return this._animation.oncancel},set oncancel(f){this._animation.oncancel="function"==typeof f?function(h){h.target=this;f.call(this,h)}.bind(this):
f},get currentTime(){this._updatePromises();var f=this._animation.currentTime;this._updatePromises();return f},set currentTime(f){this._updatePromises();this._animation.currentTime=isFinite(f)?f:Math.sign(f)*Number.MAX_VALUE;this._register();this._forEachChild(function(h,e){h.currentTime=f-e});this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(f){this._updatePromises();this._animation.startTime=isFinite(f)?f:Math.sign(f)*Number.MAX_VALUE;this._register();this._forEachChild(function(h,
e){h.startTime=f+e});this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(f){this._updatePromises();var h=this.currentTime;this._animation.playbackRate=f;this._forEachChild(function(e){e.playbackRate=f});null!==h&&(this.currentTime=h);this._updatePromises()},play:function(){this._updatePromises();this._paused=!1;this._animation.play();-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this);this._register();v.awaitStartTime(this);
this._forEachChild(function(f){var h=f.currentTime;f.play();f.currentTime=h});this._updatePromises()},pause:function(){this._updatePromises();this.currentTime&&(this._holdTime=this.currentTime);this._animation.pause();this._register();this._forEachChild(function(f){f.pause()});this._paused=!0;this._updatePromises()},finish:function(){this._updatePromises();this._animation.finish();this._register();this._updatePromises()},cancel:function(){this._updatePromises();this._animation.cancel();this._register();
this._removeChildAnimations();this._updatePromises()},reverse:function(){this._updatePromises();var f=this.currentTime;this._animation.reverse();this._forEachChild(function(h){h.reverse()});null!==f&&(this.currentTime=f);this._updatePromises()},addEventListener:function(f,h){var e=h;"function"==typeof h&&(e=function(a){a.target=this;h.call(this,a)}.bind(this),h._wrapper=e);this._animation.addEventListener(f,e)},removeEventListener:function(f,h){this._animation.removeEventListener(f,h&&h._wrapper||
h)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(f){var h=0;this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations();this._childAnimations.forEach(function(c){f.call(this,c,h);this.effect instanceof window.SequenceEffect&&(h+=c.effect.activeDuration)}.bind(this));if("pending"!=this.playState){var e=this.effect._timing,a=this.currentTime;null!==a&&(a=x.calculateIterationProgress(x.calculateActiveDuration(e),
a,e));(null==a||isNaN(a))&&this._removeChildAnimations()}}};window.Animation=v.Animation})(G,M,null);(function(x,v,k){function f(d){this._frames=x.normalizeKeyframes(d)}function h(){for(var d=!1;b.length;)b.shift()._updateChildren(),d=!0;return d}var e=function(d){d._animation=void 0;if(d instanceof window.SequenceEffect||d instanceof window.GroupEffect)for(var l=0;l<d.children.length;l++)e(d.children[l])};v.removeMulti=function(d){for(var l=[],n=0;n<d.length;n++){var t=d[n];t._parent?(-1==l.indexOf(t._parent)&&
l.push(t._parent),t._parent.children.splice(t._parent.children.indexOf(t),1),t._parent=null,e(t)):t._animation&&t._animation.effect==t&&(t._animation.cancel(),t._animation.effect=new KeyframeEffect(null,[]),t._animation._callback&&(t._animation._callback._animation=null),t._animation._rebuildUnderlyingAnimation(),e(t))}for(n=0;n<l.length;n++)l[n]._rebuild()};v.KeyframeEffect=function(d,l,n,t){this.target=d;this._parent=null;n=x.numericTimingToObject(n);this._timingInput=x.cloneTimingInput(n);this._timing=
x.normalizeTimingInput(n);this.timing=x.makeTiming(n,!1,this);this.timing._effect=this;"function"==typeof l?(x.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=l):this._normalizedKeyframes=new f(l);this._keyframes=l;this.activeDuration=x.calculateActiveDuration(this._timing);this._id=t;return this};v.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},
set onsample(d){if("function"==typeof this.getFrames())throw Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=d;this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw Error("Cloning custom effects is not supported.");var d=new KeyframeEffect(this.target,[],x.cloneTimingInput(this._timingInput),this._id);d._normalizedKeyframes=this._normalizedKeyframes;
d._keyframes=this._keyframes;return d},remove:function(){v.removeMulti([this])}};var a=Element.prototype.animate;Element.prototype.animate=function(d,l){var n="";l&&l.id&&(n=l.id);return v.timeline._play(new v.KeyframeEffect(this,d,l,n))};var c=document.createElementNS("http://www.w3.org/1999/xhtml","div");v.newUnderlyingAnimationForKeyframeEffect=function(d){if(d){var l=d.target||c,n=d._keyframes;"function"==typeof n&&(n=[]);var t=d._timingInput;t.id=d._id}else l=c,n=[],t=0;return a.apply(l,[n,t])};
v.bindAnimationForKeyframeEffect=function(d){d.effect&&"function"==typeof d.effect._normalizedKeyframes&&v.bindAnimationForCustomEffect(d)};var b=[];v.awaitStartTime=function(d){null===d.startTime&&d._isGroup&&(0==b.length&&requestAnimationFrame(h),b.push(d))};var g=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){v.timeline._updateAnimationsPromises();var d=g.apply(this,arguments);h()&&(d=g.apply(this,arguments));v.timeline._updateAnimationsPromises();
return d}});window.KeyframeEffect=v.KeyframeEffect;window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(d){return null!==d.effect&&d.effect.target==this}.bind(this))}})(G,M,null);(function(x,v,k){function f(b){b._registered||(b._registered=!0,a.push(b),c||(c=!0,requestAnimationFrame(h)))}function h(b){b=a;a=[];b.sort(function(g,d){return g._sequenceNumber-d._sequenceNumber});b=b.filter(function(g){g();var d=g._animation?g._animation.playState:
"idle";"running"!=d&&"pending"!=d&&(g._registered=!1);return g._registered});a.push.apply(a,b);a.length?(c=!0,requestAnimationFrame(h)):c=!1}document.createElementNS("http://www.w3.org/1999/xhtml","div");var e=0;v.bindAnimationForCustomEffect=function(b){var g=b.effect.target,d="function"==typeof b.effect.getFrames();var l=d?b.effect.getFrames():b.effect._onsample;var n=b.effect.timing,t=null;n=x.normalizeTimingInput(n);var p=function(){var q=p._animation?p._animation.currentTime:null;null!==q&&(q=
x.calculateIterationProgress(x.calculateActiveDuration(n),q,n),isNaN(q)&&(q=null));q!==t&&(d?l(q,g,b.effect):l(q,b.effect,b.effect._animation));t=q};p._animation=b;p._registered=!1;p._sequenceNumber=e++;b._callback=p;f(p)};var a=[],c=!1;v.Animation.prototype._register=function(){this._callback&&f(this._callback)}})(G,M,null);(function(x,v,k){function f(e){return e._timing.delay+e.activeDuration+e._timing.endDelay}function h(e,a,c){this._id=c;this._parent=null;this.children=e||[];this._reparent(this.children);
a=x.numericTimingToObject(a);this._timingInput=x.cloneTimingInput(a);this._timing=x.normalizeTimingInput(a,!0);this.timing=x.makeTiming(a,!0,this);this.timing._effect=this;"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){h.apply(this,arguments)};window.GroupEffect=function(){h.apply(this,arguments)};h.prototype={_isAncestor:function(e){for(var a=this;null!==a;){if(a==e)return!0;a=a._parent}return!1},_rebuild:function(){for(var e=this;e;)"auto"===
e.timing.duration&&(e._timing.duration=e.activeDuration),e=e._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(e){v.removeMulti(e);for(var a=0;a<e.length;a++)e[a]._parent=this},_putChild:function(e,a){for(var c=a?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",b=0;b<e.length;b++)if(this._isAncestor(e[b]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(b=0;b<e.length;b++)a?this.children.push(e[b]):
this.children.unshift(e[b]);this._reparent(e);this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var e=x.cloneTimingInput(this._timingInput),a=[],c=0;c<this.children.length;c++)a.push(this.children[c].clone());return this instanceof
GroupEffect?new GroupEffect(a,e):new SequenceEffect(a,e)},remove:function(){v.removeMulti([this])}};window.SequenceEffect.prototype=Object.create(h.prototype);Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var e=0;this.children.forEach(function(a){e+=f(a)});return Math.max(e,0)}});window.GroupEffect.prototype=Object.create(h.prototype);Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var e=0;this.children.forEach(function(a){e=
Math.max(e,f(a))});return e}});v.newUnderlyingAnimationForGroup=function(e){var a,c=null;e=new KeyframeEffect(null,[],e._timing,e._id);e.onsample=function(b){var g=a._wrapper;g&&"pending"!=g.playState&&g.effect&&(null==b?g._removeChildAnimations():0==b&&0>g.playbackRate&&(c||(c=x.normalizeTimingInput(g.effect.timing)),b=x.calculateIterationProgress(x.calculateActiveDuration(c),-1,c),isNaN(b)||null==b)&&(g._forEachChild(function(d){d.currentTime=-1}),g._removeChildAnimations()))};return a=v.timeline._play(e)};
v.bindAnimationForGroup=function(e){e._animation._wrapper=e;e._isGroup=!0;v.awaitStartTime(e);e._constructChildAnimations();e._setExternalAnimation(e)};v.groupChildDuration=f})(G,M,null)})();(function(){function resolve(){document.body.removeAttribute("unresolved")}if(window.WebComponents)addEventListener("WebComponentsReady",resolve);else if(document.readyState==="interactive"||document.readyState==="complete")resolve();else addEventListener("DOMContentLoaded",resolve)})();
window.Polymer={Settings:function(){var settings=window.Polymer||{};if(!settings.noUrlSettings){var parts=location.search.slice(1).split("&");for(var i=0,o;i<parts.length&&(o=parts[i]);i++){o=o.split("=");o[0]&&(settings[o[0]]=o[1]||true)}}settings.wantShadow=settings.dom==="shadow";settings.hasShadow=Boolean(Element.prototype.createShadowRoot);settings.nativeShadow=settings.hasShadow&&!window.ShadowDOMPolyfill;settings.useShadow=settings.wantShadow&&settings.hasShadow;settings.hasNativeImports=Boolean("import"in
document.createElement("link"));settings.useNativeImports=settings.hasNativeImports;settings.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;settings.useNativeShadow=settings.useShadow&&settings.nativeShadow;settings.usePolyfillProto=!settings.useNativeCustomElements&&!Object.__proto__;settings.hasNativeCSSProperties=!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");settings.useNativeCSSProperties=
settings.hasNativeCSSProperties&&settings.lazyRegister&&settings.useNativeCSSProperties;settings.isIE=navigator.userAgent.match("Trident");settings.passiveTouchGestures=settings.passiveTouchGestures||false;return settings}()};
(function(){var userPolymer=window.Polymer;window.Polymer=function(prototype){if(typeof prototype==="function")prototype=prototype.prototype;if(!prototype)prototype={};prototype=desugar(prototype);var customCtor=prototype===prototype.constructor.prototype?prototype.constructor:null;var options={prototype:prototype};if(prototype["extends"])options["extends"]=prototype["extends"];Polymer.telemetry._registrate(prototype);var ctor=document.registerElement(prototype.is,options);return customCtor||ctor};
var desugar=function(prototype){var base=Polymer.Base;if(prototype["extends"])base=Polymer.Base._getExtendedPrototype(prototype["extends"]);prototype=Polymer.Base.chainObject(prototype,base);prototype.registerCallback();return prototype};if(userPolymer)for(var i in userPolymer)Polymer[i]=userPolymer[i];Polymer.Class=function(prototype){if(!prototype.factoryImpl)prototype.factoryImpl=function(){};return desugar(prototype).constructor}})();
Polymer.telemetry={registrations:[],_regLog:function(prototype){console.log("["+prototype.is+"]: registered")},_registrate:function(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:true,configurable:true,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:false,_callbacks:[],whenReady:function(cb){if(this._ready)cb();else this._callbacks.push(cb)},_makeReady:function(){this._ready=true;for(var i=0;i<this._callbacks.length;i++)this._callbacks[i]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:false,afterNextRender:function(element,fn,args){this._watchNextRender();this._afterNextRenderQueue.push([element,fn,
args])},hasRendered:function(){return this._ready},_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=true;var fn=function(){Polymer.RenderStatus._flushNextRender()};if(!this._ready)this.whenReady(fn);else requestAnimationFrame(fn)}},_flushNextRender:function(){var self=this;setTimeout(function(){self._flushRenderCallbacks(self._afterNextRenderQueue);self._afterNextRenderQueue=[];self._waitingNextRender=false})},_flushRenderCallbacks:function(callbacks){for(var i=0,h;i<
callbacks.length;i++){h=callbacks[i];h[1].apply(h[0],h[2]||Polymer.nar)}}};if(window.HTMLImports)HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()});else Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var settings=Polymer.Settings;Polymer.Base={__isPolymerInstance__:true,_addFeature:function(feature){this.mixin(this,feature)},registerCallback:function(){if(settings.lazyRegister==="max"){if(this.beforeRegister)this.beforeRegister()}else{this._desugarBehaviors();for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.beforeRegister)b.beforeRegister.call(this)}if(this.beforeRegister)this.beforeRegister()}this._registerFeatures();if(!settings.lazyRegister)this.ensureRegisterFinished()},
createdCallback:function(){if(settings.disableUpgradeEnabled)if(this.hasAttribute("disable-upgrade")){this._propertySetter=disableUpgradePropertySetter;this._configValue=null;this.__data__={};return}else this.__hasInitialized=true;this.__initialize()},__initialize:function(){if(!this.__hasRegisterFinished)this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.created)b.created.call(this)}if(this.created)this.created();
this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(proto){if(proto.__hasRegisterFinished!==proto.is||!proto.is){if(settings.lazyRegister==="max"){proto._desugarBehaviors();for(var i=0,b;i<proto.behaviors.length;i++){b=proto.behaviors[i];if(b.beforeRegister)b.beforeRegister.call(proto)}}proto.__hasRegisterFinished=proto.is;if(proto._finishRegisterFeatures)proto._finishRegisterFeatures();for(var j=0,pb;j<proto.behaviors.length;j++){pb=
proto.behaviors[j];if(pb.registered)pb.registered.call(proto)}if(proto.registered)proto.registered();if(settings.usePolyfillProto&&proto!==this)proto.extend(this,proto)}},attachedCallback:function(){var self=this;Polymer.RenderStatus.whenReady(function(){self.isAttached=true;for(var i=0,b;i<self.behaviors.length;i++){b=self.behaviors[i];if(b.attached)b.attached.call(self)}if(self.attached)self.attached()})},detachedCallback:function(){var self=this;Polymer.RenderStatus.whenReady(function(){self.isAttached=
false;for(var i=0,b;i<self.behaviors.length;i++){b=self.behaviors[i];if(b.detached)b.detached.call(self)}if(self.detached)self.detached()})},attributeChangedCallback:function(name,oldValue,newValue){this._attributeChangedImpl(name);for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.attributeChanged)b.attributeChanged.call(this,name,oldValue,newValue)}if(this.attributeChanged)this.attributeChanged(name,oldValue,newValue)},_attributeChangedImpl:function(name){this._setAttributeToProperty(this,
name)},extend:function(target,source){if(target&&source){var n$=Object.getOwnPropertyNames(source);for(var i=0,n;i<n$.length&&(n=n$[i]);i++)this.copyOwnProperty(n,source,target)}return target||source},mixin:function(target,source){for(var i in source)target[i]=source[i];return target},copyOwnProperty:function(name,source,target){var pd=Object.getOwnPropertyDescriptor(source,name);if(pd)Object.defineProperty(target,name,pd)},_logger:function(level,args){if(args.length===1&&Array.isArray(args[0]))args=
args[0];switch(level){case "log":case "warn":case "error":console[level].apply(console,args);break}},_log:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("log",args)},_warn:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("warn",args)},_error:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("error",args)},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=
function(){var color=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent);return color?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"]}();Polymer.Base.chainObject=function(object,inherited){if(object&&inherited&&object!==inherited){if(!Object.__proto__)object=Polymer.Base.extend(Object.create(inherited),object);object.__proto__=inherited}return object};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors=
{};var disableUpgradePropertySetter;if(settings.disableUpgradeEnabled){disableUpgradePropertySetter=function(property,value){this.__data__[property]=value};var origAttributeChangedCallback=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(name,oldValue,newValue){if(!this.__hasInitialized&&name==="disable-upgrade"){this.__hasInitialized=true;this._propertySetter=Polymer.Bind._modelApi._propertySetter;this._configValue=Polymer.Base._configValue;this.__initialize()}origAttributeChangedCallback.call(this,
name,oldValue,newValue)}}if(window.CustomElements)Polymer["instanceof"]=CustomElements["instanceof"];else Polymer["instanceof"]=function(obj,ctor){return obj instanceof ctor};Polymer.isInstance=function(obj){return Boolean(obj&&obj.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){var modules={};var lcModules={};var findModule=function(id){return modules[id]||lcModules[id.toLowerCase()]};var DomModule=function(){return document.createElement("dom-module")};DomModule.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(DomModule.prototype,{createdCallback:function(){this.register()},register:function(id){id=id||this.id||this.getAttribute("name")||this.getAttribute("is");if(id){this.id=id;modules[id]=this;lcModules[id.toLowerCase()]=this}},"import":function(id,
selector){if(id){var m=findModule(id);if(!m){forceDomModulesUpgrade();m=findModule(id)}if(m&&selector)m=m.querySelector(selector);return m}}});Object.defineProperty(DomModule.prototype,"constructor",{value:DomModule,configurable:true,writable:true});var cePolyfill=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",DomModule);function forceDomModulesUpgrade(){if(cePolyfill){var script=document._currentScript||document.currentScript;var doc=script&&script.ownerDocument||
document;var modules=doc.querySelectorAll("dom-module");for(var i=modules.length-1,m;i>=0&&(m=modules[i]);i--)if(m.__upgraded__)return;else CustomElements.upgrade(m)}}})();Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var module=(document._currentScript||document.currentScript).parentNode;if(module.localName==="dom-module"){var id=module.id||module.getAttribute("name")||module.getAttribute("is");this.is=id}}if(this.is)this.is=this.is.toLowerCase()}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){if(this.behaviors.length)this.behaviors=this._desugarSomeBehaviors(this.behaviors)},_desugarSomeBehaviors:function(behaviors){var behaviorSet=[];behaviors=this._flattenBehaviorsList(behaviors);for(var i=behaviors.length-1;i>=0;i--){var b=behaviors[i];if(behaviorSet.indexOf(b)===-1){this._mixinBehavior(b);behaviorSet.unshift(b)}}return behaviorSet},_flattenBehaviorsList:function(behaviors){var flat=[];for(var i=0;i<behaviors.length;i++){var b=
behaviors[i];if(b instanceof Array)flat=flat.concat(this._flattenBehaviorsList(b));else if(b)flat.push(b);else this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))}return flat},_mixinBehavior:function(b){var n$=Object.getOwnPropertyNames(b);var useAssignment=b._noAccessors;for(var i=0,n;i<n$.length&&(n=n$[i]);i++)if(!Polymer.Base._behaviorProperties[n]&&!this.hasOwnProperty(n))if(useAssignment)this[n]=b[n];else this.copyOwnProperty(n,b,this)},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},
_prepFlattenedBehaviors:function(behaviors){for(var i=0,l=behaviors.length;i<l;i++)this._prepBehavior(behaviors[i]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var i=0;i<this.behaviors.length;i++)this._marshalBehavior(this.behaviors[i]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:true,beforeRegister:true,registered:true,properties:true,observers:true,listeners:true,created:true,attached:true,detached:true,attributeChanged:true,ready:true,_noAccessors:true};
Polymer.Base._addFeature({_getExtendedPrototype:function(tag){return this._getExtendedNativePrototype(tag)},_nativePrototypes:{},_getExtendedNativePrototype:function(tag){var p=this._nativePrototypes[tag];if(!p){p=Object.create(this.getNativePrototype(tag));var p$=Object.getOwnPropertyNames(Polymer.Base);for(var i=0,n;i<p$.length&&(n=p$[i]);i++)if(!Polymer.BaseDescriptors[n])p[n]=Polymer.Base[n];Object.defineProperties(p,Polymer.BaseDescriptors);this._nativePrototypes[tag]=p}return p},getNativePrototype:function(tag){return Object.getPrototypeOf(document.createElement(tag))}});
Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this["extends"]?[this["extends"],this.is]:[this.is];var ctor=function(){return this._factory(arguments)};if(this.hasOwnProperty("extends"))ctor["extends"]=this["extends"];Object.defineProperty(this,"constructor",{value:ctor,writable:true,configurable:true});ctor.prototype=this},_factory:function(args){var elt=document.createElement.apply(document,this._factoryArgs);if(this.factoryImpl)this.factoryImpl.apply(elt,args);return elt}});
Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(property){var info=this._getPropertyInfo(property,this.properties);if(!info)for(var i=0;i<this.behaviors.length;i++){info=this._getPropertyInfo(property,this.behaviors[i].properties);if(info)return info}return info||Polymer.nob},_getPropertyInfo:function(property,properties){var p=properties&&properties[property];if(typeof p==="function")p=properties[property]={type:p};if(p)p.defined=true;return p},_prepPropertyInfo:function(){this._propertyInfo={};
for(var i=0;i<this.behaviors.length;i++)this._addPropertyInfo(this._propertyInfo,this.behaviors[i].properties);this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(target,source){if(source){var t,s;for(var i in source){t=target[i];s=source[i];if(i[0]==="_"&&!s.readOnly)continue;if(!target[i])target[i]={type:typeof s==="function"?s:s.type,readOnly:s.readOnly,attribute:Polymer.CaseMap.camelToDashCase(i)};
else{if(!t.type)t.type=s.type;if(!t.readOnly)t.readOnly=s.readOnly}}}}});(function(){var propertiesDesc={configurable:true,writable:true,enumerable:true,value:{}};Polymer.BaseDescriptors.properties=propertiesDesc;Object.defineProperty(Polymer.Base,"properties",propertiesDesc)})();
Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(dash){return this._caseMap[dash]||(this._caseMap[dash]=dash.indexOf("-")<0?dash:dash.replace(this._rx.dashToCamel,function(m){return m[1].toUpperCase()}))},camelToDashCase:function(camel){return this._caseMap[camel]||(this._caseMap[camel]=camel.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(attributes){if(!this._aggregatedAttributes)this._aggregatedAttributes={};if(attributes)this.mixin(this._aggregatedAttributes,attributes)},_marshalHostAttributes:function(){if(this._aggregatedAttributes)this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(node,attr$){for(var n in attr$)if(!this.hasAttribute(n)&&n!=="class"){var v=attr$[n];this.serializeValueToAttribute(v,n,this)}},_marshalAttributes:function(){this._takeAttributesToModel(this)},
_takeAttributesToModel:function(model){if(this.hasAttributes())for(var i in this._propertyInfo){var info=this._propertyInfo[i];if(this.hasAttribute(info.attribute))this._setAttributeToProperty(model,info.attribute,i,info)}},_setAttributeToProperty:function(model,attribute,property,info){if(!this._serializing){property=property||Polymer.CaseMap.dashToCamelCase(attribute);info=info||this._propertyInfo&&this._propertyInfo[property];if(info&&!info.readOnly){var v=this.getAttribute(attribute);model[property]=
this.deserialize(v,info.type)}}},_serializing:false,reflectPropertyToAttribute:function(property,attribute,value){this._serializing=true;value=value===undefined?this[property]:value;this.serializeValueToAttribute(value,attribute||Polymer.CaseMap.camelToDashCase(property));this._serializing=false},serializeValueToAttribute:function(value,attribute,node){var str=this.serialize(value);node=node||this;if(str===undefined)node.removeAttribute(attribute);else node.setAttribute(attribute,str)},deserialize:function(value,
type){switch(type){case Number:value=Number(value);break;case Boolean:value=value!=null;break;case Object:try{value=JSON.parse(value)}catch(x){}break;case Array:try{value=JSON.parse(value)}catch(x$1){value=null;console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:value=new Date(value);break;case String:default:break}return value},serialize:function(value){switch(typeof value){case "boolean":return value?"":undefined;case "object":if(value instanceof Date)return value.toString();
else if(value)try{return JSON.stringify(value)}catch(x){return""}default:return value!=null?value:undefined}}});Polymer.version="1.11.3";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_marshalBehavior:function(b){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});(function(){function resolveCss(cssText,ownerDocument){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolve(url.replace(/["']/g,""),ownerDocument)+"'"+post})}function resolveAttrs(element,ownerDocument){for(var name in URL_ATTRS){var a$=URL_ATTRS[name];for(var i=0,l=a$.length,a,at,v;i<l&&(a=a$[i]);i++)if(name==="*"||element.localName===name){at=element.attributes[a];v=at&&at.value;if(v&&v.search(BINDING_RX)<0)at.value=a==="style"?resolveCss(v,ownerDocument):resolve(v,
ownerDocument)}}}function resolve(url,ownerDocument){if(url&&ABS_URL.test(url))return url;var resolver=getUrlResolver(ownerDocument);resolver.href=url;return resolver.href||url}var tempDoc;var tempDocBase;function resolveUrl(url,baseUri){if(!tempDoc){tempDoc=document.implementation.createHTMLDocument("temp");tempDocBase=tempDoc.createElement("base");tempDoc.head.appendChild(tempDocBase)}tempDocBase.href=baseUri;return resolve(url,tempDoc)}function getUrlResolver(ownerDocument){return ownerDocument.body.__urlResolver||
(ownerDocument.body.__urlResolver=ownerDocument.createElement("a"))}function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}var CSS_URL_RX=/(url\()([^)]*)(\))/g;var URL_ATTRS={"*":["href","src","style","url"],form:["action"]};var ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/;var BINDING_RX=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:resolveCss,resolveAttrs:resolveAttrs,resolveUrl:resolveUrl,pathFromUrl:pathFromUrl};Polymer.rootPath=Polymer.Settings.rootPath||pathFromUrl(document.baseURI||window.location.href)})();
Polymer.Base._addFeature({_prepTemplate:function(){var module;if(this._template===undefined){module=Polymer.DomModule["import"](this.is);this._template=module&&module.querySelector("template")}if(module){var assetPath=module.getAttribute("assetpath")||"";var importURL=Polymer.ResolveUrl.resolveUrl(assetPath,module.ownerDocument.baseURI);this._importPath=Polymer.ResolveUrl.pathFromUrl(importURL)}else this._importPath="";if(this._template&&this._template.hasAttribute("is"))this._warn(this._logf("_prepTemplate",
"top-level Polymer template "+"must not be a type-extension, found",this._template,"Move inside simple <template>."));if(this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate)HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){if(this._template)this.root=this.instanceTemplate(this._template)},instanceTemplate:function(template){var dom=document.importNode(template._content||template.content,true);return dom}});
(function(){var baseAttachedCallback=Polymer.Base.attachedCallback;var baseDetachedCallback=Polymer.Base.detachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(host){this.dataHost=host=host||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1];if(host&&host._clients)host._clients.push(this);this._clients=null;this._clientsReadied=false},_beginHosting:function(){Polymer.Base._hostStack.push(this);if(!this._clients)this._clients=[]},_endHosting:function(){Polymer.Base._hostStack.pop()},
_tryReady:function(){this._readied=false;if(this._canReady())this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();if(this._template){this._setupRoot();this._readyClients()}this._clientsReadied=true;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var c$=this._clients;if(c$)for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)c._ready();this._finishDistribute()},
_readySelf:function(){for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.ready)b.ready.call(this)}if(this.ready)this.ready();this._readied=true;if(this._attachedPending){this._attachedPending=false;this.attachedCallback()}},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){if(this._readied){this._beforeAttached();baseAttachedCallback.call(this)}else this._attachedPending=true},detachedCallback:function(){if(this._readied)baseDetachedCallback.call(this);
else this._attachedPending=false}})})();
Polymer.ArraySplice=function(){function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}var EDIT_LEAVE=0;var EDIT_UPDATE=1;var EDIT_ADD=2;var EDIT_DELETE=3;function ArraySplice(){}ArraySplice.prototype={calcEditDistances:function(current,currentStart,currentEnd,old,oldStart,oldEnd){var rowCount=oldEnd-oldStart+1;var columnCount=currentEnd-currentStart+1;var distances=new Array(rowCount);for(var i=0;i<rowCount;i++){distances[i]=new Array(columnCount);distances[i][0]=
i}for(var j=0;j<columnCount;j++)distances[0][j]=j;for(i=1;i<rowCount;i++)for(j=1;j<columnCount;j++)if(this.equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{var north=distances[i-1][j]+1;var west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}return distances},spliceOperationsFromEditDistances:function(distances){var i=distances.length-1;var j=distances[0].length-1;var current=distances[i][j];var edits=[];while(i>0||j>0){if(i==0){edits.push(EDIT_ADD);
j--;continue}if(j==0){edits.push(EDIT_DELETE);i--;continue}var northWest=distances[i-1][j-1];var west=distances[i-1][j];var north=distances[i][j-1];var min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current)edits.push(EDIT_LEAVE);else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits},calcSplices:function(current,
currentStart,currentEnd,old,oldStart,oldEnd){var prefixCount=0;var suffixCount=0;var minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(currentStart==0&&oldStart==0)prefixCount=this.sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=this.sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(currentEnd-currentStart==0&&oldEnd-oldStart==0)return[];if(currentStart==
currentEnd){var splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];var ops=this.spliceOperationsFromEditDistances(this.calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=undefined;var splices=[];var index=currentStart;var oldIndex=oldStart;for(var i=0;i<ops.length;i++)switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);
splice=undefined}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break}if(splice)splices.push(splice);return splices},sharedPrefix:function(current,old,searchLength){for(var i=0;i<searchLength;i++)if(!this.equals(current[i],
old[i]))return i;return searchLength},sharedSuffix:function(current,old,searchLength){var index1=current.length;var index2=old.length;var count=0;while(count<searchLength&&this.equals(current[--index1],old[--index2]))count++;return count},calculateSplices:function(current,previous){return this.calcSplices(current,0,current.length,previous,0,previous.length)},equals:function(currentValue,previousValue){return currentValue===previousValue}};return new ArraySplice}();
Polymer.domInnerHTML=function(){var escapeAttrRegExp=/[&\u00A0"]/g;var escapeDataRegExp=/[&\u00A0<>]/g;function escapeReplace(c){switch(c){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function escapeAttr(s){return s.replace(escapeAttrRegExp,escapeReplace)}function escapeData(s){return s.replace(escapeDataRegExp,escapeReplace)}function makeSet(arr){var set={};for(var i=0;i<arr.length;i++)set[arr[i]]=true;return set}var voidElements=
makeSet(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);var plaintextParents=makeSet(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function getOuterHTML(node,parentNode,composed){switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.localName;var s="<"+tagName;var attrs=node.attributes;for(var i=0,attr;attr=attrs[i];i++)s+=" "+attr.name+'="'+escapeAttr(attr.value)+'"';s+=">";if(voidElements[tagName])return s;
return s+getInnerHTML(node,composed)+"</"+tagName+">";case Node.TEXT_NODE:var data=node.data;if(parentNode&&plaintextParents[parentNode.localName])return data;return escapeData(data);case Node.COMMENT_NODE:return"\x3c!--"+node.data+"--\x3e";default:console.error(node);throw new Error("not implemented");}}function getInnerHTML(node,composed){if(node instanceof HTMLTemplateElement)node=node.content;var s="";var c$=Polymer.dom(node).childNodes;for(var i=0,l=c$.length,child;i<l&&(child=c$[i]);i++)s+=
getOuterHTML(child,node,composed);return s}return{getInnerHTML:getInnerHTML}}();
(function(){var nativeInsertBefore=Element.prototype.insertBefore;var nativeAppendChild=Element.prototype.appendChild;var nativeRemoveChild=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(parent){var copy=[],i=0;for(var n=parent.firstChild;n;n=n.nextSibling)copy[i++]=n;return copy},arrayCopyChildren:function(parent){var copy=[],i=0;for(var n=parent.firstElementChild;n;n=n.nextElementSibling)copy[i++]=n;return copy},arrayCopy:function(a$){var l=a$.length;var copy=new Array(l);
for(var i=0;i<l;i++)copy[i]=a$[i];return copy}};Polymer.TreeApi.Logical={hasParentNode:function(node){return Boolean(node.__dom&&node.__dom.parentNode)},hasChildNodes:function(node){return Boolean(node.__dom&&node.__dom.childNodes!==undefined)},getChildNodes:function(node){return this.hasChildNodes(node)?this._getChildNodes(node):node.childNodes},_getChildNodes:function(node){if(!node.__dom.childNodes){node.__dom.childNodes=[];for(var n=node.__dom.firstChild;n;n=n.__dom.nextSibling)node.__dom.childNodes.push(n)}return node.__dom.childNodes},
getParentNode:function(node){return node.__dom&&node.__dom.parentNode!==undefined?node.__dom.parentNode:node.parentNode},getFirstChild:function(node){return node.__dom&&node.__dom.firstChild!==undefined?node.__dom.firstChild:node.firstChild},getLastChild:function(node){return node.__dom&&node.__dom.lastChild!==undefined?node.__dom.lastChild:node.lastChild},getNextSibling:function(node){return node.__dom&&node.__dom.nextSibling!==undefined?node.__dom.nextSibling:node.nextSibling},getPreviousSibling:function(node){return node.__dom&&
node.__dom.previousSibling!==undefined?node.__dom.previousSibling:node.previousSibling},getFirstElementChild:function(node){return node.__dom&&node.__dom.firstChild!==undefined?this._getFirstElementChild(node):node.firstElementChild},_getFirstElementChild:function(node){var n=node.__dom.firstChild;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.nextSibling;return n},getLastElementChild:function(node){return node.__dom&&node.__dom.lastChild!==undefined?this._getLastElementChild(node):node.lastElementChild},
_getLastElementChild:function(node){var n=node.__dom.lastChild;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.previousSibling;return n},getNextElementSibling:function(node){return node.__dom&&node.__dom.nextSibling!==undefined?this._getNextElementSibling(node):node.nextElementSibling},_getNextElementSibling:function(node){var n=node.__dom.nextSibling;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.nextSibling;return n},getPreviousElementSibling:function(node){return node.__dom&&node.__dom.previousSibling!==
undefined?this._getPreviousElementSibling(node):node.previousElementSibling},_getPreviousElementSibling:function(node){var n=node.__dom.previousSibling;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.previousSibling;return n},saveChildNodes:function(node){if(!this.hasChildNodes(node)){node.__dom=node.__dom||{};node.__dom.firstChild=node.firstChild;node.__dom.lastChild=node.lastChild;node.__dom.childNodes=[];for(var n=node.firstChild;n;n=n.nextSibling){n.__dom=n.__dom||{};n.__dom.parentNode=node;
node.__dom.childNodes.push(n);n.__dom.nextSibling=n.nextSibling;n.__dom.previousSibling=n.previousSibling}}},recordInsertBefore:function(node,container,ref_node){container.__dom.childNodes=null;if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var n=node.firstChild;n;n=n.nextSibling)this._linkNode(n,container,ref_node);else this._linkNode(node,container,ref_node)},_linkNode:function(node,container,ref_node){node.__dom=node.__dom||{};container.__dom=container.__dom||{};if(ref_node)ref_node.__dom=
ref_node.__dom||{};node.__dom.previousSibling=ref_node?ref_node.__dom.previousSibling:container.__dom.lastChild;if(node.__dom.previousSibling)node.__dom.previousSibling.__dom.nextSibling=node;node.__dom.nextSibling=ref_node||null;if(node.__dom.nextSibling)node.__dom.nextSibling.__dom.previousSibling=node;node.__dom.parentNode=container;if(ref_node){if(ref_node===container.__dom.firstChild)container.__dom.firstChild=node}else{container.__dom.lastChild=node;if(!container.__dom.firstChild)container.__dom.firstChild=
node}container.__dom.childNodes=null},recordRemoveChild:function(node,container){node.__dom=node.__dom||{};container.__dom=container.__dom||{};if(node===container.__dom.firstChild)container.__dom.firstChild=node.__dom.nextSibling;if(node===container.__dom.lastChild)container.__dom.lastChild=node.__dom.previousSibling;var p=node.__dom.previousSibling;var n=node.__dom.nextSibling;if(p)p.__dom.nextSibling=n;if(n)n.__dom.previousSibling=p;node.__dom.parentNode=node.__dom.previousSibling=node.__dom.nextSibling=
undefined;container.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(node){return Polymer.TreeApi.arrayCopyChildNodes(node)},getParentNode:function(node){return node.parentNode},clearChildNodes:function(node){node.textContent=""},insertBefore:function(parentNode,newChild,refChild){return nativeInsertBefore.call(parentNode,newChild,refChild||null)},appendChild:function(parentNode,newChild){return nativeAppendChild.call(parentNode,newChild)},removeChild:function(parentNode,node){return nativeRemoveChild.call(parentNode,
node)}}})();
Polymer.DomApi=function(){var Settings=Polymer.Settings;var TreeApi=Polymer.TreeApi;var DomApi=function(node){this.node=needsToWrap?DomApi.wrap(node):node};var needsToWrap=Settings.hasShadow&&!Settings.nativeShadow;DomApi.wrap=window.wrap?window.wrap:function(node){return node};DomApi.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(node){if(this.node.contains(node))return true;var n=node;var doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node)n=Polymer.dom(n).parentNode||n.host;
return n===this.node},queryDistributedElements:function(selector){var c$=this.getEffectiveChildNodes();var list=[];for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.nodeType===Node.ELEMENT_NODE&&DomApi.matchesSelector.call(c,selector))list.push(c);return list},getEffectiveChildNodes:function(){var list=[];var c$=this.childNodes;for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.localName===CONTENT){var d$=dom(c).getDistributedNodes();for(var j=0;j<d$.length;j++)list.push(d$[j])}else list.push(c);return list},
observeNodes:function(callback){if(callback){if(!this.observer)this.observer=this.node.localName===CONTENT?new DomApi.DistributedNodesObserver(this):new DomApi.EffectiveNodesObserver(this);return this.observer.addListener(callback)}},unobserveNodes:function(handle){if(this.observer)this.observer.removeListener(handle)},notifyObserver:function(){if(this.observer)this.observer.notify()},_query:function(matcher,node,halter){node=node||this.node;var list=[];this._queryElements(TreeApi.Logical.getChildNodes(node),
matcher,halter,list);return list},_queryElements:function(elements,matcher,halter,list){for(var i=0,l=elements.length,c;i<l&&(c=elements[i]);i++)if(c.nodeType===Node.ELEMENT_NODE)if(this._queryElement(c,matcher,halter,list))return true},_queryElement:function(node,matcher,halter,list){var result=matcher(node);if(result)list.push(node);if(halter&&halter(result))return result;this._queryElements(TreeApi.Logical.getChildNodes(node),matcher,halter,list)}};var CONTENT=DomApi.CONTENT="content";var dom=
DomApi.factory=function(node){node=node||document;if(!node.__domApi)node.__domApi=new DomApi.ctor(node);return node.__domApi};DomApi.hasApi=function(node){return Boolean(node.__domApi)};DomApi.ctor=DomApi;Polymer.dom=function(obj,patch){if(obj instanceof Event)return Polymer.EventApi.factory(obj);else return DomApi.factory(obj,patch)};var p=Element.prototype;DomApi.matchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;
return DomApi}();
(function(){var Settings=Polymer.Settings;var DomApi=Polymer.DomApi;var dom=DomApi.factory;var TreeApi=Polymer.TreeApi;var getInnerHTML=Polymer.domInnerHTML.getInnerHTML;var CONTENT=DomApi.CONTENT;if(Settings.useShadow)return;var nativeCloneNode=Element.prototype.cloneNode;var nativeImportNode=Document.prototype.importNode;Polymer.Base.mixin(DomApi.prototype,{_lazyDistribute:function(host){if(host.shadyRoot&&host.shadyRoot._distributionClean){host.shadyRoot._distributionClean=false;Polymer.dom.addDebouncer(host.debounce("_distribute",
host._distributeContent))}},appendChild:function(node){return this.insertBefore(node)},insertBefore:function(node,ref_node){if(ref_node&&TreeApi.Logical.getParentNode(ref_node)!==this.node)throw Error("The ref_node to be inserted before is not a child "+"of this node");if(node.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var parent=TreeApi.Logical.getParentNode(node);if(parent){if(DomApi.hasApi(parent))dom(parent).notifyObserver();this._removeNode(node)}else this._removeOwnerShadyRoot(node)}if(!this._addNode(node,
ref_node)){if(ref_node)ref_node=ref_node.localName===CONTENT?this._firstComposedNode(ref_node):ref_node;var container=this.node._isShadyRoot?this.node.host:this.node;if(ref_node)TreeApi.Composed.insertBefore(container,node,ref_node);else TreeApi.Composed.appendChild(container,node)}this.notifyObserver();return node},_addNode:function(node,ref_node){var root=this.getOwnerRoot();if(root){var ipAdded=this._maybeAddInsertionPoint(node,this.node);if(!root._invalidInsertionPoints)root._invalidInsertionPoints=
ipAdded;this._addNodeToHost(root.host,node)}if(TreeApi.Logical.hasChildNodes(this.node))TreeApi.Logical.recordInsertBefore(node,this.node,ref_node);var handled=this._maybeDistribute(node)||this.node.shadyRoot;if(handled)if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE)while(node.firstChild)TreeApi.Composed.removeChild(node,node.firstChild);else{var parent=TreeApi.Composed.getParentNode(node);if(parent)TreeApi.Composed.removeChild(parent,node)}return handled},removeChild:function(node){if(TreeApi.Logical.getParentNode(node)!==
this.node)throw Error("The node to be removed is not a child of this node: "+node);if(!this._removeNode(node)){var container=this.node._isShadyRoot?this.node.host:this.node;var parent=TreeApi.Composed.getParentNode(node);if(container===parent)TreeApi.Composed.removeChild(container,node)}this.notifyObserver();return node},_removeNode:function(node){var logicalParent=TreeApi.Logical.hasParentNode(node)&&TreeApi.Logical.getParentNode(node);var distributed;var root=this._ownerShadyRootForNode(node);if(logicalParent){distributed=
dom(node)._maybeDistributeParent();TreeApi.Logical.recordRemoveChild(node,logicalParent);if(root&&this._removeDistributedChildren(root,node)){root._invalidInsertionPoints=true;this._lazyDistribute(root.host)}}this._removeOwnerShadyRoot(node);if(root)this._removeNodeFromHost(root.host,node);return distributed},replaceChild:function(node,ref_node){this.insertBefore(node,ref_node);this.removeChild(ref_node);return node},_hasCachedOwnerRoot:function(node){return Boolean(node._ownerShadyRoot!==undefined)},
getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(node){if(!node)return;var root=node._ownerShadyRoot;if(root===undefined){if(node._isShadyRoot)root=node;else{var parent=TreeApi.Logical.getParentNode(node);if(parent)root=parent._isShadyRoot?parent:this._ownerShadyRootForNode(parent);else root=null}if(root||document.documentElement.contains(node))node._ownerShadyRoot=root}return root},_maybeDistribute:function(node){var fragContent=node.nodeType===
Node.DOCUMENT_FRAGMENT_NODE&&!node.__noContent&&dom(node).querySelector(CONTENT);var wrappedContent=fragContent&&TreeApi.Logical.getParentNode(fragContent).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;var hasContent=fragContent||node.localName===CONTENT;if(hasContent){var root=this.getOwnerRoot();if(root)this._lazyDistribute(root.host)}var needsDist=this._nodeNeedsDistribution(this.node);if(needsDist)this._lazyDistribute(this.node);return needsDist||hasContent&&!wrappedContent},_maybeAddInsertionPoint:function(node,
parent){var added;if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!node.__noContent){var c$=dom(node).querySelectorAll(CONTENT);for(var i=0,n,np,na;i<c$.length&&(n=c$[i]);i++){np=TreeApi.Logical.getParentNode(n);if(np===node)np=parent;na=this._maybeAddInsertionPoint(n,np);added=added||na}}else if(node.localName===CONTENT){TreeApi.Logical.saveChildNodes(parent);TreeApi.Logical.saveChildNodes(node);added=true}return added},_updateInsertionPoints:function(host){var i$=host.shadyRoot._insertionPoints=
dom(host.shadyRoot).querySelectorAll(CONTENT);for(var i=0,c;i<i$.length;i++){c=i$[i];TreeApi.Logical.saveChildNodes(c);TreeApi.Logical.saveChildNodes(TreeApi.Logical.getParentNode(c))}},_nodeNeedsDistribution:function(node){return node&&node.shadyRoot&&DomApi.hasInsertionPoint(node.shadyRoot)},_addNodeToHost:function(host,node){if(host._elementAdd)host._elementAdd(node)},_removeNodeFromHost:function(host,node){if(host._elementRemove)host._elementRemove(node)},_removeDistributedChildren:function(root,
container){var hostNeedsDist;var ip$=root._insertionPoints;for(var i=0;i<ip$.length;i++){var content=ip$[i];if(this._contains(container,content)){var dc$=dom(content).getDistributedNodes();for(var j=0;j<dc$.length;j++){hostNeedsDist=true;var node=dc$[j];var parent=TreeApi.Composed.getParentNode(node);if(parent)TreeApi.Composed.removeChild(parent,node)}}}return hostNeedsDist},_contains:function(container,node){while(node){if(node==container)return true;node=TreeApi.Logical.getParentNode(node)}},_removeOwnerShadyRoot:function(node){if(this._hasCachedOwnerRoot(node)){var c$=
TreeApi.Logical.getChildNodes(node);for(var i=0,l=c$.length,n;i<l&&(n=c$[i]);i++)this._removeOwnerShadyRoot(n)}node._ownerShadyRoot=undefined},_firstComposedNode:function(content){var n$=dom(content).getDistributedNodes();for(var i=0,l=n$.length,n,p$;i<l&&(n=n$[i]);i++){p$=dom(n).getDestinationInsertionPoints();if(p$[p$.length-1]===content)return n}},querySelector:function(selector){var result=this._query(function(n){return DomApi.matchesSelector.call(n,selector)},this.node,function(n){return Boolean(n)})[0];
return result||null},querySelectorAll:function(selector){return this._query(function(n){return DomApi.matchesSelector.call(n,selector)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){while(this.childNodes.length)this.removeChild(this.childNodes[0])},setAttribute:function(name,value){this.node.setAttribute(name,value);this._maybeDistributeParent()},removeAttribute:function(name){this.node.removeAttribute(name);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode)){this._lazyDistribute(this.parentNode);return true}},cloneNode:function(deep){var n=nativeCloneNode.call(this.node,false);if(deep){var c$=this.childNodes;var d=dom(n);for(var i=0,nc;i<c$.length;i++){nc=dom(c$[i]).cloneNode(true);d.appendChild(nc)}}return n},importNode:function(externalNode,deep){var doc=this.node instanceof Document?this.node:this.node.ownerDocument;var n=nativeImportNode.call(doc,
externalNode,false);if(deep){var c$=TreeApi.Logical.getChildNodes(externalNode);var d=dom(n);for(var i=0,nc;i<c$.length;i++){nc=dom(doc).importNode(c$[i],true);d.appendChild(nc)}}return n},_getComposedInnerHTML:function(){return getInnerHTML(this.node,true)}});Object.defineProperties(DomApi.prototype,{activeElement:{get:function(){var active=document.activeElement;if(!active)return null;var isShadyRoot=!!this.node._isShadyRoot;if(this.node!==document){if(!isShadyRoot)return null;if(this.node.host===
active||!this.node.host.contains(active))return null}var activeRoot=dom(active).getOwnerRoot();while(activeRoot&&activeRoot!==this.node){active=activeRoot.host;activeRoot=dom(active).getOwnerRoot()}if(this.node===document)return activeRoot?null:active;else return activeRoot===this.node?active:null},configurable:true},childNodes:{get:function(){var c$=TreeApi.Logical.getChildNodes(this.node);return Array.isArray(c$)?c$:TreeApi.arrayCopyChildNodes(this.node)},configurable:true},children:{get:function(){if(TreeApi.Logical.hasChildNodes(this.node))return Array.prototype.filter.call(this.childNodes,
function(n){return n.nodeType===Node.ELEMENT_NODE});else return TreeApi.arrayCopyChildren(this.node)},configurable:true},parentNode:{get:function(){return TreeApi.Logical.getParentNode(this.node)},configurable:true},firstChild:{get:function(){return TreeApi.Logical.getFirstChild(this.node)},configurable:true},lastChild:{get:function(){return TreeApi.Logical.getLastChild(this.node)},configurable:true},nextSibling:{get:function(){return TreeApi.Logical.getNextSibling(this.node)},configurable:true},
previousSibling:{get:function(){return TreeApi.Logical.getPreviousSibling(this.node)},configurable:true},firstElementChild:{get:function(){return TreeApi.Logical.getFirstElementChild(this.node)},configurable:true},lastElementChild:{get:function(){return TreeApi.Logical.getLastElementChild(this.node)},configurable:true},nextElementSibling:{get:function(){return TreeApi.Logical.getNextElementSibling(this.node)},configurable:true},previousElementSibling:{get:function(){return TreeApi.Logical.getPreviousElementSibling(this.node)},
configurable:true},textContent:{get:function(){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)return this.node.textContent;else{var tc=[];for(var i=0,cn=this.childNodes,c;c=cn[i];i++)if(c.nodeType!==Node.COMMENT_NODE)tc.push(c.textContent);return tc.join("")}},set:function(text){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)this.node.textContent=text;else{this._clear();if(text)this.appendChild(document.createTextNode(text))}},configurable:true},
innerHTML:{get:function(){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)return null;else return getInnerHTML(this.node)},set:function(text){var nt=this.node.nodeType;if(nt!==Node.TEXT_NODE||nt!==Node.COMMENT_NODE){this._clear();var d=document.createElement("div");d.innerHTML=text;var c$=TreeApi.arrayCopyChildNodes(d);for(var i=0;i<c$.length;i++)this.appendChild(c$[i])}},configurable:true}});DomApi.hasInsertionPoint=function(root){return Boolean(root&&root._insertionPoints.length)}})();
(function(){var Settings=Polymer.Settings;var TreeApi=Polymer.TreeApi;var DomApi=Polymer.DomApi;if(!Settings.useShadow)return;Polymer.Base.mixin(DomApi.prototype,{querySelectorAll:function(selector){return TreeApi.arrayCopy(this.node.querySelectorAll(selector))},getOwnerRoot:function(){var n=this.node;while(n){if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host)return n;n=n.parentNode}},importNode:function(externalNode,deep){var doc=this.node instanceof Document?this.node:this.node.ownerDocument;
return doc.importNode(externalNode,deep)},getDestinationInsertionPoints:function(){var n$=this.node.getDestinationInsertionPoints&&this.node.getDestinationInsertionPoints();return n$?TreeApi.arrayCopy(n$):[]},getDistributedNodes:function(){var n$=this.node.getDistributedNodes&&this.node.getDistributedNodes();return n$?TreeApi.arrayCopy(n$):[]}});Object.defineProperties(DomApi.prototype,{activeElement:{get:function(){var node=DomApi.wrap(this.node);var activeElement=node.activeElement;return node.contains(activeElement)?
activeElement:null},configurable:true},childNodes:{get:function(){return TreeApi.arrayCopyChildNodes(this.node)},configurable:true},children:{get:function(){return TreeApi.arrayCopyChildren(this.node)},configurable:true},textContent:{get:function(){return this.node.textContent},set:function(value){return this.node.textContent=value},configurable:true},innerHTML:{get:function(){return this.node.innerHTML},set:function(value){return this.node.innerHTML=value},configurable:true}});var forwardMethods=
function(m$){for(var i=0;i<m$.length;i++)forwardMethod(m$[i])};var forwardMethod=function(method){DomApi.prototype[method]=function(){return this.node[method].apply(this.node,arguments)}};forwardMethods(["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector"]);var forwardProperties=function(f$){for(var i=0;i<f$.length;i++)forwardProperty(f$[i])};var forwardProperty=function(name){Object.defineProperty(DomApi.prototype,name,{get:function(){return this.node[name]},
configurable:true})};forwardProperties(["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"])})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;this._prepareFlush();while(this._debouncers.length&&this._flushGuard<this._FLUSH_MAX){while(this._debouncers.length)this._debouncers.shift().complete();if(this._finishDebouncer)this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}if(this._flushGuard>=this._FLUSH_MAX)console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){if(this._needsTakeRecords)CustomElements.takeRecords();for(var i=0;i<this._staticFlushList.length;i++)this._staticFlushList[i]()},addStaticFlush:function(fn){this._staticFlushList.push(fn)},removeStaticFlush:function(fn){var i=this._staticFlushList.indexOf(fn);if(i>=0)this._staticFlushList.splice(i,1)},addDebouncer:function(debouncer){this._debouncers.push(debouncer);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=
[]}});
Polymer.EventApi=function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.Event=function(event){this.event=event};if(Settings.useShadow)DomApi.Event.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var path=this.event.path;if(!Array.isArray(path))path=Array.prototype.slice.call(path);return path}};else DomApi.Event.prototype={get rootTarget(){return this.event.target},get localTarget(){var current=this.event.currentTarget;var currentRoot=
current&&Polymer.dom(current).getOwnerRoot();var p$=this.path;for(var i=0;i<p$.length;i++)if(Polymer.dom(p$[i]).getOwnerRoot()===currentRoot)return p$[i]},get path(){if(!this.event._path){var path=[];var current=this.rootTarget;while(current){path.push(current);var insertionPoints=Polymer.dom(current).getDestinationInsertionPoints();if(insertionPoints.length){for(var i=0;i<insertionPoints.length-1;i++)path.push(insertionPoints[i]);current=insertionPoints[insertionPoints.length-1]}else current=Polymer.dom(current).parentNode||
current.host}path.push(window);this.event._path=path}return this.event._path}};var factory=function(event){if(!event.__eventApi)event.__eventApi=new DomApi.Event(event);return event.__eventApi};return{factory:factory}}();
(function(){var DomApi=Polymer.DomApi.ctor;var useShadow=Polymer.Settings.useShadow;Object.defineProperty(DomApi.prototype,"classList",{get:function(){if(!this._classList)this._classList=new DomApi.ClassList(this);return this._classList},configurable:true});DomApi.ClassList=function(host){this.domApi=host;this.node=host.node};DomApi.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,
arguments);this._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){if(!useShadow)this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.EffectiveNodesObserver=function(domApi){this.domApi=domApi;this.node=this.domApi.node;this._listeners=[]};DomApi.EffectiveNodesObserver.prototype={addListener:function(callback){if(!this._isSetup){this._setup();this._isSetup=true}var listener={fn:callback,_nodes:[]};this._listeners.push(listener);this._scheduleNotify();return listener},removeListener:function(handle){var i=this._listeners.indexOf(handle);if(i>=0){this._listeners.splice(i,
1);handle._nodes=[]}if(!this._hasListeners()){this._cleanup();this._isSetup=false}},_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return Boolean(this._listeners.length)},_scheduleNotify:function(){if(this._debouncer)this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},
notify:function(){if(this._hasListeners())this._scheduleNotify()},_notify:function(){this._beforeCallListeners();this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(elements){for(var i=0,n;i<elements.length&&(n=elements[i]);i++)if(this._isContent(n)){n.__observeNodesMap=n.__observeNodesMap||new WeakMap;if(!n.__observeNodesMap.has(this))n.__observeNodesMap.set(this,
this._observeContent(n))}},_observeContent:function(content){var self=this;var h=Polymer.dom(content).observeNodes(function(){self._scheduleNotify()});h._avoidChangeCalculation=true;return h},_unobserveContentElements:function(elements){for(var i=0,n,h;i<elements.length&&(n=elements[i]);i++)if(this._isContent(n)){h=n.__observeNodesMap&&n.__observeNodesMap.get(this);if(h){Polymer.dom(n).unobserveNodes(h);n.__observeNodesMap["delete"](this)}}},_isContent:function(node){return node.localName==="content"},
_callListeners:function(){var o$=this._listeners;var nodes=this._getEffectiveNodes();for(var i=0,o;i<o$.length&&(o=o$[i]);i++){var info=this._generateListenerInfo(o,nodes);if(info||o._alwaysNotify)this._callListener(o,info)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},_generateListenerInfo:function(listener,newNodes){if(listener._avoidChangeCalculation)return true;var oldNodes=listener._nodes;var info={target:this.node,addedNodes:[],removedNodes:[]};var splices=Polymer.ArraySplice.calculateSplices(newNodes,
oldNodes);for(var i=0,s;i<splices.length&&(s=splices[i]);i++)for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++)info.removedNodes.push(n);for(i=0,s;i<splices.length&&(s=splices[i]);i++)for(j=s.index;j<s.index+s.addedCount;j++)info.addedNodes.push(newNodes[j]);listener._nodes=newNodes;if(info.addedNodes.length||info.removedNodes.length)return info},_callListener:function(listener,info){return listener.fn.call(this.node,info)},enableShadowAttributeTracking:function(){}};if(Settings.useShadow){var baseSetup=
DomApi.EffectiveNodesObserver.prototype._setup;var baseCleanup=DomApi.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(DomApi.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var self=this;this._mutationHandler=function(mxns){if(mxns&&mxns.length)self._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){self._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,{childList:true})}baseSetup.call(this)},
_cleanup:function(){this._observer.disconnect();this._observer=null;this._mutationHandler=null;Polymer.dom.removeStaticFlush(this._boundFlush);baseCleanup.call(this)},_flush:function(){if(this._observer)this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:true,attributes:true,subtree:true});var root=this.domApi.getOwnerRoot();
var host=root&&root.host;if(host&&Polymer.dom(host).observer)Polymer.dom(host).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var i=0,h;i<this._listeners.length;i++){h=this._listeners[i];h._alwaysNotify=h._isContentListener}}})}})();
(function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.DistributedNodesObserver=function(domApi){DomApi.EffectiveNodesObserver.call(this,domApi)};DomApi.DistributedNodesObserver.prototype=Object.create(DomApi.EffectiveNodesObserver.prototype);Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});if(Settings.useShadow)Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype,
{_setup:function(){if(!this._observer){var root=this.domApi.getOwnerRoot();var host=root&&root.host;if(host){var self=this;this._observer=Polymer.dom(host).observeNodes(function(){self._scheduleNotify()});this._observer._isContentListener=true;if(this._hasAttrSelect())Polymer.dom(host).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var select=this.node.getAttribute("select");return select&&select.match(/[[.]+/)},_cleanup:function(){var root=this.domApi.getOwnerRoot();var host=
root&&root.host;if(host)Polymer.dom(host).unobserveNodes(this._observer);this._observer=null}})})();
(function(){var DomApi=Polymer.DomApi;var TreeApi=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template)},_setupShady:function(){this.shadyRoot=null;if(!this.__domApi)this.__domApi=null;if(!this.__dom)this.__dom=null;if(!this._ownerShadyRoot)this._ownerShadyRoot=undefined},_poolContent:function(){if(this._useContent)TreeApi.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent){this._createLocalRoot();if(!this.dataHost)upgradeLogicalChildren(TreeApi.Logical.getChildNodes(this))}},
_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=false;this.shadyRoot._hasDistributed=false;this.shadyRoot._isShadyRoot=true;this.shadyRoot._dirtyRoots=[];var i$=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];TreeApi.Logical.saveChildNodes(this.shadyRoot);for(var i=0,c;i<i$.length;i++){c=i$[i];TreeApi.Logical.saveChildNodes(c);TreeApi.Logical.saveChildNodes(c.parentNode)}this.shadyRoot.host=
this},distributeContent:function(updateInsertionPoints){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||updateInsertionPoints;var host=getTopDistributingHost(this);Polymer.dom(this)._lazyDistribute(host)}},_distributeContent:function(){if(this._useContent&&!this.shadyRoot._distributionClean){if(this.shadyRoot._invalidInsertionPoints){Polymer.dom(this)._updateInsertionPoints(this);this.shadyRoot._invalidInsertionPoints=false}this._beginDistribute();
this._distributeDirtyRoots();this._finishDistribute()}},_beginDistribute:function(){if(this._useContent&&DomApi.hasInsertionPoint(this.shadyRoot)){this._resetDistribution();this._distributePool(this.shadyRoot,this._collectPool())}},_distributeDirtyRoots:function(){var c$=this.shadyRoot._dirtyRoots;for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)c._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=true;if(DomApi.hasInsertionPoint(this.shadyRoot)){this._composeTree();
notifyContentObservers(this.shadyRoot)}else if(!this.shadyRoot._hasDistributed){TreeApi.Composed.clearChildNodes(this);this.appendChild(this.shadyRoot)}else{var children=this._composeNode(this);this._updateChildNodes(this,children)}if(!this.shadyRoot._hasDistributed)notifyInitialDistribution(this);this.shadyRoot._hasDistributed=true}},elementMatches:function(selector,node){node=node||this;return DomApi.matchesSelector.call(node,selector)},_resetDistribution:function(){var children=TreeApi.Logical.getChildNodes(this);
for(var i=0;i<children.length;i++){var child=children[i];if(child._destinationInsertionPoints)child._destinationInsertionPoints=undefined;if(isInsertionPoint(child))clearDistributedDestinationInsertionPoints(child)}var root=this.shadyRoot;var p$=root._insertionPoints;for(var j=0;j<p$.length;j++)p$[j]._distributedNodes=[]},_collectPool:function(){var pool=[];var children=TreeApi.Logical.getChildNodes(this);for(var i=0;i<children.length;i++){var child=children[i];if(isInsertionPoint(child))pool.push.apply(pool,
child._distributedNodes);else pool.push(child)}return pool},_distributePool:function(node,pool){var p$=node._insertionPoints;for(var i=0,l=p$.length,p;i<l&&(p=p$[i]);i++){this._distributeInsertionPoint(p,pool);maybeRedistributeParent(p,this)}},_distributeInsertionPoint:function(content,pool){var anyDistributed=false;for(var i=0,l=pool.length,node;i<l;i++){node=pool[i];if(!node)continue;if(this._matchesContentSelect(node,content)){distributeNodeInto(node,content);pool[i]=undefined;anyDistributed=true}}if(!anyDistributed){var children=
TreeApi.Logical.getChildNodes(content);for(var j=0;j<children.length;j++)distributeNodeInto(children[j],content)}},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));var p$=this.shadyRoot._insertionPoints;for(var i=0,l=p$.length,p,parent;i<l&&(p=p$[i]);i++){parent=TreeApi.Logical.getParentNode(p);if(!parent._useContent&&parent!==this&&parent!==this.shadyRoot)this._updateChildNodes(parent,this._composeNode(parent))}},_composeNode:function(node){var children=[];var c$=TreeApi.Logical.getChildNodes(node.shadyRoot||
node);for(var i=0;i<c$.length;i++){var child=c$[i];if(isInsertionPoint(child)){var distributedNodes=child._distributedNodes;for(var j=0;j<distributedNodes.length;j++){var distributedNode=distributedNodes[j];if(isFinalDestination(child,distributedNode))children.push(distributedNode)}}else children.push(child)}return children},_updateChildNodes:function(container,children){var composed=TreeApi.Composed.getChildNodes(container);var splices=Polymer.ArraySplice.calculateSplices(children,composed);for(var i=
0,d=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){if(TreeApi.Composed.getParentNode(n)===container)TreeApi.Composed.removeChild(container,n);composed.splice(s.index+d,1)}d-=s.addedCount}for(var i=0,s,next;i<splices.length&&(s=splices[i]);i++){next=composed[s.index];for(j=s.index,n;j<s.index+s.addedCount;j++){n=children[j];TreeApi.Composed.insertBefore(container,n,next);composed.splice(j,0,n)}}},_matchesContentSelect:function(node,contentElement){var select=
contentElement.getAttribute("select");if(!select)return true;select=select.trim();if(!select)return true;if(!(node instanceof Element))return false;var validSelectors=/^(:not\()?[*.#[a-zA-Z_|]/;if(!validSelectors.test(select))return false;return this.elementMatches(select,node)},_elementAdd:function(){},_elementRemove:function(){}});var domHostDesc={get:function(){var root=Polymer.dom(this).getOwnerRoot();return root&&root.host},configurable:true};Object.defineProperty(Polymer.Base,"domHost",domHostDesc);
Polymer.BaseDescriptors.domHost=domHostDesc;function distributeNodeInto(child,insertionPoint){insertionPoint._distributedNodes.push(child);var points=child._destinationInsertionPoints;if(!points)child._destinationInsertionPoints=[insertionPoint];else points.push(insertionPoint)}function clearDistributedDestinationInsertionPoints(content){var e$=content._distributedNodes;if(e$)for(var i=0;i<e$.length;i++){var d=e$[i]._destinationInsertionPoints;if(d)d.splice(d.indexOf(content)+1,d.length)}}function maybeRedistributeParent(content,
host){var parent=TreeApi.Logical.getParentNode(content);if(parent&&parent.shadyRoot&&DomApi.hasInsertionPoint(parent.shadyRoot)&&parent.shadyRoot._distributionClean){parent.shadyRoot._distributionClean=false;host.shadyRoot._dirtyRoots.push(parent)}}function isFinalDestination(insertionPoint,node){var points=node._destinationInsertionPoints;return points&&points[points.length-1]===insertionPoint}function isInsertionPoint(node){return node.localName=="content"}function getTopDistributingHost(host){while(host&&
hostNeedsRedistribution(host))host=host.domHost;return host}function hostNeedsRedistribution(host){var c$=TreeApi.Logical.getChildNodes(host);for(var i=0,c;i<c$.length;i++){c=c$[i];if(c.localName&&c.localName==="content")return host.domHost}}function notifyContentObservers(root){for(var i=0,c;i<root._insertionPoints.length;i++){c=root._insertionPoints[i];if(DomApi.hasApi(c))Polymer.dom(c).notifyObserver()}}function notifyInitialDistribution(host){if(DomApi.hasApi(host))Polymer.dom(host).notifyObserver()}
var needsUpgrade=window.CustomElements&&!CustomElements.useNative;function upgradeLogicalChildren(children){if(needsUpgrade&&children)for(var i=0;i<children.length;i++)CustomElements.upgrade(children[i])}})();
if(Polymer.Settings.useShadow)Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(callback,waitTime){if(waitTime>0)return~setTimeout(callback,waitTime);else{this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(callback);return this._currVal++}},cancel:function(handle){if(handle<0)clearTimeout(~handle);else{var idx=handle-this._lastVal;if(idx>=0){if(!this._callbacks[idx])throw"invalid async handle: "+handle;this._callbacks[idx]=null}}},_atEndOfMicrotask:function(){var len=
this._callbacks.length;for(var i=0;i<len;i++){var cb=this._callbacks[i];if(cb)try{cb()}catch(e){i++;this._callbacks.splice(0,i);this._lastVal+=i;this._twiddle.textContent=this._twiddleContent++;throw e;}}this._callbacks.splice(0,len);this._lastVal+=len}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:true});
Polymer.Debounce=function(){var Async=Polymer.Async;var Debouncer=function(context){this.context=context;var self=this;this.boundComplete=function(){self.complete()}};Debouncer.prototype={go:function(callback,wait){var h;this.finish=function(){Async.cancel(h)};h=Async.run(this.boundComplete,wait);this.callback=callback},stop:function(){if(this.finish){this.finish();this.finish=null;this.callback=null}},complete:function(){if(this.finish){var callback=this.callback;this.stop();callback.call(this.context)}}};
function debounce(debouncer,callback,wait){if(debouncer)debouncer.stop();else debouncer=new Debouncer(this);debouncer.go(callback,wait);return debouncer}return debounce}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(jobName,callback,wait){return this._debouncers[jobName]=Polymer.Debounce.call(this,this._debouncers[jobName],callback,wait)},isDebouncerActive:function(jobName){var debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.finish)},flushDebouncer:function(jobName){var debouncer=this._debouncers[jobName];if(debouncer)debouncer.complete()},cancelDebouncer:function(jobName){var debouncer=this._debouncers[jobName];
if(debouncer)debouncer.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._registerHost();if(this._template){this._poolContent();this._beginHosting();this._stampTemplate();this._endHosting()}this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(b){}});(function(){Polymer.nar=[];var disableUpgradeEnabled=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(template,stripWhiteSpace){var list=[];var content=template._content||template.content;this._parseNodeAnnotations(content,list,stripWhiteSpace||template.hasAttribute("strip-whitespace"));return list},_parseNodeAnnotations:function(node,list,stripWhiteSpace){return node.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(node,list):this._parseElementAnnotations(node,
list,stripWhiteSpace)},_bindingRegex:function(){var IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")";var NUMBER="(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")";var SQUOTE_STRING="(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")";var DQUOTE_STRING="(?:"+'"(?:[^"\\\\]|\\\\.)*"'+")";var STRING="(?:"+SQUOTE_STRING+"|"+DQUOTE_STRING+")";var ARGUMENT="(?:"+IDENT+"|"+NUMBER+"|"+STRING+"\\s*"+")";var ARGUMENTS="(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")";var ARGUMENT_LIST="(?:"+"\\(\\s*"+"(?:"+ARGUMENTS+"?"+")"+"\\)\\s*"+")";
var BINDING="("+IDENT+"\\s*"+ARGUMENT_LIST+"?"+")";var OPEN_BRACKET="(\\[\\[|{{)"+"\\s*";var CLOSE_BRACKET="(?:]]|}})";var NEGATE="(?:(!)\\s*)?";var EXPRESSION=OPEN_BRACKET+NEGATE+BINDING+CLOSE_BRACKET;return new RegExp(EXPRESSION,"g")}(),_parseBindings:function(text){var re=this._bindingRegex;var parts=[];var lastIndex=0;var m;while((m=re.exec(text))!==null){if(m.index>lastIndex)parts.push({literal:text.slice(lastIndex,m.index)});var mode=m[1][0];var negate=Boolean(m[2]);var value=m[3].trim();var customEvent,
notifyEvent,colon;if(mode=="{"&&(colon=value.indexOf("::"))>0){notifyEvent=value.substring(colon+2);value=value.substring(0,colon);customEvent=true}parts.push({compoundIndex:parts.length,value:value,mode:mode,negate:negate,event:notifyEvent,customEvent:customEvent});lastIndex=re.lastIndex}if(lastIndex&&lastIndex<text.length){var literal=text.substring(lastIndex);if(literal)parts.push({literal:literal})}if(parts.length)return parts},_literalFromParts:function(parts){var s="";for(var i=0;i<parts.length;i++){var literal=
parts[i].literal;s+=literal||""}return s},_parseTextNodeAnnotation:function(node,list){var parts=this._parseBindings(node.textContent);if(parts){node.textContent=this._literalFromParts(parts)||" ";var annote={bindings:[{kind:"text",name:"textContent",parts:parts,isCompound:parts.length!==1}]};list.push(annote);return annote}},_parseElementAnnotations:function(element,list,stripWhiteSpace){var annote={bindings:[],events:[]};if(element.localName==="content")list._hasContent=true;this._parseChildNodesAnnotations(element,
annote,list,stripWhiteSpace);if(element.attributes){this._parseNodeAttributeAnnotations(element,annote,list);if(this.prepElement)this.prepElement(element)}if(annote.bindings.length||annote.events.length||annote.id)list.push(annote);return annote},_parseChildNodesAnnotations:function(root,annote,list,stripWhiteSpace){if(root.firstChild){var node=root.firstChild;var i=0;while(node){var next=node.nextSibling;if(node.localName==="template"&&!node.hasAttribute("preserve-content"))this._parseTemplate(node,
i,list,annote,stripWhiteSpace);if(node.localName=="slot")node=this._replaceSlotWithContent(node);if(node.nodeType===Node.TEXT_NODE){var n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);i--}}if(node.parentNode){var childAnnotation=this._parseNodeAnnotations(node,list,stripWhiteSpace);if(childAnnotation){childAnnotation.parent=annote;childAnnotation.index=i}}node=
next;i++}}},_replaceSlotWithContent:function(slot){var content=slot.ownerDocument.createElement("content");while(slot.firstChild)content.appendChild(slot.firstChild);var attrs=slot.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];content.setAttribute(attr.name,attr.value)}var name=slot.getAttribute("name");if(name)content.setAttribute("select","[slot='"+name+"']");slot.parentNode.replaceChild(content,slot);return content},_parseTemplate:function(node,index,list,parent,stripWhiteSpace){var content=
document.createDocumentFragment();content._notes=this.parseAnnotations(node,stripWhiteSpace);content.appendChild(node.content);list.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:content,parent:parent,index:index})},_parseNodeAttributeAnnotations:function(node,annotation){var attrs=Array.prototype.slice.call(node.attributes);for(var i=attrs.length-1,a;a=attrs[i];i--){var n=a.name;var v=a.value;var b;if(n.slice(0,3)==="on-"){node.removeAttribute(n);annotation.events.push({name:n.slice(3),
value:v})}else if(b=this._parseNodeAttributeAnnotation(node,n,v))annotation.bindings.push(b);else if(n==="id")annotation.id=v}},_parseNodeAttributeAnnotation:function(node,name,value){var parts=this._parseBindings(value);if(parts){var origName=name;var kind="property";if(name[name.length-1]=="$"){name=name.slice(0,-1);kind="attribute"}var literal=this._literalFromParts(parts);if(literal&&kind=="attribute")node.setAttribute(name,literal);if(node.localName==="input"&&origName==="value")node.setAttribute(origName,
"");if(disableUpgradeEnabled&&origName==="disable-upgrade$")node.setAttribute(name,"");node.removeAttribute(origName);var propertyName=Polymer.CaseMap.dashToCamelCase(name);if(kind==="property")name=propertyName;return{kind:kind,name:name,propertyName:propertyName,parts:parts,literal:literal,isCompound:parts.length!==1}}},findAnnotatedNode:function(root,annote){var parent=annote.parent&&Polymer.Annotations.findAnnotatedNode(root,annote.parent);if(parent)for(var n=parent.firstChild,i=0;n;n=n.nextSibling){if(annote.index===
i++)return n}else return root}}})();
Polymer.Path={root:function(path){var dotIndex=path.indexOf(".");if(dotIndex===-1)return path;return path.slice(0,dotIndex)},isDeep:function(path){return path.indexOf(".")!==-1},isAncestor:function(base,path){return base.indexOf(path+".")===0},isDescendant:function(base,path){return path.indexOf(base+".")===0},translate:function(base,newBase,path){return newBase+path.slice(base.length)},matches:function(base,wildcard,path){return base===path||this.isAncestor(base,path)||Boolean(wildcard)&&this.isDescendant(base,
path)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(!this._template)this._notes=[];else{var self=this;Polymer.Annotations.prepElement=function(element){self._prepElement(element)};if(this._template._content&&this._template._content._notes)this._notes=this._template._content._notes;else{this._notes=Polymer.Annotations.parseAnnotations(this._template);this._processAnnotations(this._notes)}Polymer.Annotations.prepElement=null}},_processAnnotations:function(notes){for(var i=0;i<notes.length;i++){var note=notes[i];
for(var j=0;j<note.bindings.length;j++){var b=note.bindings[j];for(var k=0;k<b.parts.length;k++){var p=b.parts[k];if(!p.literal){var signature=this._parseMethod(p.value);if(signature)p.signature=signature;else p.model=Polymer.Path.root(p.value)}}}if(note.templateContent){this._processAnnotations(note.templateContent._notes);var pp=note.templateContent._parentProps=this._discoverTemplateParentProps(note.templateContent._notes);var bindings=[];for(var prop in pp){var name="_parent_"+prop;bindings.push({index:note.index,
kind:"property",name:name,propertyName:name,parts:[{mode:"{",model:prop,value:prop}]})}note.bindings=note.bindings.concat(bindings)}}},_discoverTemplateParentProps:function(notes){var pp={};for(var i=0,n;i<notes.length&&(n=notes[i]);i++){for(var j=0,b$=n.bindings,b;j<b$.length&&(b=b$[j]);j++)for(var k=0,p$=b.parts,p;k<p$.length&&(p=p$[k]);k++)if(p.signature){var args=p.signature.args;for(var kk=0;kk<args.length;kk++){var model=args[kk].model;if(model)pp[model]=true}if(p.signature.dynamicFn)pp[p.signature.method]=
true}else if(p.model)pp[p.model]=true;if(n.templateContent){var tpp=n.templateContent._parentProps;Polymer.Base.mixin(pp,tpp)}}return pp},_prepElement:function(element){Polymer.ResolveUrl.resolveAttrs(element,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){if(this._template){this._marshalIdNodes();this._marshalAnnotatedNodes();this._marshalAnnotatedListeners()}},_configureAnnotationReferences:function(){var notes=this._notes;
var nodes=this._nodes;for(var i=0;i<notes.length;i++){var note=notes[i];var node=nodes[i];this._configureTemplateContent(note,node);this._configureCompoundBindings(note,node)}},_configureTemplateContent:function(note,node){if(note.templateContent)node._content=note.templateContent},_configureCompoundBindings:function(note,node){var bindings=note.bindings;for(var i=0;i<bindings.length;i++){var binding=bindings[i];if(binding.isCompound){var storage=node.__compoundStorage__||(node.__compoundStorage__=
{});var parts=binding.parts;var literals=new Array(parts.length);for(var j=0;j<parts.length;j++)literals[j]=parts[j].literal;var name=binding.name;storage[name]=literals;if(binding.literal&&binding.kind=="property")if(node._configValue)node._configValue(name,binding.literal);else node[name]=binding.literal}}},_marshalIdNodes:function(){this.$={};for(var i=0,l=this._notes.length,a;i<l&&(a=this._notes[i]);i++)if(a.id)this.$[a.id]=this._findAnnotatedNode(this.root,a)},_marshalAnnotatedNodes:function(){if(this._notes&&
this._notes.length){var r=new Array(this._notes.length);for(var i=0;i<this._notes.length;i++)r[i]=this._findAnnotatedNode(this.root,this._notes[i]);this._nodes=r}},_marshalAnnotatedListeners:function(){for(var i=0,l=this._notes.length,a;i<l&&(a=this._notes[i]);i++)if(a.events&&a.events.length){var node=this._findAnnotatedNode(this.root,a);for(var j=0,e$=a.events,e;j<e$.length&&(e=e$[j]);j++)this.listen(node,e.name,e.value)}}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(listeners){var node,name,eventName;for(eventName in listeners){if(eventName.indexOf(".")<0){node=this;name=eventName}else{name=eventName.split(".");node=this.$[name[0]];name=name[1]}this.listen(node,name,listeners[eventName])}},listen:function(node,eventName,methodName){var handler=this._recallEventHandler(this,eventName,node,methodName);if(!handler)handler=this._createEventHandler(node,eventName,methodName);if(handler._listening)return;
this._listen(node,eventName,handler);handler._listening=true},_boundListenerKey:function(eventName,methodName){return eventName+":"+methodName},_recordEventHandler:function(host,eventName,target,methodName,handler){var hbl=host.__boundListeners;if(!hbl)hbl=host.__boundListeners=new WeakMap;var bl=hbl.get(target);if(!bl){bl={};if(!Polymer.Settings.isIE||target!=window)hbl.set(target,bl)}var key=this._boundListenerKey(eventName,methodName);bl[key]=handler},_recallEventHandler:function(host,eventName,
target,methodName){var hbl=host.__boundListeners;if(!hbl)return;var bl=hbl.get(target);if(!bl)return;var key=this._boundListenerKey(eventName,methodName);return bl[key]},_createEventHandler:function(node,eventName,methodName){var host=this;var handler=function(e){if(host[methodName])host[methodName](e,e.detail);else host._warn(host._logf("_createEventHandler","listener method `"+methodName+"` not defined"))};handler._listening=false;this._recordEventHandler(host,eventName,node,methodName,handler);
return handler},unlisten:function(node,eventName,methodName){var handler=this._recallEventHandler(this,eventName,node,methodName);if(handler){this._unlisten(node,eventName,handler);handler._listening=false}},_listen:function(node,eventName,handler){node.addEventListener(eventName,handler)},_unlisten:function(node,eventName,handler){node.removeEventListener(eventName,handler)}});
(function(){var wrap=Polymer.DomApi.wrap;var HAS_NATIVE_TA=typeof document.head.style.touchAction==="string";var GESTURE_KEY="__polymerGestures";var HANDLED_OBJ="__polymerGesturesHandled";var TOUCH_ACTION="__polymerGesturesTouchAction";var TAP_DISTANCE=25;var TRACK_DISTANCE=5;var TRACK_LENGTH=2;var MOUSE_TIMEOUT=2500;var MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"];var MOUSE_WHICH_TO_BUTTONS=[0,1,4,2];var MOUSE_HAS_BUTTONS=function(){try{return(new MouseEvent("test",{buttons:1})).buttons===
1}catch(e){return false}}();function isMouseEvent(name){return MOUSE_EVENTS.indexOf(name)>-1}var SUPPORTS_PASSIVE=false;(function(){try{var opts=Object.defineProperty({},"passive",{get:function(){SUPPORTS_PASSIVE=true}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||eventName==="touchend")return;if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&Polymer.Settings.passiveTouchGestures)return{passive:true}}
var IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);var mouseCanceller=function(mouseEvent){var sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents)return;mouseEvent[HANDLED_OBJ]={skip:true};if(mouseEvent.type==="click"){var path=Polymer.dom(mouseEvent).path;if(path)for(var i=0;i<path.length;i++)if(path[i]===POINTERSTATE.mouse.target)return;mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){var events=IS_TOUCH_ONLY?["click"]:
MOUSE_EVENTS;for(var i=0,en;i<events.length;i++){en=events[i];if(setup)document.addEventListener(en,mouseCanceller,true);else document.removeEventListener(en,mouseCanceller,true)}}function ignoreMouse(ev){if(!POINTERSTATE.mouse.mouseIgnoreJob)setupTeardownMouseCanceller(true);var unset=function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null};POINTERSTATE.mouse.target=Polymer.dom(ev).rootTarget;POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debounce(POINTERSTATE.mouse.mouseIgnoreJob,
unset,MOUSE_TIMEOUT)}function hasLeftMouseButton(ev){var type=ev.type;if(!isMouseEvent(type))return false;if(type==="mousemove"){var buttons=ev.buttons===undefined?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS)buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0;return Boolean(buttons&1)}else{var button=ev.button===undefined?0:ev.button;return button===0}}function isSyntheticClick(ev){if(ev.type==="click"){if(ev.detail===0)return true;var t=Gestures.findOriginalTarget(ev);var bcr=t.getBoundingClientRect();
var x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&(y>=bcr.top&&y<=bcr.bottom))}return false}var POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:false}};function firstTouchAction(ev){var path=Polymer.dom(ev).path;var ta="auto";for(var i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",
movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",ignoreMouse,SUPPORTS_PASSIVE?{passive:true}:false);var Gestures={gestures:{},recognizers:[],deepTargetFind:function(x,y){var node=document.elementFromPoint(x,y);var next=node;while(next&&next.shadowRoot){next=next.shadowRoot.elementFromPoint(x,
y);if(next)node=next}return node},findOriginalTarget:function(ev){if(ev.path)return ev.path[0];return ev.target},handleNative:function(ev){var handled;var type=ev.type;var node=wrap(ev.currentTarget);var gobj=node[GESTURE_KEY];if(!gobj)return;var gs=gobj[type];if(!gs)return;if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if(type.slice(0,5)==="touch"){var t=ev.changedTouches[0];if(type==="touchstart")if(ev.touches.length===1)POINTERSTATE.touch.id=t.identifier;if(POINTERSTATE.touch.id!==t.identifier)return;
if(!HAS_NATIVE_TA)if(type==="touchstart"||type==="touchmove")Gestures.handleTouchAction(ev)}}handled=ev[HANDLED_OBJ];if(handled.skip)return;var recognizers=Gestures.recognizers;for(var i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name])if(r.flow&&r.flow.start.indexOf(ev.type)>-1&&r.reset)r.reset()}for(i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=true;r[type](ev)}}},handleTouchAction:function(ev){var t=ev.changedTouches[0];
var type=ev.type;if(type==="touchstart"){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=false}else if(type==="touchmove"){if(POINTERSTATE.touch.scrollDecided)return;POINTERSTATE.touch.scrollDecided=true;var ta=firstTouchAction(ev);var prevent=false;var dx=Math.abs(POINTERSTATE.touch.x-t.clientX);var dy=Math.abs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable);else if(ta==="none")prevent=true;else if(ta==="pan-x")prevent=dy>dx;else if(ta==="pan-y")prevent=
dx>dy;if(prevent)ev.preventDefault();else Gestures.prevent("track")}},add:function(node,evType,handler){node=wrap(node);var recognizer=this.gestures[evType];var deps=recognizer.deps;var name=recognizer.name;var gobj=node[GESTURE_KEY];if(!gobj)node[GESTURE_KEY]=gobj={};for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&dep!=="click")continue;gd=gobj[dep];if(!gd)gobj[dep]=gd={_count:0};if(gd._count===0)node.addEventListener(dep,this.handleNative,PASSIVE_TOUCH(dep));
gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction)this.setTouchAction(node,recognizer.touchAction)},remove:function(node,evType,handler){node=wrap(node);var recognizer=this.gestures[evType];var deps=recognizer.deps;var name=recognizer.name;var gobj=node[GESTURE_KEY];if(gobj)for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(gd._count===0)node.removeEventListener(dep,
this.handleNative,PASSIVE_TOUCH(dep))}}node.removeEventListener(evType,handler)},register:function(recog){this.recognizers.push(recog);for(var i=0;i<recog.emits.length;i++)this.gestures[recog.emits[i]]=recog},findRecognizerByEvent:function(evName){for(var i=0,r;i<this.recognizers.length;i++){r=this.recognizers[i];for(var j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName)return r}}return null},setTouchAction:function(node,value){if(HAS_NATIVE_TA)node.style.touchAction=value;node[TOUCH_ACTION]=
value},fire:function(target,type,detail){var ev=Polymer.Base.fire(type,detail,{node:target,bubbles:true,cancelable:true});if(ev.defaultPrevented){var preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault)preventer.preventDefault()}},prevent:function(evName){var recognizer=this.findRecognizerByEvent(evName);if(recognizer.info)recognizer.info.prevent=true},resetMouseCanceller:function(){if(POINTERSTATE.mouse.mouseIgnoreJob)POINTERSTATE.mouse.mouseIgnoreJob.complete()}};
Gestures.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e))return;var t=Gestures.findOriginalTarget(e);var self=this;var movefn=function movefn(e){if(!hasLeftMouseButton(e)){self.fire("up",t,e);untrackDocument(self.info)}};var upfn=function upfn(e){if(hasLeftMouseButton(e))self.fire("up",
t,e);untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.fire("down",t,e)},touchstart:function(e){this.fire("down",Gestures.findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this.fire("up",Gestures.findOriginalTarget(e),e.changedTouches[0],e)},fire:function(type,target,event,preventer){Gestures.fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return Gestures.prevent(e)}})}});Gestures.register({name:"track",
touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:false,moves:[],addMove:function(move){if(this.moves.length>TRACK_LENGTH)this.moves.shift();this.moves.push(move)},movefn:null,upfn:null,prevent:false},reset:function(){this.info.state="start";this.info.started=false;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=false;untrackDocument(this.info)},
hasMovedEnough:function(x,y){if(this.info.prevent)return false;if(this.info.started)return true;var dx=Math.abs(this.info.x-x);var dy=Math.abs(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},mousedown:function(e){if(!hasLeftMouseButton(e))return;var t=Gestures.findOriginalTarget(e);var self=this;var movefn=function movefn(e){var x=e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){self.info.state=self.info.started?e.type==="mouseup"?"end":"track":"start";if(self.info.state==="start")Gestures.prevent("tap");
self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}self.fire(t,e);self.info.started=true}};var upfn=function upfn(e){if(self.info.started)movefn(e);untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){var ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){var t=Gestures.findOriginalTarget(e);var ct=e.changedTouches[0];var x=
ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if(this.info.state==="start")Gestures.prevent("tap");this.info.addMove({x:x,y:y});this.fire(t,ct);this.info.state="track";this.info.started=true}},touchend:function(e){var t=Gestures.findOriginalTarget(e);var ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});this.fire(t,ct,e)}},fire:function(target,touch,preventer){var secondlast=this.info.moves[this.info.moves.length-2];var lastmove=
this.info.moves[this.info.moves.length-1];var dx=lastmove.x-this.info.x;var dy=lastmove.y-this.info.y;var ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}return Gestures.fire(target,"track",{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,preventer:preventer,hover:function(){return Gestures.deepTargetFind(touch.clientX,touch.clientY)}})}});Gestures.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],
flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:false},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=false},save:function(e){this.info.x=e.clientX;this.info.y=e.clientY},mousedown:function(e){if(hasLeftMouseButton(e))this.save(e)},click:function(e){if(hasLeftMouseButton(e))this.forward(e)},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,
preventer){var dx=Math.abs(e.clientX-this.info.x);var dy=Math.abs(e.clientY-this.info.y);var t=Gestures.findOriginalTarget(e);if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e))if(!this.info.prevent)Gestures.fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}});var DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(node,eventName,handler){if(Gestures.gestures[eventName])Gestures.add(node,
eventName,handler);else node.addEventListener(eventName,handler)},_unlisten:function(node,eventName,handler){if(Gestures.gestures[eventName])Gestures.remove(node,eventName,handler);else node.removeEventListener(eventName,handler)},setScrollDirection:function(direction,node){node=node||this;Gestures.setTouchAction(node,DIRECTION_MAP[direction]||"auto")}});Polymer.Gestures=Gestures})();
(function(){Polymer.Base._addFeature({$$:function(slctr){return Polymer.dom(this.root).querySelector(slctr)},toggleClass:function(name,bool,node){node=node||this;if(arguments.length==1)bool=!node.classList.contains(name);if(bool)Polymer.dom(node).classList.add(name);else Polymer.dom(node).classList.remove(name)},toggleAttribute:function(name,bool,node){node=node||this;if(arguments.length==1)bool=!node.hasAttribute(name);if(bool)Polymer.dom(node).setAttribute(name,"");else Polymer.dom(node).removeAttribute(name)},
classFollows:function(name,toElement,fromElement){if(fromElement)Polymer.dom(fromElement).classList.remove(name);if(toElement)Polymer.dom(toElement).classList.add(name)},attributeFollows:function(name,toElement,fromElement){if(fromElement)Polymer.dom(fromElement).removeAttribute(name);if(toElement)Polymer.dom(toElement).setAttribute(name,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){var list=Polymer.dom(this).getEffectiveChildNodes();
return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){var cn=this.getEffectiveChildNodes();var tc=[];for(var i=0,c;c=cn[i];i++)if(c.nodeType!==Node.COMMENT_NODE)tc.push(Polymer.dom(c).textContent);return tc.join("")},queryEffectiveChildren:function(slctr){var e$=Polymer.dom(this).queryDistributedElements(slctr);return e$&&e$[0]},queryAllEffectiveChildren:function(slctr){return Polymer.dom(this).queryDistributedElements(slctr)},getContentChildNodes:function(slctr){var content=
Polymer.dom(this.root).querySelector(slctr||"content");return content?Polymer.dom(content).getDistributedNodes():[]},getContentChildren:function(slctr){return this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE})},fire:function(type,detail,options){options=options||Polymer.nob;var node=options.node||this;detail=detail===null||detail===undefined?{}:detail;var bubbles=options.bubbles===undefined?true:options.bubbles;var cancelable=Boolean(options.cancelable);var useCache=
options._useCache;var event=this._getEvent(type,bubbles,cancelable,useCache);event.detail=detail;if(useCache)this.__eventCache[type]=null;node.dispatchEvent(event);if(useCache)this.__eventCache[type]=event;return event},__eventCache:{},_getEvent:function(type,bubbles,cancelable,useCache){var event=useCache&&this.__eventCache[type];if(!event||(event.bubbles!=bubbles||event.cancelable!=cancelable))event=new Event(type,{bubbles:Boolean(bubbles),cancelable:cancelable});return event},async:function(callback,
waitTime){var self=this;return Polymer.Async.run(function(){callback.call(self)},waitTime)},cancelAsync:function(handle){Polymer.Async.cancel(handle)},arrayDelete:function(path,item){var index;if(Array.isArray(path)){index=path.indexOf(item);if(index>=0)return path.splice(index,1)}else{var arr=this._get(path);index=arr.indexOf(item);if(index>=0)return this.splice(path,index,1)}},transform:function(transform,node){node=node||this;node.style.webkitTransform=transform;node.style.transform=transform},
translate3d:function(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)},importHref:function(href,onload,onerror,optAsync){var link=document.createElement("link");link.rel="import";link.href=href;var list=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var cached=list[link.href];var imprt=cached||link;var self=this;var loadListener=function(e){e.target.__firedLoad=true;e.target.removeEventListener("load",loadListener);e.target.removeEventListener("error",
errorListener);return onload.call(self,e)};var errorListener=function(e){e.target.__firedError=true;e.target.removeEventListener("load",loadListener);e.target.removeEventListener("error",errorListener);return onerror.call(self,e)};if(onload)imprt.addEventListener("load",loadListener);if(onerror)imprt.addEventListener("error",errorListener);if(cached){if(cached.__firedLoad)cached.dispatchEvent(new Event("load"));if(cached.__firedError)cached.dispatchEvent(new Event("error"))}else{list[link.href]=link;
optAsync=Boolean(optAsync);if(optAsync)link.setAttribute("async","");document.head.appendChild(link)}return imprt},create:function(tag,props){var elt=document.createElement(tag);if(props)for(var n in props)elt[n]=props[n];return elt},isLightDescendant:function(node){return this!==node&&this.contains(node)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(node).getOwnerRoot()},isLocalDescendant:function(node){return this.root===Polymer.dom(node).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var importHref=
Polymer.Base.importHref;Polymer.Base.importHref=function(href,onload,onerror,optAsync){CustomElements.ready=false;var loadFn=function(e){CustomElements.upgradeDocumentTree(document);CustomElements.ready=true;if(onload)return onload.call(this,e)};return importHref.call(this,href,loadFn,onerror,optAsync)}}})();
Polymer.Bind={prepareModel:function(model){Polymer.Base.mixin(model,this._modelApi)},_modelApi:{_notifyChange:function(source,event,value){value=value===undefined?this[source]:value;event=event||Polymer.CaseMap.camelToDashCase(source)+"-changed";this.fire(event,{value:value},{bubbles:false,cancelable:false,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(property,value,effects,fromAbove){var old=this.__data__[property];if(old!==value&&(old===old||value===
value)){this.__data__[property]=value;if(typeof value=="object")this._clearPath(property);if(this._propertyChanged)this._propertyChanged(property,value,old);if(effects)this._effectEffects(property,value,effects,old,fromAbove)}return old},__setProperty:function(property,value,quiet,node){node=node||this;var effects=node._propertyEffects&&node._propertyEffects[property];if(effects)node._propertySetter(property,value,effects,quiet);else if(node[property]!==value)node[property]=value},_effectEffects:function(property,
value,effects,old,fromAbove){for(var i=0,l=effects.length,fx;i<l&&(fx=effects[i]);i++)fx.fn.call(this,property,this[property],fx.effect,old,fromAbove)},_clearPath:function(path){for(var prop in this.__data__)if(Polymer.Path.isDescendant(path,prop))this.__data__[prop]=undefined}},ensurePropertyEffects:function(model,property){if(!model._propertyEffects)model._propertyEffects={};var fx=model._propertyEffects[property];if(!fx)fx=model._propertyEffects[property]=[];return fx},addPropertyEffect:function(model,
property,kind,effect){var fx=this.ensurePropertyEffects(model,property);var propEffect={kind:kind,effect:effect,fn:Polymer.Bind["_"+kind+"Effect"]};fx.push(propEffect);return propEffect},createBindings:function(model){var fx$=model._propertyEffects;if(fx$)for(var n in fx$){var fx=fx$[n];fx.sort(this._sortPropertyEffects);this._createAccessors(model,n,fx)}},_sortPropertyEffects:function(){var EFFECT_ORDER={"compute":0,"annotation":1,"annotatedComputation":2,"reflect":3,"notify":4,"observer":5,"complexObserver":6,
"function":7};return function(a,b){return EFFECT_ORDER[a.kind]-EFFECT_ORDER[b.kind]}}(),_createAccessors:function(model,property,effects){var defun={get:function(){return this.__data__[property]}};var setter=function(value){this._propertySetter(property,value,effects)};var info=model.getPropertyInfo&&model.getPropertyInfo(property);if(info&&info.readOnly){if(!info.computed)model["_set"+this.upper(property)]=setter}else defun.set=setter;Object.defineProperty(model,property,defun)},upper:function(name){return name[0].toUpperCase()+
name.substring(1)},_addAnnotatedListener:function(model,index,property,path,event,negated){if(!model._bindListeners)model._bindListeners=[];var fn=this._notedListenerFactory(property,path,Polymer.Path.isDeep(path),negated);var eventName=event||Polymer.CaseMap.camelToDashCase(property)+"-changed";model._bindListeners.push({index:index,property:property,path:path,changedFn:fn,event:eventName})},_isEventBogus:function(e,target){return e.path&&e.path[0]!==target},_notedListenerFactory:function(property,
path,isStructured,negated){return function(target,value,targetPath){if(targetPath){var newPath=Polymer.Path.translate(property,path,targetPath);this._notifyPath(newPath,value)}else{value=target[property];if(negated)value=!value;if(!isStructured)this[path]=value;else if(this.__data__[path]!=value)this.set(path,value)}}},prepareInstance:function(inst){inst.__data__=Object.create(null)},setupBindListeners:function(inst){var b$=inst._bindListeners;for(var i=0,l=b$.length,info;i<l&&(info=b$[i]);i++){var node=
inst._nodes[info.index];this._addNotifyListener(node,inst,info.event,info.changedFn)}},_addNotifyListener:function(element,context,event,changedFn){element.addEventListener(event,function(e){return context._notifyListener(changedFn,e)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(effect){return effect.name&&effect.kind!="attribute"&&effect.kind!="text"&&!effect.isCompound&&effect.parts[0].mode==="{"},_annotationEffect:function(source,value,effect){if(source!=effect.value){value=this._get(effect.value);this.__data__[effect.value]=value}this._applyEffectValue(effect,value)},_reflectEffect:function(source,value,effect){this.reflectPropertyToAttribute(source,effect.attribute,value)},_notifyEffect:function(source,value,
effect,old,fromAbove){if(!fromAbove)this._notifyChange(source,effect.event,value)},_functionEffect:function(source,value,fn,old,fromAbove){fn.call(this,source,value,old,fromAbove)},_observerEffect:function(source,value,effect,old){var fn=this[effect.method];if(fn)fn.call(this,value,old);else this._warn(this._logf("_observerEffect","observer method `"+effect.method+"` not defined"))},_complexObserverEffect:function(source,value,effect){var fn=this[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,
effect,source,value);if(args)fn.apply(this,args)}else if(effect.dynamicFn);else this._warn(this._logf("_complexObserverEffect","observer method `"+effect.method+"` not defined"))},_computeEffect:function(source,value,effect){var fn=this[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,effect,source,value);if(args){var computedvalue=fn.apply(this,args);this.__setProperty(effect.name,computedvalue)}}else if(effect.dynamicFn);else this._warn(this._logf("_computeEffect","compute method `"+
effect.method+"` not defined"))},_annotatedComputationEffect:function(source,value,effect){var computedHost=this._rootDataHost||this;var fn=computedHost[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,effect,source,value);if(args){var computedvalue=fn.apply(computedHost,args);this._applyEffectValue(effect,computedvalue)}}else if(effect.dynamicFn);else computedHost._warn(computedHost._logf("_annotatedComputationEffect","compute method `"+effect.method+"` not defined"))},_marshalArgs:function(model,
effect,path,value){var values=[];var args=effect.args;var bailoutEarly=args.length>1||effect.dynamicFn;for(var i=0,l=args.length;i<l;i++){var arg=args[i];var name=arg.name;var v;if(arg.literal)v=arg.value;else if(path===name)v=value;else{v=model[name];if(v===undefined&&arg.structured)v=Polymer.Base._get(name,model)}if(bailoutEarly&&v===undefined)return;if(arg.wildcard){var matches=Polymer.Path.isAncestor(path,name);values[i]={path:matches?path:name,value:matches?value:v,base:v}}else values[i]=v}return values}});
Polymer.Base._addFeature({_addPropertyEffect:function(property,kind,effect){var prop=Polymer.Bind.addPropertyEffect(this,property,kind,effect);prop.pathFn=this["_"+prop.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(properties){if(properties)for(var p in properties){var prop=properties[p];if(prop.observer)this._addObserverEffect(p,prop.observer);
if(prop.computed){prop.readOnly=true;this._addComputedEffect(p,prop.computed)}if(prop.notify)this._addPropertyEffect(p,"notify",{event:Polymer.CaseMap.camelToDashCase(p)+"-changed"});if(prop.reflectToAttribute){var attr=Polymer.CaseMap.camelToDashCase(p);if(attr[0]==="-")this._warn(this._logf("_addPropertyEffects","Property "+p+" cannot be reflected to attribute "+attr+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'));else this._addPropertyEffect(p,
"reflect",{attribute:attr})}if(prop.readOnly)Polymer.Bind.ensurePropertyEffects(this,p)}},_addComputedEffect:function(name,expression){var sig=this._parseMethod(expression);var dynamicFn=sig.dynamicFn;for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)this._addPropertyEffect(arg.model,"compute",{method:sig.method,args:sig.args,trigger:arg,name:name,dynamicFn:dynamicFn});if(dynamicFn)this._addPropertyEffect(sig.method,"compute",{method:sig.method,args:sig.args,trigger:null,name:name,dynamicFn:dynamicFn})},
_addObserverEffect:function(property,observer){this._addPropertyEffect(property,"observer",{method:observer,property:property})},_addComplexObserverEffects:function(observers){if(observers)for(var i=0,o;i<observers.length&&(o=observers[i]);i++)this._addComplexObserverEffect(o)},_addComplexObserverEffect:function(observer){var sig=this._parseMethod(observer);if(!sig)throw new Error("Malformed observer expression '"+observer+"'");var dynamicFn=sig.dynamicFn;for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)this._addPropertyEffect(arg.model,
"complexObserver",{method:sig.method,args:sig.args,trigger:arg,dynamicFn:dynamicFn});if(dynamicFn)this._addPropertyEffect(sig.method,"complexObserver",{method:sig.method,args:sig.args,trigger:null,dynamicFn:dynamicFn})},_addAnnotationEffects:function(notes){for(var i=0,note;i<notes.length&&(note=notes[i]);i++){var b$=note.bindings;for(var j=0,binding;j<b$.length&&(binding=b$[j]);j++)this._addAnnotationEffect(binding,i)}},_addAnnotationEffect:function(note,index){if(Polymer.Bind._shouldAddListener(note))Polymer.Bind._addAnnotatedListener(this,
index,note.name,note.parts[0].value,note.parts[0].event,note.parts[0].negate);for(var i=0;i<note.parts.length;i++){var part=note.parts[i];if(part.signature)this._addAnnotatedComputationEffect(note,part,index);else if(!part.literal)if(note.kind==="attribute"&&note.name[0]==="-")this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+note.name+' because "-" is not a valid attribute starting character'));else this._addPropertyEffect(part.model,"annotation",{kind:note.kind,index:index,name:note.name,
propertyName:note.propertyName,value:part.value,isCompound:note.isCompound,compoundIndex:part.compoundIndex,event:part.event,customEvent:part.customEvent,negate:part.negate})}},_addAnnotatedComputationEffect:function(note,part,index){var sig=part.signature;if(sig["static"])this.__addAnnotatedComputationEffect("__static__",index,note,part,null);else{for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)if(!arg.literal)this.__addAnnotatedComputationEffect(arg.model,index,note,part,arg);if(sig.dynamicFn)this.__addAnnotatedComputationEffect(sig.method,
index,note,part,null)}},__addAnnotatedComputationEffect:function(property,index,note,part,trigger){this._addPropertyEffect(property,"annotatedComputation",{index:index,isCompound:note.isCompound,compoundIndex:part.compoundIndex,kind:note.kind,name:note.name,negate:part.negate,method:part.signature.method,args:part.signature.args,trigger:trigger,dynamicFn:part.signature.dynamicFn})},_parseMethod:function(expression){var m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){var sig={method:m[1],"static":true};
if(this.getPropertyInfo(sig.method)!==Polymer.nob){sig["static"]=false;sig.dynamicFn=true}if(m[2].trim()){var args=m[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(args,sig)}else{sig.args=Polymer.nar;return sig}}},_parseArgs:function(argList,sig){sig.args=argList.map(function(rawArg){var arg=this._parseArg(rawArg);if(!arg.literal)sig["static"]=false;return arg},this);return sig},_parseArg:function(rawArg){var arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var a={name:arg};
var fc=arg[0];if(fc==="-")fc=arg[1];if(fc>="0"&&fc<="9")fc="#";switch(fc){case "'":case '"':a.value=arg.slice(1,-1);a.literal=true;break;case "#":a.value=Number(arg);a.literal=true;break}if(!a.literal){a.model=Polymer.Path.root(arg);a.structured=Polymer.Path.isDeep(arg);if(a.structured){a.wildcard=arg.slice(-2)==".*";if(a.wildcard)a.name=arg.slice(0,-2)}}return a},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);if(this._bindListeners)Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(info,
value){var node=this._nodes[info.index];var property=info.name;value=this._computeFinalAnnotationValue(node,property,value,info);if(info.kind=="attribute")this.serializeValueToAttribute(value,property,node);else{var pinfo=node._propertyInfo&&node._propertyInfo[property];if(pinfo&&pinfo.readOnly)return;this.__setProperty(property,value,Polymer.Settings.suppressBindingNotifications,node)}},_computeFinalAnnotationValue:function(node,property,value,info){if(info.negate)value=!value;if(info.isCompound){var storage=
node.__compoundStorage__[property];storage[info.compoundIndex]=value;value=storage.join("")}if(info.kind!=="attribute"){if(property==="className")value=this._scopeElementClass(node,value);if(property==="textContent"||node.localName=="input"&&property=="value")value=value==undefined?"":value}return value},_executeStaticEffects:function(){if(this._propertyEffects&&this._propertyEffects.__static__)this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var usePolyfillProto=Polymer.Settings.usePolyfillProto;var avoidInstanceProperties=Boolean(Object.getOwnPropertyDescriptor(document.documentElement,"properties"));Polymer.Base._addFeature({_setupConfigure:function(initialConfig){this._config={};this._handlers=[];this._aboveConfig=null;if(initialConfig)for(var i in initialConfig)if(initialConfig[i]!==undefined)this._config[i]=initialConfig[i]},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(name){var model=
this._clientsReadied?this:this._config;this._setAttributeToProperty(model,name)},_configValue:function(name,value){var info=this._propertyInfo[name];if(!info||!info.readOnly)this._config[name]=value},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);var config={};for(var i=0;i<this.behaviors.length;i++)this._configureProperties(this.behaviors[i].properties,
config);this._configureProperties(avoidInstanceProperties?this.__proto__.properties:this.properties,config);this.mixin(config,this._aboveConfig);this._config=config;if(this._clients&&this._clients.length)this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var i in this._propertyEffects)if(!usePolyfillProto&&this.hasOwnProperty(i)){this._configValue(i,this[i]);delete this[i]}},_configureProperties:function(properties,config){for(var i in properties){var c=properties[i];
if(c.value!==undefined){var value=c.value;if(typeof value=="function")value=value.call(this,this._config);config[i]=value}}},_distributeConfig:function(config){var fx$=this._propertyEffects;if(fx$)for(var p in config){var fx=fx$[p];if(fx)for(var i=0,l=fx.length,x;i<l&&(x=fx[i]);i++)if(x.kind==="annotation"){var node=this._nodes[x.effect.index];var name=x.effect.propertyName;var isAttr=x.effect.kind=="attribute";var hasEffect=node._propertyEffects&&node._propertyEffects[name];if(node._configValue&&
(hasEffect||!isAttr)){var value=p===x.effect.value?config[p]:this._get(x.effect.value,config);value=this._computeFinalAnnotationValue(node,name,value,x.effect);if(isAttr)value=node.deserialize(this.serialize(value),node._propertyInfo[name].type);node._configValue(name,value)}}}},_afterClientsReady:function(){this.importPath=this._importPath;this.rootPath=Polymer.rootPath;this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);this._flushHandlers()},_applyConfig:function(config,
aboveConfig){for(var n in config)if(this[n]===undefined)this.__setProperty(n,config[n],n in aboveConfig)},_notifyListener:function(fn,e){if(!Polymer.Bind._isEventBogus(e,e.target)){var value,path;if(e.detail){value=e.detail.value;path=e.detail.path}if(!this._clientsReadied)this._queueHandler([fn,e.target,value,path]);else return fn.call(this,e.target,value,path)}},_queueHandler:function(args){this._handlers.push(args)},_flushHandlers:function(){var h$=this._handlers;for(var i=0,l=h$.length,h;i<l&&
(h=h$[i]);i++)h[0].call(this,h[1],h[2],h[3]);this._handlers=[]}})})();
(function(){var Path=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(path,value,fromAbove){var info={};var v=this._get(path,this,info);if(arguments.length===1)value=v;if(info.path)this._notifyPath(info.path,value,fromAbove)},_notifyPath:function(path,value,fromAbove){var old=this._propertySetter(path,value);if(old!==value&&(old===old||value===value)){this._pathEffector(path,value);if(!fromAbove)this._notifyPathUp(path,value);return true}},_getPathParts:function(path){if(Array.isArray(path)){var parts=
[];for(var i=0;i<path.length;i++){var args=path[i].toString().split(".");for(var j=0;j<args.length;j++)parts.push(args[j])}return parts}else return path.toString().split(".")},set:function(path,value,root){var prop=root||this;var parts=this._getPathParts(path);var array;var last=parts[parts.length-1];if(parts.length>1){for(var i=0;i<parts.length-1;i++){var part=parts[i];if(array&&part[0]=="#")prop=Polymer.Collection.get(array).getItem(part);else{prop=prop[part];if(array&&parseInt(part,10)==part)parts[i]=
Polymer.Collection.get(array).getKey(prop)}if(!prop)return;array=Array.isArray(prop)?prop:null}if(array){var coll=Polymer.Collection.get(array);var old,key;if(last[0]=="#"){key=last;old=coll.getItem(key);last=array.indexOf(old);coll.setItem(key,value)}else if(parseInt(last,10)==last){old=prop[last];key=coll.getKey(old);parts[i]=key;coll.setItem(key,value)}}prop[last]=value;if(!root)this._notifyPath(parts.join("."),value)}else prop[path]=value},get:function(path,root){return this._get(path,root)},
_get:function(path,root,info){var prop=root||this;var parts=this._getPathParts(path);var array;for(var i=0;i<parts.length;i++){if(!prop)return;var part=parts[i];if(array&&part[0]=="#")prop=Polymer.Collection.get(array).getItem(part);else{prop=prop[part];if(info&&array&&parseInt(part,10)==part)parts[i]=Polymer.Collection.get(array).getKey(prop)}array=Array.isArray(prop)?prop:null}if(info)info.path=parts.join(".");return prop},_pathEffector:function(path,value){var model=Path.root(path);var fx$=this._propertyEffects&&
this._propertyEffects[model];if(fx$)for(var i=0,fx;i<fx$.length&&(fx=fx$[i]);i++){var fxFn=fx.pathFn;if(fxFn)fxFn.call(this,path,value,fx.effect)}if(this._boundPaths)this._notifyBoundPaths(path,value)},_annotationPathEffect:function(path,value,effect){if(Path.matches(effect.value,false,path))Polymer.Bind._annotationEffect.call(this,path,value,effect);else if(!effect.negate&&Path.isDescendant(effect.value,path)){var node=this._nodes[effect.index];if(node&&node._notifyPath){var newPath=Path.translate(effect.value,
effect.name,path);node._notifyPath(newPath,value,true)}}},_complexObserverPathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,effect.trigger.wildcard,path))Polymer.Bind._complexObserverEffect.call(this,path,value,effect)},_computePathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,effect.trigger.wildcard,path))Polymer.Bind._computeEffect.call(this,path,value,effect)},_annotatedComputationPathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,
effect.trigger.wildcard,path))Polymer.Bind._annotatedComputationEffect.call(this,path,value,effect)},linkPaths:function(to,from){this._boundPaths=this._boundPaths||{};if(from)this._boundPaths[to]=from;else this.unlinkPaths(to)},unlinkPaths:function(path){if(this._boundPaths)delete this._boundPaths[path]},_notifyBoundPaths:function(path,value){for(var a in this._boundPaths){var b=this._boundPaths[a];if(Path.isDescendant(a,path))this._notifyPath(Path.translate(a,b,path),value);else if(Path.isDescendant(b,
path))this._notifyPath(Path.translate(b,a,path),value)}},_notifyPathUp:function(path,value){var rootName=Path.root(path);var dashCaseName=Polymer.CaseMap.camelToDashCase(rootName);var eventName=dashCaseName+this._EVENT_CHANGED;this.fire(eventName,{path:path,value:value},{bubbles:false,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(path,splices){var info={};var array=this._get(path,this,info);this._notifySplices(array,info.path,
splices)},_notifySplices:function(array,path,splices){var change={keySplices:Polymer.Collection.applySplices(array,splices),indexSplices:splices};var splicesPath=path+".splices";this._notifyPath(splicesPath,change);this._notifyPath(path+".length",array.length);this.__data__[splicesPath]={keySplices:null,indexSplices:null}},_notifySplice:function(array,path,index,added,removed){this._notifySplices(array,path,[{index:index,addedCount:added,removed:removed,object:array,type:"splice"}])},push:function(path){var info=
{};var array=this._get(path,this,info);var args=Array.prototype.slice.call(arguments,1);var len=array.length;var ret=array.push.apply(array,args);if(args.length)this._notifySplice(array,info.path,len,args.length,[]);return ret},pop:function(path){var info={};var array=this._get(path,this,info);var hadLength=Boolean(array.length);var args=Array.prototype.slice.call(arguments,1);var ret=array.pop.apply(array,args);if(hadLength)this._notifySplice(array,info.path,array.length,0,[ret]);return ret},splice:function(path,
start){var info={};var array=this._get(path,this,info);if(start<0)start=array.length-Math.floor(-start);else start=Math.floor(start);if(!start)start=0;var args=Array.prototype.slice.call(arguments,1);var ret=array.splice.apply(array,args);var addedCount=Math.max(args.length-2,0);if(addedCount||ret.length)this._notifySplice(array,info.path,start,addedCount,ret);return ret},shift:function(path){var info={};var array=this._get(path,this,info);var hadLength=Boolean(array.length);var args=Array.prototype.slice.call(arguments,
1);var ret=array.shift.apply(array,args);if(hadLength)this._notifySplice(array,info.path,0,0,[ret]);return ret},unshift:function(path){var info={};var array=this._get(path,this,info);var args=Array.prototype.slice.call(arguments,1);var ret=array.unshift.apply(array,args);if(args.length)this._notifySplice(array,info.path,0,args.length,[]);return ret},prepareModelNotifyPath:function(model){this.mixin(model,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,
notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,
_getPathParts:Polymer.Base._getPathParts})}})})();Polymer.Base._addFeature({resolveUrl:function(url){return Polymer.ResolveUrl.resolveUrl(url,this._importPath)}});
Polymer.CssParse=function(){return{parse:function(text){text=this._clean(text);return this._parseCss(this._lex(text),text)},_clean:function(cssText){return cssText.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(text){var root={start:0,end:text.length};var n=root;for(var i=0,l=text.length;i<l;i++)switch(text[i]){case this.OPEN_BRACE:if(!n.rules)n.rules=[];var p=n;var previous=p.rules[p.rules.length-1];n={start:i+1,parent:p,previous:previous};p.rules.push(n);break;case this.CLOSE_BRACE:n.end=
i+1;n=n.parent||root;break}return root},_parseCss:function(node,text){var t=text.substring(node.start,node.end-1);node.parsedCssText=node.cssText=t.trim();if(node.parent){var ss=node.previous?node.previous.end:node.parent.start;t=text.substring(ss,node.start-1);t=this._expandUnicodeEscapes(t);t=t.replace(this._rx.multipleSpaces," ");t=t.substring(t.lastIndexOf(";")+1);var s=node.parsedSelector=node.selector=t.trim();node.atRule=s.indexOf(this.AT_START)===0;if(node.atRule)if(s.indexOf(this.MEDIA_START)===
0)node.type=this.types.MEDIA_RULE;else{if(s.match(this._rx.keyframesRule)){node.type=this.types.KEYFRAMES_RULE;node.keyframesName=node.selector.split(this._rx.multipleSpaces).pop()}}else if(s.indexOf(this.VAR_START)===0)node.type=this.types.MIXIN_RULE;else node.type=this.types.STYLE_RULE}var r$=node.rules;if(r$)for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)this._parseCss(r,text);return node},_expandUnicodeEscapes:function(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,function(){var code=arguments[1],
repeat=6-code.length;while(repeat--)code="0"+code;return"\\"+code})},stringify:function(node,preserveProperties,text){text=text||"";var cssText="";if(node.cssText||node.rules){var r$=node.rules;if(r$&&!this._hasMixinRules(r$))for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)cssText=this.stringify(r,preserveProperties,cssText);else{cssText=preserveProperties?node.cssText:this.removeCustomProps(node.cssText);cssText=cssText.trim();if(cssText)cssText="  "+cssText+"\n"}}if(cssText){if(node.selector)text+=
node.selector+" "+this.OPEN_BRACE+"\n";text+=cssText;if(node.selector)text+=this.CLOSE_BRACE+"\n\n"}return text},_hasMixinRules:function(rules){return rules[0].selector.indexOf(this.VAR_START)===0},removeCustomProps:function(cssText){cssText=this.removeCustomPropAssignment(cssText);return this.removeCustomPropApply(cssText)},removeCustomPropAssignment:function(cssText){return cssText.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(cssText){return cssText.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"}}();
Polymer.StyleUtil=function(){var settings=Polymer.Settings;return{unscopedStyleImports:new WeakMap,SHADY_UNSCOPED_ATTR:"shady-unscoped",NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(rules,callback){if(typeof rules==="string")rules=this.parser.parse(rules);if(callback)this.forEachRule(rules,callback);return this.parser.stringify(rules,this.NATIVE_VARIABLES)},forRulesInStyles:function(styles,
styleRuleCallback,keyframesRuleCallback){if(styles)for(var i=0,l=styles.length,s;i<l&&(s=styles[i]);i++)this.forEachRuleInStyle(s,styleRuleCallback,keyframesRuleCallback)},forActiveRulesInStyles:function(styles,styleRuleCallback,keyframesRuleCallback){if(styles)for(var i=0,l=styles.length,s;i<l&&(s=styles[i]);i++)this.forEachRuleInStyle(s,styleRuleCallback,keyframesRuleCallback,true)},rulesForStyle:function(style){if(!style.__cssRules&&style.textContent)style.__cssRules=this.parser.parse(style.textContent);
return style.__cssRules},isKeyframesSelector:function(rule){return rule.parent&&rule.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(style,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){var rules=this.rulesForStyle(style);var styleCallback,keyframeCallback;if(styleRuleCallback)styleCallback=function(rule){styleRuleCallback(rule,style)};if(keyframesRuleCallback)keyframeCallback=function(rule){keyframesRuleCallback(rule,style)};this.forEachRule(rules,styleCallback,
keyframeCallback,onlyActiveRules)},forEachRule:function(node,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){if(!node)return;var skipRules=false;if(onlyActiveRules)if(node.type===this.ruleTypes.MEDIA_RULE){var matchMedia=node.selector.match(this.rx.MEDIA_MATCH);if(matchMedia)if(!window.matchMedia(matchMedia[1]).matches)skipRules=true}if(node.type===this.ruleTypes.STYLE_RULE)styleRuleCallback(node);else if(keyframesRuleCallback&&node.type===this.ruleTypes.KEYFRAMES_RULE)keyframesRuleCallback(node);
else if(node.type===this.ruleTypes.MIXIN_RULE)skipRules=true;var r$=node.rules;if(r$&&!skipRules)for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)this.forEachRule(r,styleRuleCallback,keyframesRuleCallback,onlyActiveRules)},applyCss:function(cssText,moniker,target,contextNode){var style=this.createScopeStyle(cssText,moniker);return this.applyStyle(style,target,contextNode)},applyStyle:function(style,target,contextNode){target=target||document.head;var after=contextNode&&contextNode.nextSibling||target.firstChild;
this.__lastHeadApplyNode=style;return target.insertBefore(style,after)},createScopeStyle:function(cssText,moniker){var style=document.createElement("style");if(moniker)style.setAttribute("scope",moniker);style.textContent=cssText;return style},__lastHeadApplyNode:null,applyStylePlaceHolder:function(moniker){var placeHolder=document.createComment(" Shady DOM styles for "+moniker+" ");var after=this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null;var scope=document.head;scope.insertBefore(placeHolder,
after||scope.firstChild);this.__lastHeadApplyNode=placeHolder;return placeHolder},cssFromModules:function(moduleIds,warnIfNotFound){var modules=moduleIds.trim().split(/\s+/);var cssText="";for(var i=0;i<modules.length;i++)cssText+=this.cssFromModule(modules[i],warnIfNotFound);return cssText},cssFromModule:function(moduleId,warnIfNotFound){var m=Polymer.DomModule["import"](moduleId);if(m&&!m._cssText)m._cssText=this.cssFromElement(m);if(!m&&warnIfNotFound)console.warn("Could not find style data in module named",
moduleId);return m&&m._cssText||""},cssFromElement:function(element){var cssText="";var content=element.content||element;var e$=Polymer.TreeApi.arrayCopy(content.querySelectorAll(this.MODULE_STYLES_SELECTOR));for(var i=0,e;i<e$.length;i++){e=e$[i];if(e.localName==="template"){if(!e.hasAttribute("preserve-content"))cssText+=this.cssFromElement(e)}else if(e.localName==="style"){var include=e.getAttribute(this.INCLUDE_ATTR);if(include)cssText+=this.cssFromModules(include,true);e=e.__appliedElement||
e;e.parentNode.removeChild(e);var css=this.resolveCss(e.textContent,element.ownerDocument);if(!settings.useNativeShadow&&e.hasAttribute(this.SHADY_UNSCOPED_ATTR)){e.textContent=css;document.head.insertBefore(e,document.head.firstChild)}else cssText+=css}else if(e["import"]&&e["import"].body){var importCss=this.resolveCss(e["import"].body.textContent,e["import"]);if(!settings.useNativeShadow&&e.hasAttribute(this.SHADY_UNSCOPED_ATTR)){if(!this.unscopedStyleImports.has(e["import"])){this.unscopedStyleImports.set(e["import"],
true);var importStyle=document.createElement("style");importStyle.setAttribute(this.SHADY_UNSCOPED_ATTR,"");importStyle.textContent=importCss;document.head.insertBefore(importStyle,document.head.firstChild)}}else cssText+=importCss}}return cssText},styleIncludesToTemplate:function(targetTemplate){var styles=targetTemplate.content.querySelectorAll("style[include]");for(var i=0,s;i<styles.length;i++){s=styles[i];s.parentNode.insertBefore(this._includesToFragment(s.getAttribute("include")),s)}},_includesToFragment:function(styleIncludes){var includeArray=
styleIncludes.trim().split(" ");var frag=document.createDocumentFragment();for(var i=0;i<includeArray.length;i++){var t=Polymer.DomModule["import"](includeArray[i],"template");if(t)this._addStylesToFragment(frag,t.content)}return frag},_addStylesToFragment:function(frag,source){var s$=source.querySelectorAll("style");for(var i=0,s;i<s$.length;i++){s=s$[i];var include=s.getAttribute("include");if(include)frag.appendChild(this._includesToFragment(include));if(s.textContent)frag.appendChild(s.cloneNode(true))}},
isTargetedBuild:function(buildType){return settings.useNativeShadow?buildType==="shadow":buildType==="shady"},cssBuildTypeForModule:function(module){var dm=Polymer.DomModule["import"](module);if(dm)return this.getCssBuildType(dm)},getCssBuildType:function(element){return element.getAttribute("css-build")},_findMatchingParen:function(text,start){var level=0;for(var i=start,l=text.length;i<l;i++)switch(text[i]){case "(":level++;break;case ")":if(--level===0)return i;break}return-1},processVariableAndFallback:function(str,
callback){var start=str.indexOf("var(");if(start===-1)return callback(str,"","","");var end=this._findMatchingParen(str,start+3);var inner=str.substring(start+4,end);var prefix=str.substring(0,start);var suffix=this.processVariableAndFallback(str.substring(end+1),callback);var comma=inner.indexOf(",");if(comma===-1)return callback(prefix,inner.trim(),"",suffix);var value=inner.substring(0,comma).trim();var fallback=inner.substring(comma+1).trim();return callback(prefix,value,fallback,suffix)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,
MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var styleUtil=Polymer.StyleUtil;var settings=Polymer.Settings;var api={dom:function(node,scope,useAttr,shouldRemoveScope){this._transformDom(node,scope||"",useAttr,shouldRemoveScope)},_transformDom:function(node,selector,useAttr,shouldRemoveScope){if(node.setAttribute)this.element(node,selector,useAttr,shouldRemoveScope);var c$=Polymer.dom(node).childNodes;for(var i=0;i<c$.length;i++)this._transformDom(c$[i],selector,useAttr,shouldRemoveScope)},element:function(element,
scope,useAttr,shouldRemoveScope){if(useAttr)if(shouldRemoveScope)element.removeAttribute(SCOPE_NAME);else element.setAttribute(SCOPE_NAME,scope);else if(scope)if(element.classList)if(shouldRemoveScope){element.classList.remove(SCOPE_NAME);element.classList.remove(scope)}else{element.classList.add(SCOPE_NAME);element.classList.add(scope)}else if(element.getAttribute){var c=element.getAttribute(CLASS);if(shouldRemoveScope){if(c)element.setAttribute(CLASS,c.replace(SCOPE_NAME,"").replace(scope,""))}else element.setAttribute(CLASS,
(c?c+" ":"")+SCOPE_NAME+" "+scope)}},elementStyles:function(element,callback){var styles=element._styles;var cssText="";var cssBuildType=element.__cssBuild;var passthrough=settings.useNativeShadow||cssBuildType==="shady";var cb;if(passthrough){var self=this;cb=function(rule){rule.selector=self._slottedToContent(rule.selector);rule.selector=rule.selector.replace(ROOT,":host > *");rule.selector=self._dirShadowTransform(rule.selector);if(callback)callback(rule)}}for(var i=0,l=styles.length,s;i<l&&(s=
styles[i]);i++){var rules=styleUtil.rulesForStyle(s);cssText+=passthrough?styleUtil.toCssText(rules,cb):this.css(rules,element.is,element["extends"],callback,element._scopeCssViaAttr)+"\n\n"}return cssText.trim()},css:function(rules,scope,ext,callback,useAttr){var hostScope=this._calcHostScope(scope,ext);scope=this._calcElementScope(scope,useAttr);var self=this;return styleUtil.toCssText(rules,function(rule){if(!rule.isScoped){self.rule(rule,scope,hostScope);rule.isScoped=true}if(callback)callback(rule,
scope,hostScope)})},_calcElementScope:function(scope,useAttr){if(scope)return useAttr?CSS_ATTR_PREFIX+scope+CSS_ATTR_SUFFIX:CSS_CLASS_PREFIX+scope;else return""},_calcHostScope:function(scope,ext){return ext?"[is="+scope+"]":scope},rule:function(rule,scope,hostScope){this._transformRule(rule,this._transformComplexSelector,scope,hostScope)},_transformRule:function(rule,transformer,scope,hostScope){rule.selector=rule.transformedSelector=this._transformRuleCss(rule,transformer,scope,hostScope)},_splitSelectorList:function(selector){var parts=
[];var part="";for(var i=0;i>=0&&i<selector.length;i++)if(selector[i]==="("){var end=styleUtil._findMatchingParen(selector,i);part+=selector.slice(i,end+1);i=end}else if(selector[i]===COMPLEX_SELECTOR_SEP){parts.push(part);part=""}else part+=selector[i];if(part)parts.push(part);if(parts.length===0)parts.push(selector);return parts},_transformRuleCss:function(rule,transformer,scope,hostScope){var p$=this._splitSelectorList(rule.selector);if(!styleUtil.isKeyframesSelector(rule))for(var i=0,l=p$.length,
p;i<l&&(p=p$[i]);i++)p$[i]=transformer.call(this,p,scope,hostScope);return p$.join(COMPLEX_SELECTOR_SEP)},_ensureScopedDir:function(s){var m=s.match(DIR_PAREN);if(m&&m[1]===""&&m[0].length===s.length)s="*"+s;return s},_additionalDirSelectors:function(dir,after,prefix){if(!dir||!after)return"";prefix=prefix||"";return COMPLEX_SELECTOR_SEP+prefix+" "+dir+" "+after},_transformComplexSelector:function(selector,scope,hostScope){var stop=false;var hostContext=false;var dir=false;var self=this;selector=
selector.trim();selector=this._slottedToContent(selector);selector=selector.replace(ROOT,":host > *");selector=selector.replace(CONTENT_START,HOST+" $1");selector=this._ensureScopedDir(selector);selector=selector.replace(SIMPLE_SELECTOR_SEP,function(m,c,s){if(!stop){var info=self._transformCompoundSelector(s,c,scope,hostScope);stop=stop||info.stop;hostContext=hostContext||info.hostContext;dir=dir||info.dir;c=info.combinator;s=info.value}else s=s.replace(SCOPE_JUMP," ");return c+s});if(hostContext)selector=
selector.replace(HOST_CONTEXT_PAREN,function(m,pre,paren,post){var replacement=pre+paren+" "+hostScope+post+COMPLEX_SELECTOR_SEP+" "+pre+hostScope+paren+post;if(dir)replacement+=self._additionalDirSelectors(paren,post,hostScope);return replacement});return selector},_transformDir:function(s){s=s.replace(HOST_DIR,HOST_DIR_REPLACE);s=s.replace(DIR_PAREN,DIR_REPLACE);return s},_transformCompoundSelector:function(selector,combinator,scope,hostScope){var jumpIndex=selector.search(SCOPE_JUMP);var hostContext=
false;var dir=false;if(selector.match(DIR_PAREN)){selector=this._transformDir(selector);dir=true}if(selector.indexOf(HOST_CONTEXT)>=0)hostContext=true;else if(selector.indexOf(HOST)>=0)selector=this._transformHostSelector(selector,hostScope);else if(jumpIndex!==0)selector=scope?this._transformSimpleSelector(selector,scope):selector;if(selector.indexOf(CONTENT)>=0)combinator="";var stop;if(jumpIndex>=0){selector=selector.replace(SCOPE_JUMP," ");stop=true}return{value:selector,combinator:combinator,
stop:stop,hostContext:hostContext,dir:dir}},_transformSimpleSelector:function(selector,scope){var p$=selector.split(PSEUDO_PREFIX);p$[0]+=scope;return p$.join(PSEUDO_PREFIX)},_transformHostSelector:function(selector,hostScope){var m=selector.match(HOST_PAREN);var paren=m&&m[2].trim()||"";if(paren)if(!paren[0].match(SIMPLE_SELECTOR_PREFIX)){var typeSelector=paren.split(SIMPLE_SELECTOR_PREFIX)[0];if(typeSelector===hostScope)return paren;else return SELECTOR_NO_MATCH}else return selector.replace(HOST_PAREN,
function(m,host,paren){return hostScope+paren});else return selector.replace(HOST,hostScope)},documentRule:function(rule){rule.selector=rule.parsedSelector;this.normalizeRootSelector(rule);if(!settings.useNativeShadow)this._transformRule(rule,this._transformDocumentSelector)},normalizeRootSelector:function(rule){rule.selector=rule.selector.replace(ROOT,"html");var parts=this._splitSelectorList(rule.selector);parts=parts.filter(function(part){return!part.match(HOST_OR_HOST_GT_STAR)});rule.selector=
parts.join(COMPLEX_SELECTOR_SEP)},_transformDocumentSelector:function(selector){return this._transformComplexSelector(selector,SCOPE_DOC_SELECTOR)},_slottedToContent:function(cssText){return cssText.replace(SLOTTED_PAREN,CONTENT+"> $1")},_dirShadowTransform:function(selector){if(!selector.match(/:dir\(/))return selector;return this._splitSelectorList(selector).map(function(s){s=this._ensureScopedDir(s);s=this._transformDir(s);var m=HOST_CONTEXT_PAREN.exec(s);if(m)s+=this._additionalDirSelectors(m[2],
m[3],"");return s},this).join(COMPLEX_SELECTOR_SEP)},SCOPE_NAME:"style-scope"};var SCOPE_NAME=api.SCOPE_NAME;var SCOPE_DOC_SELECTOR=":not(["+SCOPE_NAME+"])"+":not(."+SCOPE_NAME+")";var COMPLEX_SELECTOR_SEP=",";var SIMPLE_SELECTOR_SEP=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g;var SIMPLE_SELECTOR_PREFIX=/[[.:#*]/;var HOST=":host";var ROOT=":root";var HOST_PAREN=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/;var HOST_CONTEXT=":host-context";var HOST_CONTEXT_PAREN=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/;
var CONTENT="::content";var SCOPE_JUMP=/::content|::shadow|\/deep\//;var CSS_CLASS_PREFIX=".";var CSS_ATTR_PREFIX="["+SCOPE_NAME+"~=";var CSS_ATTR_SUFFIX="]";var PSEUDO_PREFIX=":";var CLASS="class";var CONTENT_START=new RegExp("^("+CONTENT+")");var SELECTOR_NO_MATCH="should_not_match";var SLOTTED_PAREN=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;var HOST_OR_HOST_GT_STAR=/:host(?:\s*>\s*\*)?/;var DIR_PAREN=/(.*):dir\((ltr|rtl)\)/;var DIR_REPLACE=':host-context([dir="$2"]) $1';var HOST_DIR=/:host\(:dir\((rtl|ltr)\)\)/g;
var HOST_DIR_REPLACE=':host-context([dir="$1"])';return api}();
Polymer.StyleExtends=function(){var styleUtil=Polymer.StyleUtil;return{hasExtends:function(cssText){return Boolean(cssText.match(this.rx.EXTEND))},transform:function(style){var rules=styleUtil.rulesForStyle(style);var self=this;styleUtil.forEachRule(rules,function(rule){self._mapRuleOntoParent(rule);if(rule.parent){var m;while(m=self.rx.EXTEND.exec(rule.cssText)){var extend=m[1];var extendor=self._findExtendor(extend,rule);if(extendor)self._extendRule(rule,extendor)}}rule.cssText=rule.cssText.replace(self.rx.EXTEND,
"")});return styleUtil.toCssText(rules,function(rule){if(rule.selector.match(self.rx.STRIP))rule.cssText=""},true)},_mapRuleOntoParent:function(rule){if(rule.parent){var map=rule.parent.map||(rule.parent.map={});var parts=rule.selector.split(",");for(var i=0,p;i<parts.length;i++){p=parts[i];map[p.trim()]=rule}return map}},_findExtendor:function(extend,rule){return rule.parent&&rule.parent.map&&rule.parent.map[extend]||this._findExtendor(extend,rule.parent)},_extendRule:function(target,source){if(target.parent!==
source.parent)this._cloneAndAddRuleToParent(source,target.parent);target["extends"]=target["extends"]||[];target["extends"].push(source);source.selector=source.selector.replace(this.rx.STRIP,"");source.selector=(source.selector&&source.selector+",\n")+target.selector;if(source["extends"])source["extends"].forEach(function(e){this._extendRule(target,e)},this)},_cloneAndAddRuleToParent:function(rule,parent){rule=Object.create(rule);rule.parent=parent;if(rule["extends"])rule["extends"]=rule["extends"].slice();
parent.rules.push(rule)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){var styleUtil=Polymer.StyleUtil;var MIXIN_MATCH=styleUtil.rx.MIXIN_MATCH;var VAR_ASSIGN=styleUtil.rx.VAR_ASSIGN;var BAD_VAR=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g;var APPLY_NAME_CLEAN=/;\s*/m;var INITIAL_INHERIT=/^\s*(initial)|(inherit)\s*$/;var MIXIN_VAR_SEP="_-_";var mixinMap={};function mapSet(name,props){name=name.trim();mixinMap[name]={properties:props,dependants:{}}}function mapGet(name){name=name.trim();return mixinMap[name]}function replaceInitialOrInherit(property,
value){var match=INITIAL_INHERIT.exec(value);if(match)if(match[1])value=ApplyShim._getInitialValueForProperty(property);else value="apply-shim-inherit";return value}function cssTextToMap(text){var props=text.split(";");var property,value;var out={};for(var i=0,p,sp;i<props.length;i++){p=props[i];if(p){sp=p.split(":");if(sp.length>1){property=sp[0].trim();value=replaceInitialOrInherit(property,sp.slice(1).join(":"));out[property]=value}}}return out}function invalidateMixinEntry(mixinEntry){var currentProto=
ApplyShim.__currentElementProto;var currentElementName=currentProto&&currentProto.is;for(var elementName in mixinEntry.dependants)if(elementName!==currentElementName)mixinEntry.dependants[elementName].__applyShimInvalid=true}function produceCssProperties(matchText,propertyName,valueProperty,valueMixin){if(valueProperty)styleUtil.processVariableAndFallback(valueProperty,function(prefix,value){if(value&&mapGet(value))valueMixin="@apply "+value+";"});if(!valueMixin)return matchText;var mixinAsProperties=
consumeCssProperties(valueMixin);var prefix=matchText.slice(0,matchText.indexOf("--"));var mixinValues=cssTextToMap(mixinAsProperties);var combinedProps=mixinValues;var mixinEntry=mapGet(propertyName);var oldProps=mixinEntry&&mixinEntry.properties;if(oldProps){combinedProps=Object.create(oldProps);combinedProps=Polymer.Base.mixin(combinedProps,mixinValues)}else mapSet(propertyName,combinedProps);var out=[];var p,v;var needToInvalidate=false;for(p in combinedProps){v=mixinValues[p];if(v===undefined)v=
"initial";if(oldProps&&!(p in oldProps))needToInvalidate=true;out.push(propertyName+MIXIN_VAR_SEP+p+": "+v)}if(needToInvalidate)invalidateMixinEntry(mixinEntry);if(mixinEntry)mixinEntry.properties=combinedProps;if(valueProperty)prefix=matchText+";"+prefix;return prefix+out.join("; ")+";"}function fixVars(matchText,varA,varB){return"var("+varA+","+"var("+varB+"))"}function atApplyToCssProperties(mixinName,fallbacks){mixinName=mixinName.replace(APPLY_NAME_CLEAN,"");var vars=[];var mixinEntry=mapGet(mixinName);
if(!mixinEntry){mapSet(mixinName,{});mixinEntry=mapGet(mixinName)}if(mixinEntry){var currentProto=ApplyShim.__currentElementProto;if(currentProto)mixinEntry.dependants[currentProto.is]=currentProto;var p,parts,f;for(p in mixinEntry.properties){f=fallbacks&&fallbacks[p];parts=[p,": var(",mixinName,MIXIN_VAR_SEP,p];if(f)parts.push(",",f);parts.push(")");vars.push(parts.join(""))}}return vars.join("; ")}function consumeCssProperties(text){var m;while(m=MIXIN_MATCH.exec(text)){var matchText=m[0];var mixinName=
m[1];var idx=m.index;var applyPos=idx+matchText.indexOf("@apply");var afterApplyPos=idx+matchText.length;var textBeforeApply=text.slice(0,applyPos);var textAfterApply=text.slice(afterApplyPos);var defaults=cssTextToMap(textBeforeApply);var replacement=atApplyToCssProperties(mixinName,defaults);text=[textBeforeApply,replacement,textAfterApply].join("");MIXIN_MATCH.lastIndex=idx+replacement.length}return text}var ApplyShim={_measureElement:null,_map:mixinMap,_separator:MIXIN_VAR_SEP,transform:function(styles,
elementProto){this.__currentElementProto=elementProto;styleUtil.forRulesInStyles(styles,this._boundFindDefinitions);styleUtil.forRulesInStyles(styles,this._boundFindApplications);if(elementProto)elementProto.__applyShimInvalid=false;this.__currentElementProto=null},_findDefinitions:function(rule){var cssText=rule.parsedCssText;cssText=cssText.replace(BAD_VAR,fixVars);cssText=cssText.replace(VAR_ASSIGN,produceCssProperties);rule.cssText=cssText;if(rule.selector===":root")rule.selector=":host > *"},
_findApplications:function(rule){rule.cssText=consumeCssProperties(rule.cssText)},transformRule:function(rule){this._findDefinitions(rule);this._findApplications(rule)},_getInitialValueForProperty:function(property){if(!this._measureElement){this._measureElement=document.createElement("meta");this._measureElement.style.all="initial";document.head.appendChild(this._measureElement)}return window.getComputedStyle(this._measureElement).getPropertyValue(property)}};ApplyShim._boundTransformRule=ApplyShim.transformRule.bind(ApplyShim);
ApplyShim._boundFindDefinitions=ApplyShim._findDefinitions.bind(ApplyShim);ApplyShim._boundFindApplications=ApplyShim._findApplications.bind(ApplyShim);return ApplyShim}();
(function(){var prepElement=Polymer.Base._prepElement;var nativeShadow=Polymer.Settings.useNativeShadow;var styleUtil=Polymer.StyleUtil;var styleTransformer=Polymer.StyleTransformer;var styleExtends=Polymer.StyleExtends;var applyShim=Polymer.ApplyShim;var settings=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(element){if(this._encapsulateStyle&&this.__cssBuild!=="shady")styleTransformer.element(element,this.is,this._scopeCssViaAttr);prepElement.call(this,element)},_prepStyles:function(){if(this._encapsulateStyle===
undefined)this._encapsulateStyle=!nativeShadow;if(!nativeShadow)this._scopeStyle=styleUtil.applyStylePlaceHolder(this.is);this.__cssBuild=styleUtil.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var hasTargetedCssBuild=styleUtil.isTargetedBuild(this.__cssBuild);if(settings.useNativeCSSProperties&&this.__cssBuild==="shadow"&&hasTargetedCssBuild){if(settings.preserveStyleIncludes)styleUtil.styleIncludesToTemplate(this._template);return}this._styles=this._styles||this._collectStyles();
if(settings.useNativeCSSProperties&&!this.__cssBuild)applyShim.transform(this._styles,this);var cssText=settings.useNativeCSSProperties&&hasTargetedCssBuild?this._styles.length&&this._styles[0].textContent.trim():styleTransformer.elementStyles(this);this._prepStyleProperties();if(!this._needsStyleProperties()&&cssText)styleUtil.applyCss(cssText,this.is,nativeShadow?this._template.content:null,this._scopeStyle)}else this._styles=[]},_collectStyles:function(){var styles=[];var cssText="",m$=this.styleModules;
if(m$)for(var i=0,l=m$.length,m;i<l&&(m=m$[i]);i++)cssText+=styleUtil.cssFromModule(m);cssText+=styleUtil.cssFromModule(this.is);var p=this._template&&this._template.parentNode;if(this._template&&(!p||p.id.toLowerCase()!==this.is))cssText+=styleUtil.cssFromElement(this._template);if(cssText){var style=document.createElement("style");style.textContent=cssText;if(styleExtends.hasExtends(style.textContent))cssText=styleExtends.transform(style);styles.push(style)}return styles},_elementAdd:function(node){if(this._encapsulateStyle)if(node.__styleScoped)node.__styleScoped=
false;else styleTransformer.dom(node,this.is,this._scopeCssViaAttr)},_elementRemove:function(node){if(this._encapsulateStyle)styleTransformer.dom(node,this.is,this._scopeCssViaAttr,true)},scopeSubtree:function(container,shouldObserve){if(nativeShadow)return;var self=this;var scopify=function(node){if(node.nodeType===Node.ELEMENT_NODE){var className=node.getAttribute("class");node.setAttribute("class",self._scopeElementClass(node,className));var n$=node.querySelectorAll("*");for(var i=0,n;i<n$.length&&
(n=n$[i]);i++){className=n.getAttribute("class");n.setAttribute("class",self._scopeElementClass(n,className))}}};scopify(container);if(shouldObserve){var mo=new MutationObserver(function(mxns){for(var i=0,m;i<mxns.length&&(m=mxns[i]);i++)if(m.addedNodes)for(var j=0;j<m.addedNodes.length;j++)scopify(m.addedNodes[j])});mo.observe(container,{childList:true,subtree:true});return mo}}})})();
Polymer.StyleProperties=function(){var matchesSelector=Polymer.DomApi.matchesSelector;var styleUtil=Polymer.StyleUtil;var styleTransformer=Polymer.StyleTransformer;var IS_IE=navigator.userAgent.match("Trident");var settings=Polymer.Settings;return{decorateStyles:function(styles,scope){var self=this,props={},keyframes=[],ruleIndex=0;var scopeSelector=styleTransformer._calcHostScope(scope.is,scope["extends"]);styleUtil.forRulesInStyles(styles,function(rule,style){self.decorateRule(rule);rule.index=
ruleIndex++;self.whenHostOrRootRule(scope,rule,style,function(info){if(rule.parent.type===styleUtil.ruleTypes.MEDIA_RULE)scope.__notStyleScopeCacheable=true;if(info.isHost){var hostContextOrFunction=info.selector.split(" ").some(function(s){return s.indexOf(scopeSelector)===0&&s.length!==scopeSelector.length});scope.__notStyleScopeCacheable=scope.__notStyleScopeCacheable||hostContextOrFunction}});self.collectPropertiesInCssText(rule.propertyInfo.cssText,props)},function onKeyframesRule(rule){keyframes.push(rule)});
styles._keyframes=keyframes;var names=[];for(var i in props)names.push(i);return names},decorateRule:function(rule){if(rule.propertyInfo)return rule.propertyInfo;var info={},properties={};var hasProperties=this.collectProperties(rule,properties);if(hasProperties){info.properties=properties;rule.rules=null}info.cssText=this.collectCssText(rule);rule.propertyInfo=info;return info},collectProperties:function(rule,properties){var info=rule.propertyInfo;if(info){if(info.properties){Polymer.Base.mixin(properties,
info.properties);return true}}else{var m,rx=this.rx.VAR_ASSIGN;var cssText=rule.parsedCssText;var value;var any;while(m=rx.exec(cssText)){value=(m[2]||m[3]).trim();if(value!=="inherit")properties[m[1].trim()]=value;any=true}return any}},collectCssText:function(rule){return this.collectConsumingCssText(rule.parsedCssText)},collectConsumingCssText:function(cssText){return cssText.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(cssText,props){var m;while(m=
this.rx.VAR_CONSUMED.exec(cssText)){var name=m[1];if(m[2]!==":")props[name]=true}},reify:function(props){var names=Object.getOwnPropertyNames(props);for(var i=0,n;i<names.length;i++){n=names[i];props[n]=this.valueForProperty(props[n],props)}},valueForProperty:function(property,props){if(property)if(property.indexOf(";")>=0)property=this.valueForProperties(property,props);else{var self=this;var fn=function(prefix,value,fallback,suffix){var propertyValue=self.valueForProperty(props[value],props);if(!propertyValue||
propertyValue==="initial")propertyValue=self.valueForProperty(props[fallback]||fallback,props)||fallback;else if(propertyValue==="apply-shim-inherit")propertyValue="inherit";return prefix+(propertyValue||"")+suffix};property=styleUtil.processVariableAndFallback(property,fn)}return property&&property.trim()||""},valueForProperties:function(property,props){var parts=property.split(";");for(var i=0,p,m;i<parts.length;i++)if(p=parts[i]){this.rx.MIXIN_MATCH.lastIndex=0;m=this.rx.MIXIN_MATCH.exec(p);if(m)p=
this.valueForProperty(props[m[1]],props);else{var colon=p.indexOf(":");if(colon!==-1){var pp=p.substring(colon);pp=pp.trim();pp=this.valueForProperty(pp,props)||pp;p=p.substring(0,colon)+pp}}parts[i]=p&&p.lastIndexOf(";")===p.length-1?p.slice(0,-1):p||""}return parts.join(";")},applyProperties:function(rule,props){var output="";if(!rule.propertyInfo)this.decorateRule(rule);if(rule.propertyInfo.cssText)output=this.valueForProperties(rule.propertyInfo.cssText,props);rule.cssText=output},applyKeyframeTransforms:function(rule,
keyframeTransforms){var input=rule.cssText;var output=rule.cssText;if(rule.hasAnimations==null)rule.hasAnimations=this.rx.ANIMATION_MATCH.test(input);if(rule.hasAnimations){var transform;if(rule.keyframeNamesToTransform==null){rule.keyframeNamesToTransform=[];for(var keyframe in keyframeTransforms){transform=keyframeTransforms[keyframe];output=transform(input);if(input!==output){input=output;rule.keyframeNamesToTransform.push(keyframe)}}}else{for(var i=0;i<rule.keyframeNamesToTransform.length;++i){transform=
keyframeTransforms[rule.keyframeNamesToTransform[i]];input=transform(input)}output=input}}rule.cssText=output},propertyDataFromStyles:function(styles,element){var props={},self=this;var o=[];styleUtil.forActiveRulesInStyles(styles,function(rule){if(!rule.propertyInfo)self.decorateRule(rule);var selectorToMatch=rule.transformedSelector||rule.parsedSelector;if(element&&rule.propertyInfo.properties&&selectorToMatch)if(matchesSelector.call(element,selectorToMatch)){self.collectProperties(rule,props);
addToBitMask(rule.index,o)}});return{properties:props,key:o}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(hostScope,selector){return Boolean(selector.match(this._rootSelector))||hostScope==="html"&&selector.indexOf("html")>-1},whenHostOrRootRule:function(scope,rule,style,callback){if(!rule.propertyInfo)self.decorateRule(rule);if(!rule.propertyInfo.properties)return;var hostScope=scope.is?styleTransformer._calcHostScope(scope.is,scope["extends"]):"html";var parsedSelector=rule.parsedSelector;
var isRoot=this._checkRoot(hostScope,parsedSelector);var isHost=!isRoot&&parsedSelector.indexOf(":host")===0;var cssBuild=scope.__cssBuild||style.__cssBuild;if(cssBuild==="shady"){isRoot=parsedSelector===hostScope+" > *."+hostScope||parsedSelector.indexOf("html")>-1;isHost=!isRoot&&parsedSelector.indexOf(hostScope)===0}if(!isRoot&&!isHost)return;var selectorToMatch=hostScope;if(isHost){if(settings.useNativeShadow&&!rule.transformedSelector)rule.transformedSelector=styleTransformer._transformRuleCss(rule,
styleTransformer._transformComplexSelector,scope.is,hostScope);selectorToMatch=rule.transformedSelector||rule.parsedSelector}if(isRoot&&hostScope==="html")selectorToMatch=rule.transformedSelector||rule.parsedSelector;callback({selector:selectorToMatch,isHost:isHost,isRoot:isRoot})},hostAndRootPropertiesForScope:function(scope){var hostProps={},rootProps={},self=this;styleUtil.forActiveRulesInStyles(scope._styles,function(rule,style){self.whenHostOrRootRule(scope,rule,style,function(info){var element=
scope._element||scope;if(matchesSelector.call(element,info.selector))if(info.isHost)self.collectProperties(rule,hostProps);else self.collectProperties(rule,rootProps)})});return{rootProps:rootProps,hostProps:hostProps}},transformStyles:function(element,properties,scopeSelector){var self=this;var hostSelector=styleTransformer._calcHostScope(element.is,element["extends"]);var rxHostSelector=element["extends"]?"\\"+hostSelector.slice(0,-1)+"\\]":hostSelector;var hostRx=new RegExp(this.rx.HOST_PREFIX+
rxHostSelector+this.rx.HOST_SUFFIX);var keyframeTransforms=this._elementKeyframeTransforms(element,scopeSelector);return styleTransformer.elementStyles(element,function(rule){self.applyProperties(rule,properties);if(!settings.useNativeShadow&&!Polymer.StyleUtil.isKeyframesSelector(rule)&&rule.cssText){self.applyKeyframeTransforms(rule,keyframeTransforms);self._scopeSelector(rule,hostRx,hostSelector,element._scopeCssViaAttr,scopeSelector)}})},_elementKeyframeTransforms:function(element,scopeSelector){var keyframesRules=
element._styles._keyframes;var keyframeTransforms={};if(!settings.useNativeShadow&&keyframesRules)for(var i=0,keyframesRule=keyframesRules[i];i<keyframesRules.length;keyframesRule=keyframesRules[++i]){this._scopeKeyframes(keyframesRule,scopeSelector);keyframeTransforms[keyframesRule.keyframesName]=this._keyframesRuleTransformer(keyframesRule)}return keyframeTransforms},_keyframesRuleTransformer:function(keyframesRule){return function(cssText){return cssText.replace(keyframesRule.keyframesNameRx,keyframesRule.transformedKeyframesName)}},
_scopeKeyframes:function(rule,scopeId){rule.keyframesNameRx=new RegExp("\\b"+rule.keyframesName+"(?!\\B|-)","g");rule.transformedKeyframesName=rule.keyframesName+"-"+scopeId;rule.transformedSelector=rule.transformedSelector||rule.selector;rule.selector=rule.transformedSelector.replace(rule.keyframesName,rule.transformedKeyframesName)},_hasDirOrHostContext:function(parsedSelector){return/:host-context|:dir/.test(parsedSelector)},_scopeSelector:function(rule,hostRx,hostSelector,viaAttr,scopeId){rule.transformedSelector=
rule.transformedSelector||rule.selector;var selector=rule.transformedSelector;var scope=styleTransformer._calcElementScope(scopeId,viaAttr);var hostScope=styleTransformer._calcElementScope(hostSelector,viaAttr);var parts=selector.split(",");var isDirOrHostContextSelector=this._hasDirOrHostContext(rule.parsedSelector);for(var i=0,l=parts.length,p;i<l&&(p=parts[i]);i++)parts[i]=p.match(hostRx)?p.replace(hostSelector,scope):isDirOrHostContextSelector?p.replace(hostScope,scope+" "+hostScope):scope+" "+
p;rule.selector=parts.join(",")},applyElementScopeSelector:function(element,selector,old,viaAttr){var c=viaAttr?element.getAttribute(styleTransformer.SCOPE_NAME):element.getAttribute("class")||"";var v=old?c.replace(old,selector):(c?c+" ":"")+this.XSCOPE_NAME+" "+selector;if(c!==v)if(viaAttr)element.setAttribute(styleTransformer.SCOPE_NAME,v);else element.setAttribute("class",v)},applyElementStyle:function(element,properties,selector,style){var cssText=style?style.textContent||"":this.transformStyles(element,
properties,selector);var s=element._customStyle;if(s&&!settings.useNativeShadow&&s!==style){s._useCount--;if(s._useCount<=0&&s.parentNode)s.parentNode.removeChild(s)}if(settings.useNativeShadow)if(element._customStyle){element._customStyle.textContent=cssText;style=element._customStyle}else{if(cssText)style=styleUtil.applyCss(cssText,selector,element.root,element._scopeStyle)}else if(!style){if(cssText)style=styleUtil.applyCss(cssText,selector,null,element._scopeStyle)}else if(!style.parentNode){if(IS_IE&&
cssText.indexOf("@media")>-1)style.textContent=cssText;styleUtil.applyStyle(style,null,element._scopeStyle)}if(style){style._useCount=style._useCount||0;if(element._customStyle!=style)style._useCount++;element._customStyle=style}return style},mixinCustomStyle:function(props,customStyle){var v;for(var i in customStyle){v=customStyle[i];if(v||v===0)props[i]=v}},updateNativeStyleProperties:function(element,properties){var oldPropertyNames=element.__customStyleProperties;if(oldPropertyNames)for(var i=
0;i<oldPropertyNames.length;i++)element.style.removeProperty(oldPropertyNames[i]);var propertyNames=[];for(var p in properties)if(properties[p]!==null){element.style.setProperty(p,properties[p]);propertyNames.push(p)}element.__customStyleProperties=propertyNames},rx:styleUtil.rx,XSCOPE_NAME:"x-scope"};function addToBitMask(n,bits){var o=parseInt(n/32);var v=1<<n%32;bits[o]=(bits[o]||0)|v}}();
(function(){Polymer.StyleCache=function(){this.cache={}};Polymer.StyleCache.prototype={MAX:100,store:function(is,data,keyValues,keyStyles){data.keyValues=keyValues;data.styles=keyStyles;var s$=this.cache[is]=this.cache[is]||[];s$.push(data);if(s$.length>this.MAX)s$.shift()},retrieve:function(is,keyValues,keyStyles){var cache=this.cache[is];if(cache)for(var i=cache.length-1,data;i>=0;i--){data=cache[i];if(keyStyles===data.styles&&this._objectsEqual(keyValues,data.keyValues))return data}},clear:function(){this.cache=
{}},_objectsEqual:function(target,source){var t,s;for(var i in target){t=target[i],s=source[i];if(!(typeof t==="object"&&t?this._objectsStrictlyEqual(t,s):t===s))return false}if(Array.isArray(target))return target.length===source.length;return true},_objectsStrictlyEqual:function(target,source){return this._objectsEqual(target,source)&&this._objectsEqual(source,target)}}})();
Polymer.StyleDefaults=function(){var styleProperties=Polymer.StyleProperties;var StyleCache=Polymer.StyleCache;var nativeVariables=Polymer.Settings.useNativeCSSProperties;var api={_styles:[],_properties:null,customStyle:{},_styleCache:new StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(style){this._styles.push(style);this._properties=null},get _styleProperties(){if(!this._properties){styleProperties.decorateStyles(this._styles,this);this._styles._scopeStyleProperties=
null;this._properties=styleProperties.hostAndRootPropertiesForScope(this).rootProps;styleProperties.mixinCustomStyle(this._properties,this.customStyle);styleProperties.reify(this._properties)}return this._properties},hasStyleProperties:function(){return Boolean(this._properties)},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(properties){this._properties=null;if(properties)Polymer.Base.mixin(this.customStyle,properties);this._styleCache.clear();
for(var i=0,s;i<this._styles.length;i++){s=this._styles[i];s=s.__importElement||s;s._apply()}if(nativeVariables)styleProperties.updateNativeStyleProperties(document.documentElement,this.customStyle)}};return api}();
(function(){var serializeValueToAttribute=Polymer.Base.serializeValueToAttribute;var propertyUtils=Polymer.StyleProperties;var styleTransformer=Polymer.StyleTransformer;var styleDefaults=Polymer.StyleDefaults;var nativeShadow=Polymer.Settings.useNativeShadow;var nativeVariables=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){if(!nativeVariables)this._ownStylePropertyNames=this._styles&&this._styles.length?propertyUtils.decorateStyles(this._styles,
this):null},customStyle:null,getComputedStyleValue:function(property){if(!nativeVariables&&!this._styleProperties)this._computeStyleProperties();return!nativeVariables&&this._styleProperties&&this._styleProperties[property]||getComputedStyle(this).getPropertyValue(property)},_setupStyleProperties:function(){this.customStyle={};this._styleCache=null;this._styleProperties=null;this._scopeSelector=null;this._ownStyleProperties=null;this._customStyle=null},_needsStyleProperties:function(){return Boolean(!nativeVariables&&
this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var cssText=styleTransformer.elementStyles(this);if(nativeShadow){var templateStyle=this._template.content.querySelector("style");if(templateStyle)templateStyle.textContent=cssText}else{var shadyStyle=this._scopeStyle&&this._scopeStyle.nextSibling;if(shadyStyle)shadyStyle.textContent=cssText}}},_beforeAttached:function(){if((!this._scopeSelector||
this.__stylePropertiesInvalid)&&this._needsStyleProperties()){this.__stylePropertiesInvalid=false;this._updateStyleProperties()}},_findStyleHost:function(){var e=this,root;while(root=Polymer.dom(e).getOwnerRoot()){if(Polymer.isInstance(root.host))return root.host;e=root.host}return styleDefaults},_updateStyleProperties:function(){var info,scope=this._findStyleHost();if(!scope._styleProperties)scope._computeStyleProperties();if(!scope._styleCache)scope._styleCache=new Polymer.StyleCache;var scopeData=
propertyUtils.propertyDataFromStyles(scope._styles,this);var scopeCacheable=!this.__notStyleScopeCacheable;if(scopeCacheable){scopeData.key.customStyle=this.customStyle;info=scope._styleCache.retrieve(this.is,scopeData.key,this._styles)}var scopeCached=Boolean(info);if(scopeCached)this._styleProperties=info._styleProperties;else this._computeStyleProperties(scopeData.properties);this._computeOwnStyleProperties();if(!scopeCached)info=styleCache.retrieve(this.is,this._ownStyleProperties,this._styles);
var globalCached=Boolean(info)&&!scopeCached;var style=this._applyStyleProperties(info);if(!scopeCached){style=style&&nativeShadow?style.cloneNode(true):style;info={style:style,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties};if(scopeCacheable){scopeData.key.customStyle={};this.mixin(scopeData.key.customStyle,this.customStyle);scope._styleCache.store(this.is,info,scopeData.key,this._styles)}if(!globalCached)styleCache.store(this.is,Object.create(info),this._ownStyleProperties,
this._styles)}},_computeStyleProperties:function(scopeProps){var scope=this._findStyleHost();if(!scope._styleProperties)scope._computeStyleProperties();var props=Object.create(scope._styleProperties);var hostAndRootProps=propertyUtils.hostAndRootPropertiesForScope(this);this.mixin(props,hostAndRootProps.hostProps);scopeProps=scopeProps||propertyUtils.propertyDataFromStyles(scope._styles,this).properties;this.mixin(props,scopeProps);this.mixin(props,hostAndRootProps.rootProps);propertyUtils.mixinCustomStyle(props,
this.customStyle);propertyUtils.reify(props);this._styleProperties=props},_computeOwnStyleProperties:function(){var props={};for(var i=0,n;i<this._ownStylePropertyNames.length;i++){n=this._ownStylePropertyNames[i];props[n]=this._styleProperties[n]}this._ownStyleProperties=props},_scopeCount:0,_applyStyleProperties:function(info){var oldScopeSelector=this._scopeSelector;this._scopeSelector=info?info._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var style=propertyUtils.applyElementStyle(this,
this._styleProperties,this._scopeSelector,info&&info.style);if(!nativeShadow)propertyUtils.applyElementScopeSelector(this,this._scopeSelector,oldScopeSelector,this._scopeCssViaAttr);return style},serializeValueToAttribute:function(value,attribute,node){node=node||this;if(attribute==="class"&&!nativeShadow){var host=node===this?this.domHost||this.dataHost:this;if(host)value=host._scopeElementClass(node,value)}node=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(node):node;serializeValueToAttribute.call(this,
value,attribute,node)},_scopeElementClass:function(element,selector){if(!nativeShadow&&!this._scopeCssViaAttr)selector=(selector?selector+" ":"")+SCOPE_NAME+" "+this.is+(element._scopeSelector?" "+XSCOPE_NAME+" "+element._scopeSelector:"");return selector},updateStyles:function(properties){if(properties)this.mixin(this.customStyle,properties);if(nativeVariables)propertyUtils.updateNativeStyleProperties(this,this.customStyle);else{if(this.isAttached)if(this._needsStyleProperties())this._updateStyleProperties();
else this._styleProperties=null;else this.__stylePropertiesInvalid=true;if(this._styleCache)this._styleCache.clear();this._updateRootStyles()}},_updateRootStyles:function(root){root=root||this.root;var c$=Polymer.dom(root)._query(function(e){return e.shadyRoot||e.shadowRoot});for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.updateStyles)c.updateStyles()}});Polymer.updateStyles=function(properties){styleDefaults.updateStyles(properties);Polymer.Base._updateRootStyles(document)};var styleCache=new Polymer.StyleCache;
Polymer.customStyleCache=styleCache;var SCOPE_NAME=styleTransformer.SCOPE_NAME;var XSCOPE_NAME=propertyUtils.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();if(this.factoryImpl)this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(b){this._addPropertyEffects(b.properties);this._addComplexObserverEffects(b.observers);this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();if(this._template){this._validateApplyShim();this._poolContent();this._beginHosting();this._stampTemplate();this._endHosting();this._marshalAnnotationReferences()}this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(b){if(b.listeners)this._listenListeners(b.listeners)}});
(function(){var propertyUtils=Polymer.StyleProperties;var styleUtil=Polymer.StyleUtil;var cssParse=Polymer.CssParse;var styleDefaults=Polymer.StyleDefaults;var styleTransformer=Polymer.StyleTransformer;var applyShim=Polymer.ApplyShim;var debounce=Polymer.Debounce;var settings=Polymer.Settings;var updateDebouncer;Polymer({is:"custom-style","extends":"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=styleUtil.getCssBuildType(this);
if(this.__appliedElement!==this)this.__appliedElement.__cssBuild=this.__cssBuild;if(this.ownerDocument!==window.document&&this.__appliedElement===this)document.head.appendChild(this);this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument)if(this.parentNode&&this.parentNode.localName!=="dom-module"){this._appliesToDocument=true;var e=this.__appliedElement;if(!settings.useNativeCSSProperties){this.__needsUpdateStyles=styleDefaults.hasStyleProperties();
styleDefaults.addStyle(e)}if(e.textContent||this.include)this._apply(true);else{var self=this;var observer=new MutationObserver(function(){observer.disconnect();self._apply(true)});observer.observe(e,{childList:true})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(initialApply){var e=this.__appliedElement;if(this.include)e.textContent=styleUtil.cssFromModules(this.include,true)+e.textContent;if(!e.textContent)return;var buildType=this.__cssBuild;var targetedBuild=styleUtil.isTargetedBuild(buildType);
if(settings.useNativeCSSProperties&&targetedBuild)return;var styleRules=styleUtil.rulesForStyle(e);if(!targetedBuild){styleUtil.forEachRule(styleRules,function(rule){styleTransformer.documentRule(rule)});if(settings.useNativeCSSProperties&&!buildType)applyShim.transform([e])}if(settings.useNativeCSSProperties)e.textContent=styleUtil.toCssText(styleRules);else{var self=this;var fn=function fn(){self._flushCustomProperties()};if(initialApply)Polymer.RenderStatus.whenReady(fn);else fn()}},_flushCustomProperties:function(){if(this.__needsUpdateStyles){this.__needsUpdateStyles=
false;updateDebouncer=debounce(updateDebouncer,this._updateStyles)}else this._applyCustomProperties()},_applyCustomProperties:function(){var element=this.__appliedElement;this._computeStyleProperties();var props=this._styleProperties;var rules=styleUtil.rulesForStyle(element);if(!rules)return;element.textContent=styleUtil.toCssText(rules,function(rule){var css=rule.cssText=rule.parsedCssText;if(rule.propertyInfo&&rule.propertyInfo.cssText){css=cssParse.removeCustomPropAssignment(css);rule.cssText=
propertyUtils.valueForProperties(css,props)}})}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(template){this._templatized=template;if(!template._content)template._content=template.content;if(template._content._ctor){this.ctor=template._content._ctor;this._prepParentProperties(this.ctor.prototype,template);return}var archetype=Object.create(Polymer.Base);this._customPrepAnnotations(archetype,template);this._prepParentProperties(archetype,
template);archetype._prepEffects();this._customPrepEffects(archetype);archetype._prepBehaviors();archetype._prepPropertyInfo();archetype._prepBindings();archetype._notifyPathUp=this._notifyPathUpImpl;archetype._scopeElementClass=this._scopeElementClassImpl;archetype.listen=this._listenImpl;archetype._showHideChildren=this._showHideChildrenImpl;archetype.__setPropertyOrig=this.__setProperty;archetype.__setProperty=this.__setPropertyImpl;var _constructor=this._constructorImpl;var ctor=function TemplateInstance(model,
host){_constructor.call(this,model,host)};ctor.prototype=archetype;archetype.constructor=ctor;template._content._ctor=ctor;this.ctor=ctor},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(hide){var c=this._children;for(var i=0;i<c.length;i++){var n=c[i];if(Boolean(hide)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else n.textContent=n.__polymerTextContent__;
else if(n.style)if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else n.style.display=n.__polymerDisplay__;n.__hideTemplateChildren__=hide}},__setPropertyImpl:function(property,value,fromAbove,node){if(node&&node.__hideTemplateChildren__&&property=="textContent")property="__polymerTextContent__";this.__setPropertyOrig(property,value,fromAbove,node)},_debounceTemplate:function(fn){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",fn))},_flushTemplates:function(){Polymer.dom.flush()},
_customPrepEffects:function(archetype){var parentProps=archetype._parentProps;for(var prop in parentProps)archetype._addPropertyEffect(prop,"function",this._createHostPropEffector(prop));for(prop in this._instanceProps)archetype._addPropertyEffect(prop,"function",this._createInstancePropEffector(prop))},_customPrepAnnotations:function(archetype,template){var t=archetype._template=document.createElement("template");var c=t._content=template._content;if(!c._notes){var rootDataHost=archetype._rootDataHost;
if(rootDataHost)Polymer.Annotations.prepElement=function(){rootDataHost._prepElement()};c._notes=Polymer.Annotations.parseAnnotations(template);Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}archetype._notes=c._notes;archetype._parentProps=c._parentProps},_prepParentProperties:function(archetype,template){var parentProps=this._parentProps=archetype._parentProps;if(this._forwardParentProp&&parentProps){var proto=archetype._parentPropProto;var prop;if(!proto){for(prop in this._instanceProps)delete parentProps[prop];
proto=archetype._parentPropProto=Object.create(null);if(template!=this){Polymer.Bind.prepareModel(proto);Polymer.Base.prepareModelNotifyPath(proto)}for(prop in parentProps){var parentProp=this._parentPropPrefix+prop;var effects=[{kind:"function",effect:this._createForwardPropEffector(prop),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(parentProp)+"-changed"}}];proto._propertyEffects=proto._propertyEffects||{};proto._propertyEffects[parentProp]=
effects;Polymer.Bind._createAccessors(proto,parentProp,effects)}}var self=this;if(template!=this){Polymer.Bind.prepareInstance(template);template._forwardParentProp=function(source,value){self._forwardParentProp(source,value)}}this._extendTemplate(template,proto);template._pathEffector=function(path,value,fromAbove){return self._pathEffectorImpl(path,value,fromAbove)}}},_createForwardPropEffector:function(prop){return function(source,value){this._forwardParentProp(prop,value)}},_createHostPropEffector:function(prop){var prefix=
this._parentPropPrefix;return function(source,value){this.dataHost._templatized[prefix+prop]=value}},_createInstancePropEffector:function(prop){return function(source,value,old,fromAbove){if(!fromAbove)this.dataHost._forwardInstanceProp(this,prop,value)}},_extendTemplate:function(template,proto){var n$=Object.getOwnPropertyNames(proto);if(proto._propertySetter)template._propertySetter=proto._propertySetter;for(var i=0,n;i<n$.length&&(n=n$[i]);i++){var val=template[n];if(val&&n=="_propertyEffects"){var pe=
Polymer.Base.mixin({},val);template._propertyEffects=Polymer.Base.mixin(pe,proto._propertyEffects)}else{var pd=Object.getOwnPropertyDescriptor(proto,n);Object.defineProperty(template,n,pd);if(val!==undefined)template._propertySetter(n,val)}}},_showHideChildren:function(hidden){},_forwardInstancePath:function(inst,path,value){},_forwardInstanceProp:function(inst,prop,value){},_notifyPathUpImpl:function(path,value){var dataHost=this.dataHost;var root=Polymer.Path.root(path);dataHost._forwardInstancePath.call(dataHost,
this,path,value);if(root in dataHost._parentProps)dataHost._templatized._notifyPath(dataHost._parentPropPrefix+path,value)},_pathEffectorImpl:function(path,value,fromAbove){if(this._forwardParentPath)if(path.indexOf(this._parentPropPrefix)===0){var subPath=path.substring(this._parentPropPrefix.length);var model=Polymer.Path.root(subPath);if(model in this._parentProps)this._forwardParentPath(subPath,value)}Polymer.Base._pathEffector.call(this._templatized,path,value,fromAbove)},_constructorImpl:function(model,
host){this._rootDataHost=host._getRootDataHost();this._setupConfigure(model);this._registerHost(host);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;this.root.__styleScoped=true;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();this._marshalAnnotatedListeners();var children=[];for(var n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n._templateInstance=this}this._children=children;if(host.__hideTemplateChildren__)this._showHideChildren(true);
this._tryReady()},_listenImpl:function(node,eventName,methodName){var model=this;var host=this._rootDataHost;var handler=host._createEventHandler(node,eventName,methodName);var decorated=function(e){e.model=model;handler(e)};host._listen(node,eventName,decorated)},_scopeElementClassImpl:function(node,value){var host=this._rootDataHost;if(host)return host._scopeElementClass(node,value);return value},stamp:function(model){model=model||{};if(this._parentProps){var templatized=this._templatized;for(var prop in this._parentProps)if(model[prop]===
undefined)model[prop]=templatized[this._parentPropPrefix+prop]}return new this.ctor(model,this)},modelForElement:function(el){var model;while(el)if(model=el._templateInstance)if(model.dataHost!=this)el=model.dataHost;else return model;else el=el.parentNode}};Polymer({is:"dom-template","extends":"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});Polymer._collections=new WeakMap;
Polymer.Collection=function(userArray){Polymer._collections.set(userArray,this);this.userArray=userArray;this.store=userArray.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){var omap=this.omap=new WeakMap;var pmap=this.pmap={};var s=this.store;for(var i=0;i<s.length;i++){var item=s[i];if(item&&typeof item=="object")omap.set(item,i);else pmap[item]=i}},add:function(item){var key=this.store.push(item)-1;if(item&&typeof item=="object")this.omap.set(item,key);else this.pmap[item]=key;return"#"+key},removeKey:function(key){if(key=this._parseKey(key)){this._removeFromMap(this.store[key]);delete this.store[key]}},
_removeFromMap:function(item){if(item&&typeof item=="object")this.omap["delete"](item);else delete this.pmap[item]},remove:function(item){var key=this.getKey(item);this.removeKey(key);return key},getKey:function(item){var key;if(item&&typeof item=="object")key=this.omap.get(item);else key=this.pmap[item];if(key!=undefined)return"#"+key},getKeys:function(){return Object.keys(this.store).map(function(key){return"#"+key})},_parseKey:function(key){if(key&&key[0]=="#")return key.slice(1)},setItem:function(key,
item){if(key=this._parseKey(key)){var old=this.store[key];if(old)this._removeFromMap(old);if(item&&typeof item=="object")this.omap.set(item,key);else this.pmap[item]=key;this.store[key]=item}},getItem:function(key){if(key=this._parseKey(key))return this.store[key]},getItems:function(){var items=[],store=this.store;for(var key in store)items.push(store[key]);return items},_applySplices:function(splices){var keyMap={},key;for(var i=0,s;i<splices.length&&(s=splices[i]);i++){s.addedKeys=[];for(var j=
0;j<s.removed.length;j++){key=this.getKey(s.removed[j]);keyMap[key]=keyMap[key]?null:-1}for(j=0;j<s.addedCount;j++){var item=this.userArray[s.index+j];key=this.getKey(item);key=key===undefined?this.add(item):key;keyMap[key]=keyMap[key]?null:1;s.addedKeys.push(key)}}var removed=[];var added=[];for(key in keyMap){if(keyMap[key]<0){this.removeKey(key);removed.push(key)}if(keyMap[key]>0)added.push(key)}return[{removed:removed,added:added}]}};
Polymer.Collection.get=function(userArray){return Polymer._collections.get(userArray)||new Polymer.Collection(userArray)};Polymer.Collection.applySplices=function(userArray,splices){var coll=Polymer._collections.get(userArray);return coll?coll._applySplices(splices):null};
Polymer({is:"dom-repeat","extends":"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:true},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,
value:20},notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var self=this;this._boundRenderChunk=function(){self._renderChunk()}},detached:function(){this.__isDetached=true;for(var i=0;i<this._instances.length;i++)this._detachInstance(i)},attached:function(){if(this.__isDetached){this.__isDetached=false;
var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;var parent=Polymer.dom(parentNode);for(var i=0;i<this._instances.length;i++)this._attachInstance(i,parent,refNode)}},ready:function(){this._instanceProps={__key__:true};this._instanceProps[this.as]=true;this._instanceProps[this.indexAs]=true;if(!this.ctor)this.templatize(this)},_sortChanged:function(sort){var dataHost=this._getRootDataHost();
this._sortFn=sort&&(typeof sort=="function"?sort:function(){return dataHost[sort].apply(dataHost,arguments)});this._needFullRefresh=true;if(this.items)this._debounceTemplate(this._render)},_filterChanged:function(filter){var dataHost=this._getRootDataHost();this._filterFn=filter&&(typeof filter=="function"?filter:function(){return dataHost[filter].apply(dataHost,arguments)});this._needFullRefresh=true;if(this.items)this._debounceTemplate(this._render)},_computeFrameTime:function(rate){return Math.ceil(1E3/
rate)},_initializeChunking:function(){if(this.initialCount){this._limit=this.initialCount;this._chunkCount=this.initialCount;this._lastChunkTime=performance.now()}},_tryRenderChunk:function(){if(this.items&&this._limit<this.items.length)this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var currChunkTime=performance.now();var ratio=this._targetFrameTime/(currChunkTime-this._lastChunkTime);this._chunkCount=
Math.round(this._chunkCount*ratio)||1;this._limit+=this._chunkCount;this._lastChunkTime=currChunkTime;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(change){if(change.path=="items"){if(Array.isArray(this.items))this.collection=Polymer.Collection.get(this.items);else if(!this.items)this.collection=null;else this._error(this._logf("dom-repeat","expected array for `items`,"+" found",this.items));
this._keySplices=[];this._indexSplices=[];this._needFullRefresh=true;this._initializeChunking();this._debounceTemplate(this._render)}else if(change.path=="items.splices"){this._keySplices=this._keySplices.concat(change.value.keySplices);this._indexSplices=this._indexSplices.concat(change.value.indexSplices);this._debounceTemplate(this._render)}else{var subpath=change.path.slice(6);this._forwardItemPath(subpath,change.value);this._checkObservedPaths(subpath)}},_checkObservedPaths:function(path){if(this._observePaths){path=
path.substring(path.indexOf(".")+1);var paths=this._observePaths;for(var i=0;i<paths.length;i++)if(path.indexOf(paths[i])===0){this._needFullRefresh=true;if(this.delay)this.debounce("render",this._render,this.delay);else this._debounceTemplate(this._render);return}}},render:function(){this._needFullRefresh=true;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){if(this._needFullRefresh){this._applyFullRefresh();this._needFullRefresh=false}else if(this._keySplices.length)if(this._sortFn)this._applySplicesUserSort(this._keySplices);
else if(this._filterFn)this._applyFullRefresh();else this._applySplicesArrayOrder(this._indexSplices);else;this._keySplices=[];this._indexSplices=[];var keyToIdx=this._keyToInstIdx={};for(var i=this._instances.length-1;i>=0;i--){var inst=this._instances[i];if(inst.isPlaceholder&&i<this._limit)inst=this._insertInstance(i,inst.__key__);else if(!inst.isPlaceholder&&i>=this._limit)inst=this._downgradeInstance(i,inst.__key__);keyToIdx[inst.__key__]=i;if(!inst.isPlaceholder)inst.__setProperty(this.indexAs,
i,true)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var c=this.collection;var keys;if(this._sortFn)keys=c?c.getKeys():[];else{keys=[];var items=this.items;if(items)for(var i=0;i<items.length;i++)keys.push(c.getKey(items[i]))}var self=this;if(this._filterFn)keys=keys.filter(function(a){return self._filterFn(c.getItem(a))});
if(this._sortFn)keys.sort(function(a,b){return self._sortFn(c.getItem(a),c.getItem(b))});for(i=0;i<keys.length;i++){var key=keys[i];var inst=this._instances[i];if(inst){inst.__key__=key;if(!inst.isPlaceholder&&i<this._limit)inst.__setProperty(this.as,c.getItem(key),true)}else if(i<this._limit)this._insertInstance(i,key);else this._insertPlaceholder(i,key)}for(var j=this._instances.length-1;j>=i;j--)this._detachAndRemoveInstance(j)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(splices){var c=
this.collection;var keyMap={};var key;for(var i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0;j<s.removed.length;j++){key=s.removed[j];keyMap[key]=keyMap[key]?null:-1}for(j=0;j<s.added.length;j++){key=s.added[j];keyMap[key]=keyMap[key]?null:1}}var removedIdxs=[];var addedKeys=[];for(key in keyMap){if(keyMap[key]===-1)removedIdxs.push(this._keyToInstIdx[key]);if(keyMap[key]===1)addedKeys.push(key)}if(removedIdxs.length){removedIdxs.sort(this._numericSort);for(i=removedIdxs.length-1;i>=0;i--){var idx=
removedIdxs[i];if(idx!==undefined)this._detachAndRemoveInstance(idx)}}var self=this;if(addedKeys.length){if(this._filterFn)addedKeys=addedKeys.filter(function(a){return self._filterFn(c.getItem(a))});addedKeys.sort(function(a,b){return self._sortFn(c.getItem(a),c.getItem(b))});var start=0;for(i=0;i<addedKeys.length;i++)start=this._insertRowUserSort(start,addedKeys[i])}},_insertRowUserSort:function(start,key){var c=this.collection;var item=c.getItem(key);var end=this._instances.length-1;var idx=-1;
while(start<=end){var mid=start+end>>1;var midKey=this._instances[mid].__key__;var cmp=this._sortFn(c.getItem(midKey),item);if(cmp<0)start=mid+1;else if(cmp>0)end=mid-1;else{idx=mid;break}}if(idx<0)idx=end+1;this._insertPlaceholder(idx,key);return idx},_applySplicesArrayOrder:function(splices){for(var i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0;j<s.removed.length;j++)this._detachAndRemoveInstance(s.index);for(j=0;j<s.addedKeys.length;j++)this._insertPlaceholder(s.index+j,s.addedKeys[j])}},
_detachInstance:function(idx){var inst=this._instances[idx];if(!inst.isPlaceholder){for(var i=0;i<inst._children.length;i++){var el=inst._children[i];Polymer.dom(inst.root).appendChild(el)}return inst}},_attachInstance:function(idx,parent,refNode){var inst=this._instances[idx];if(!inst.isPlaceholder)parent.insertBefore(inst.root,refNode)},_detachAndRemoveInstance:function(idx){var inst=this._detachInstance(idx);if(inst)this._pool.push(inst);this._instances.splice(idx,1)},_insertPlaceholder:function(idx,
key){this._instances.splice(idx,0,{isPlaceholder:true,__key__:key})},_stampInstance:function(idx,key){var model={__key__:key};model[this.as]=this.collection.getItem(key);model[this.indexAs]=idx;return this.stamp(model)},_insertInstance:function(idx,key){var inst=this._pool.pop();if(inst){inst.__setProperty(this.as,this.collection.getItem(key),true);inst.__setProperty("__key__",key,true)}else inst=this._stampInstance(idx,key);var beforeRow=this._instances[idx+1];var beforeNode=beforeRow&&!beforeRow.isPlaceholder?
beforeRow._children[0]:this;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){if(beforeNode==this)beforeNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}Polymer.dom(parentNode).insertBefore(inst.root,beforeNode);this._instances[idx]=inst;return inst},_downgradeInstance:function(idx,key){var inst=this._detachInstance(idx);if(inst)this._pool.push(inst);inst={isPlaceholder:true,__key__:key};this._instances[idx]=inst;return inst},_showHideChildren:function(hidden){for(var i=
0;i<this._instances.length;i++)if(!this._instances[i].isPlaceholder)this._instances[i]._showHideChildren(hidden)},_forwardInstanceProp:function(inst,prop,value){if(prop==this.as){var idx;if(this._sortFn||this._filterFn)idx=this.items.indexOf(this.collection.getItem(inst.__key__));else idx=inst[this.indexAs];this.set("items."+idx,value)}},_forwardInstancePath:function(inst,path,value){if(path.indexOf(this.as+".")===0)this._notifyPath("items."+inst.__key__+"."+path.slice(this.as.length+1),value)},_forwardParentProp:function(prop,
value){var i$=this._instances;for(var i=0,inst;i<i$.length&&(inst=i$[i]);i++)if(!inst.isPlaceholder)inst.__setProperty(prop,value,true)},_forwardParentPath:function(path,value){var i$=this._instances;for(var i=0,inst;i<i$.length&&(inst=i$[i]);i++)if(!inst.isPlaceholder)inst._notifyPath(path,value,true)},_forwardItemPath:function(path,value){if(this._keyToInstIdx){var dot=path.indexOf(".");var key=path.substring(0,dot<0?path.length:dot);var idx=this._keyToInstIdx[key];var inst=this._instances[idx];
if(inst&&!inst.isPlaceholder)if(dot>=0){path=this.as+"."+path.substring(dot+1);inst._notifyPath(path,value,true)}else inst.__setProperty(this.as,value,true)}},itemForElement:function(el){var instance=this.modelForElement(el);return instance&&instance[this.as]},keyForElement:function(el){var instance=this.modelForElement(el);return instance&&instance.__key__},indexForElement:function(el){var instance=this.modelForElement(el);return instance&&instance[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:false,observer:"clearSelection"},selected:{type:Object,notify:true},selectedItem:{type:Object,notify:true},toggle:{type:Boolean,value:false}},clearSelection:function(){if(Array.isArray(this.selected))for(var i=0;i<this.selected.length;i++)this.unlinkPaths("selected."+i);else{this.unlinkPaths("selected");this.unlinkPaths("selectedItem")}if(this.multi){if(!this.selected||this.selected.length){this.selected=
[];this._selectedColl=Polymer.Collection.get(this.selected)}}else{this.selected=null;this._selectedColl=null}this.selectedItem=null},isSelected:function(item){if(this.multi)return this._selectedColl.getKey(item)!==undefined;else return this.selected==item},deselect:function(item){if(this.multi){if(this.isSelected(item)){var skey=this._selectedColl.getKey(item);this.arrayDelete("selected",item);this.unlinkPaths("selected."+skey)}}else{this.selected=null;this.selectedItem=null;this.unlinkPaths("selected");
this.unlinkPaths("selectedItem")}},select:function(item){var icol=Polymer.Collection.get(this.items);var key=icol.getKey(item);if(this.multi)if(this.isSelected(item)){if(this.toggle)this.deselect(item)}else{this.push("selected",item);var skey=this._selectedColl.getKey(item);this.linkPaths("selected."+skey,"items."+key)}else if(this.toggle&&item==this.selected)this.deselect();else{this.selected=item;this.selectedItem=item;this.linkPaths("selected","items."+key);this.linkPaths("selectedItem","items."+
key)}}});
Polymer({is:"dom-if","extends":"template",_template:null,properties:{"if":{type:Boolean,value:false,observer:"_queueRender"},restamp:{type:Boolean,value:false,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){var parentNode=this.parentNode;if(parentNode&&parentNode.localName==this.is)parentNode=Polymer.dom(parentNode).parentNode;if(!parentNode||parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(!Polymer.Settings.hasShadow||
!(parentNode instanceof ShadowRoot)))this._teardownInstance()},attached:function(){if(this["if"]&&this.ctor)this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){if(this["if"]){if(!this.ctor)this.templatize(this);this._ensureInstance();this._showHideChildren()}else if(this.restamp)this._teardownInstance();if(!this.restamp&&this._instance)this._showHideChildren();if(this["if"]!=this._lastIf){if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change");
this._lastIf=this["if"]}},_ensureInstance:function(){var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode&&parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;if(parentNode)if(!this._instance){this._instance=this.stamp();var root=this._instance.root;Polymer.dom(parentNode).insertBefore(root,refNode)}else{var c$=this._instance._children;if(c$&&c$.length){var lastChild=Polymer.dom(refNode).previousSibling;if(lastChild!==
c$[c$.length-1])for(var i=0,n;i<c$.length&&(n=c$[i]);i++)Polymer.dom(parentNode).insertBefore(n,refNode)}}},_teardownInstance:function(){if(this._instance){var c$=this._instance._children;if(c$&&c$.length){var parent=Polymer.dom(Polymer.dom(c$[0]).parentNode);for(var i=0,n;i<c$.length&&(n=c$[i]);i++)parent.removeChild(n)}this._instance=null}},_showHideChildren:function(){var hidden=this.__hideTemplateChildren__||!this["if"];if(this._instance)this._instance._showHideChildren(hidden)},_forwardParentProp:function(prop,
value){if(this._instance)this._instance.__setProperty(prop,value,true)},_forwardParentPath:function(path,value){if(this._instance)this._instance._notifyPath(path,value,true)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},"extends":"template",_template:null,created:function(){var self=this;Polymer.RenderStatus.whenReady(function(){if(document.readyState=="loading")document.addEventListener("DOMContentLoaded",function(){self._markImportsReady()});else self._markImportsReady()})},_ensureReady:function(){if(!this._readied)this._readySelf()},_markImportsReady:function(){this._importsReady=true;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},
_insertChildren:function(){var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;Polymer.dom(parentNode).insertBefore(this.root,refNode)},_removeChildren:function(){if(this._children)for(var i=0;i<this._children.length;i++)this.root.appendChild(this._children[i])},_initFeatures:function(){},_scopeElementClass:function(element,selector){if(this.dataHost)return this.dataHost._scopeElementClass(element,
selector);else return selector},_configureInstanceProperties:function(){},_prepConfigure:function(){var config={};for(var prop in this._propertyEffects)config[prop]=this[prop];var setupConfigure=this._setupConfigure;this._setupConfigure=function(){setupConfigure.call(this,config)}},attached:function(){if(this._importsReady)this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady();if(!this._children){this._template=this;this._prepAnnotations();this._prepEffects();
this._prepBehaviors();this._prepConfigure();this._prepBindings();this._prepPropertyInfo();Polymer.Base._initFeatures.call(this);this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root)}this._insertChildren();if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change")}});
(function(){var k,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,da=function(){da=function(){};ca.Symbol||(ca.Symbol=ea)},fa=function(a,b){this.$jscomp$symbol$id_=a;ba(this,"description",{configurable:!0,writable:!0,value:b})};
fa.prototype.toString=function(){return this.$jscomp$symbol$id_};
var ea=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new fa("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}(),ia=function(){da();var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}});ia=function(){}},ha=function(a){ia();a={next:a};a[ca.Symbol.iterator]=function(){return this};return a},
q=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}},ja=function(a){if(!(a instanceof Array)){a=q(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},ka="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},la;
if("function"==typeof Object.setPrototypeOf)la=Object.setPrototypeOf;else{var na;a:{var oa={a:!0},pa={};try{pa.__proto__=oa;na=pa.a;break a}catch(a){}na=!1}la=na?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var qa=la,t=function(a,b){a.prototype=ka(b.prototype);a.prototype.constructor=a;if(qa)qa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype},ra=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");},sa=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=
this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null},ta=function(a){if(a.isRunning_)throw new TypeError("Generator is already running");a.isRunning_=!0};sa.prototype.stop_=function(){this.isRunning_=!1};sa.prototype.next_=function(a){this.yieldResult=a};sa.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.nextAddress=this.catchAddress_||this.finallyAddress_};sa.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
var u=function(a,b,c){a.nextAddress=c;return{value:b}};sa.prototype.jumpTo=function(a){this.nextAddress=a};
var x=function(a){a.nextAddress=0},y=function(a,b,c){a.catchAddress_=b;void 0!=c&&(a.finallyAddress_=c)},ua=function(a){a.catchAddress_=0;a.finallyAddress_=2},va=function(a,b){a.nextAddress=b;a.catchAddress_=0},z=function(a){a.catchAddress_=0;var b=a.abruptCompletion_.exception;a.abruptCompletion_=null;return b},wa=function(a){a.finallyContexts_=[a.abruptCompletion_];a.catchAddress_=0;a.finallyAddress_=0},xa=function(a,b){var c=a.finallyContexts_.splice(0)[0];(c=a.abruptCompletion_=a.abruptCompletion_||
c)?c.isException?a.nextAddress=a.catchAddress_||a.finallyAddress_:void 0!=c.jumpTo&&a.finallyAddress_<c.jumpTo?(a.nextAddress=c.jumpTo,a.abruptCompletion_=null):a.nextAddress=a.finallyAddress_:a.nextAddress=b},ya=function(a){this.context_=new sa;this.program_=a};ya.prototype.next_=function(a){ta(this.context_);if(this.context_.yieldAllIterator_)return za(this,this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return Aa(this)};
var Ba=function(a,b){ta(a.context_);var c=a.context_.yieldAllIterator_;if(c)return za(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.context_.return);a.context_.return(b);return Aa(a)};ya.prototype.throw_=function(a){ta(this.context_);if(this.context_.yieldAllIterator_)return za(this,this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return Aa(this)};
var za=function(a,b,c,d){try{var e=b.call(a.context_.yieldAllIterator_,c);ra(e);if(!e.done)return a.context_.stop_(),e;var f=e.value}catch(g){return a.context_.yieldAllIterator_=null,a.context_.throw_(g),Aa(a)}a.context_.yieldAllIterator_=null;d.call(a.context_,f);return Aa(a)},Aa=function(a){for(;a.context_.nextAddress;)try{var b=a.program_(a.context_);if(b)return a.context_.stop_(),{value:b.value,done:!1}}catch(c){a.context_.yieldResult=void 0,a.context_.throw_(c)}a.context_.stop_();if(a.context_.abruptCompletion_){b=
a.context_.abruptCompletion_;a.context_.abruptCompletion_=null;if(b.isException)throw b.exception;return{value:b.return,done:!0}}return{value:void 0,done:!0}},Ca=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return Ba(a,b)};ia();this[Symbol.iterator]=function(){return this}},Da=function(a,b){b=new Ca(new ya(b));qa&&qa(b,a.prototype);return b},Ea=function(a,b){if(b){var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=
a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}};
Ea("Promise",function(a){function b(){this.batch_=null}function c(g){return g instanceof e?g:new e(function(h){h(g)})}if(a)return a;b.prototype.asyncExecute=function(g){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(g)};var d=ca.setTimeout;b.prototype.asyncExecuteFunction=function(g){d(g,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var g=this.batch_;this.batch_=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};b.prototype.asyncThrow_=function(g){this.asyncExecuteFunction(function(){throw g;})};var e=function(g){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}};e.prototype.createResolveAndReject_=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.resolveTo_),reject:g(this.reject_)}};
e.prototype.resolveTo_=function(g){if(g===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof e)this.settleSameAsPromise_(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(g):this.fulfill_(g)}};e.prototype.resolveToNonPromiseObj_=function(g){var h=void 0;try{h=g.then}catch(l){this.reject_(l);return}"function"==typeof h?this.settleSameAsThenable_(h,g):this.fulfill_(g)};e.prototype.reject_=
function(g){this.settle_(2,g)};e.prototype.fulfill_=function(g){this.settle_(1,g)};e.prototype.settle_=function(g,h){if(0!=this.state_)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.state_);this.state_=g;this.result_=h;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var g=0;g<this.onSettledCallbacks_.length;++g)f.asyncExecute(this.onSettledCallbacks_[g]);this.onSettledCallbacks_=null}};var f=
new b;e.prototype.settleSameAsPromise_=function(g){var h=this.createResolveAndReject_();g.callWhenSettled_(h.resolve,h.reject)};e.prototype.settleSameAsThenable_=function(g,h){var l=this.createResolveAndReject_();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};e.prototype.then=function(g,h){function l(r,w){return"function"==typeof r?function(v){try{m(r(v))}catch(A){n(A)}}:w}var m,n,p=new e(function(r,w){m=r;n=w});this.callWhenSettled_(l(g,m),l(h,n));return p};e.prototype.catch=function(g){return this.then(void 0,
g)};e.prototype.callWhenSettled_=function(g,h){function l(){switch(m.state_){case 1:g(m.result_);break;case 2:h(m.result_);break;default:throw Error("Unexpected state: "+m.state_);}}var m=this;null==this.onSettledCallbacks_?f.asyncExecute(l):this.onSettledCallbacks_.push(l)};e.resolve=c;e.reject=function(g){return new e(function(h,l){l(g)})};e.race=function(g){return new e(function(h,l){for(var m=q(g),n=m.next();!n.done;n=m.next())c(n.value).callWhenSettled_(h,l)})};e.all=function(g){var h=q(g),l=
h.next();return l.done?c([]):new e(function(m,n){function p(v){return function(A){r[v]=A;w--;0==w&&m(r)}}var r=[],w=0;do r.push(void 0),w++,c(l.value).callWhenSettled_(p(r.length-1),n),l=h.next();while(!l.done)})};return e});Ea("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}});
var Fa=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})},B=function(a){return Fa(new Ca(new ya(a)))},Ga=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};Ea("Array.prototype.findIndex",function(a){return a?a:function(b,c){return Ga(this,b,c).i}});
var Ia=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};Ea("String.prototype.endsWith",function(a){return a?a:function(b,c){var d=Ia(this,b,"endsWith");b+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var e=b.length;0<e&&0<c;)if(d[--c]!=b[--e])return!1;return 0>=e}});
Ea("Array.prototype.find",function(a){return a?a:function(b,c){return Ga(this,b,c).v}});Ea("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=Ia(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});
Ea("String.prototype.repeat",function(a){return a?a:function(b){var c=Ia(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});var Ja=function(a,b){ia();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
Ea("Array.prototype.values",function(a){return a?a:function(){return Ja(this,function(b,c){return c})}});Ea("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});
var Ka=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
Ea("WeakMap",function(a){function b(){}function c(h){if(!Ka(h,e)){var l=new b;ba(h,e,{value:l})}}function d(h){var l=Object[h];l&&(Object[h]=function(m){if(m instanceof b)return m;c(m);return l(m)})}if(function(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),l=Object.seal({}),m=new a([[h,2],[l,3]]);if(2!=m.get(h)||3!=m.get(l))return!1;m.delete(h);m.set(l,4);return!m.has(h)&&4==m.get(l)}catch(n){return!1}}())return a;var e="$jscomp_hidden_"+Math.random();d("freeze");d("preventExtensions");
d("seal");var f=0,g=function(h){this.id_=(f+=Math.random()+1).toString();if(h){h=q(h);for(var l;!(l=h.next()).done;)l=l.value,this.set(l[0],l[1])}};g.prototype.set=function(h,l){c(h);if(!Ka(h,e))throw Error("WeakMap key fail: "+h);h[e][this.id_]=l;return this};g.prototype.get=function(h){return Ka(h,e)?h[e][this.id_]:void 0};g.prototype.has=function(h){return Ka(h,e)&&Ka(h[e],this.id_)};g.prototype.delete=function(h){return Ka(h,e)&&Ka(h[e],this.id_)?delete h[e][this.id_]:!1};return g});
Ea("Object.setPrototypeOf",function(a){return a||qa});var La="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Ka(d,e)&&(a[e]=d[e])}return a};Ea("Object.assign",function(a){return a||La});
Ea("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),l=new a(q([[h,"s"]]));if("s"!=l.get(h)||1!=l.size||l.get({x:4})||l.set({x:4},"t")!=l||2!=l.size)return!1;var m=l.entries(),n=m.next();if(n.done||n.value[0]!=h||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!m.next().done?!1:!0}catch(p){return!1}}())return a;ia();var b=new WeakMap,c=function(h){this.data_={};
this.head_=f();this.size=0;if(h){h=q(h);for(var l;!(l=h.next()).done;)l=l.value,this.set(l[0],l[1])}};c.prototype.set=function(h,l){h=0===h?0:h;var m=d(this,h);m.list||(m.list=this.data_[m.id]=[]);m.entry?m.entry.value=l:(m.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:h,value:l},m.list.push(m.entry),this.head_.previous.next=m.entry,this.head_.previous=m.entry,this.size++);return this};c.prototype.delete=function(h){h=d(this,h);return h.entry&&h.list?(h.list.splice(h.index,
1),h.list.length||delete this.data_[h.id],h.entry.previous.next=h.entry.next,h.entry.next.previous=h.entry.previous,h.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};c.prototype.has=function(h){return!!d(this,h).entry};c.prototype.get=function(h){return(h=d(this,h).entry)&&h.value};c.prototype.entries=function(){return e(this,function(h){return[h.key,h.value]})};c.prototype.keys=function(){return e(this,function(h){return h.key})};
c.prototype.values=function(){return e(this,function(h){return h.value})};c.prototype.forEach=function(h,l){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,h.call(l,n[1],n[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(h,l){var m=l&&typeof l;"object"==m||"function"==m?b.has(l)?m=b.get(l):(m=""+ ++g,b.set(l,m)):m="p_"+l;var n=h.data_[m];if(n&&Ka(h.data_,m))for(h=0;h<n.length;h++){var p=n[h];if(l!==l&&p.key!==p.key||l===p.key)return{id:m,list:n,index:h,entry:p}}return{id:m,
list:n,index:-1,entry:void 0}},e=function(h,l){var m=h.head_;return ha(function(){if(m){for(;m.head!=h.head_;)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}})},f=function(){var h={};return h.previous=h.next=h.head=h},g=0;return c});
Ea("Set",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(q([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:e.next().done}catch(g){return!1}}())return a;ia();var b=function(c){this.map_=new Map;
if(c){c=q(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.map_.size};b.prototype.add=function(c){c=0===c?0:c;this.map_.set(c,c);this.size=this.map_.size;return this};b.prototype.delete=function(c){c=this.map_.delete(c);this.size=this.map_.size;return c};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=function(c){return this.map_.has(c)};b.prototype.entries=function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};
b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.map_.forEach(function(f){return c.call(d,f,f,e)})};return b});Ea("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});Ea("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
Ea("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==Ia(this,b,"includes").indexOf(b,c||0)}});Ea("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b)Ka(b,d)&&c.push(b[d]);return c}});
var Ma=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if("undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=ka(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||e}}();Ea("Reflect.construct",function(){return Ma});
Ea("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});Ea("String.prototype.padStart",function(a){return a?a:function(b,c){var d=Ia(this,null,"padStart");b-=d.length;c=void 0!==c?String(c):" ";return(0<b&&c?c.repeat(Math.ceil(b/c.length)).substring(0,b):"")+d}});
Ea("Number.isFinite",function(a){return a?a:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}});Ea("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}});Ea("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)Ka(b,d)&&c.push([d,b[d]]);return c}});Ea("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
Ea("Number.isSafeInteger",function(a){return a?a:function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER}});
var Na=Na||{},D=this||self,E=function(a){return void 0!==a},F=function(a){return"string"==typeof a},Oa=function(a){return"boolean"==typeof a},Pa=function(a){return"number"==typeof a},Sa=function(a){if(a&&a!=D)return Qa(a.document);null===Ra&&(Ra=Qa(D.document));return Ra},Ta=/^[\w+/_-]+[=]{0,2}$/,Ra=null,Qa=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&Ta.test(a)?a:""},Ua=function(a,b){a=a.split(".");b=b||D;for(var c=0;c<a.length;c++)if(b=
b[a[c]],null==b)return null;return b},Va=function(){},Wa=function(a){a.instance_=void 0;a.getInstance=function(){return a.instance_?a.instance_:a.instance_=new a}},Xa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},Za=function(a){return"array"==Xa(a)},$a=function(a){var b=Xa(a);return"array"==b||"object"==b&&"number"==typeof a.length},ab=function(a){return"function"==Xa(a)},bb=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},eb=function(a){return a[cb]||
(a[cb]=++db)},cb="closure_uid_"+(1E9*Math.random()>>>0),db=0,fb=function(a,b,c){return a.call.apply(a.bind,arguments)},gb=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},hb=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hb=
fb:hb=gb;return hb.apply(null,arguments)},ib=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}},jb=Date.now||function(){return+new Date},kb=function(a,b){a=a.split(".");var c=D;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&E(b)?c[d]=b:c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}},G=function(a,b){function c(){}c.prototype=b.prototype;
a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};var lb=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,lb);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};G(lb,Error);lb.prototype.name="CustomError";var mb;var nb=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");lb.call(this,c+a[d])};G(nb,lb);nb.prototype.name="AssertionError";
var ob=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);throw new nb(""+e,f||[]);},I=function(a,b,c){a||ob("",null,b,Array.prototype.slice.call(arguments,2));return a},pb=function(a,b){throw new nb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},qb=function(a,b,c){Pa(a)||ob("Expected number but got %s: %s.",[Xa(a),a],b,Array.prototype.slice.call(arguments,2));return a},rb=function(a,b,c){F(a)||ob("Expected string but got %s: %s.",[Xa(a),
a],b,Array.prototype.slice.call(arguments,2));return a},sb=function(a,b,c){ab(a)||ob("Expected function but got %s: %s.",[Xa(a),a],b,Array.prototype.slice.call(arguments,2))},ub=function(a,b,c){bb(a)||ob("Expected object but got %s: %s.",[Xa(a),a],b,Array.prototype.slice.call(arguments,2))},vb=function(a,b,c){Za(a)||ob("Expected array but got %s: %s.",[Xa(a),a],b,Array.prototype.slice.call(arguments,2));return a},wb=function(a,b,c){Oa(a)||ob("Expected boolean but got %s: %s.",[Xa(a),a],b,Array.prototype.slice.call(arguments,
2));return a},xb=function(a,b,c){bb(a)&&1==a.nodeType||ob("Expected Element but got %s: %s.",[Xa(a),a],b,Array.prototype.slice.call(arguments,2));return a},zb=function(a,b,c,d){a instanceof b||ob("Expected instanceof %s but got %s.",[yb(b),yb(a)],c,Array.prototype.slice.call(arguments,3));return a},yb=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":
typeof a};var Ab=Array.prototype.indexOf?function(a,b){I(null!=a.length);return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(F(a))return F(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Bb=Array.prototype.lastIndexOf?function(a,b){I(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if(F(a))return F(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in
a&&a[c]===b)return c;return-1},Cb=Array.prototype.forEach?function(a,b,c){I(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=F(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Db=function(a,b,c){for(var d=F(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)},Eb=Array.prototype.filter?function(a,b){I(null!=a.length);return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=[],e=0,f=F(a)?a.split(""):a,g=0;g<c;g++)if(g in
f){var h=f[g];b.call(void 0,h,g,a)&&(d[e++]=h)}return d},Fb=Array.prototype.map?function(a,b,c){I(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=F(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Gb=Array.prototype.some?function(a,b){I(null!=a.length);return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=F(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Hb=
Array.prototype.every?function(a,b,c){I(null!=a.length);return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=F(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},Kb=function(a,b){b=Ib(a,b,void 0);return 0>b?null:F(a)?a.charAt(b):a[b]},Ib=function(a,b,c){for(var d=a.length,e=F(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1},Mb=function(a,b){b=Lb(a,b,void 0);return 0>b?null:F(a)?a.charAt(b):a[b]},Lb=function(a,b,c){for(var d=
F(a)?a.split(""):a,e=a.length-1;0<=e;e--)if(e in d&&b.call(c,d[e],e,a))return e;return-1},Nb=function(a,b){return 0<=Ab(a,b)},Ob=function(a,b){b=Ab(a,b);var c;if(c=0<=b)I(null!=a.length),Array.prototype.splice.call(a,b,1);return c},Pb=function(a){return Array.prototype.concat.apply([],arguments)},Qb=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Rb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if($a(d)){var e=a.length||0,f=d.length||
0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},Tb=function(a,b,c,d){I(null!=a.length);Array.prototype.splice.apply(a,Sb(arguments,1))},Sb=function(a,b,c){I(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Ub=function(a,b,c){for(var d=0,e=a.length,f;d<e;){var g=d+e>>1;var h=b(c,a[g]);0<h?d=g+1:(e=g,f=!h)}return f?d:~d},Wb=function(a,b){if(!$a(a)||!$a(b)||a.length!=b.length)return!1;for(var c=a.length,d=Vb,e=0;e<c;e++)if(!d(a[e],
b[e]))return!1;return!0},Xb=function(a,b){return a>b?1:a<b?-1:0},Vb=function(a,b){return a===b},Yb=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(Za(d))for(var e=0;e<d.length;e+=8192){var f=Sb(d,e,e+8192);f=Yb.apply(null,f);for(var g=0;g<f.length;g++)b.push(f[g])}else b.push(d)}return b},Zb=function(a,b,c){I(0<=b&&b<a.length);I(0<=c&&c<a.length);b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])},$b=function(a,b){return Pb.apply([],Fb(a,b,void 0))};var cc=function(a,b){var c=ac(a);c&&"undefined"!=typeof c[b]&&(a&&(a instanceof c[b]||!(a instanceof c.Location||a instanceof c.Element))||pb("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,bc(a)))},bc=function(a){if(bb(a))try{return a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(b){return"<object could not be stringified>"}else return void 0===a?"undefined":null===a?"null":typeof a},ac=function(a){try{var b=a&&a.ownerDocument,c=b&&(b.defaultView||
b.parentWindow);c=c||D;if(c.Element&&c.Location)return c}catch(d){}return null};var dc=function(){return null},ec=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}},fc=function(a){var b=a;return function(){if(b){var c=b;b=null;c()}}},gc=function(a){var b=0;return function(c){D.clearTimeout(b);var d=arguments;b=D.setTimeout(function(){a.apply(void 0,d)},0)}};var hc=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},kc=function(a){var b=jc,c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c},lc=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},mc=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},nc=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},oc=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},qc=function(a){var b=pc;a:{for(var c in b)if(a.call(void 0,b[c],c,b)){a=c;break a}a=void 0}return a&&
b[a]},rc=function(a){for(var b in a)return!1;return!0},sc=function(a,b){b in a&&delete a[b]},tc=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c},uc=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},vc=function(a){var b={},c;for(c in a)b[c]=a[c];return b},wc=function(a){var b=Xa(a);if("object"==b||"array"==b){if(ab(a.clone))return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=wc(a[c]);
return b}return a},xc=function(a){var b={},c;for(c in a)b[a[c]]=c;return b},yc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),zc=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<yc.length;f++)c=yc[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},Ac=function(a){var b=arguments.length;if(1==b&&Za(arguments[0]))return Ac.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=
!0;return c};var Bc={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};var Ec=function(a,b){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a===Cc&&b||"";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=Dc};Ec.prototype.implementsGoogStringTypedString=!0;Ec.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};Ec.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var Fc=function(a){if(a instanceof Ec&&a.constructor===Ec&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===Dc)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;pb("expected object of type Const, got '"+a+"'");return"type_error:Const"},Gc=function(a){return new Ec(Cc,a)},Dc={},Cc={},Hc=Gc("");var Jc=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Ic};Jc.prototype.implementsGoogStringTypedString=!0;var Ic={},Kc=function(a,b){for(var c=[],d=1;d<arguments.length;d++)c.push(JSON.stringify(arguments[d]).replace(/</g,"\\x3c"));return(new Jc).initSecurityPrivateDoNotAccessOrElse_("("+Fc(a)+")("+c.join(", ")+");")};Jc.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};
Jc.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"};var Lc=function(a){a instanceof Jc&&a.constructor===Jc&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Ic?a=a.privateDoNotAccessOrElseSafeScriptWrappedValue_:(pb("expected object of type SafeScript, got '"+a+"' of type "+Xa(a)),a="type_error:SafeScript");return a.toString()};
Jc.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=a;return this};(new Jc).initSecurityPrivateDoNotAccessOrElse_("");var Nc=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.trustedURL_=null;this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Mc};k=Nc.prototype;k.implementsGoogStringTypedString=!0;k.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};k.implementsGoogI18nBidiDirectionalString=!0;k.getDirection=function(){return 1};
k.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"};
var Pc=function(a){return Oc(a).toString()},Oc=function(a){if(a instanceof Nc&&a.constructor===Nc&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Mc)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;pb("expected object of type TrustedResourceUrl, got '"+a+"' of type "+Xa(a));return"type_error:TrustedResourceUrl"},Uc=function(a,b){var c=Fc(a);if(!Qc.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);a=c.replace(Rc,function(d,e){if(!Object.prototype.hasOwnProperty.call(b,
e))throw Error('Found marker, "'+e+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(b));d=b[e];return d instanceof Ec?Fc(d):encodeURIComponent(String(d))});return Sc(a)},Rc=/%{(\w+)}/g,Qc=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Vc=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,Wc=function(a){return Sc(Fc(a))},Mc={},Sc=function(a){var b=new Nc;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b},Xc=function(a,
b,c){if(null==c)return b;if(F(c))return c?a+encodeURIComponent(c):"";for(var d in c){var e=c[d];e=Za(e)?e:[e];for(var f=0;f<e.length;f++){var g=e[f];null!=g&&(b||(b=a),b+=(b.length>a.length?"&":"")+encodeURIComponent(d)+"="+encodeURIComponent(String(g)))}}return b};var Yc=function(a,b){return 0==a.lastIndexOf(b,0)},Zc=function(a){return/^[\s\xa0]*$/.test(a)},$c=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},ad=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1},id=function(a,b){if(b)a=a.replace(bd,"&amp;").replace(cd,"&lt;").replace(dd,"&gt;").replace(ed,"&quot;").replace(fd,"&#39;").replace(gd,"&#0;");else{if(!hd.test(a))return a;-1!=a.indexOf("&")&&(a=
a.replace(bd,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(cd,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(dd,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ed,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(fd,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(gd,"&#0;"))}return a},bd=/&/g,cd=/</g,dd=/>/g,ed=/"/g,fd=/'/g,gd=/\x00/g,hd=/[\x00&<>"']/,jd=function(a,b){return-1!=a.indexOf(b)},kd=function(a,b){return jd(a.toLowerCase(),b.toLowerCase())},md=function(a,b){var c=0;a=$c(String(a)).split(".");b=$c(String(b)).split(".");
for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",g=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;c=ld(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||ld(0==f[2].length,0==g[2].length)||ld(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return c},ld=function(a,b){return a<b?-1:a>b?1:0};var od=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=nd};k=od.prototype;k.implementsGoogStringTypedString=!0;k.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};k.implementsGoogI18nBidiDirectionalString=!0;k.getDirection=function(){return 1};k.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"};
var qd=function(a){return pd(a).toString()},pd=function(a){if(a instanceof od&&a.constructor===od&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===nd)return a.privateDoNotAccessOrElseSafeUrlWrappedValue_;pb("expected object of type SafeUrl, got '"+a+"' of type "+Xa(a));return"type_error:SafeUrl"},rd=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,
sd=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,ud=function(a){a=a.replace(/(%0A|%0D)/g,"");var b=a.match(sd);b=b&&rd.test(b[1]);return td(b?a:"about:invalid#zClosurez")},vd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,wd=function(a){if(a instanceof od)return a;a="object"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);vd.test(a)||(a="about:invalid#zClosurez");return td(a)},xd=function(a,b){if(a instanceof od)return a;a="object"==typeof a&&a.implementsGoogStringTypedString?
a.getTypedStringValue():String(a);if(b&&/^data:/i.test(a)&&(b=ud(a),b.getTypedStringValue()==a))return b;I(vd.test(a),"%s does not match the safe URL pattern",a)||(a="about:invalid#zClosurez");return td(a)},nd={},td=function(a){var b=new od;b.privateDoNotAccessOrElseSafeUrlWrappedValue_=a;return b},yd=td("about:blank");var Ad=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=zd};Ad.prototype.implementsGoogStringTypedString=!0;var zd={};Ad.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};Ad.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"};
var Bd=function(a){if(a instanceof Ad&&a.constructor===Ad&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===zd)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;pb("expected object of type SafeStyle, got '"+a+"' of type "+Xa(a));return"type_error:SafeStyle"};Ad.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};
var Cd=(new Ad).initSecurityPrivateDoNotAccessOrElse_(""),Ed=function(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];null!=d&&(d=Za(d)?Fb(d,Dd).join(" "):Dd(d),b+=c+":"+d+";")}return b?(new Ad).initSecurityPrivateDoNotAccessOrElse_(b):Cd},Dd=function(a){if(a instanceof od)return'url("'+qd(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';a=a instanceof Ec?Fc(a):Fd(String(a));if(/[{;}]/.test(a))throw new nb("Value does not allow [{;}], got: %s.",
[a]);return a},Fd=function(a){var b=a.replace(Gd,"$1").replace(Gd,"$1").replace(Hd,"url");if(Id.test(b)){if(Jd.test(a))return pb("String value disallows comments, got: "+a),"zClosurez";for(var c=b=!0,d=0;d<a.length;d++){var e=a.charAt(d);"'"==e&&c?b=!b:'"'==e&&b&&(c=!c)}if(!b||!c)return pb("String value requires balanced quotes, got: "+a),"zClosurez";if(!Kd(a))return pb("String value requires balanced square brackets and one identifier per pair of brackets, got: "+a),"zClosurez"}else return pb("String value allows only [-,.\"'%_!# a-zA-Z0-9\\[\\]] and simple functions, got: "+
a),"zClosurez";return Md(a)},Kd=function(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,d=0;d<a.length;d++){var e=a.charAt(d);if("]"==e){if(b)return!1;b=!0}else if("["==e){if(!b)return!1;b=!1}else if(!b&&!c.test(e))return!1}return b},Id=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Hd=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Gd=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Jd=/\/\*/,Md=function(a){return a.replace(Hd,
function(b,c,d,e){var f="";d=d.replace(/^(['"])(.*)\1$/,function(g,h,l){f=h;return l});b=wd(d).getTypedStringValue();return c+f+b+f+e})};var Od=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Nd};Od.prototype.implementsGoogStringTypedString=!0;
var Nd={},Pd=function(a,b){if(jd(a,"<"))throw Error("Selector does not allow '<', got: "+a);var c=a.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(c))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+a);a:{for(var d={"(":")","[":"]"},e=[],f=0;f<c.length;f++){var g=c[f];if(d[g])e.push(d[g]);else if(oc(d,g)&&e.pop()!=g){c=!1;break a}}c=0==e.length}if(!c)throw Error("() and [] in selector must be balanced, got: "+
a);b instanceof Ad||(b=Ed(b));a=a+"{"+Bd(b).replace(/</g,"\\3C ")+"}";return(new Od).initSecurityPrivateDoNotAccessOrElse_(a)},Rd=function(a){var b="",c=function(d){Za(d)?Cb(d,c):b+=Qd(d)};Cb(arguments,c);return(new Od).initSecurityPrivateDoNotAccessOrElse_(b)};Od.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};Od.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"};
var Qd=function(a){if(a instanceof Od&&a.constructor===Od&&a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Nd)return a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;pb("expected object of type SafeStyleSheet, got '"+a+"' of type "+Xa(a));return"type_error:SafeStyleSheet"};Od.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};var Sd=(new Od).initSecurityPrivateDoNotAccessOrElse_("");var Td;a:{var Ud=D.navigator;if(Ud){var Vd=Ud.userAgent;if(Vd){Td=Vd;break a}}Td=""}var Wd=function(a){return jd(Td,a)};var Xd=function(){return Wd("Firefox")||Wd("FxiOS")},Yd=function(){return(Wd("Chrome")||Wd("CriOS"))&&!Wd("Edge")};var $d=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Zd;this.dir_=null};k=$d.prototype;k.implementsGoogI18nBidiDirectionalString=!0;k.getDirection=function(){return this.dir_};k.implementsGoogStringTypedString=!0;k.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};k.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};
var be=function(a){return ae(a).toString()},ae=function(a){if(a instanceof $d&&a.constructor===$d&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Zd)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;pb("expected object of type SafeHtml, got '"+a+"' of type "+Xa(a));return"type_error:SafeHtml"},de=function(a){if(a instanceof $d)return a;var b="object"==typeof a,c=null;b&&a.implementsGoogI18nBidiDirectionalString&&(c=a.getDirection());return ce(id(b&&a.implementsGoogStringTypedString?a.getTypedStringValue():
String(a)),c)},ee=/^[a-zA-Z0-9-]+$/,fe={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},ge={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},ie=function(a,b,c){var d=String(a);if(!ee.test(d))throw Error("Invalid tag name <"+d+">.");if(d.toUpperCase()in ge)throw Error("Tag name <"+d+"> is not allowed for SafeHtml.");return he(String(a),b,c)},ke=function(a){var b=de(je),c=b.getDirection(),d=[],e=function(f){Za(f)?
Cb(f,e):(f=de(f),d.push(be(f)),f=f.getDirection(),0==c?c=f:0!=f&&c!=f&&(c=null))};Cb(a,e);return ce(d.join(be(b)),c)},le=function(a){return ke(Array.prototype.slice.call(arguments))},Zd={},ce=function(a,b){return(new $d).initSecurityPrivateDoNotAccessOrElse_(a,b)};$d.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};
var he=function(a,b,c){var d=null,e="";if(b)for(l in b){if(!ee.test(l))throw Error('Invalid attribute name "'+l+'".');var f=b[l];if(null!=f){var g=a;var h=l;if(f instanceof Ec)f=Fc(f);else if("style"==h.toLowerCase()){if(!bb(f))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof f+" given: "+f);f instanceof Ad||(f=Ed(f));f=Bd(f)}else{if(/^on/i.test(h))throw Error('Attribute "'+h+'" requires goog.string.Const value, "'+f+'" given.');if(h.toLowerCase()in
fe)if(f instanceof Nc)f=Pc(f);else if(f instanceof od)f=qd(f);else if(F(f))f=wd(f).getTypedStringValue();else throw Error('Attribute "'+h+'" on tag "'+g+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+f+'" given.');}f.implementsGoogStringTypedString&&(f=f.getTypedStringValue());I(F(f)||Pa(f),"String or number value expected, got "+typeof f+" with value: "+f);h=h+'="'+id(String(f))+'"';e+=" "+h}}var l="<"+a+e;null!=c?Za(c)||(c=[c]):c=[];!0===Bc[a.toLowerCase()]?(I(!c.length,"Void tag <"+
a+"> does not allow content."),l+=">"):(d=le(c),l+=">"+be(d)+"</"+a+">",d=d.getDirection());(a=b&&b.dir)&&(/^(ltr|rtl|auto)$/i.test(a)?d=0:d=null);return ce(l,d)},me=ce("<!DOCTYPE html>",0),je=ce("",0),ne=ce("<br>",0);var oe=function(a,b,c){rb(Fc(a),"must provide justification");I(!Zc(Fc(a)),"must provide non-empty justification");return ce(b,c||null)},pe=function(a){var b=Gc("Output of CSS sanitizer");rb(Fc(b),"must provide justification");I(!Zc(Fc(b)),"must provide non-empty justification");return(new Ad).initSecurityPrivateDoNotAccessOrElse_(a)},qe=function(a,b){rb(Fc(a),"must provide justification");I(!Zc(Fc(a)),"must provide non-empty justification");return Sc(b)};var re={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},se=ec(function(){if("undefined"===typeof document)return!1;var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);if(!a.firstChild)return!1;b=a.firstChild.firstChild;a.innerHTML=ae(je);return!b.parentElement}),te=function(a,b){if(se())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=ae(b)},ue=function(a,b){if(re[a.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+
a.tagName+".");te(a,b)},ve=function(a,b){cc(a,"HTMLAnchorElement");b=b instanceof od?b:xd(b);a.href=pd(b)},we=function(a,b){cc(a,"HTMLIFrameElement");a.src=b.trustedURL_?b.trustedURL_:Pc(b)},xe=function(a,b){cc(a,"HTMLScriptElement");a.src=Oc(b);(b=Sa())&&a.setAttribute("nonce",b)},ye=function(a,b){var c=ac(a);c&&(!a||!(a instanceof c.Location)&&a instanceof c.Element)&&pb("Argument is not a Location (or a non-Element mock); got: %s",bc(a));b=b instanceof od?b:xd(b);a.href=pd(b)},ze=function(a,b,
c,d){a=a instanceof od?a:xd(a);return(b||D).open(pd(a),c?Fc(c):"",d,void 0)};var Ae=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Be=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},Ce=function(a){return encodeURIComponent(String(a))},De=function(a){return decodeURIComponent(a.replace(/\+/g," "))},Ee=function(a,b){return a=id(a,b)},Ge=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c=D.document.createElement("div");
return a.replace(Fe,function(d,e){var f=b[d];if(f)return f;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(f=String.fromCharCode(e)));f||(ue(c,oe(Gc("Single HTML entity."),d+" ")),f=c.firstChild.nodeValue.slice(0,-1));return b[d]=f})},He=function(a){return a.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?b:String.fromCharCode(c)}})},Fe=/&([^;\s<&]+);?/g,
Ie=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a},Je={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},Ke={"'":"\\'"},Le=function(a){a=String(a);for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=Je[d])){if(!(31<e&&127>e))if(d in Ke)d=Ke[d];else if(d in Je)d=Ke[d]=Je[d];else{g=d.charCodeAt(0);
if(31<g&&127>g)e=d;else{if(256>g){if(e="\\x",16>g||256<g)e+="0"}else e="\\u",4096>g&&(e+="0");e+=g.toString(16).toUpperCase()}d=Ke[d]=e}g=d}b[f]=g}b.push('"');return b.join("")},Me=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ne=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},Oe=function(a,b){a=E(void 0)?a.toFixed(void 0):String(a);var c=a.indexOf(".");-1==c&&(c=a.length);return Ne("0",Math.max(0,
b-c))+a},Pe=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^jb()).toString(36)},Qe=function(a){var b=Number(a);return 0==b&&Zc(a)?NaN:b},Re=function(a){return String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})},Se=function(a){var b=F(void 0)?Me(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(c,d,e){return d+e.toUpperCase()})};/*

 Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at
 http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at
 http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at
 http://polymer.github.io/PATENTS.txt
*/
var Te={align:1,alt:1,"aria-activedescendant":10,"aria-atomic":1,"aria-autocomplete":1,"aria-busy":1,"aria-checked":1,"aria-disabled":1,"aria-dropeffect":1,"aria-expanded":1,"aria-haspopup":1,"aria-hidden":1,"aria-invalid":1,"aria-label":1,"aria-level":1,"aria-live":1,"aria-multiline":1,"aria-multiselectable":1,"aria-orientation":1,"aria-posinset":1,"aria-pressed":1,"aria-readonly":1,"aria-relevant":1,"aria-required":1,"aria-selected":1,"aria-setsize":1,"aria-sort":1,"aria-valuemax":1,"aria-valuemin":1,
"aria-valuenow":1,"aria-valuetext":1,autocapitalize:1,autocomplete:1,autocorrect:1,autofocus:1,bgcolor:1,border:1,checked:1,"class":1,color:1,cols:1,colspan:1,contenteditable:1,dir:8,disabled:1,draggable:1,enctype:1,face:1,"for":10,formenctype:1,frameborder:1,height:1,hidden:1,href:4,hreflang:1,id:10,ismap:1,itemid:1,itemprop:1,itemref:1,itemscope:1,itemtype:1,label:1,lang:1,list:10,loop:1,max:1,maxlength:1,min:1,multiple:1,muted:1,name:10,placeholder:1,preload:1,rel:1,required:1,reversed:1,role:1,
rows:1,rowspan:1,selected:1,shape:1,size:1,sizes:1,span:1,spellcheck:1,src:4,start:1,step:1,style:5,summary:1,tabindex:1,target:8,title:1,translate:1,valign:1,value:1,width:1,wrap:1},Ue={a:{href:[{contract:3}]},area:{href:[{contract:3}]},audio:{src:[{contract:3}]},blockquote:{cite:[{contract:3}]},button:{formaction:[{contract:3}],formmethod:[{contract:1}],type:[{contract:1}]},command:{type:[{contract:1}]},content:{select:[{contract:1}]},del:{cite:[{contract:3}]},details:{open:[{contract:1}]},form:{action:[{contract:3}],
method:[{contract:1}]},iframe:{srcdoc:[{contract:2}]},img:{src:[{contract:3}],srcset:[{contract:11}]},input:{formaction:[{contract:3}],formmethod:[{contract:1}],pattern:[{contract:1}],readonly:[{contract:1}],src:[{contract:3}],type:[{contract:1}]},ins:{cite:[{contract:3}]},li:{type:[{contract:1}]},link:{href:[{contract:3,contingentAttribute:"rel",requiredValue:"alternate"},{contract:3,contingentAttribute:"rel",requiredValue:"author"},{contract:3,contingentAttribute:"rel",requiredValue:"bookmark"},
{contract:3,contingentAttribute:"rel",requiredValue:"canonical"},{contract:3,contingentAttribute:"rel",requiredValue:"cite"},{contract:3,contingentAttribute:"rel",requiredValue:"help"},{contract:3,contingentAttribute:"rel",requiredValue:"icon"},{contract:3,contingentAttribute:"rel",requiredValue:"license"},{contract:3,contingentAttribute:"rel",requiredValue:"next"},{contract:3,contingentAttribute:"rel",requiredValue:"prefetch"},{contract:3,contingentAttribute:"rel",requiredValue:"dns-prefetch"},{contract:3,
contingentAttribute:"rel",requiredValue:"prerender"},{contract:3,contingentAttribute:"rel",requiredValue:"preconnect"},{contract:3,contingentAttribute:"rel",requiredValue:"preload"},{contract:3,contingentAttribute:"rel",requiredValue:"prev"},{contract:3,contingentAttribute:"rel",requiredValue:"search"},{contract:3,contingentAttribute:"rel",requiredValue:"subresource"}],media:[{contract:1}],nonce:[{contract:1}],type:[{contract:1}]},menuitem:{icon:[{contract:3}]},ol:{type:[{contract:1}]},q:{cite:[{contract:3}]},
script:{nonce:[{contract:1}],type:[{contract:1}]},source:{media:[{contract:1}],src:[{contract:3}]},style:{media:[{contract:1}],nonce:[{contract:1}]},table:{cellpadding:[{contract:1}],cellspacing:[{contract:1}]},textarea:{readonly:[{contract:1}]},time:{datetime:[{contract:1}]},video:{autoplay:[{contract:1}],controls:[{contract:1}],poster:[{contract:3}],src:[{contract:3}]}},Ve={a:1,abbr:1,address:1,applet:4,area:5,article:1,aside:1,audio:1,b:1,base:4,bdi:1,bdo:1,blockquote:1,body:1,br:5,button:1,canvas:1,
caption:1,cite:1,code:1,col:5,colgroup:1,command:1,content:1,data:1,datalist:1,dd:1,del:1,details:1,dfn:1,dialog:1,div:1,dl:1,dt:1,em:1,embed:4,fieldset:1,figcaption:1,figure:1,font:1,footer:1,form:1,frame:1,frameset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,head:1,header:1,hr:5,html:1,i:1,iframe:1,img:5,input:5,ins:1,kbd:1,keygen:5,label:1,legend:1,li:1,link:5,main:1,map:1,mark:1,math:4,menu:1,menuitem:1,meta:4,meter:1,nav:1,noscript:1,object:4,ol:1,optgroup:1,option:1,output:1,p:1,param:5,picture:1,pre:1,
progress:1,q:1,rb:1,rp:1,rt:1,rtc:1,ruby:1,s:1,samp:1,script:3,section:1,select:1,slot:1,small:1,source:5,span:1,strong:1,style:2,sub:1,summary:1,sup:1,svg:4,table:1,tbody:1,td:1,template:4,textarea:6,tfoot:1,th:1,thead:1,time:1,title:6,tr:1,track:5,u:1,ul:1,"var":1,video:1,wbr:5},We=[{auto:!0,ltr:!0,rtl:!0},{_self:!0,_blank:!0}],Xe={"*":{dir:0,target:1}};var af=function(){if(!Ye){Ye=vc(Ze);for(var a=0,b=$e.length;a<b;++a){var c=$e[a];Ye[c.toLowerCase()]=c}}return Ye},$e="aLink accessKey allowFullscreen bgColor cellPadding cellSpacing codeBase codeType contentEditable crossOrigin dateTime dirName formAction formEnctype formMethod formNoValidate formTarget frameBorder innerHTML innerText inputMode isMap longDesc marginHeight marginWidth maxLength mediaGroup minLength noHref noResize noShade noValidate noWrap nodeValue outerHTML outerText readOnly tabIndex textContent trueSpeed useMap vAlign vLink valueAsDate valueAsNumber valueType".split(" "),
Ze={accept_charset:"acceptCharset","char":"ch",charoff:"chOff",checked:"defaultChecked","class":"className","for":"htmlFor",http_equiv:"httpEquiv",muted:"defaultMuted",selected:"defaultSelected",value:"defaultValue"},Ye=null,bf=null;var cf={},df=!1,ef=0,ff=/^(?!(?:annotation-xml|color-profile|font-face|font-face(?:-(?:src|uri|format|name))?|missing-glyph)$)[a-z][a-z.0-9_\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u200c\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\udfff\uf900-\ufdcf\ufdf0-\ufffd]*-[\-a-z.0-9_\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u200c\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\udfff\uf900-\ufdcf\ufdf0-\ufffd]*$/,gf=function(a,b){var c=window.customElements;if(df){for(var d=window.Polymer.telemetry.registrations,
e=d.length,f=ef;f<e;++f)cf[d[f].is]=cf;ef=e}return c&&c.get(a)||cf[a]===cf?2:"HTMLUnknownElement"===b.name?1:"HTMLElement"===b.name&&ff.test(a)?3:0};/*

 Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at
 http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at
 http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at
 http://polymer.github.io/PATENTS.txt
*/
var hf=function(a){return a&&a.implementsGoogStringTypedString?a.getTypedStringValue():a},jf={CONSTANT:{typeToUnwrap:Ec,unwrap:Fc},JAVASCRIPT:{typeToUnwrap:Jc,unwrap:Lc},HTML:{typeToUnwrap:$d,unwrap:be},RESOURCE_URL:{typeToUnwrap:Nc,unwrap:Pc},STRING:{typeToUnwrap:Object,unwrap:hf},STYLE:{typeToUnwrap:Ad,unwrap:Bd},URL:{typeToUnwrap:od,unwrap:qd}},kf=function(a,b){return b},lf={CONSTANT:kf,JAVASCRIPT:kf,HTML:Ee,RESOURCE_URL:kf,STRING:String,STYLE:kf,URL:function(a,b){a=wd(a).getTypedStringValue();
return"about:invalid#zClosurez"===a?b:a}};var mf=/(?!,)([^\t\n\f\r ]+)(?:[\t\n\f\r ]+([.0-9+\-]+[a-z]?))?/gi,nf=/[\t\n\f\r ]+/,of=/[\t\n\f\r ,]+/g,pf=function(a){return(a=a.split(nf,2))?{url:a[0],metadata:a[1]}:null},qf=function(a){var b=String(a.url).replace(of,encodeURIComponent);if(a=a.metadata){of.lastIndex=0;if(of.test(a))return null;b+=" "+a}return b},rf=function(a,b,c){for(var d=[b],e=2,f=arguments.length;e<f;++e)d[e-1]=arguments[e];a?console.warn.apply(console,d):console.log.apply(console,d)},sf=function(a,b,c){return c},tf=function(a){function b(w){var v=
this.getAttribute(w);return!v||/[\[\{]/.test(w)?null:v}function c(w,v,A,H){if(!H&&H!==document.all)return H;var C=w.nodeType;if(C!==Node.ELEMENT_NODE){if(C===Node.TEXT_NODE){C=w.parentElement;v=!C;if(C&&C.nodeType===Node.ELEMENT_NODE)switch(A=C.localName,gf(A,C.constructor)){case 0:case 1:C=Object.hasOwnProperty.call(Ve,A)?Ve[A]:null;v=1===C||6===C;break;case 3:case 2:v=!0}if(v)return""+e(H,"STRING",H)}d&&d(!0,"Failed to sanitize %s %s%s node to value %O",w.parentElement&&w.parentElement.nodeName,
"#text","",H);return"zClosurez"}C=w.localName;var J=w.localName;if(w.getAttribute("is")||2!==gf(J,w.constructor)){var L=p[J];L||(L=p[J]=document.createElement(J));J=L}else J=r;switch(A){case "attribute":L=String(v).toLowerCase();var W=af()[L];if((F(W)?W:Re(L))in J)break;return H;case "property":if(v in J)break;L=v.toLowerCase();L=af()[L];if((L=F(L)?L:null)&&L in J)break;return H;default:throw Error(A+": "+typeof A);}"attribute"==A?v=v.toLowerCase():(A=bf,A||(A=af(),A=bf=xc(A)),A=A[v],v=F(A)?A:String(v).replace(/([A-Z])/g,
"-$1").toLowerCase());a:{w=hb(b,w);if(Object.hasOwnProperty.call(Ue,C)&&(A=Ue[C],Object.hasOwnProperty.call(A,v)&&(A=A[v],A instanceof Array))){J=null;L=!1;W=0;for(var Ha=A.length;W<Ha;++W){var Ya=A[W],tb=Ya.contingentAttribute;if(!tb){J=Ya.contract;break a}null===J&&(J={});tb=Object.hasOwnProperty.call(J,tb)?J[tb]:J[tb]=w(tb);if(tb===Ya.requiredValue){J=Ya.contract;break a}null==tb&&(L=!0)}if(L){J=null;break a}}w=Te[v];J="number"===typeof w?w:null}A=m;w=null;null!=J&&(J=n[J],L=J.safeType,w=J.safeReplacement,
L&&(A=e(H,L,m)),A===m&&(J.filterString?(A=""+e(H,"STRING",H),A=J.filterString(C,v,A)):J.filterRaw&&(A=J.filterRaw(C,v,H)),A===w&&(A=m)));A===m&&(A=w||"zClosurez",d&&d(!0,'Failed to sanitize attribute of <%s>: <%s %s="%O">',C,C,v,H));return A}var d=a.reportHandler||void 0,e=a.safeTypesBridge||sf,f=a.UNSAFE_passThruDisallowedValues,g=!1;null!=f&&(g=!0===f);var h=/^$/;if(a=a.allowedIdentifierPrefixes){f=0;for(var l=a.length;f<l;++f)h=new RegExp(h.source+"|^"+Me(a[f]))}void 0===d&&"undefined"!==typeof console&&
(d=rf);d&&d(!1,"initResin");var m={},n=[,{filterRaw:null,filterString:function(w,v,A){return A},safeReplacement:null,safeType:null},{filterRaw:null,filterString:null,safeReplacement:null,safeType:"HTML"},{filterRaw:null,filterString:null,safeReplacement:"about:invalid#zClosurez",safeType:"URL"},{filterRaw:null,filterString:null,safeReplacement:"about:invalid#zClosurez",safeType:"RESOURCE_URL"},{filterRaw:null,filterString:null,safeReplacement:"zClosurez",safeType:"STYLE"},,{filterRaw:null,filterString:null,
safeReplacement:" /*zClosurez*/ ",safeType:"JAVASCRIPT"},{filterRaw:null,filterString:function(w,v,A){A=String(A).toLowerCase();a:{var H=null;(w=Xe[w])&&(H=w[v]);if("number"!==typeof H&&((w=Xe["*"])&&(H=w[v]),"number"!==typeof H)){v=!1;break a}v=!0===We[H][String(A).toLowerCase()]}return v?A:"zClosurez"},safeReplacement:"zClosurez",safeType:null},{filterRaw:null,filterString:null,safeReplacement:"zClosurez",safeType:"CONSTANT"},{filterRaw:null,filterString:function(w,v,A){return h.test(A)?A:"zClosurez"},
safeReplacement:"zClosurez",safeType:"CONSTANT"},{filterRaw:function(w,v,A){var H=A;"string"===typeof H&&(H=(H=H.match(mf))?H.map(pf).filter(Boolean):[]);if(!Array.isArray(H))return"about:invalid#zClosurez";var C=H,J=e;H=[];var L=[],W={};if(Array.isArray(C))for(var Ha=0,Ya=C.length;Ha<Ya;++Ha){var tb=C[Ha],ma=tb&&tb.url;if(ma){var Jb=J(ma,"URL",W);if(Jb){var Tc=Jb!==W;(Tc?H:L).push({url:Tc?Jb:ma,metadata:tb.metadata})}}}else L.push(C);C=L.length?JSON.stringify(L):null;J=m;if(H.length){if(!Array.isArray(H))throw Error();
J=H.map(qf).filter(Boolean).join(" , ")||m}C&&d&&d(!0,'Failed to sanitize attribute value of <%s>: <%s %s="%O">: %s',w,w,v,A,C);return J===m?"about:invalid#zClosurez":J},filterString:null,safeReplacement:null,safeType:null}],p={},r=document.createElement("polyresinuncustomized");return g?function(w,v,A,H){c(w,v,A,H);return H}:c};(function(a){var b=tf(a||{});if(/^1\./.test(Polymer.version)){df=!0;var c=Polymer.Base._computeFinalAnnotationValue;a=function(e,f,g,h){g=c.call(this,e,f,g,h);var l="property";h&&h.propertyName?f=h.propertyName:l=h&&h.kind||"property";return b(e,f,l,g)};Polymer.Base._computeFinalAnnotationValue=a;if(Polymer.Base._computeFinalAnnotationValue!==a)throw Error("Cannot replace _computeFinalAnnotationValue.  Is Polymer frozen?");}else{var d=Polymer.sanitizeDOMValue||Polymer.Settings&&Polymer.Settings.sanitizeDOMValue;
a=function(e,f,g,h){e=d?d.call(Polymer,e,f,g,h):e;return h?b(h,f,g,e):"zClosurez"};if(Polymer.Settings&&Polymer.Settings.setSanitizeDOMValue)Polymer.Settings.setSanitizeDOMValue(a);else if(Polymer.sanitizeDOMValue=a,Polymer.sanitizeDOMValue!==a)throw Error("Cannot install sanitizeDOMValue.  Is Polymer frozen?");}})({allowedIdentifierPrefixes:[""],reportHandler:rf,safeTypesBridge:function(a,b,c){var d=jf[b];return a instanceof d.typeToUnwrap&&(d=d.unwrap(a,c),d!==c)?d:(0,lf[b])(""+hf(a),c)}});var uf=function(a){return Fb(a,function(b){b=b.toString(16);return 1<b.length?b:"0"+b}).join("")};var vf=function(){return Wd("iPhone")&&!Wd("iPod")&&!Wd("iPad")},wf=function(){return vf()||Wd("iPad")||Wd("iPod")};var xf=function(a){xf[" "](a);return a};xf[" "]=Va;var yf=function(a,b){try{return xf(a[b]),!0}catch(c){}return!1},Af=function(a,b){var c=zf;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Cf=Wd("Opera"),Df=Wd("Trident")||Wd("MSIE"),Ef=Wd("Edge"),Ff=Ef||Df,Gf=Wd("Gecko")&&!(kd(Td,"WebKit")&&!Wd("Edge"))&&!(Wd("Trident")||Wd("MSIE"))&&!Wd("Edge"),Hf=kd(Td,"WebKit")&&!Wd("Edge"),If=Hf&&Wd("Mobile"),Jf=Wd("Macintosh"),Kf=Wd("Windows");Wd("Linux")||Wd("CrOS");var Lf=D.navigator||null;Lf&&jd(Lf.appVersion||"","X11");var Mf=Wd("Android"),Nf=vf(),Of=Wd("iPad"),Pf=Wd("iPod"),Qf=wf();kd(Td,"KaiOS");kd(Td,"GAFP");var Rf=function(){var a=D.document;return a?a.documentMode:void 0},Sf;
a:{var Tf="",Uf=function(){var a=Td;if(Gf)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ef)return/Edge\/([\d\.]+)/.exec(a);if(Df)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Hf)return/WebKit\/(\S+)/.exec(a);if(Cf)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Uf&&(Tf=Uf?Uf[1]:"");if(Df){var Vf=Rf();if(null!=Vf&&Vf>parseFloat(Tf)){Sf=String(Vf);break a}}Sf=Tf}var Wf=Sf,zf={},Xf=function(a){return Af(a,function(){return 0<=md(Wf,a)})},Zf=function(a){return Number(Yf)>=a},$f;var ag=D.document;
$f=ag&&Df?Rf()||("CSS1Compat"==ag.compatMode?parseInt(Wf,10):5):void 0;var Yf=$f;var bg=Xd(),cg=vf()||Wd("iPod"),dg=Wd("iPad"),eg=Wd("Android")&&!(Yd()||Xd()||Wd("Opera")||Wd("Silk")),fg=Yd(),gg=Wd("Safari")&&!(Yd()||Wd("Coast")||Wd("Opera")||Wd("Edge")||Xd()||Wd("Silk")||Wd("Android"))&&!wf();var hg=null,ig=null,jg=null,lg=function(a,b){I($a(a),"encodeByteArray takes an array as a parameter");kg();b=b?jg:hg;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,l=h?a[d+2]:0,m=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|l>>6;l&=63;h||(l=64,f||(g=64));c.push(b[m],b[e],b[g],b[l])}return c.join("")},ng=function(a){I(!Df||Xf("10"),"Browser does not support typed arrays");var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=
0;mg(a,function(f){d[e++]=f});return d.subarray(0,e)},mg=function(a,b){function c(l){for(;d<a.length;){var m=a.charAt(d++),n=ig[m];if(null!=n)return n;if(!Zc(m))throw Error("Unknown base64 encoding at char: "+m);}return l}kg();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},kg=function(){if(!hg){hg={};ig={};jg={};for(var a=0;65>a;a++)hg[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),
ig[hg[a]]=a,jg[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),62<=a&&(ig["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};Object.freeze&&Object.freeze([]);var og=function(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if($a(a)||F(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a},pg=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if(F(a))return a.split("");if($a(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return mc(a)},qg=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if($a(a)||F(a)){var b=[];a=a.length;
for(var c=0;c<a;c++)b.push(c);return b}return nc(a)}},rg=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if($a(a)||F(a))Cb(a,b,c);else for(var d=qg(a),e=pg(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)},sg=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);if($a(a)||F(a))return Hb(a,b,void 0);for(var c=qg(a),d=pg(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};var tg=function(a){this.value_=void 0;this.childNodes_={};if(a){var b=qg(a);a=pg(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}};tg.prototype.set=function(a,b){ug(this,a,b,!1)};tg.prototype.add=function(a,b){ug(this,a,b,!0)};var ug=function(a,b,c,d){for(var e=0;e<b.length;e++){var f=b.charAt(e);a.childNodes_[f]||(a.childNodes_[f]=new tg);a=a.childNodes_[f]}if(d&&void 0!==a.value_)throw Error('The collection already contains the key "'+b+'"');a.value_=c};
tg.prototype.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.childNodes_[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.value_:void 0};tg.prototype.getValues=function(){var a=[];vg(this,a);return a};var vg=function(a,b){void 0!==a.value_&&b.push(a.value_);for(var c in a.childNodes_)vg(a.childNodes_[c],b)};tg.prototype.getKeys=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.childNodes_[e])return[];c=c.childNodes_[e]}wg(c,a,b)}else wg(this,"",b);return b};
var wg=function(a,b,c){void 0!==a.value_&&c.push(b);for(var d in a.childNodes_)wg(a.childNodes_[d],b+d,c)};k=tg.prototype;k.containsKey=function(a){return void 0!==this.get(a)};k.containsValue=function(a){if(this.value_===a)return!0;for(var b in this.childNodes_)if(this.childNodes_[b].containsValue(a))return!0;return!1};k.clear=function(){this.childNodes_={};this.value_=void 0};
k.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a.charAt(d);if(!b.childNodes_[e])throw Error('The collection does not have the key "'+a+'"');c.push([b,e]);b=b.childNodes_[e]}a=b.value_;for(delete b.value_;0<c.length;)if(e=c.pop(),b=e[0],e=e[1],b.childNodes_[e].isEmpty())delete b.childNodes_[e];else break;return a};k.clone=function(){return new tg(this)};k.getCount=function(){return og(this.getValues())};k.isEmpty=function(){return void 0===this.value_&&rc(this.childNodes_)};var xg=[{name:"SELECT",type:"select"},{name:"FROM",type:"from"},{name:"INNER JOIN",type:"join"},{name:"CROSS JOIN",type:"join"},{name:"FULL OUTER JOIN",type:"join"},{name:"FULL JOIN",type:"join"},{name:"LEFT OUTER JOIN",type:"join"},{name:"LEFT JOIN",type:"join"},{name:"RIGHT OUTER JOIN",type:"join"},{name:"RIGHT JOIN",type:"join"},{name:"JOIN",type:"join"},{name:"ON",type:"on"},{name:"USING",type:"using"},{name:"WHERE",type:"where"},{name:"GROUP BY",type:"group"},{name:"HAVING",type:"having"},{name:"ORDER BY",
type:"order"},{name:"UNION ALL",type:"union"},{name:"UNION DISTINCT",type:"union"},{name:"LIMIT",type:"limit"},{name:"OFFSET",type:"offset"},{name:"WITH",type:"with"},{name:"PARTITION BY",type:"partition"},{name:"WINDOW",type:"window"},{name:"CREATE TEMPORARY FUNCTION",type:"udf"},{name:"CREATE TEMP FUNCTION",type:"udf"},{name:"CREATE FUNCTION IF NOT EXISTS",type:"udf"},{name:"CREATE OR REPLACE FUNCTION",type:"udf"},{name:"CREATE FUNCTION",type:"udf"},{name:"CREATE PROCEDURE",type:"procedure"},{name:"CREATE OR REPLACE PROCEDURE",
type:"procedure"},{name:"CREATE PROCEDURE IF NOT EXISTS",type:"procedure"},{name:"DELETE",type:"delete"},{name:"INSERT INTO",type:"insert"},{name:"INSERT",type:"insert"},{name:"UPDATE",type:"update"},{name:"MERGE INTO",type:"merge"},{name:"MERGE",type:"merge"},{name:"WHEN MATCHED",type:"match"},{name:"WHEN NOT MATCHED BY TARGET",type:"match"},{name:"WHEN NOT MATCHED BY SOURCE",type:"match"},{name:"WHEN NOT MATCHED",type:"match"},{name:"SET",type:"set"},{name:"VALUES",type:"values"},{name:"CREATE TABLE IF NOT EXISTS",
type:"create"},{name:"CREATE OR REPLACE TABLE",type:"create"},{name:"CREATE TABLE",type:"create"},{name:"CREATE VIEW IF NOT EXISTS",type:"create"},{name:"CREATE OR REPLACE VIEW",type:"create"},{name:"CREATE VIEW",type:"create"},{name:"CREATE MODEL IF NOT EXISTS",type:"create"},{name:"CREATE OR REPLACE MODEL",type:"create"},{name:"CREATE MODEL",type:"create"},{name:"DROP TABLE IF EXISTS",type:"drop"},{name:"DROP TABLE",type:"drop"},{name:"DROP VIEW IF EXISTS",type:"drop"},{name:"DROP VIEW",type:"drop"},
{name:"DROP FUNCTION IF EXISTS",type:"drop"},{name:"DROP FUNCTION",type:"drop"},{name:"DROP PROCEDURE",type:"drop"},{name:"DROP PROCEDURE IF EXISTS",type:"drop"},{name:"CLUSTER BY",type:"cluster"},{name:"OPTIONS",type:"options"},{name:"ALTER TABLE IF EXISTS",type:"alter"},{name:"ALTER TABLE",type:"alter"},{name:"ALTER VIEW IF EXISTS",type:"alter"},{name:"ALTER VIEW",type:"alter"},{name:"DECLARE",type:"declare"},{name:"SET",type:"set"},{name:"IF",type:"if"},{name:"ELSE",type:"else"},{name:"ELSE IF",
type:"else"},{name:"LOOP",type:"loop"},{name:"WHILE",type:"loop"},{name:"BEGIN",type:"begin"},{name:"END",type:"end"},{name:"END IF",type:"end"},{name:"END WHILE",type:"end"},{name:"END LOOP",type:"end"},{name:"CONTINUE",type:"continue"},{name:"ITERATE",type:"continue"},{name:"BREAK",type:"break"},{name:"LEAVE",type:"break"},{name:"CALL",type:"call"}],yg=Fb(xg,function(a){return a.name}),zg=new tg;Cb(xg,function(a){zg.set(a.name,a)});
var Ag=[{first:"FROM",second:"("},{first:"JOIN",second:"("},{first:"UNION ALL",second:"("},{first:"UNION DISTINCT",second:"("}];Cb(yg,function(a){a=a.split(" ");for(var b=0;b<a.length-1;b++)Ag.push({first:a[b],second:a[b+1]})});var Bg=new tg;
Cb("ALL AND ANY ARRAY AS ASC ASSERT_ROWS_MODIFIED AT BETWEEN BY CASE CAST COLLATE CREATE CUBE CURRENT DEFAULT DEFINE DESC DISTINCT DO ELSE END ENUM ESCAPE EXCEPT EXCLUDE EXISTS EXTRACT FALSE FETCH FOLLOWING FOR FUNCTION GROUPING GROUPS HASH IF IGNORE IN INOUT INTERSECT INTERVAL INTO IS LANGUAGE LATERAL LIKE LOOKUP MERGE NATURAL NEW NOT NULL NO NULLS OF OR ORDER OUT OVER PRECEDING PROTO RANGE RECURSIVE RESPECT RETURNS ROLLUP ROW ROWS SET SOME STRUCT TABLESAMPLE TEMPORARY THEN TO TREAT TRUE UNBOUNDED UNION UNNEST WHEN WITHIN".split(" "),function(a){Bg.set(a,
!0)});(function(a,b){var c=new tg;a.getKeys().forEach(function(d){c.set(d,!0)});b.getKeys().forEach(function(d){d.split(" ").forEach(function(e){c.set(e,!0)})});return c})(Bg,zg);
var Cg=[{name:"ABS",args:"numeric_expr",description:"Computes absolute value. Returns an error if the argument is an integer and the output value cannot be represented as the same type; this happens only for the largest negative input value, which has no positive representation. Returns +inf for a +/-inf argument."},{name:"ACOS",args:"numeric_expr",description:"Computes the principal value of the arc cosine of <numeric_expr>. The return value is in the range [0,]. Generates an error if <numeric_expr> is a finite value outside of range [-1, 1]."},
{name:"ACOSH",args:"numeric_expr",description:"Computes the inverse hyperbolic cosine of <numeric_expr>. Generates an error if <numeric_expr> is a finite value less than 1."},{name:"ANY_VALUE",args:"expr",description:"Returns any value from the input or NULL if there are zero input rows. The value returned is non-deterministic, which means you might receive a different result each time you use this function."},{name:"APPROX_COUNT_DISTINCT",args:"expr",description:"Returns the approximate result for COUNT(DISTINCT <expr>). The value returned is a statistical estimate\u2014not necessarily the actual value.\n\nThis function is less accurate than COUNT(DISTINCT <expr>), but performs better on huge input."},
{name:"APPROX_QUANTILES",args:"expr, number",description:"Returns the approximate boundaries for a group of <expr> values, where <number> represents the number of quantiles to create. This function returns an array of <number> + 1 elements, where the first element is the approximate minimum and the last element is the approximate maximum."},{name:"APPROX_TOP_COUNT",args:"expr, number",description:"Returns the approximate top elements of <expr>. The <number> parameter specifies the number of elements returned."},
{name:"ARRAY_AGG",args:"expr",description:"Returns an ARRAY of <expr> values."},{name:"ARRAY_CONCAT",args:"array_expr1 [, array_expr_n]",description:"Concatenates one or more arrays with the same element type into a single array."},{name:"ARRAY_CONCAT_AGG",args:"expr",description:"Concatenates elements from <expr> of type ARRAY, returning a single ARRAY as a result. This function ignores NULL input arrays, but respects the NULL elements in non-NULL input arrays (an error is raised, however, if an array in the final query result contains a NULL element)."},
{name:"ARRAY_LENGTH",args:"array_expr",description:"Returns the size of the array. Returns 0 for an empty array. Returns NULL if the <array_expr> is NULL."},{name:"ARRAY_TO_STRING",args:"array_expr, delimiter [, null_text]",description:"Returns a concatenation of the elements in <array_expr> as a STRING. The value for <array_expr> can either be an array of STRING or BYTES data types."},{name:"ASIN",args:"numeric_expr",description:"Computes the principal value of the arc sine of <numeric_expr>. The return value is in the range [-\u03c0/2,\u03c0/2]. Generates an error if X is a finite value outside of range [-1, 1]."},
{name:"ASINH",args:"numeric_expr",description:"Computes the inverse hyperbolic sine of <numeric_expr>. Does not fail."},{name:"ATAN",args:"numeric_expr",description:"Computes the principal value of the arc tangent of <numeric_expr>. The return value is in the range [-\u03c0/2,\u03c0/2]. Does not fail."},{name:"ATANH",args:"numeric_expr",description:"Computes the inverse hyperbolic tangent of <numeric_expr>. Generates an error if the absolute value of <numeric_expr> is greater or equal 1."},{name:"ATAN2",
args:"numeric_expr, numeric_expr",description:"Calculates the principal value of the arc tangent of Y/X using the signs of the two arguments to determine the quadrant. The return value is in the range [-\u03c0,\u03c0]. "},{name:"AVG",args:"expr",description:"Returns the average of non-NULL input values, or NaN if the input contains a NaN."},{name:"BIT_AND",args:"expr",description:"Performs a bitwise AND operation on expression and returns the result."},{name:"BIT_OR",args:"expr",description:"Performs a bitwise OR operation on expression and returns the result."},
{name:"BIT_XOR",args:"expr",description:"Performs a bitwise XOR operation on <expr> and returns the result."},{name:"BYTE_LENGTH",args:"value",description:"Returns the length of the <value> in bytes, regardless of whether the type of the value is STRING or BYTES."},{name:"CAST",args:"expr AS typename",description:"Converts <expr> into a variable of type <typename>."},{name:"CEIL",args:"numeric_expr",description:"Returns the smallest integral value (with FLOAT64 type) that is not less than <numeric_expr>."},
{name:"CEILING",args:"numeric_expr",description:"Synonym of CEIL."},{name:"CHAR_LENGTH",args:"value",description:"Returns the length of the STRING in characters."},{name:"CHARACTER_LENGTH",args:"value",description:"Synonym for CHAR_LENGTH."},{name:"CONCAT",args:"value1 [, ...]",description:"Concatenates one or more values into a single result."},{name:"COS",args:"numeric_expr",description:"Computes cosine of <numeric_expr>. Never fails."},{name:"COSH",args:"numeric_expr",description:"Computes the hyperbolic cosine of <numeric_expr>. Generates an error if an overflow occurs."},
{name:"COUNT",args:"expr",description:"Returns the total number of values (NULL and non-NULL for <*>, non-NULL for <field>) in the scope of the function. With DISTINCT returns the number of distinct values for the specified field."},{name:"COUNTIF",args:"expr",description:"Returns the count of TRUE values for <expr>. Returns 0 if there are zero input rows or <expr> evaluates to FALSE for all rows."},{name:"CUME_DIST",args:"",description:"Return the relative rank of a row defined as NP/NR. NP is defined to be the number of rows that either precede or are peers with the current row. NR is the number of rows in the partition."},
{name:"CURRENT_DATE",args:"[time_zone]",description:"Returns the current date as of the specified or default timezone.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#current_date"},{name:"CURRENT_TIMESTAMP",args:"",description:"Parentheses are optional. This function handles leap seconds by smearing them across a window of 20 hours around the inserted leap second. CURRENT_TIMESTAMP() produces a TIMESTAMP value that is continuous, non-ambiguous, has exactly 60 seconds per minute and does not repeat values over the leap second."},
{name:"DATE",args:"timestamp_expr [, time_zone]",description:"Converts a <timestamp_expr> to a DATE data type. It supports an optional parameter to specify a timezone. If no timezone is specified, the default timezone, UTC, is used.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#date"},{name:"DATE_ADD",args:"date_expr, INTERVAL int64_expr date_part",description:"Adds a specified time interval to a DATE.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#date_add"},
{name:"DATE_DIFF",args:"date_expr, date_expr, date_part",description:"Returns the number of <date_part> boundaries between the two <date_expr>s. If the first date occurs before the second date, then the result is non-positive.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#date_diff"},{name:"DATE_FROM_UNIX_DATE",args:"INT64_expr",description:"Interprets <INT64_expr> as the number of days since 1970-01-01."},{name:"DATE_SUB",args:"date_expr, INTERVAL int64_expr date_part",
description:"Subtracts a specified time interval from a DATE.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#date_sub"},{name:"DATE_TRUNC",args:"date_expr, date_part",description:"Truncates the date to the specified granularity.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#date_trunc"},{name:"DENSE_RANK",args:"",description:"Returns the ordinal (1-based) rank of each row within the window partition. All peer rows receive the same rank value, and the subsequent rank value is incremented by one."},
{name:"DIV",args:"numeric_expr, numeric_expr",description:"Returns the result of integer division of X by Y. Division by zero returns an error. Division by -1 may overflow. See the table below for possible result types."},{name:"ENDS_WITH",args:"value1, value2",description:"Takes two values. Returns TRUE if <value2> is a suffix of <value1>."},{name:"EXP",args:"numeric_expr",description:"Computes e to the power of <numeric_expr>, also called the natural exponential function. If the result underflows, this function returns a zero. Generates an error if the result overflows. If <numeric_expr> is +/-inf, then this function returns +inf or 0."},
{name:"EXTRACT",args:"datetime_part FROM timestamp_expr [AT TIME ZONE tz_spec]",description:"Returns the value corresponding to the specified date part.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#extract"},{name:"FIRST_VALUE",args:"value_expr",description:"Returns the value of the <value_expr> for the first row in the current window frame.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#first_value"},{name:"FLOOR",
args:"numeric_expr",description:"Returns the largest integral value (with FLOAT64 type) that is not greater than <numeric_expr>."},{name:"FORMAT",args:"format_string, format_specifier1 [, ...]",description:"BigQuery supports a FORMAT() function for formatting strings. This function is similar to the C printf function. It produces a STRING from a format string that contains zero or more format specifiers, along with a variable length list of additional arguments that matches the format specifiers.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#format"},{name:"FORMAT_DATE",args:"format_string, date",description:"Formats the date_expr according to the specified <format_string>.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#format_date"},{name:"FORMAT_TIMESTAMP",args:"format_string, timestamp [, <time_zone>]",description:"Formats a timestamp according to the specified <format_string>.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#format_timestamp"},
{name:"GENERATE_ARRAY",args:"start_expression, end_expression [, step_expression]",description:"Returns an array of values. The <start_expression> and <end_expression> parameters determine the inclusive start and end of the array.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#generate_array"},{name:"GENERATE_DATE_ARRAY",args:"start_date, end_date[, INTERVAL step_expression DAY|WEEK|MONTH|QUARTER|YEAR]",description:"Returns an array of dates. The <start_date> and <end_date> parameters determine the inclusive start and end of the array.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#generate_date_array"},{name:"GREATEST",args:"numeric_expr1, numeric_expr2, ...",description:"Returns NULL if any of the inputs is NULL. Otherwise, returns NaN if any of the inputs is NaN. Otherwise, returns the largest value among <numeric_expr1>, <numeric_expr2>... according to the < comparison."},{name:"IEEE_DIVIDE",args:"numeric_expr1, numeric_expr2",description:"Divides <numeric_expr1> by <numeric_expr2>; this function never fails. Returns FLOAT64. Unlike the division operator (/), this function does not generate errors for division by zero or overflow.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#ieee_divide"},{name:"IS_INF",args:"numeric_expr",description:"Returns TRUE if the value is positive or negative infinity. Returns NULL for NULL inputs."},{name:"IS_NAN",args:"numeric_expr",description:"Returns TRUE if the value is a NaN value. Returns NULL for NULL inputs."},{name:"LAG",args:"value_expr [, offset [, default_expr] ]",description:"Returns the value of the <value_expr> on a preceding row. Changing the <offset> value changes which preceding row is returned; the default value is 1, indicating the previous row in the window frame. An error occurs if <offset> is NULL or a negative value.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#lag"},{name:"LAST_VALUE",args:"value_expr",description:"Returns the value of the <value_expr> for the last row in the current window frame.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#last_value"},{name:"LEAD",args:"value_expr [, offset [, default_expr] ]",description:"Returns the value of the <value_expr> on a subsequent row. Changing the <offset> value changes which subsequent row is returned; the default value is 1, indicating the next row in the window frame. An error occurs if <offset> is NULL or a negative value.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#lead"},{name:"LEAST",args:"numeric_expr1, numeric_expr2, ...",description:"Returns NULL if any of the inputs is NULL. Returns NaN if any of the inputs is NaN. Otherwise, returns the smallest value among <numeric_expr1>, <numeric_expr2>, ... according to the > comparison."},{name:"LENGTH",args:"value",description:"Returns the length of the value. The returned value is in characters for STRING arguments and in bytes for the BYTES argument."},
{name:"LN",args:"numeric_expr",description:"Computes the natural logarithm of <numeric_expr>. Generates an error if <numeric_expr> is less than or equal to zero. If <numeric_expr> is +inf, then this function returns +inf."},{name:"LOG",args:"numeric_expr [, base]",description:"If only <numeric_expr> is present, LOG is a synonym of LN. If <base> is also present, LOG computes the logarithm of <numeric_expr> to <base>.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#log"},
{name:"LOG10",args:"numeric_expr",description:"Similar to LOG, but computes logarithm to base 10."},{name:"LOGICAL_AND",args:"expr",description:"Returns the logical AND of all non-NULL expressions. Returns NULL if there are zero input rows or <expr> evaluates to NULL for all rows."},{name:"LOGICAL_OR",args:"expr",description:"Returns the logical OR of all non-NULL expressions. Returns NULL if there are zero input rows or <expr> evaluates to NULL for all rows."},{name:"LOWER",args:"value",description:"For STRING arguments, returns the original string with all alphabetic characters in lowercase. Mapping between lowercase and uppercase is done according to the Unicode Character Database without taking into account language-specific mappings.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#lower"},{name:"LTRIM",args:"value1 [, value2]",description:"Identical to TRIM, but only removes leading characters."},{name:"MAX",args:"expr",description:"Returns the maximum value of non-NULL expressions. Returns NULL if there are zero input rows or <expr> evaluates to NULL for all rows. Returns NaN if the input contains a NaN."},{name:"MIN",args:"expr",description:"Returns the minimum value of non-NULL expressions. Returns NULL if there are zero input rows or <expr> evaluates to NULL for all rows. Returns NaN if the input contains a NaN."},
{name:"MOD",args:"numeric_expr1, numeric_expr2",description:"Modulo function: returns the remainder of the division of <numeric_expr1> by <numeric_expr2>. Returned value has the same sign as <numeric_expr1>. An error is generated if <numeric_expr2> is 0. See the table below for possible result types."},{name:"NTH_VALUE",args:"value_expr, constant_integer_expr",description:"Returns the value of <value_expr> at the Nth row of the current window frame, where Nth is defined by <constant_integer_expr>. Returns NULL if there is no such row.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#nth_value"},{name:"NTILE",args:"constant_integer_expr",description:"This function divides the rows into <constant_integer_expr> buckets based on row ordering and returns the 1-based bucket number that is assigned to each row. The number of rows in the buckets can differ by at most 1. The remainder values (the remainder of number of rows divided by buckets) are distributed one for each bucket, starting with bucket 1. If <constant_integer_expr> evaluates to NULL, 0 or negative, an error is provided."},
{name:"OFFSET",args:"zero_based_offset",description:"Accesses an ARRAY element by position and returns the element. OFFSET means that the numbering starts at zero, ORDINAL means that the numbering starts at one.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#offset-and-ordinal"},{name:"ORDINAL",args:"one_based_offset",description:"Accesses an ARRAY element by position and returns the element. OFFSET means that the numbering starts at zero, ORDINAL means that the numbering starts at one.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#offset-and-ordinal"},{name:"PARSE_TIMESTAMP",args:"format_string, string [, time_zone]",description:"Uses a <format_string> and a string representation of a timestamp to return a TIMESTAMP object.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#parse_timestamp"},{name:"PERCENT_RANK",args:"",description:"Return the percentile rank of a row defined as (RK-1)/(NR-1), where RK is the RANK of the row and NR is the number of rows in the partition. Returns 0 if NR=1."},
{name:"POW",args:"numeric_expr1, numeric_expr2",description:"Returns the value of <numeric_expr1> raised to the power of <numeric_expr1>. If the result underflows and is not representable, then the function returns a value of zero.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#pow"},{name:"POWER",args:"numeric_expr, numeric_expr",description:"Synonym of POW()."},{name:"RANK",args:"",description:"Returns the ordinal (1-based) rank of each row within the ordered partition. All peer rows receive the same rank value. The next row or set of peer rows receives a rank value which increments by the number of peers with the previous rank value, instead of DENSE_RANK, which always increments by 1."},
{name:"REGEXP_CONTAINS",args:"value, regex",description:"Returns TRUE if <value> is a partial match for the regular expression, <regex>. You can search for a full match by using ^ (beginning of text) and $ (end of text).",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#regexp_contains"},{name:"REGEXP_EXTRACT",args:"value, regex",description:"Returns the first substring in <value> that matches the regular expression, <regex>. Returns NULL if there is no match.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#regexp_extract"},{name:"REGEXP_EXTRACT_ALL",args:"value, regex",description:"Returns an array of all substrings of <value> that match the regular expression, <regex>.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#regexp_extract_all"},{name:"REGEXP_REPLACE",args:"value, regex, replacement",description:"Returns a STRING where all substrings of <value> that match regular expression <regex> are replaced with replacement.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#regexp_replace"},{name:"REPLACE",args:"original_value, from_value, to_value",description:"Replaces all occurrences of <from_value> with <to_value> in <original_value>. If <from_value> is empty, no replacement is made."},{name:"ROUND",args:"numeric_expr [, decimal_places]",description:"If only <numeric_expr> is present, ROUND rounds <numeric_expr> to the nearest integer. If <decimal_places> is present, ROUND rounds <numeric_expr> to <decimal_places> decimal places after the decimal point. If <decimal_places> is negative, ROUND will round off digits to the left of the decimal point. Rounds halfway cases away from zero. Generates an error if overflow occurs."},
{name:"ROW_NUMBER",args:"",description:"Does not require the ORDER BY clause. Returns the sequential row ordinal (1-based) of each row for each ordered partition. If the ORDER BY clause is unspecified then the result is non-deterministic."},{name:"RTRIM",args:"value1 [, value2]",description:"Identical to TRIM, but only removes trailing characters."},{name:"SAFE_CAST",args:"expr AS typename",description:"SAFE_CAST is identical to CAST, except it returns NULL instead of raising an error."},{name:"SAFE_CONVERT_BYTES_TO_STRING",
args:"value",description:"Converts a sequence of bytes to a string. Any invalid UTF-8 characters are replaced with the Unicode replacement character, U+FFFD."},{name:"SIGN",args:"numeric_expr",description:"Returns -1, 0, or +1 for negative, zero and positive arguments respectively. For floating point arguments, this function does not distinguish between positive and negative zero. Returns NaN for a NaN argument."},{name:"SIN",args:"numeric_expr",description:"Computes the sine of <numeric_expr>. Never fails."},
{name:"SINH",args:"numeric_expr",description:"Computes the hyperbolic sine of <numeric_expr>. Generates an error if an overflow occurs."},{name:"SPLIT",args:"value [, delimiter]",description:"Splits <value> using the <delimiter> argument."},{name:"SQRT",args:"numeric_expr",description:"Computes the square root of <numeric_expr>. Generates an error if <numeric_expr> is less than 0. Returns +inf if <numeric_expr> is +inf."},{name:"STARTS_WITH",args:"value1, value2",description:"Returns TRUE if <value2> is a prefix of <value1>."},
{name:"STRING",args:"timestamp_expr [, time_zone]",description:"Converts a <timestamp_expr> to a STRING data type. Supports an optional parameter to specify a timezone. "},{name:"STRING_AGG",args:"expr, [, delimiter]",description:"Returns a value (either STRING or BYTES) obtained by concatenating non-null values.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#string_agg"},{name:"STRPOS",args:"value1, value2",description:"Returns the 1-based index of the first occurrence of <value2> inside <value1>. Returns 0 if <value2> is not found."},
{name:"SUBSTR",args:"value, position [, length]",description:"Returns a substring of the supplied value. The <position> argument is an integer specifying the starting position of the substring, with position = 1 indicating the first character or byte. The <length> argument is the maximum number of characters for STRING arguments, or bytes for BYTES arguments.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#substr"},{name:"SUM",args:"expr",description:"Returns the sum of non-null values.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#sum"},{name:"TAN",args:"numeric_expr",description:"Computes tangent of <numeric_expr>. Generates an error if an overflow occurs."},{name:"TANH",args:"numeric_expr",description:"Computes hyperbolic tangent of <numeric_expr>. Does not fail."},{name:"TIMESTAMP",args:"timestamp_expr [, time_zone]",description:"Converts a STRING expression to a TIMESTAMP data type.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp"},
{name:"TIMESTAMP_ADD",args:"timestamp_expr, INTERVAL int64_expr date_part",description:"Adds <int64_expr> units of <date_part> to the timestamp, independent of any time zone.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp_add"},{name:"TIMESTAMP_DIFF",args:"timestamp_expr, timestamp_expr, date_part",description:"Returns the number of whole specified <date_part> intervals between two timestamps. The first <timestamp_expr> represents the later date; if the first <timestamp_expr> is earlier than the second <timestamp_expr>, the output is negative. Throws an error if the computation overflows the result type, such as if the difference in microseconds between the two timestamps would overflow an INT64 value.",
url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp_diff"},{name:"TIMESTAMP_MICROS",args:"INT64_expr",description:"Interprets <INT64_expr> as the number of microseconds since 1970-01-01 00:00:00 UTC."},{name:"TIMESTAMP_MILLIS",args:"INT64_expr",description:"Interprets <INT64_expr> as the number of milliseconds since 1970-01-01 00:00:00 UTC."},{name:"TIMESTAMP_SECONDS",args:"INT64_expr",description:"Interprets <INT64_expr> as the number of seconds since 1970-01-01 00:00:00 UTC."},
{name:"TIMESTAMP_SUB",args:"timestamp_expr, INTERVAL int64_expr date_part",description:"Subtracts <int64_expr> units of <date_part> from the timestamp, independent of any time zone.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp_sub"},{name:"TIMESTAMP_TRUNC",args:"timestamp_expr, date_part [, time_zone]",description:"Truncates a timestamp to the granularity of <date_part>.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#timestamp_trunc"},
{name:"TRIM",args:"value1 [, value2]",description:"Removes all leading and trailing characters that match <value2>. If <value2> is not specified, all leading and trailing whitespace characters (as defined by the Unicode standard) are removed. If the first argument is of type BYTES, the second argument is required.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#trim"},{name:"TRUNC",args:"numeric_expr [, decimal_places]",description:"If only <numeric_expr> is present, TRUNC rounds <numeric_expr> to the nearest integer whose absolute value is not greater than the absolute value of <numeric_expr>. If <decimal_places> is also present, TRUNC behaves like ROUND(<numeric_expr>, <decimal_places>), but always rounds towards zero and never overflows."},
{name:"UNIX_DATE",args:"date_expr",description:"Returns the number of days since 1970-01-01."},{name:"UNIX_MICROS",args:"timestamp_expr",description:"Returns the number of microseconds since 1970-01-01 00:00:00 UTC. Truncates higher levels of precision."},{name:"UNIX_MILLIS",args:"timestamp_expr",description:"Returns the number of milliseconds since 1970-01-01 00:00:00 UTC. Truncates higher levels of precision."},{name:"UNIX_SECONDS",args:"timestamp_expr",description:"Returns the number of seconds since 1970-01-01 00:00:00 UTC. Truncates higher levels of precision."},
{name:"UNNEST",args:"array_expr",description:"The UNNEST operator takes an ARRAY and returns a table, with one row for each element in the ARRAY. "},{name:"UPPER",args:"value",description:"For STRING arguments, returns the original string with all alphabetic characters in uppercase. Mapping between uppercase and lowercase is done according to the Unicode Character Database without taking into account language-specific mappings.",url:"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#upper"}];
Fb(Cg,function(a){return a.name});var Dg=new tg;Cb(Cg,function(a){Dg.set(a.name,a)});var Eg=[{name:"ML.EVALUATE",args:"MODEL model, TABLE table | (subquery) [, STRUCT(numeric_expr AS threshold)]"},{name:"ML.FEATURE_INFO",args:"MODEL model"},{name:"ML.PREDICT",args:"MODEL model, TABLE table | (subquery)"},{name:"ML.ROC_CURVE",args:"MODEL model, TABLE table | (subquery) [, thresholds_array]"},{name:"ML.TRAINING_INFO",args:"MODEL model"},{name:"ML.WEIGHTS",args:"MODEL model"}];Fb(Eg,function(a){return a.name});
var Fg=new tg;Cb(Eg,function(a){Fg.set(a.name,a)});(function(a){var b=new tg;a.forEach(function(c){b.set(c,!0)});return b})("INT64 FLOAT64 NUMERIC BOOL STRING BYTES DATE DATETIME TIME TIMESTAMP GEOGRAPHY ARRAY STRUCT".split(" "));kb("pantheon.bigquery.SchemaField",function(a,b,c,d,e){this.description=a;this.mode=b;this.name=c;this.type=d;this.fields=e});var Gg=function(a){I(!E(void 0)||!1);return Math.floor(a+2E-15)};var Hg="StopIteration"in D?D.StopIteration:{message:"StopIteration",stack:""},Ig=function(){};Ig.prototype.next=function(){throw Hg;};Ig.prototype.__iterator__=function(){return this};
var Jg=function(a){if(a instanceof Ig)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if($a(a)){var b=0,c=new Ig;c.next=function(){for(;;){if(b>=a.length)throw Hg;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},Kg=function(a,b){if($a(a))try{Cb(a,b,void 0)}catch(c){if(c!==Hg)throw c;}else{a=Jg(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Hg)throw c;}}},Lg=function(a){if($a(a))return Qb(a);a=Jg(a);var b=[];Kg(a,function(c){b.push(c)});
return b};var Mg=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};k=Mg.prototype;k.getCount=function(){return this.count_};k.getValues=function(){Ng(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};k.getKeys=function(){Ng(this);return this.keys_.concat()};
k.containsKey=function(a){return Og(this.map_,a)};k.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Og(this.map_,c)&&this.map_[c]==a)return!0}return!1};k.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Pg;Ng(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Pg=function(a,b){return a===b};Mg.prototype.isEmpty=function(){return 0==this.count_};
Mg.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};Mg.prototype.remove=function(a){return Og(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Ng(this),!0):!1};
var Ng=function(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Og(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Og(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}};k=Mg.prototype;k.get=function(a,b){return Og(this.map_,a)?this.map_[a]:b};k.set=function(a,b){Og(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
k.addAll=function(a){if(a instanceof Mg)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};k.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Mg(this)};k.toObject=function(){Ng(this);for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};
k.__iterator__=function(a){Ng(this);var b=0,c=this.version_,d=this,e=new Ig;e.next=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw Hg;var f=d.keys_[b++];return a?f:d.map_[f]};return e};var Og=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Qg=!Df||Zf(9),Rg=!Gf&&!Df||Df&&Zf(9)||Gf&&Xf("1.9.1"),Sg=Df&&!Xf("9");var Tg=function(a,b){this.x=E(a)?a:0;this.y=E(b)?b:0};Tg.prototype.clone=function(){return new Tg(this.x,this.y)};Tg.prototype.toString=function(){return"("+this.x+", "+this.y+")"};Tg.prototype.equals=function(a){return a instanceof Tg&&Ug(this,a)};var Ug=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1},Vg=function(a,b){return new Tg(a.x-b.x,a.y-b.y)};k=Tg.prototype;k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};
k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof Tg?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),Pa(b)&&(this.y+=b));return this};k.scale=function(a,b){b=Pa(b)?b:a;this.x*=a;this.y*=b;return this};var Wg=function(a,b){this.width=a;this.height=b};k=Wg.prototype;k.clone=function(){return new Wg(this.width,this.height)};k.toString=function(){return"("+this.width+" x "+this.height+")"};k.aspectRatio=function(){return this.width/this.height};k.isEmpty=function(){return!(this.width*this.height)};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};k.scale=function(a,b){b=Pa(b)?b:a;this.width*=a;this.height*=b;return this};var Zg=function(a){return a?new Xg(Yg(a)):mb||(mb=new Xg)},$g=function(a,b){return F(b)?a.getElementById(b):b},bh=function(a,b){var c=b||document;if(c.getElementsByClassName)a=c.getElementsByClassName(a)[0];else{c=document;var d=b||c;a=d.querySelectorAll&&d.querySelector&&a?d.querySelector(a?"."+a:""):ah(c,"*",a,b)[0]||null}return a||null},ah=function(a,b,c,d){a=d||a;b=b&&"*"!=b?String(b).toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&
a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++)b=g.className,"function"==typeof b.split&&Nb(b.split(/\s+/),c)&&(d[e++]=g);d.length=e;return d}return a},eh=function(a,b){hc(b,function(c,d){c&&"object"==typeof c&&c.implementsGoogStringTypedString&&(c=c.getTypedStringValue());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==
d?a.htmlFor=c:ch.hasOwnProperty(d)?a.setAttribute(ch[d],c):Yc(d,"aria-")||Yc(d,"data-")?a.setAttribute(d,c):a[d]=c})},ch={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},gh=function(a){a=(a||window).document;a=fh(a)?a.documentElement:a.body;return new Wg(a.clientWidth,a.clientHeight)},ih=function(a){var b=hh(a);
a=a.parentWindow||a.defaultView;return Df&&Xf("10")&&a.pageYOffset!=b.scrollTop?new Tg(b.scrollLeft,b.scrollTop):new Tg(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)},hh=function(a){return a.scrollingElement?a.scrollingElement:!Hf&&fh(a)?a.documentElement:a.body||a.documentElement},jh=function(a){return a?a.parentWindow||a.defaultView:window},lh=function(a,b,c){return kh(document,arguments)},kh=function(a,b){var c=String(b[0]),d=b[1];if(!Qg&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',
Ee(d.name),'"');if(d.type){c.push(' type="',Ee(d.type),'"');var e={};zc(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(F(d)?c.className=d:Za(d)?c.className=d.join(" "):eh(c,d));2<b.length&&mh(a,c,b,2);return c},mh=function(a,b,c,d){function e(g){g&&b.appendChild(F(g)?a.createTextNode(g):g)}for(;d<c.length;d++){var f=c[d];!$a(f)||bb(f)&&0<f.nodeType?e(f):Cb(nh(f)?Qb(f):f,e)}},oh=function(a){return document.createElement(String(a))},ph=function(a,b){var c=a.createElement("DIV");
Df?(ue(c,le(ne,b)),c.removeChild(I(c.firstChild))):ue(c,b);if(1==c.childNodes.length)c=c.removeChild(I(c.firstChild));else{for(a=a.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);c=a}return c},fh=function(a){return"CSS1Compat"==a.compatMode},qh=function(a,b){I(null!=a&&null!=b,"goog.dom.appendChild expects non-null arguments");a.appendChild(b)},rh=function(a,b){mh(Yg(a),a,arguments,1)},sh=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},th=function(a,b){I(null!=a&&null!=
b,"goog.dom.insertSiblingBefore expects non-null arguments");b.parentNode&&b.parentNode.insertBefore(a,b)},uh=function(a,b){I(null!=a&&null!=b,"goog.dom.insertSiblingAfter expects non-null arguments");b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},vh=function(a,b,c){I(null!=a,"goog.dom.insertChildAt expects a non-null parent");a.insertBefore(b,a.childNodes[c]||null)},wh=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},xh=function(a,b){I(null!=a&&null!=b,"goog.dom.replaceNode expects non-null arguments");
var c=b.parentNode;c&&c.replaceChild(a,b)},yh=function(a){return Rg&&void 0!=a.children?a.children:Eb(a.childNodes,function(b){return 1==b.nodeType})},Ah=function(a){return E(a.firstElementChild)?a.firstElementChild:zh(a.firstChild)},zh=function(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a},Bh=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=
b.parentNode;return b==a},Yg=function(a){I(a,"Node cannot be null or undefined.");return 9==a.nodeType?a:a.ownerDocument||a.document},Ch=function(a,b){I(null!=a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(I(a.lastChild));a.firstChild.data=String(b)}else{sh(a);var c=Yg(a);a.appendChild(c.createTextNode(String(b)))}},
Dh={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Eh={IMG:" ",BR:"\n"},Hh=function(a){return Fh(a)&&Gh(a)},Ih=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))},Jh=function(a){var b;if((b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Fh(a)||Gh(a)):Hh(a))&&Df){var c;!ab(a.getBoundingClientRect)||Df&&null==a.parentElement?c={height:a.offsetHeight,width:a.offsetWidth}:c=a.getBoundingClientRect();
a=null!=c&&0<c.height&&0<c.width}else a=b;return a},Fh=function(a){return Df&&!Xf("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")},Gh=function(a){a=a.tabIndex;return Pa(a)&&0<=a&&32768>a},Lh=function(a){if(Sg&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Kh(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Sg||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},
Mh=function(a){var b=[];Kh(a,b,!1);return b.join("")},Kh=function(a,b,c){if(!(a.nodeName in Dh))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Eh)b.push(Eh[a.nodeName]);else for(a=a.firstChild;a;)Kh(a,b,c),a=a.nextSibling},nh=function(a){if(a&&"number"==typeof a.length){if(bb(a))return"function"==typeof a.item||"string"==typeof a.item;if(ab(a))return"function"==typeof a.item}return!1},Oh=function(a,b,c,d){if(!b&&!c)return null;
var e=b?String(b).toUpperCase():null;return Nh(a,function(f){return(!e||f.nodeName==e)&&(!c||F(f.className)&&Nb(f.className.split(/\s+/),c))},!0,d)},Ph=function(a,b){return Oh(a,null,b,void 0)},Nh=function(a,b,c,d){a&&!c&&(a=a.parentNode);for(c=0;a&&(null==d||c<=d);){I("parentNode"!=a.name);if(b(a))return a;a=a.parentNode;c++}return null},Xg=function(a){this.document_=a||D.document||document};k=Xg.prototype;k.getDomHelper=Zg;k.getDocument=function(){return this.document_};
k.getElement=function(a){return $g(this.document_,a)};k.$=Xg.prototype.getElement;k.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(String(a))};k.getElementsByTagNameAndClass=function(a,b,c){return ah(this.document_,a,b,c)};k.getElementByClass=function(a,b){return bh(a,b||this.document_)};k.getRequiredElementByClass=function(a){var b=bh(a,this.document_);return I(b,"No element found with className: "+a)};k.$$=Xg.prototype.getElementsByTagNameAndClass;
k.setProperties=eh;k.createDom=function(a,b,c){return kh(this.document_,arguments)};k.createElement=function(a){return this.document_.createElement(String(a))};k.createTextNode=function(a){return this.document_.createTextNode(String(a))};k.getWindow=function(){var a=this.document_;return a.parentWindow||a.defaultView};k.getActiveElement=function(){var a=this.document_;try{var b=a&&a.activeElement;var c=b&&b.nodeName?b:null}catch(d){c=null}return c};k.appendChild=qh;k.append=rh;
k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};k.removeChildren=sh;k.insertSiblingBefore=th;k.removeNode=wh;k.getChildren=yh;
k.getFirstElementChild=Ah;k.contains=Bh;k.isFocusable=Jh;k.getTextContent=Lh;var Qh=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};k=Qh.prototype;k.getHeight=function(){return this.bottom-this.top};k.clone=function(){return new Qh(this.top,this.right,this.bottom,this.left)};k.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};
k.contains=function(a){return this&&a?a instanceof Qh?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};k.expand=function(a,b,c,d){bb(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};
k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
k.translate=function(a,b){a instanceof Tg?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(qb(a),this.left+=a,this.right+=a,Pa(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){b=Pa(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};var Rh=function(){};Rh.prototype.reposition=function(){};var Sh=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};k=Sh.prototype;k.clone=function(){return new Sh(this.left,this.top,this.width,this.height)};k.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
k.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);d<=a&&(this.left=b,this.top=d,this.width=c-b,this.height=a-d)}};k.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};
k.contains=function(a){return a instanceof Tg?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};k.distance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return Math.sqrt(b*b+a*a)};
k.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.translate=function(a,b){a instanceof Tg?(this.left+=a.x,this.top+=a.y):(this.left+=qb(a),Pa(b)&&(this.top+=b));return this};k.scale=function(a,b){b=Pa(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};var Th=function(){return Hf?"Webkit":Gf?"Moz":Df?"ms":Cf?"O":null},Uh=function(a,b){if(b&&a in b)return a;var c=Th();return c?(c=c.toLowerCase(),a=c+Se(a),!E(b)||a in b?a:null):null};var Wh=function(a,b,c){if(F(b))(b=Vh(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],f=Vh(c,d);f&&(c.style[f]=e)}},Xh={},Vh=function(a,b){var c=Xh[b];if(!c){var d=Re(b);c=d;void 0===a.style[d]&&(d=Th()+Se(d),void 0!==a.style[d]&&(c=d));Xh[b]=c}return c},Yh=function(a,b){var c=Yg(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""},Zh=function(a,b){return Yh(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&
a.style[b]},$h=function(a){return Zh(a,"position")},bi=function(a,b,c){if(b instanceof Tg){var d=b.x;b=b.y}else d=b,b=c;a.style.left=ai(d,!1);a.style.top=ai(b,!1)},ci=function(a){a=a?Yg(a):document;return!Df||Zf(9)||fh(Zg(a).document_)?a.documentElement:a.body},di=function(a){try{var b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}Df&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);
return b},ei=function(a){if(Df&&!Zf(8))return I(a&&"offsetParent"in a),a.offsetParent;var b=Yg(a),c=Zh(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=Zh(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null},gi=function(a){for(var b=new Qh(0,Infinity,Infinity,0),c=Zg(a),d=c.getDocument().body,
e=c.getDocument().documentElement,f=hh(c.document_);a=ei(a);)if(!(Df&&0==a.clientWidth||Hf&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=Zh(a,"overflow")){var g=fi(a),h=new Tg(a.clientLeft,a.clientTop);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=gh(c.getWindow());b.right=Math.min(b.right,d+c.width);
b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null},fi=function(a){var b=Yg(a);ub(a,"Parameter is required");var c=new Tg(0,0),d=ci(b);if(a==d)return c;a=di(a);b=ih(Zg(b).document_);c.x=a.left+b.x;c.y=a.top+b.y;return c},ii=function(a,b){a=hi(a);b=hi(b);return new Tg(a.x-b.x,a.y-b.y)},ji=function(a){a=di(a);return new Tg(a.left,a.top)},hi=function(a){I(a);if(1==a.nodeType)return ji(a);a=a.changedTouches?a.changedTouches[0]:a;return new Tg(a.clientX,
a.clientY)},li=function(a,b,c){if(b instanceof Wg)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=ai(b,!0);ki(a,c)},ai=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a},ki=function(a,b){a.style.height=ai(b,!0)},ni=function(a){var b=mi;if("none"!=Zh(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=
e;return a},mi=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=Hf&&!b&&!c;return E(b)&&!d||!a.getBoundingClientRect?new Wg(b,c):(a=di(a),new Wg(a.right-a.left,a.bottom-a.top))},oi=function(a){var b=fi(a);a=ni(a);return new Sh(b.x,b.y,a.width,a.height)},pi=function(a,b){I(a);a=a.style;"opacity"in a?a.opacity=b:"MozOpacity"in a?a.MozOpacity=b:"filter"in a&&(a.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")},qi=function(a,b){a.style.display=b?"":"none"},ri=function(a){return"rtl"==Zh(a,"direction")},
si=Gf?"MozUserSelect":Hf||Ef?"WebkitUserSelect":null,ti=function(a,b,c){c=c?null:a.getElementsByTagName("*");if(si){if(b=b?"none":"",a.style&&(a.style[si]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[si]=b)}}else if(Df||Cf)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)},ui=function(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;b=a.style.pixelLeft;
a.style.left=c;a.runtimeStyle.left=d;return+b},vi=function(a,b){return(b=a.currentStyle?a.currentStyle[b]:null)?ui(a,b):0},wi=function(a,b){if(Df){var c=vi(a,b+"Left"),d=vi(a,b+"Right"),e=vi(a,b+"Top");a=vi(a,b+"Bottom");return new Qh(e,d,a,c)}c=Yh(a,b+"Left");d=Yh(a,b+"Right");e=Yh(a,b+"Top");a=Yh(a,b+"Bottom");return new Qh(parseFloat(e),parseFloat(d),parseFloat(a),parseFloat(c))},xi={thin:2,medium:4,thick:6},yi=function(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;b=
a.currentStyle?a.currentStyle[b+"Width"]:null;return b in xi?xi[b]:ui(a,b)},zi=function(a){if(Df&&!Zf(9)){var b=yi(a,"borderLeft"),c=yi(a,"borderRight"),d=yi(a,"borderTop");a=yi(a,"borderBottom");return new Qh(d,c,a,b)}b=Yh(a,"borderLeftWidth");c=Yh(a,"borderRightWidth");d=Yh(a,"borderTopWidth");a=Yh(a,"borderBottomWidth");return new Qh(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};var Ai=function(){if(Kf){var a=/Windows NT ([0-9.]+)/;return(a=a.exec(Td))?a[1]:"0"}return Jf?(a=/10[_.][0-9_.]+/,(a=a.exec(Td))?a[0].replace(/_/g,"."):"10"):Mf?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(Td))?a[1]:""):Nf||Of||Pf?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(Td))?a[1].replace(/_/g,"."):""):""}();var Bi=function(a){return(a=a.exec(Td))?a[1]:""},Ci=function(){if(bg)return Bi(/Firefox\/([0-9.]+)/);if(Df||Ef||Cf)return Wf;if(fg)return wf()?Bi(/CriOS\/([0-9.]+)/):Bi(/Chrome\/([0-9.]+)/);if(gg&&!wf())return Bi(/Version\/([0-9.]+)/);if(cg||dg){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Td);if(a)return a[1]+"."+a[2]}else if(eg)return(a=Bi(/Android\s+([0-9.]+)/))?a:Bi(/Version\/([0-9.]+)/);return""}();var Gi=function(a,b,c,d,e,f,g,h,l){I(c);var m=Di(c),n=oi(a),p=gi(a);p&&n.intersection(new Sh(p.left,p.top,p.right-p.left,p.bottom-p.top));p=Zg(a);var r=Zg(c);if(p.getDocument()!=r.getDocument()){var w=p.getDocument().body;r=r.getWindow();var v=new Tg(0,0),A=jh(Yg(w));if(yf(A,"parent")){var H=w;do{var C=A==r?fi(H):ji(I(H));v.x+=C.x;v.y+=C.y}while(A&&A!=r&&A!=A.parent&&(H=A.frameElement)&&(A=A.parent))}w=Vg(v,fi(w));!Df||Zf(9)||fh(p.document_)||(w=Vg(w,ih(p.document_)));n.left+=w.x;n.top+=w.y}a=Ei(a,
b);b=n.left;a&4?b+=n.width:a&2&&(b+=n.width/2);n=new Tg(b,n.top+(a&1?n.height:0));n=Vg(n,m);e&&(n.x+=(a&4?-1:1)*e.x,n.y+=(a&1?-1:1)*e.y);if(g)if(l)var J=l;else if(J=gi(c))J.top-=m.y,J.right-=m.x,J.bottom-=m.y,J.left-=m.x;return Fi(n,c,d,f,J,g,h)},Di=function(a){if(a=a.offsetParent){var b="HTML"==a.tagName||"BODY"==a.tagName;if(!b||"static"!=$h(a)){var c=fi(a);if(!b){b=ri(a);var d;if(d=b){d=gg&&0<=md(Ci,10);var e;if(e=Qf)e=0<=md(Ai,10);d=Gf||d||e}b=d?-a.scrollLeft:!b||Ff&&Xf("8")||"visible"==Zh(a,
"overflowX")?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft;c=Vg(c,new Tg(b,a.scrollTop))}}}return c||new Tg},Fi=function(a,b,c,d,e,f,g){a=a.clone();var h=Ei(b,c);c=ni(b);g=g?g.clone():c.clone();a=a.clone();g=g.clone();var l=0;if(d||0!=h)h&4?a.x-=g.width+(d?d.right:0):h&2?a.x-=g.width/2:d&&(a.x+=d.left),h&1?a.y-=g.height+(d?d.bottom:0):d&&(a.y+=d.top);if(f){if(e){d=a;h=g;l=0;65==(f&65)&&(d.x<e.left||d.x>=e.right)&&(f&=-2);132==(f&132)&&(d.y<e.top||d.y>=e.bottom)&&(f&=-5);d.x<e.left&&f&1&&(d.x=
e.left,l|=1);if(f&16){var m=d.x;d.x<e.left&&(d.x=e.left,l|=4);d.x+h.width>e.right&&(h.width=Math.min(e.right-d.x,m+h.width-e.left),h.width=Math.max(h.width,0),l|=4)}d.x+h.width>e.right&&f&1&&(d.x=Math.max(e.right-h.width,e.left),l|=1);f&2&&(l|=(d.x<e.left?16:0)|(d.x+h.width>e.right?32:0));d.y<e.top&&f&4&&(d.y=e.top,l|=2);f&32&&(m=d.y,d.y<e.top&&(d.y=e.top,l|=8),d.y+h.height>e.bottom&&(h.height=Math.min(e.bottom-d.y,m+h.height-e.top),h.height=Math.max(h.height,0),l|=8));d.y+h.height>e.bottom&&f&4&&
(d.y=Math.max(e.bottom-h.height,e.top),l|=2);f&8&&(l|=(d.y<e.top?64:0)|(d.y+h.height>e.bottom?128:0));e=l}else e=256;l=e}f=new Sh(0,0,0,0);f.left=a.x;f.top=a.y;f.width=g.width;f.height=g.height;e=l;if(e&496)return e;bi(b,new Tg(f.left,f.top));g=new Wg(f.width,f.height);c==g||c&&g&&c.width==g.width&&c.height==g.height||(c=g,g=Yg(b),a=fh(Zg(g).document_),!Df||Xf("10")||a&&Xf("8")?(b=b.style,Gf?b.MozBoxSizing="border-box":Hf?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(c.width,
0)+"px",b.height=Math.max(c.height,0)+"px"):(g=b.style,a?(a=wi(b,"padding"),b=zi(b),g.pixelWidth=c.width-b.left-a.left-a.right-b.right,g.pixelHeight=c.height-b.top-a.top-a.bottom-b.bottom):(g.pixelWidth=c.width,g.pixelHeight=c.height)));return e},Ei=function(a,b){return(b&8&&ri(a)?b^4:b)&-9};var Hi=function(a,b,c){this.element=a;this.corner=b;this.overflow_=c};G(Hi,Rh);Hi.prototype.reposition=function(a,b,c){Gi(this.element,this.corner,a,b,void 0,c,this.overflow_)};var Ii=function(a,b,c,d){Hi.call(this,a,b);this.lastResortOverflow_=c?5:0;this.overflowConstraint_=d||void 0};G(Ii,Hi);Ii.prototype.getLastResortOverflow=function(){return this.lastResortOverflow_};Ii.prototype.setLastResortOverflow=function(a){this.lastResortOverflow_=a};
Ii.prototype.reposition=function(a,b,c,d){var e=Gi(this.element,this.corner,a,b,null,c,10,d,this.overflowConstraint_);if(e&496){var f=Ji(e,this.corner);b=Ji(e,b);e=Gi(this.element,f,a,b,null,c,10,d,this.overflowConstraint_);e&496&&(f=Ji(e,f),b=Ji(e,b),Gi(this.element,f,a,b,null,c,this.lastResortOverflow_,d,this.overflowConstraint_))}};var Ji=function(a,b){a&48&&(b^=4);a&192&&(b^=1);return b};var Ki=function(a){this.map_=new Mg;a&&this.addAll(a)},Li=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+eb(a):b.substr(0,1)+a};k=Ki.prototype;k.getCount=function(){return this.map_.getCount()};k.add=function(a){this.map_.set(Li(a),a)};k.addAll=function(a){a=pg(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};k.removeAll=function(a){a=pg(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};k.remove=function(a){return this.map_.remove(Li(a))};k.clear=function(){this.map_.clear()};
k.isEmpty=function(){return this.map_.isEmpty()};k.contains=function(a){return this.map_.containsKey(Li(a))};k.intersection=function(a){var b=new Ki;a=pg(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}};k.getValues=function(){return this.map_.getValues()};k.clone=function(){return new Ki(this)};k.equals=function(a){return this.getCount()==og(a)&&Mi(this,a)};
var Mi=function(a,b){var c=og(b);if(a.getCount()>c)return!1;!(b instanceof Ki)&&5<c&&(b=new Ki(b));return sg(a,function(d){var e=b;return e.contains&&"function"==typeof e.contains?e.contains(d):e.containsValue&&"function"==typeof e.containsValue?e.containsValue(d):$a(e)||F(e)?Nb(e,d):oc(e,d)})};Ki.prototype.__iterator__=function(){return this.map_.__iterator__(!1)};var Ni=function(a,b){this.tabSize_=a;this.jsMode_=b},Oi=new tg;Cb("AS OR AND XOR RETURNS LANGUAGE".split(" "),function(a){Oi.set(a,!0)});var Pi=/[*+\-<>=&|]/,Ri=function(a,b,c){for(var d=!1,e,f=0;null!=(e=a.next());){if(d||e!=b[f])f=0;else if(f+=1,b.length==f){c&&(c.contextStack_.pop(),Qi(c).aligned=!0,Qi(c).completed=!0);break}d=!d&&"\\"==e}};Ni.prototype.startState=function(){return new Si(this.tabSize_)};Ni.prototype.startState=Ni.prototype.startState;Ni.prototype.copyState=function(a){return wc(a)};
Ni.prototype.copyState=Ni.prototype.copyState;
Ni.prototype.token=function(a,b){a.sol()&&Ti(b,a.indentation());var c=Ui(b);if(c&&"udf"==c.subtype){if(c.udfQuotes){c=new RegExp(Me(c.udfQuotes));if(a.match(c,!1))return a.match(c,!0),b.jsState_=null,b.contextStack_.pop(),Qi(b).aligned=!0,Qi(b).completed=!0,"string";b.jsState_||Vi(b,this.jsMode_.startState());c=b.jsState_;I(!!c);return this.jsMode_.token(a,c)}if(a.match(/("+)/,!1))return c.udfQuotes=a.match(/\s*("+)\s*/,!0)[1],"string"}if("string"==Qi(b).type)return Ri(a,Qi(b).subtype,b),"string";
if("comment"==Qi(b).type)return Ri(a,Qi(b).subtype,b),"comment";if(a.eatSpace())return null;c=a.next();var d=Wi(c,a,['"""',"'''"]);if(d)return Xi(b,"string",d,0,!0),Ri(a,d,b),"string";if(d=Wi(c,a,["'",'"']))return Ri(a,d),"string";if("`"==c)return c=new RegExp("^[^"+Me("`")+"]"),a.eatWhile(c),a.current(),a.eat("`")?"recognized-table":"variable";if("("==c)return Xi(b,"paren",")",a.column()+1),null;if(")"==c)return Yi(b),Qi(b).completed=!0,null;if(","==c)return Qi(b).completed=!1,null;if(Wi(c,a,["--",
"#"]))return a.skipToEnd(),"comment";if("/"==c&&"*"==a.peek())return Xi(b,"comment","*/",a.column()+1),Ri(a,"*/",b),"comment";if(Pi.test(c))return a.eatWhile(Pi),Qi(b).completed=!1,null;a.backUp(1);Zi(b);Qi(b).completed=!0;if(a.match(/^[\w\-\.:]+?(?=--)|^[\w\-\.:]+/)){c=a.current();d=function(){var h=a.current(),l=a.match(/^\s*/,!1);l=a.column()+h.length+l[0].length;Xi(b,"clause",zg.get(h.toUpperCase()).type,l)};if(0<zg.getKeys(c.toUpperCase()).length&&!zg.containsKey(c.toUpperCase())&&0<a.match(/^\s*/,
!1).length)for(var e=zg.getKeys(c.toUpperCase()),f=0;f<e.length;f++){var g=new RegExp("^s*"+e[f].substr(c.length),"i");if(a.match(g,!1))return a.match(g,!0),d(),"keyword"}return zg.containsKey(c.toUpperCase())?(d(),"keyword"):Oi.containsKey(c.toUpperCase())?(Qi(b).completed=!1,"keyword"):Bg.containsKey(c.toUpperCase())?"keyword":Dg.containsKey(c.toUpperCase())?"function":$i(b,["from","join","drop","alter"])?aj(a.current())?"recognized-table":(c=bj(a.current()).get(a.current()))&&c.mode&&"REPEATED"==
c.mode.toUpperCase()?"recognized-field":"variable":$i(b,"select group where on omit having order partition using set".split(" "))?cj(a.current())?"recognized-field":"variable":"variable"}a.next();return null};Ni.prototype.token=Ni.prototype.token;var Wi=function(a,b,c){c=Eb(c,function(d){return 1==d.length?a==d:a==d.charAt(0)&&(d=new RegExp("^("+Me(d.substr(1))+")"),b.match(d,!1))?(b.match(d,!0),!0):!1});I(1>=c.length);return 0<c.length?c[0]:null};Ni.prototype.indent=function(a){return a.indentation_};
Ni.prototype.indent=Ni.prototype.indent;Ni.prototype.name="google-bigquery";Ni.prototype.name=Ni.prototype.name;Ni.prototype.electricChars="";Ni.prototype.electricChars=Ni.prototype.electricChars;Ni.prototype.lineComment="--";Ni.prototype.lineComment=Ni.prototype.lineComment;
var Si=function(a){this.contextStack_=[];this.tabSize_=a;this.indentation_=0;this.jsState_=null},Vi=function(a,b){a.jsState_=b},Xi=function(a,b,c,d,e){if("clause"==b)for(;"clause"==Qi(a).type;)a.contextStack_.pop();var f=Qi(a);f=f.aligned?f.alignColumn:f.indentColumn;var g=Qi(a);if("empty"==g.type||g.aligned||!g.currentLine)f+=a.tabSize_;a.contextStack_.push(new dj(b,c,f,d,e||!1))},Qi=function(a){a=a.contextStack_;return(a=a[a.length-1])?a:new dj("empty","empty",0,0,!0)},Yi=function(a){for(var b,
c=a.contextStack_.length-1;0<=c;c--)if(b=a.contextStack_[c],"clause"!=b.type){"paren"==b.type&")"==b.subtype&&a.contextStack_.splice(c);break}},Zi=function(a){(a=Qi(a))&&a.currentLine&&(a.aligned=!0)},Ti=function(a,b){for(var c=0;c<a.contextStack_.length;c++)a.contextStack_[c].currentLine=!1;a.indentation_=b},$i=function(a,b){var c=Mb(a.contextStack_,function(d){return"clause"==d.type});return c?!!Kb(b,function(d){return 0===ad(c.subtype,d)}):!1},Ui=function(a){return Mb(a.contextStack_,function(b){return"clause"==
b.type})},dj=function(a,b,c,d,e){this.type=a;this.subtype=b;this.indentColumn=c;this.alignColumn=d;this.aligned=e;this.completed=!1;this.currentLine=!0;this.udfQuotes=null};var ej=function(a){this.topicId_=a};ej.prototype.toString=function(){return this.topicId_};var fj=new ej("visibility"),gj=new ej("selection"),hj=new ej("value"),ij=new ej("enabled"),jj=new ej("change");var kj=function(a,b,c){this.property=a;this.newValue=b;this.oldValue=c};var lj=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};lj.prototype.disposed_=!1;lj.prototype.isDisposed=function(){return this.disposed_};lj.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};var nj=function(a,b){b=ib(mj,b);a.disposed_?E(void 0)?b.call(void 0):b():(a.onDisposeCallbacks_||(a.onDisposeCallbacks_=[]),a.onDisposeCallbacks_.push(E(void 0)?hb(b,void 0):b))};lj.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};
var mj=function(a){a&&"function"==typeof a.dispose&&a.dispose()},oj=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];$a(d)?oj.apply(null,d):mj(d)}};var pj=function(a){D.setTimeout(function(){throw a;},0)},qj,rj=function(){var a=D.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Wd("Presto")&&(a=function(){var e=document.createElement("IFRAME");e.style.display="none";we(e,Wc(Hc));document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(ae(je));e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+
f.location.host;e=hb(function(l){if(("*"==h||l.origin==h)&&l.data==g)this.port1.onmessage()},this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!Wd("Trident")&&!Wd("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(E(c.next)){c=c.next;var e=c.cb;c.cb=null;e()}};return function(e){d.next={cb:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(e){var f=document.createElement("SCRIPT");f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){D.setTimeout(e,0)}};var sj=function(a,b){this.limit_=100;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};sj.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var a=this.head_;this.head_=a.next;a.next=null}else a=this.create_();return a};sj.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};var tj=function(){this.workTail_=this.workHead_=null},vj=new sj(function(){return new uj},function(a){a.reset()});tj.prototype.add=function(a,b){var c=vj.get();c.set(a,b);this.workTail_?this.workTail_.next=c:(I(!this.workHead_),this.workHead_=c);this.workTail_=c};tj.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};var uj=function(){this.next=this.scope=this.fn=null};
uj.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};uj.prototype.reset=function(){this.next=this.scope=this.fn=null};var Aj=function(a,b){wj||xj();yj||(wj(),yj=!0);zj.add(a,b)},wj,xj=function(){if(D.Promise&&D.Promise.resolve){var a=D.Promise.resolve(void 0);wj=function(){a.then(Bj)}}else wj=function(){var b=Bj;!ab(D.setImmediate)||D.Window&&D.Window.prototype&&!Wd("Edge")&&D.Window.prototype.setImmediate==D.setImmediate?(qj||(qj=rj()),qj(b)):D.setImmediate(b)}},yj=!1,zj=new tj,Bj=function(){for(var a;a=zj.remove();){try{a.fn.call(a.scope)}catch(b){pj(b)}vj.put(a)}yj=!1};var Cj=function(a){lj.call(this);this.key_=1;this.pendingKeys_=[];this.publishDepth_=0;this.subscriptions_=[];this.topics_={};this.async_=!!a};G(Cj,lj);Cj.prototype.subscribe=function(a,b,c){var d=this.topics_[a];d||(d=this.topics_[a]=[]);var e=this.key_;this.subscriptions_[e]=a;this.subscriptions_[e+1]=b;this.subscriptions_[e+2]=c;this.key_=e+3;d.push(e);return e};
Cj.prototype.unsubscribe=function(a,b,c){if(a=this.topics_[a]){var d=this.subscriptions_;if(a=Kb(a,function(e){return d[e+1]==b&&d[e+2]==c}))return this.unsubscribeByKey(a)}return!1};Cj.prototype.unsubscribeByKey=function(a){var b=this.subscriptions_[a];if(b){var c=this.topics_[b];0!=this.publishDepth_?(this.pendingKeys_.push(a),this.subscriptions_[a+1]=Va):(c&&Ob(c,a),delete this.subscriptions_[a],delete this.subscriptions_[a+1],delete this.subscriptions_[a+2])}return!!b};
Cj.prototype.publish=function(a,b){var c=this.topics_[a];if(c){for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];if(this.async_)for(e=0;e<c.length;e++){var g=c[e];Dj(this.subscriptions_[g+1],this.subscriptions_[g+2],d)}else{this.publishDepth_++;try{for(e=0,f=c.length;e<f;e++)g=c[e],this.subscriptions_[g+1].apply(this.subscriptions_[g+2],d)}finally{if(this.publishDepth_--,0<this.pendingKeys_.length&&0==this.publishDepth_)for(;c=this.pendingKeys_.pop();)this.unsubscribeByKey(c)}}return 0!=
e}return!1};var Dj=function(a,b,c){Aj(function(){a.apply(b,c)})};Cj.prototype.clear=function(a){if(a){var b=this.topics_[a];b&&(Cb(b,this.unsubscribeByKey,this),delete this.topics_[a])}else this.subscriptions_.length=0,this.topics_={}};Cj.prototype.getCount=function(a){if(a){var b=this.topics_[a];return b?b.length:0}a=0;for(b in this.topics_)a+=this.getCount(b);return a};Cj.prototype.disposeInternal=function(){Cj.superClass_.disposeInternal.call(this);this.clear();this.pendingKeys_.length=0};var Ej=function(a){lj.call(this);this.pubSub_=new Cj(a);nj(this,this.pubSub_)};G(Ej,lj);k=Ej.prototype;k.subscribe=function(a,b,c){return this.pubSub_.subscribe(a.toString(),b,c)};k.unsubscribe=function(a,b,c){return this.pubSub_.unsubscribe(a.toString(),b,c)};k.unsubscribeByKey=function(a){return this.pubSub_.unsubscribeByKey(a)};k.publish=function(a,b){return this.pubSub_.publish(a.toString(),b)};k.clear=function(a){this.pubSub_.clear(E(a)?a.toString():void 0)};
k.getCount=function(a){return this.pubSub_.getCount(E(a)?a.toString():void 0)};var Gj=function(a,b){lj.call(this);this.id_=a;this.disabledReasons_={};this.values_=b?vc(b):{};this.initialValues_=vc(this.values_);Fj(this);this.pubsub_=new Cj;this.typedPubsub_=new Ej;this.TYPED_PUBSUB_KEY_BASE_=1E6};G(Gj,lj);var Fj=function(a){E(a.values_["keys-enabled"])||(a.values_["keys-enabled"]=!0);a.isEnabled()||(a.disabledReasons_["default"]=!0);E(a.values_["toggle-selected-on-fire"])||(a.values_["toggle-selected-on-fire"]=!0)};k=Gj.prototype;
k.disposeInternal=function(){Gj.superClass_.disposeInternal.call(this);this.pubsub_.dispose();this.typedPubsub_.dispose();this.values_={}};k.getId=function(){return this.id_};k.isEnabled=function(){return!!this.getProperty("enabled")};k.setEnabled=function(a){var b=!0;if(a){delete this.disabledReasons_["default"];for(var c in this.disabledReasons_){b=!1;break}}else this.disabledReasons_["default"]=!0,b=!1;this.setProperty("enabled",b)};k.isVisible=function(){return!!this.getProperty("visible")};
k.setVisible=function(a){this.setProperty("visible",a)};k.isSelected=function(){return!!this.getProperty("selected")};k.setSelected=function(a){this.setProperty("selected",a)};var Hj=function(a){return a.getProperty("label")||""};k=Gj.prototype;k.getKeys=function(){return this.getProperty("keys")};k.getValue=function(){return this.getProperty("value")};k.setValue=function(a){this.setProperty("value",a)};k.getProperty=function(a){return this.values_[a]};
k.setProperty=function(a,b){"keys"==a&&null!=b&&(I(Za(b),"Key property should be an array, but got %s instead",b),I(0==b.length||F(b[0]),"Key property should be an array of strings, but got %s instead",b));var c=this.values_[a];if(b!==c){this.values_[a]=b;this.typedPubsub_.publish(jj,new kj(a,b,c));var d=Ij(a);d&&this.typedPubsub_.publish(d,new kj(a,b,c))}};k.subscribe=function(a,b,c){return this.pubsub_.subscribe(a,b,c)};k.unsubscribe=function(a,b,c){return this.pubsub_.unsubscribe(a,b,c)};
k.unsubscribeByKey=function(a){return a>this.TYPED_PUBSUB_KEY_BASE_?this.typedPubsub_.unsubscribeByKey(a-this.TYPED_PUBSUB_KEY_BASE_):this.pubsub_.unsubscribeByKey(a)};k.reset=function(){this.pubsub_.clear();this.typedPubsub_.clear();this.values_=vc(this.initialValues_);this.disabledReasons_={};Fj(this)};var Ij=function(a){switch(a){case "visible":return fj;case "selected":return gj;case "value":return hj;case "enabled":return ij;default:return null}};var Jj=function(a){var b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||Jj),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=Kj(a||arguments.callee.caller,[]));return b},Kj=function(a,b){var c=[];if(Nb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Lj(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=
String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Lj(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Kj(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Lj=function(a){if(Mj[a])return Mj[a];a=String(a);if(!Mj[a]){var b=/function\s+([^\(]+)/m.exec(a);Mj[a]=b?b[1]:"[Anonymous]"}return Mj[a]},Mj={},Nj=Object.freeze||
function(a){return a};var Oj=!Df||Zf(9),Pj=!Df||Zf(9),Qj=Df&&!Xf("9"),Rj="PointerEvent"in D,Sj="MSPointerEvent"in D&&!(!D.navigator||!D.navigator.msPointerEnabled),Tj=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{D.addEventListener("test",Va,b),D.removeEventListener("test",Va,b)}catch(c){}return a}();var K=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};K.prototype.stopPropagation=function(){this.propagationStopped_=!0};K.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var Uj=function(a){a.preventDefault()};var Vj={MOUSEDOWN:Rj?"pointerdown":Sj?"MSPointerDown":"mousedown",MOUSEUP:Rj?"pointerup":Sj?"MSPointerUp":"mouseup",MOUSECANCEL:Rj?"pointercancel":Sj?"MSPointerCancel":"mousecancel",MOUSEMOVE:Rj?"pointermove":Sj?"MSPointerMove":"mousemove",MOUSEOVER:Rj?"pointerover":Sj?"MSPointerOver":"mouseover",MOUSEOUT:Rj?"pointerout":Sj?"MSPointerOut":"mouseout",MOUSEENTER:Rj?"pointerenter":Sj?"MSPointerEnter":"mouseenter",MOUSELEAVE:Rj?"pointerleave":Sj?"MSPointerLeave":"mouseleave"},Wj={MOUSEDOWN:"mousedown",
MOUSEUP:"mouseup",MOUSECANCEL:"mousecancel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave"};var Xj=function(a,b){K.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType="";this.event_=null;a&&this.init(a,b)};G(Xj,K);var Yj=Nj([1,4,2]),Zj=Nj({2:"touch",3:"pen",4:"mouse"});
Xj.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?Gf&&(yf(b,"nodeName")||(b=null)):"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=Hf||void 0!==a.offsetX?
a.offsetX:a.layerX,this.offsetY=Hf||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=Jf?a.metaKey:a.ctrlKey;this.pointerId=
a.pointerId||0;this.pointerType=F(a.pointerType)?a.pointerType:Zj[a.pointerType]||"";this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};var ak=function(a){return(Oj?0==a.event_.button:"click"==a.type?!0:!!(a.event_.button&Yj[0]))&&!(Hf&&Jf&&a.ctrlKey)};Xj.prototype.stopPropagation=function(){Xj.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
Xj.prototype.preventDefault=function(){Xj.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Qj)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var bk="closure_listenable_"+(1E6*Math.random()|0),ck=function(a){return!(!a||!a[bk])},dk=0;var ek=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++dk;this.removed=this.callOnce=!1},fk=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};var gk=function(a){this.src=a;this.listeners={};this.typeCount_=0};gk.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.typeCount_++);var g=hk(a,b,d,e);-1<g?(b=a[g],c||(b.callOnce=!1)):(b=new ek(b,this.src,f,!!d,e),b.callOnce=c,a.push(b));return b};
gk.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=hk(e,b,c,d);return-1<b?(fk(e[b]),I(null!=e.length),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};var ik=function(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Ob(a.listeners[c],b);d&&(fk(b),0==a.listeners[c].length&&(delete a.listeners[c],a.typeCount_--));return d};
gk.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,fk(d[e]);delete this.listeners[c];this.typeCount_--}return b};gk.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=hk(a,b,c,d));return-1<e?a[e]:null};
gk.prototype.hasListener=function(a,b){var c=E(a),d=c?a.toString():"",e=E(b);return lc(this.listeners,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};var hk=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var jk="closure_lm_"+(1E6*Math.random()|0),kk={},lk=0,nk=function(a,b,c,d,e){if(d&&d.once)return mk(a,b,c,d,e);if(Za(b)){for(var f=0;f<b.length;f++)nk(a,b[f],c,d,e);return null}c=ok(c);return ck(a)?a.listen(b,c,bb(d)?!!d.capture:!!d,e):pk(a,b,c,!1,d,e)},pk=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=bb(e)?!!e.capture:!!e,h=qk(a);h||(a[jk]=h=new gk(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=rk();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Tj||(e=g),void 0===e&&(e=
!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(sk(b.toString()),d);else if(a.addListener&&a.removeListener)I("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");lk++;return c},rk=function(){var a=tk,b=Pj?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},mk=function(a,b,c,d,e){if(Za(b)){for(var f=0;f<b.length;f++)mk(a,
b[f],c,d,e);return null}c=ok(c);return ck(a)?a.listenOnce(b,c,bb(d)?!!d.capture:!!d,e):pk(a,b,c,!0,d,e)},uk=function(a,b,c,d,e){if(Za(b))for(var f=0;f<b.length;f++)uk(a,b[f],c,d,e);else d=bb(d)?!!d.capture:!!d,c=ok(c),ck(a)?a.unlisten(b,c,d,e):a&&(a=qk(a))&&(b=a.getListener(b,c,d,e))&&vk(b)},vk=function(a){if(Pa(a)||!a||a.removed)return!1;var b=a.src;if(ck(b))return ik(b.eventTargetListeners_,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(sk(c),
d):b.addListener&&b.removeListener&&b.removeListener(d);lk--;(c=qk(b))?(ik(c,a),0==c.typeCount_&&(c.src=null,b[jk]=null)):fk(a);return!0},sk=function(a){return a in kk?kk[a]:kk[a]="on"+a},xk=function(a,b,c,d){var e=!0;if(a=qk(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=wk(f,d),e=e&&!1!==f)}return e},wk=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&vk(a);return c.call(d,b)},tk=function(a,b){if(a.removed)return!0;
if(!Pj){var c=b||Ua("window.event");b=new Xj(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;!b.propagationStopped_&&0<=e;e--){b.currentTarget=c[e];var f=xk(c[e],a,!0,b);d=d&&f}for(e=0;!b.propagationStopped_&&e<c.length;e++)b.currentTarget=c[e],f=xk(c[e],a,!1,b),d=d&&f}return d}return wk(a,new Xj(b,
this))},qk=function(a){a=a[jk];return a instanceof gk?a:null},yk="__closure_events_fn_"+(1E9*Math.random()>>>0),ok=function(a){I(a,"Listener can not be null.");if(ab(a))return a;I(a.handleEvent,"An object listener must have handleEvent method.");a[yk]||(a[yk]=function(b){return a.handleEvent(b)});return a[yk]};var zk=function(a,b){F(b)?(I(b,"NamespacedType does not allow empty type string"),I(!/[:]/.test(b),'NamespacedType does not allow ":" in type string: '+b)):I(0<=b,"NamespacedType does not allow negative type number");I(a,"NamespacedType does not accept undefined or null namespace");this.namespace_=a;this.type_=b;this.constructor.allInstances||(this.constructor.allInstances={});a=this.toString();I(!this.constructor.allInstances[a],"Registering duplicate namespaced type "+a);this.constructor.allInstances[a]=
this};zk.prototype.toString=function(){this.toString_||(this.toString_=this.namespace_.getLongName()+":"+this.type_);return this.toString_};zk.prototype.getType=function(){return this.type_};var Ak=function(a,b){zk.call(this,a,b)};G(Ak,zk);var Ck=function(a){I(!Bk.hasOwnProperty(a),"Attempt to create a second Namespace with name: "+a);I(!/[^0-9a-zA-Z._]/.test(a),"Attempt to create a Namespace with invalid characters: "+a);this.name_=a;Bk[a]=this},Bk;Bk={};Ck.prototype.getLongName=function(){return this.name_};new Ck("lib");var Dk=function(a){I(a,"Invalid service id + "+a);this.serviceId_=a};Dk.prototype.toString=function(){return this.serviceId_};new Dk("n73qwf");new Dk("MpJwZc");new Dk("UUJqVe");new Dk("tdUkaf");new Dk("fJuxOc");new Dk("ZtVrH");new Dk("WSziFf");new Dk("ZmXAm");new Dk("BWETze");new Dk("UBSgGf");new Dk("zZa4xc");new Dk("o1bZcd");new Dk("yRRtR");new Dk("WwG67d");new Dk("pVbxBc");new Dk("z72MOc");new Dk("JccZRe");new Dk("amY3Td");new Dk("ABma3e");new Dk("GHAeAc");new Dk("gSshPb");new Dk("klpyYe");new Dk("OPbIxb");new Dk("pg9hFd");new Dk("Wt6vjf");new Dk("yu4DA");new Dk("vk3Wc");new Dk("IykvEf");new Dk("J5K1Ad");new Dk("IW8Usd");new Dk("IaqD3e");new Dk("byfTOb");new Dk("jbDgG");
new Dk("b8xKu");new Dk("d0RAGb");new Dk("AzG0ke");new Dk("J4QWB");new Dk("LEikZe");new Dk("rJmJrc");new Dk("TuDsZ");new Dk("hdXIif");new Dk("mITR5c");new Dk("DFElXb");new Dk("NGntwf");new Dk("Bgf0ib");new Dk("Xpw1of");new Dk("v5BQle");new Dk("ofuapc");new Dk("FENZqe");new Dk("tLnxq");new Dk("lsjVmc");var M=function(){lj.call(this);this.eventTargetListeners_=new gk(this);this.actualEventTarget_=this;this.parentEventTarget_=null};G(M,lj);M.prototype[bk]=!0;k=M.prototype;k.getParentEventTarget=function(){return this.parentEventTarget_};k.setParentEventTarget=function(a){this.parentEventTarget_=a};k.addEventListener=function(a,b,c,d){nk(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){uk(this,a,b,c,d)};
k.dispatchEvent=function(a){Ek(this);var b=this.getParentEventTarget();if(b){var c=[];for(var d=1;b;b=b.getParentEventTarget())c.push(b),I(1E3>++d,"infinite loop")}b=this.actualEventTarget_;d=a.type||a;if(F(a))a=new K(a,b);else if(a instanceof K)a.target=a.target||b;else{var e=a;a=new K(d,b);zc(a,e)}e=!0;if(c)for(var f=c.length-1;!a.propagationStopped_&&0<=f;f--){var g=a.currentTarget=c[f];e=Fk(g,d,!0,a)&&e}a.propagationStopped_||(g=a.currentTarget=b,e=Fk(g,d,!0,a)&&e,a.propagationStopped_||(e=Fk(g,
d,!1,a)&&e));if(c)for(f=0;!a.propagationStopped_&&f<c.length;f++)g=a.currentTarget=c[f],e=Fk(g,d,!1,a)&&e;return e};k.disposeInternal=function(){M.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};k.listen=function(a,b,c,d){Ek(this);return this.eventTargetListeners_.add(String(a),b,!1,c,d)};k.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};
k.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};k.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};var Fk=function(a,b,c,d){b=a.eventTargetListeners_.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.listener,l=g.handler||g.src;g.callOnce&&ik(a.eventTargetListeners_,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.returnValue_};
M.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};M.prototype.hasListener=function(a,b){return this.eventTargetListeners_.hasListener(E(a)?String(a):void 0,b)};var Ek=function(a){I(a.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Gk=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var Ik=function(a){this.state_=0;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.hadUnhandledRejection_=this.executing_=!1;if(a!=Va)try{var b=this;a.call(void 0,function(c){b.resolve_(2,c)},function(c){if(!(c instanceof Hk))try{if(c instanceof Error)throw c;throw Error("Promise rejected.");}catch(d){}b.resolve_(3,c)})}catch(c){this.resolve_(3,c)}},Jk=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};
Jk.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};
var Kk=new sj(function(){return new Jk},function(a){a.reset()}),Lk=function(a,b,c){var d=Kk.get();d.onFulfilled=a;d.onRejected=b;d.context=c;return d},Mk=function(a){if(a instanceof Ik)return a;var b=new Ik(Va);b.resolve_(2,a);return b},Ok=function(a,b,c){Nk(a,b,c,null)||Aj(ib(b,a))},Pk=function(a){return new Ik(function(b,c){a.length||b(void 0);for(var d=0,e;d<a.length;d++)e=a[d],Ok(e,b,c)})},Qk=function(a){return new Ik(function(b,c){var d=a.length,e=[];if(d)for(var f=function(m,n){d--;e[m]=n;0==
d&&b(e)},g=function(m){c(m)},h=0,l;h<a.length;h++)l=a[h],Ok(l,ib(f,h),g);else b(e)})},Rk=function(a){return new Ik(function(b){var c=a.length,d=[];if(c)for(var e=function(h,l,m){c--;d[h]=l?{fulfilled:!0,value:m}:{fulfilled:!1,reason:m};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],Ok(g,ib(e,f,!0),ib(e,f,!1));else b(d)})},Tk=function(){var a,b,c=new Ik(function(d,e){a=d;b=e});return new Sk(c,a,b)};
Ik.prototype.then=function(a,b,c){null!=a&&sb(a,"opt_onFulfilled should be a function.");null!=b&&sb(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return Uk(this,ab(a)?a:null,ab(b)?b:null,c)};Ik.prototype.$goog_Thenable=!0;var Wk=function(a,b){b=Lk(b,b,void 0);b.always=!0;Vk(a,b);return a},Xk=function(a,b){return Uk(a,null,b,void 0)};Ik.prototype.cancel=function(a){0==this.state_&&Aj(function(){var b=new Hk(a);Yk(this,b)},this)};
var Yk=function(a,b){if(0==a.state_)if(a.parent_){var c=a.parent_;if(c.callbackEntries_){for(var d=0,e=null,f=null,g=c.callbackEntries_;g&&(g.always||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.state_&&1==d?Yk(c,b):(f?(d=f,I(c.callbackEntries_),I(null!=d),d.next==c.callbackEntriesTail_&&(c.callbackEntriesTail_=d),d.next=d.next.next):Zk(c),$k(c,e,3,b)))}a.parent_=null}else a.resolve_(3,b)},Vk=function(a,b){a.callbackEntries_||2!=a.state_&&3!=a.state_||al(a);I(null!=b.onFulfilled);
a.callbackEntriesTail_?a.callbackEntriesTail_.next=b:a.callbackEntries_=b;a.callbackEntriesTail_=b},Uk=function(a,b,c,d){var e=Lk(null,null,null);e.child=new Ik(function(f,g){e.onFulfilled=b?function(h){try{var l=b.call(d,h);f(l)}catch(m){g(m)}}:f;e.onRejected=c?function(h){try{var l=c.call(d,h);!E(l)&&h instanceof Hk?g(h):f(l)}catch(m){g(m)}}:g});e.child.parent_=a;Vk(a,e);return e.child};Ik.prototype.unblockAndFulfill_=function(a){I(1==this.state_);this.state_=0;this.resolve_(2,a)};
Ik.prototype.unblockAndReject_=function(a){I(1==this.state_);this.state_=0;this.resolve_(3,a)};Ik.prototype.resolve_=function(a,b){0==this.state_&&(this===b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.state_=1,Nk(b,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=b,this.state_=a,this.parent_=null,al(this),3!=a||b instanceof Hk||bl(this,b)))};
var Nk=function(a,b,c,d){if(a instanceof Ik)return null!=b&&sb(b,"opt_onFulfilled should be a function."),null!=c&&sb(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Vk(a,Lk(b||Va,c||null,d)),!0;if(Gk(a))return a.then(b,c,d),!0;if(bb(a))try{var e=a.then;if(ab(e))return cl(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},cl=function(a,b,c,d,e){var f=!1,g=function(l){f||(f=!0,c.call(e,l))},h=function(l){f||(f=!0,d.call(e,l))};try{b.call(a,
g,h)}catch(l){h(l)}},al=function(a){a.executing_||(a.executing_=!0,Aj(a.executeCallbacks_,a))},Zk=function(a){var b=null;a.callbackEntries_&&(b=a.callbackEntries_,a.callbackEntries_=b.next,b.next=null);a.callbackEntries_||(a.callbackEntriesTail_=null);null!=b&&I(null!=b.onFulfilled);return b};Ik.prototype.executeCallbacks_=function(){for(var a;a=Zk(this);)$k(this,a,this.state_,this.result_);this.executing_=!1};
var $k=function(a,b,c,d){if(3==c&&b.onRejected&&!b.always)for(;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1;if(b.child)b.child.parent_=null,dl(b,c,d);else try{b.always?b.onFulfilled.call(b.context):dl(b,c,d)}catch(e){el.call(null,e)}Kk.put(b)},dl=function(a,b,c){2==b?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)},bl=function(a,b){a.hadUnhandledRejection_=!0;Aj(function(){a.hadUnhandledRejection_&&el.call(null,b)})},el=pj,Hk=function(a){lb.call(this,
a)};G(Hk,lb);Hk.prototype.name="cancel";var Sk=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var fl=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0};
fl.prototype.cancel=function(a){if(this.fired_)this.result_ instanceof fl&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):(b.branches_--,0>=b.branches_&&b.cancel())}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.fired_||this.errback(new gl(this))}};fl.prototype.continue_=function(a,b){this.blocked_=!1;hl(this,a,b)};
var hl=function(a,b,c){a.fired_=!0;a.result_=c;a.hadError_=!b;il(a)},kl=function(a){if(a.fired_){if(!a.silentlyCanceled_)throw new jl(a);a.silentlyCanceled_=!1}};fl.prototype.callback=function(a){kl(this);ll(a);hl(this,!0,a)};fl.prototype.errback=function(a){kl(this);ll(a);hl(this,!1,a)};
var ll=function(a){I(!(a instanceof fl),"An execution sequence may not be initiated with a blocking Deferred.")},ml=function(a,b,c,d){I(!a.blocking_,"Blocking Deferreds can not be re-used");a.sequence_.push([b,c,d]);a.fired_&&il(a)};fl.prototype.then=function(a,b,c){var d,e,f=new Ik(function(g,h){d=g;e=h});ml(this,d,function(g){g instanceof gl?f.cancel():e(g)});return f.then(a,b,c)};fl.prototype.$goog_Thenable=!0;
fl.prototype.branch=function(a){var b=new fl;ml(this,b.callback,b.errback,b);a&&(b.parent_=this,this.branches_++);return b};fl.prototype.isError=function(a){return a instanceof Error};
var nl=function(a){return Gb(a.sequence_,function(b){return ab(b[1])})},il=function(a){if(a.unhandledErrorId_&&a.fired_&&nl(a)){var b=a.unhandledErrorId_,c=ol[b];c&&(D.clearTimeout(c.id_),delete ol[b]);a.unhandledErrorId_=0}a.parent_&&(a.parent_.branches_--,delete a.parent_);b=a.result_;for(var d=c=!1;a.sequence_.length&&!a.blocked_;){var e=a.sequence_.shift(),f=e[0],g=e[1];e=e[2];if(f=a.hadError_?g:f)try{var h=f.call(e||a.defaultScope_,b);E(h)&&(a.hadError_=a.hadError_&&(h==b||a.isError(h)),a.result_=
b=h);if(Gk(b)||"function"===typeof D.Promise&&b instanceof D.Promise)d=!0,a.blocked_=!0}catch(l){b=l,a.hadError_=!0,nl(a)||(c=!0)}}a.result_=b;d&&(h=hb(a.continue_,a,!0),d=hb(a.continue_,a,!1),b instanceof fl?(ml(b,h,d),b.blocking_=!0):b.then(h,d));c&&(b=new pl(b),ol[b.id_]=b,a.unhandledErrorId_=b.id_)},jl=function(){lb.call(this)};G(jl,lb);jl.prototype.message="Deferred has already fired";jl.prototype.name="AlreadyCalledError";var gl=function(){lb.call(this)};G(gl,lb);gl.prototype.message="Deferred was canceled";
gl.prototype.name="CanceledError";var pl=function(a){this.id_=D.setTimeout(hb(this.throwError,this),0);this.error_=a};pl.prototype.throwError=function(){I(ol[this.id_],"Cannot throw an error that is not scheduled.");delete ol[this.id_];throw this.error_;};var ol={};var ql=new Ck("fva");new Ak(ql,1);var rl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,sl=function(a){a=a.match(rl)[1]||null;!a&&D.self&&D.self.location&&(a=D.self.location.protocol,a=a.substr(0,a.length-1));return a?a.toLowerCase():""},tl=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?De(e):"")}}},ul=function(a,b){if(!b)return a;var c=a.indexOf("#");
0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]},vl=function(a,b,c){rb(a);if(Za(b)){vb(b);for(var d=0;d<b.length;d++)vl(a,String(b[d]),c)}else null!=b&&c.push(a+(""===b?"":"="+Ce(b)))},wl=function(a,b){I(0==Math.max(a.length-(b||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");var c=[];for(b=b||0;b<a.length;b+=2)vl(a[b],a[b+1],c);return c.join("&")},
xl=function(a,b){var c=2==arguments.length?wl(arguments[1],0):wl(arguments,1);return ul(a,c)},yl=function(a,b,c){c=null!=c?"="+Ce(c):"";return ul(a,b+c)},zl=function(a,b,c){for(;0<=(b=a.indexOf("zx",b))&&b<c;){var d=a.charCodeAt(b-1);if(38==d||63==d)if(d=a.charCodeAt(b+2),!d||61==d||38==d||35==d)return b;b+=3}return-1},Al=/#|$/,Bl=/[?&]($|#)/,Cl=function(a){for(var b=Pe(),c=a.search(Al),d=0,e,f=[];0<=(e=zl(a,d,c));)f.push(a.substring(d,e)),d=Math.min(a.indexOf("&",e)+1||c,c);f.push(a.substr(d));a=
f.join("").replace(Bl,"$1");return yl(a,"zx",b)};var Dl=function(a,b){this.domain_=this.userInfo_=this.scheme_="";this.port_=null;this.fragment_=this.path_="";this.ignoreCase_=this.isReadOnly_=!1;if(a instanceof Dl){this.ignoreCase_=E(b)?b:a.ignoreCase_;El(this,a.scheme_);var c=a.getUserInfo();Fl(this);this.userInfo_=c;c=a.getDomain();Fl(this);this.domain_=c;Gl(this,a.getPort());Hl(this,a.path_);Il(this,a.queryData_.clone());Jl(this,a.fragment_)}else a&&(c=String(a).match(rl))?(this.ignoreCase_=!!b,El(this,c[1]||"",!0),a=c[2]||"",Fl(this),this.userInfo_=
Kl(a),a=c[3]||"",Fl(this),this.domain_=Kl(a,!0),Gl(this,c[4]),Hl(this,c[5]||"",!0),Il(this,c[6]||"",!0),Jl(this,c[7]||"",!0)):(this.ignoreCase_=!!b,this.queryData_=new Ll(null,this.ignoreCase_))};
Dl.prototype.toString=function(){var a=[],b=this.scheme_;b&&a.push(Ml(b,Nl,!0),":");var c=this.getDomain();if(c||"file"==b)a.push("//"),(b=this.getUserInfo())&&a.push(Ml(b,Nl,!0),"@"),a.push(Ce(c).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.getPort(),null!=c&&a.push(":",String(c));if(c=this.path_)this.domain_&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ml(c,"/"==c.charAt(0)?Ol:Pl,!0));(c=this.queryData_.toString())&&a.push("?",c);(c=this.fragment_)&&a.push("#",Ml(c,Ql));return a.join("")};
Dl.prototype.resolve=function(a){var b=this.clone(),c=!!a.scheme_;c?El(b,a.scheme_):c=!!a.userInfo_;if(c){var d=a.getUserInfo();Fl(b);b.userInfo_=d}else c=!!a.domain_;c?(d=a.getDomain(),Fl(b),b.domain_=d):c=null!=a.port_;d=a.path_;if(c)Gl(b,a.getPort());else if(c=!!a.path_){if("/"!=d.charAt(0))if(this.domain_&&!this.path_)d="/"+d;else{var e=b.path_.lastIndexOf("/");-1!=e&&(d=b.path_.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(jd(e,"./")||jd(e,"/.")){d=Yc(e,"/");e=e.split("/");for(var f=[],
g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?Hl(b,d):c=""!==a.queryData_.toString();c?Il(b,a.queryData_.clone()):c=!!a.fragment_;c&&Jl(b,a.fragment_);return b};Dl.prototype.clone=function(){return new Dl(this)};var El=function(a,b,c){Fl(a);a.scheme_=c?Kl(b,!0):b;a.scheme_&&(a.scheme_=a.scheme_.replace(/:$/,""));return a};Dl.prototype.getUserInfo=function(){return this.userInfo_};
Dl.prototype.getDomain=function(){return this.domain_};Dl.prototype.getPort=function(){return this.port_};var Gl=function(a,b){Fl(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.port_=b}else a.port_=null},Hl=function(a,b,c){Fl(a);a.path_=c?Kl(b,!0):b;return a},Il=function(a,b,c){Fl(a);b instanceof Ll?(a.queryData_=b,a.queryData_.setIgnoreCase(a.ignoreCase_)):(c||(b=Ml(b,Rl)),a.queryData_=new Ll(b,a.ignoreCase_));return a};
Dl.prototype.setQuery=function(a,b){return Il(this,a,b)};Dl.prototype.getQuery=function(){return this.queryData_.toString()};var Sl=function(a,b,c){Fl(a);a.queryData_.set(b,c);return a},Tl=function(a,b){return a.queryData_.get(b)},Jl=function(a,b,c){Fl(a);a.fragment_=c?Kl(b):b;return a};Dl.prototype.removeParameter=function(a){Fl(this);this.queryData_.remove(a);return this};Dl.prototype.setReadOnly=function(a){this.isReadOnly_=a};Dl.prototype.isReadOnly=function(){return this.isReadOnly_};
var Fl=function(a){if(a.isReadOnly_)throw Error("Tried to modify a read-only Uri");};Dl.prototype.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a)};
var Ul=function(a){return a instanceof Dl?a.clone():new Dl(a,void 0)},Kl=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ml=function(a,b,c){return F(a)?(a=encodeURI(a).replace(b,Vl),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Vl=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Nl=/[#\/\?@]/g,Pl=/[#\?:]/g,Ol=/[#\?]/g,Rl=/[#\?@]/g,Ql=/#/g,Ll=function(a,b){this.count_=this.keyMap_=null;this.encodedQuery_=a||null;this.ignoreCase_=
!!b},Wl=function(a){a.keyMap_||(a.keyMap_=new Mg,a.count_=0,a.encodedQuery_&&tl(a.encodedQuery_,function(b,c){a.add(De(b),c)}))};k=Ll.prototype;k.getCount=function(){Wl(this);return this.count_};k.add=function(a,b){Wl(this);this.invalidateCache_();a=Xl(this,a);var c=this.keyMap_.get(a);c||this.keyMap_.set(a,c=[]);c.push(b);this.count_=qb(this.count_)+1;return this};
k.remove=function(a){Wl(this);a=Xl(this,a);return this.keyMap_.containsKey(a)?(this.invalidateCache_(),this.count_=qb(this.count_)-this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};k.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};k.isEmpty=function(){Wl(this);return 0==this.count_};k.containsKey=function(a){Wl(this);a=Xl(this,a);return this.keyMap_.containsKey(a)};k.containsValue=function(a){var b=this.getValues();return Nb(b,a)};
k.forEach=function(a,b){Wl(this);this.keyMap_.forEach(function(c,d){Cb(c,function(e){a.call(b,e,d,this)},this)},this)};k.getKeys=function(){Wl(this);for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.getValues=function(a){Wl(this);var b=[];if(F(a))this.containsKey(a)&&(b=Pb(b,this.keyMap_.get(Xl(this,a))));else{a=this.keyMap_.getValues();for(var c=0;c<a.length;c++)b=Pb(b,a[c])}return b};
k.set=function(a,b){Wl(this);this.invalidateCache_();a=Xl(this,a);this.containsKey(a)&&(this.count_=qb(this.count_)-this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_=qb(this.count_)+1;return this};k.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
k.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var a=[],b=this.keyMap_.getKeys(),c=0;c<b.length;c++){var d=b[c],e=Ce(d);d=this.getValues(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+Ce(d[f]));a.push(g)}}return this.encodedQuery_=a.join("&")};k.invalidateCache_=function(){this.encodedQuery_=null};k.clone=function(){var a=new Ll;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};
var Xl=function(a,b){b=String(b);a.ignoreCase_&&(b=b.toLowerCase());return b};Ll.prototype.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(Wl(this),this.invalidateCache_(),this.keyMap_.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<b.length&&(this.invalidateCache_(),this.keyMap_.set(Xl(this,d),Qb(b)),this.count_=qb(this.count_)+b.length))},this));this.ignoreCase_=a};
Ll.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)rg(arguments[b],function(c,d){this.add(d,c)},this)};var Yl={sanitizedContentKindHtml:!0},Zl={sanitizedContentUri:!0},$l={sanitizedContentTrustedResourceUri:!0},am={sanitizedContentCss:!0},bm={sanitizedContentKindText:!0},cm=function(){throw Error("Do not instantiate directly");};cm.prototype.contentDir=null;cm.prototype.getContent=function(){return this.content};cm.prototype.toString=function(){return this.content};
var dm=function(a){if(a.contentKind===bm)return de(a.toString());if(a.contentKind!==Yl)throw Error("Sanitized content was not of kind TEXT or HTML.");return oe(Gc("Soy SanitizedContent of kind HTML produces SafeHtml-contract-compliant value."),a.toString(),a.contentDir)},N=function(a){this.content=String(a);this.contentDir=null};G(N,cm);N.prototype.contentKind=bm;var em=function(){cm.call(this)};G(em,cm);em.prototype.contentKind=Yl;
var fm=function(a){return F(a)||a instanceof em||a instanceof N||a instanceof $d},gm=function(){cm.call(this)};G(gm,cm);gm.prototype.contentKind=Zl;gm.prototype.contentDir=1;var hm=function(a){return F(a)||a instanceof gm||a instanceof N||a instanceof od||a instanceof Nc||a instanceof Dl},im=function(){cm.call(this)};G(im,cm);im.prototype.contentKind=$l;im.prototype.contentDir=1;var jm=function(){cm.call(this)};G(jm,cm);jm.prototype.contentKind=am;jm.prototype.contentDir=1;var nm=function(a,b){I(a,"Soy template may not be null.");var c=Zg();a=a(b||km,void 0,void 0);b=lm(a);mm(b);a=dm(a);return ph(c.document_,a)},pm=function(a,b){I(a,"Soy template may not be null.");return om(a(b||km,void 0,void 0))},om=function(a){var b=Zg().createElement("DIV");a=lm(a);mm(a);te(b,oe(Gc("Soy HTML template."),a));return 1==b.childNodes.length&&(a=b.firstChild,1==a.nodeType)?a:b},lm=function(a){if(!bb(a))return Ee(String(a));if(a instanceof cm){if(a.contentKind===Yl)return rb(a.getContent());
if(a.contentKind===bm)return Ee(a.getContent())}pb("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"},mm=function(a){var b=a.match(qm);I(!b,"This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\nTemplate output: %s",b&&b[0],a)},qm=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,km={};new Dk("P6x1Re");var sm=function(){this.emailAsAttachmentAction_=rm("share-email-attachment","Email as attachment...");this.emailCollaboratorsAction_=rm("share-email-collaborators","Email collaborators...");this.shareAction_=rm("share-share","Share...");this.currentUserRequestAccessAction_=rm("share-current-user-request-access","Request edit access...")},rm=function(a,b){var c={};c.label=b;c.visible=!1;c.hint=b;return new Gj(a,c)};var tm,um={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",
PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};var vm={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",
MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",
TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};Ac("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));
var wm=function(a,b){b?(I(oc(vm,b),"No such ARIA role "+b),a.setAttribute("role",b)):a.removeAttribute("role")},ym=function(a,b,c){Za(c)&&(c=c.join(" "));var d=xm(b);""===c||void 0==c?(tm||(tm={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=tm,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,
c)},zm=function(a,b){a=a.getAttribute(xm(b));return null==a||void 0==a?"":String(a)},Am=function(a,b){var c="";b&&(c=b.id,I(c,"The active element should have an id."));ym(a,"activedescendant",c)},xm=function(a){I(a,"ARIA attribute cannot be empty.");I(oc(um,a),"No such ARIA attribute "+a);return"aria-"+a};var Bm=function(a){if(a.classList)return a.classList;a=a.className;return F(a)&&a.match(/\S+/g)||[]},Cm=function(a,b){a.className=b},Dm=function(a,b){return a.classList?a.classList.contains(b):Nb(Bm(a),b)},Em=function(a,b){a.classList?a.classList.add(b):Dm(a,b)||(a.className+=0<a.className.length?" "+b:b)},Fm=function(a,b){if(a.classList)Cb(b,function(e){Em(a,e)});else{var c={};Cb(Bm(a),function(e){c[e]=!0});Cb(b,function(e){c[e]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?
" "+d:d}},Gm=function(a,b){a.classList?a.classList.remove(b):Dm(a,b)&&(a.className=Eb(Bm(a),function(c){return c!=b}).join(" "))},Hm=function(a,b){a.classList?Cb(b,function(c){Gm(a,c)}):a.className=Eb(Bm(a),function(c){return!Nb(b,c)}).join(" ")},Im=function(a,b,c){c?Em(a,b):Gm(a,b)};var Km=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;if(Jm(a.keyCode))return!0;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Gf;default:return 166>a.keyCode||183<a.keyCode}},Mm=function(a,b,c,d,e,f){if(Hf&&!Xf("525"))return!0;if(Jf&&e)return Jm(a);if(e&&
!d)return!1;if(!Gf){Pa(b)&&(b=Lm(b));var g=17==b||18==b||Jf&&91==b;if((!c||Jf)&&g||Jf&&16==b&&(d||f))return!1}if((Hf||Ef)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Df&&d&&b==a)return!1;switch(a){case 13:return Gf?f||e?!1:!(c&&d):!0;case 27:return!(Hf||Ef||Gf)}return Gf&&(d||e||f)?!1:Jm(a)},Jm=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(Hf||Ef)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;
case 173:return Gf;default:return!1}},Lm=function(a){if(Gf)a=Nm(a);else if(Jf&&Hf)switch(a){case 93:a=91}return a},Nm=function(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};var Om=function(a){lj.call(this);this.handler_=a;this.keys_={}};G(Om,lj);var Pm=[];Om.prototype.listen=function(a,b,c,d){return Qm(this,a,b,c,d)};var Rm=function(a,b,c,d){Qm(a,b,"change",c,!1,d)},Qm=function(a,b,c,d,e,f){Za(c)||(c&&(Pm[0]=c.toString()),c=Pm);for(var g=0;g<c.length;g++){var h=nk(b,c[g],d||a.handleEvent,e||!1,f||a.handler_||a);if(!h)break;a.keys_[h.key]=h}return a};Om.prototype.listenOnce=function(a,b,c,d){return Sm(this,a,b,c,d)};
var Sm=function(a,b,c,d,e,f){if(Za(c))for(var g=0;g<c.length;g++)Sm(a,b,c[g],d,e,f);else{b=mk(b,c,d||a.handleEvent,e,f||a.handler_||a);if(!b)return a;a.keys_[b.key]=b}return a};Om.prototype.unlisten=function(a,b,c,d,e){if(Za(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else c=c||this.handleEvent,d=bb(d)?!!d.capture:!!d,e=e||this.handler_||this,c=ok(c),d=!!d,b=ck(a)?a.getListener(b,c,d,e):a?(a=qk(a))?a.getListener(b,c,d,e):null:null,b&&(vk(b),delete this.keys_[b.key]);return this};
Om.prototype.removeAll=function(){hc(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&vk(a)},this);this.keys_={}};Om.prototype.disposeInternal=function(){Om.superClass_.disposeInternal.call(this);this.removeAll()};Om.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Um=function(a,b,c){M.call(this);this.target=a;this.handle=b||a;this.limits=c||new Sh(NaN,NaN,NaN,NaN);this.document_=Yg(a);this.eventHandler_=new Om(this);nj(this,this.eventHandler_);this.deltaY=this.deltaX=this.startY=this.startX=this.screenY=this.screenX=this.clientY=this.clientX=0;this.enabled_=!0;this.dragging_=!1;this.preventMouseDown_=!0;this.hysteresisDistanceSquared_=0;this.useRightPositioningForRtl_=this.ieDragStartCancellingOn_=!1;nk(this.handle,["touchstart","mousedown"],this.startDrag,
!1,this);this.useSetCapture_=Tm};G(Um,M);var Tm=D.document&&D.document.documentElement&&!!D.document.documentElement.setCapture&&!!D.document.releaseCapture;Um.prototype.getHandler=function(){return this.eventHandler_};var Vm=function(a,b){a.limits=b||new Sh(NaN,NaN,NaN,NaN)};Um.prototype.setEnabled=function(a){this.enabled_=a};
Um.prototype.disposeInternal=function(){Um.superClass_.disposeInternal.call(this);uk(this.handle,["touchstart","mousedown"],this.startDrag,!1,this);this.eventHandler_.removeAll();this.useSetCapture_&&this.document_.releaseCapture();this.handle=this.target=null};var Wm=function(a){E(a.rightToLeft_)||(a.rightToLeft_=ri(a.target));return a.rightToLeft_};
Um.prototype.startDrag=function(a){var b="mousedown"==a.type;if(!this.enabled_||this.dragging_||b&&!ak(a))this.dispatchEvent("earlycancel");else{if(0==this.hysteresisDistanceSquared_)if(this.dispatchEvent(new Xm("start",this,a.clientX,a.clientY,a)))this.dragging_=!0,this.preventMouseDown_&&b&&a.preventDefault();else return;else this.preventMouseDown_&&b&&a.preventDefault();b=this.document_;var c=b.documentElement,d=!this.useSetCapture_;this.eventHandler_.listen(b,["touchmove","mousemove"],this.handleMove_,
{capture:d,passive:!1});this.eventHandler_.listen(b,["touchend","mouseup"],this.endDrag,d);this.useSetCapture_?(c.setCapture(!1),this.eventHandler_.listen(c,"losecapture",this.endDrag)):this.eventHandler_.listen(jh(b),"blur",this.endDrag);Df&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(b,"dragstart",Uj);this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,"scroll",this.onScroll_,d);this.clientX=this.startX=a.clientX;this.clientY=this.startY=a.clientY;this.screenX=a.screenX;
this.screenY=a.screenY;this.useRightPositioningForRtl_?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=$h(a)||(c=Yg(a).documentElement),c?(Gf&&!Xf(58)?(d=zi(c),b+=d.left):Zf(8)&&!Zf(9)&&(d=zi(c),b-=d.left),a=ri(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.deltaX=a;this.deltaY=this.target.offsetTop;this.pageScroll=ih(Zg(this.document_).document_)}};
Um.prototype.endDrag=function(a,b){this.eventHandler_.removeAll();this.useSetCapture_&&this.document_.releaseCapture();this.dragging_?(this.dragging_=!1,this.dispatchEvent(new Xm("end",this,a.clientX,a.clientY,a,Ym(this,this.deltaX),Zm(this,this.deltaY),b||"touchcancel"==a.type))):this.dispatchEvent("earlycancel")};
Um.prototype.handleMove_=function(a){if(this.enabled_){var b=(this.useRightPositioningForRtl_&&Wm(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.dragging_){var d=this.startX-this.clientX,e=this.startY-this.clientY;if(d*d+e*e>this.hysteresisDistanceSquared_)if(this.dispatchEvent(new Xm("start",this,a.clientX,a.clientY,a)))this.dragging_=!0;else{this.isDisposed()||this.endDrag(a);return}}c=
$m(this,b,c);b=c.x;c=c.y;this.dragging_&&this.dispatchEvent(new Xm("beforedrag",this,a.clientX,a.clientY,a,b,c))&&(an(this,a,b,c),a.preventDefault())}};var $m=function(a,b,c){var d=ih(Zg(a.document_).document_);b+=d.x-a.pageScroll.x;c+=d.y-a.pageScroll.y;a.pageScroll=d;a.deltaX+=b;a.deltaY+=c;return new Tg(Ym(a,a.deltaX),Zm(a,a.deltaY))};Um.prototype.onScroll_=function(a){var b=$m(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;an(this,a,b.x,b.y)};
var an=function(a,b,c,d){a.useRightPositioningForRtl_&&Wm(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new Xm("drag",a,b.clientX,b.clientY,b,c,d))},Ym=function(a,b){var c=a.limits;a=isNaN(c.left)?null:c.left;c=isNaN(c.width)?0:c.width;return Math.min(null!=a?a+c:Infinity,Math.max(null!=a?a:-Infinity,b))},Zm=function(a,b){var c=a.limits;a=isNaN(c.top)?null:c.top;c=isNaN(c.height)?0:c.height;return Math.min(null!=a?a+c:Infinity,Math.max(null!=a?
a:-Infinity,b))},Xm=function(a,b,c,d,e,f,g){K.call(this,a);this.clientX=c;this.clientY=d;this.browserEvent=e;this.left=E(f)?f:b.deltaX;this.top=E(g)?g:b.deltaY};G(Xm,K);(function(){for(var a=["ms","moz","webkit","o"],b=0,c;c=a[b]&&!D.requestAnimationFrame;++b)D.requestAnimationFrame=D[c+"RequestAnimationFrame"],D.cancelAnimationFrame=D[c+"CancelAnimationFrame"]||D[c+"CancelRequestAnimationFrame"];if(!D.requestAnimationFrame){var d=0;D.requestAnimationFrame=function(e){var f=(new Date).getTime(),g=Math.max(0,16-(f-d));d=f+g;return D.setTimeout(function(){e(f+g)},g)};D.cancelAnimationFrame||(D.cancelAnimationFrame=function(e){clearTimeout(e)})}})();
var bn=[[],[]],cn=0,dn=!1,en=0,gn=function(a,b){var c=en++,d={measureTask:{id:c,fn:a.measure,context:b},mutateTask:{id:c,fn:a.mutate,context:b},state:{},args:void 0,isScheduled:!1};return function(){0<arguments.length?(d.args||(d.args=[]),d.args.length=0,d.args.push.apply(d.args,arguments),d.args.push(d.state)):d.args&&0!=d.args.length?(d.args[0]=d.state,d.args.length=1):d.args=[d.state];d.isScheduled||(d.isScheduled=!0,bn[cn].push(d));dn||(dn=!0,window.requestAnimationFrame(fn))}},fn=function(){dn=
!1;var a=bn[cn],b=a.length;cn=(cn+1)%2;for(var c,d=0;d<b;++d){c=a[d];var e=c.measureTask;c.isScheduled=!1;e.fn&&e.fn.apply(e.context,c.args)}for(d=0;d<b;++d)c=a[d],e=c.mutateTask,c.isScheduled=!1,e.fn&&e.fn.apply(e.context,c.args),c.state={};a.length=0};var hn=Df?Wc(Gc('javascript:""')):Wc(Gc("about:blank")),jn=Pc(hn),kn=Df?Wc(Gc('javascript:""')):Wc(Gc("javascript:undefined"));Pc(kn);var ln=function(a){M.call(this);this.element_=a;a=Df?"focusout":"blur";this.listenKeyIn_=nk(this.element_,Df?"focusin":"focus",this,!Df);this.listenKeyOut_=nk(this.element_,a,this,!Df)};G(ln,M);ln.prototype.handleEvent=function(a){var b=new Xj(a.event_);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};ln.prototype.disposeInternal=function(){ln.superClass_.disposeInternal.call(this);vk(this.listenKeyIn_);vk(this.listenKeyOut_);delete this.element_};var mn=function(a,b){M.call(this);this.interval_=a||1;this.timerObject_=b||D;this.boundTick_=hb(this.tick_,this);this.last_=jb()};G(mn,M);k=mn.prototype;k.enabled=!1;k.timer_=null;k.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};
k.tick_=function(){if(this.enabled){var a=jb()-this.last_;0<a&&a<.8*this.interval_?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchEvent("tick"),this.enabled&&(this.stop(),this.start()))}};k.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=jb())};
k.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};k.disposeInternal=function(){mn.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
var nn=function(a,b,c){if(ab(a))c&&(a=hb(a,c));else if(a&&"function"==typeof a.handleEvent)a=hb(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:D.setTimeout(a,b||0)},on=function(a){D.clearTimeout(a)},pn=function(a){var b=null;return Xk(new Ik(function(c,d){b=nn(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(c){on(b);throw c;})};var qn=function(){};Wa(qn);qn.prototype.nextId_=0;qn.prototype.idPrefix_="";var rn=function(a){return a.idPrefix_+":"+(a.nextId_++).toString(36)};var O=function(a){M.call(this);this.dom_=a||Zg();this.rightToLeft_=sn;this.id_=null;this.inDocument_=!1;this.element_=null;this.googUiComponentHandler_=void 0;this.childIndex_=this.children_=this.parent_=this.model_=null;this.pointerEventsEnabled_=this.wasDecorated_=!1};G(O,M);O.prototype.idGenerator_=qn.getInstance();
var sn=null,tn=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");};O.prototype.getId=function(){return this.id_||(this.id_=rn(this.idGenerator_))};
var un=function(a,b){a.parent_&&a.parent_.childIndex_&&(sc(a.parent_.childIndex_,a.id_),tc(a.parent_.childIndex_,b,a));a.id_=b};O.prototype.getElement=function(){return this.element_};var P=function(a){a=a.element_;I(a,"Can not call getElementStrict before rendering/decorating.");return a},wn=function(a){var b=pm(vn,{addACommentMessage:"Add a comment"});a.element_=b};k=O.prototype;k.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};
k.getRequiredElementByClass=function(a){var b=this.getElementByClass(a);I(b,"Expected element in component with class: %s",a);return b};k.getHandler=function(){this.googUiComponentHandler_||(this.googUiComponentHandler_=new Om(this));return I(this.googUiComponentHandler_)};
k.setParent=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.parent_&&this.id_&&xn(this.parent_,this.id_)&&this.parent_!=a)throw Error("Unable to set parent component");this.parent_=a;O.superClass_.setParentEventTarget.call(this,a)};k.getParent=function(){return this.parent_};k.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error("Method not supported");O.superClass_.setParentEventTarget.call(this,a)};k.getDomHelper=function(){return this.dom_};
k.createDom=function(){this.element_=this.dom_.createElement("DIV")};k.render=function(a){this.render_(a)};var yn=function(a,b){a.render_(b.parentNode,b)};k=O.prototype;k.render_=function(a,b){if(this.inDocument_)throw Error("Component already rendered");this.element_||this.createDom();a?a.insertBefore(this.element_,b||null):this.dom_.getDocument().body.appendChild(this.element_);this.parent_&&!this.parent_.inDocument_||this.enterDocument()};
k.decorate=function(a){if(this.inDocument_)throw Error("Component already rendered");if(a&&this.canDecorate(a)){this.wasDecorated_=!0;var b=Yg(a);this.dom_&&this.dom_.getDocument()==b||(this.dom_=Zg(a));this.decorateInternal(a);this.enterDocument()}else throw Error("Invalid element to decorate");};k.canDecorate=function(){return!0};k.decorateInternal=function(a){this.element_=a};k.enterDocument=function(){this.inDocument_=!0;zn(this,function(a){!a.inDocument_&&a.getElement()&&a.enterDocument()})};
k.exitDocument=function(){zn(this,function(a){a.inDocument_&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};
k.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);zn(this,function(a){a.dispose()});!this.wasDecorated_&&this.element_&&wh(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null;O.superClass_.disposeInternal.call(this)};k.makeId=function(a){return this.getId()+"."+a};k.getModel=function(){return this.model_};
k.setModel=function(a){this.model_=a};k.addChild=function(a,b){this.addChildAt(a,An(this),b)};
k.addChildAt=function(a,b,c){I(!!a,"Provided element must not be null.");if(a.inDocument_&&(c||!this.inDocument_))throw Error("Component already rendered");if(0>b||b>An(this))throw Error("Child component index out of bounds");this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]);if(a.getParent()==this){var d=a.getId();this.childIndex_[d]=a;Ob(this.children_,a)}else tc(this.childIndex_,a.getId(),a);a.setParent(this);Tb(this.children_,b,0,a);a.inDocument_&&this.inDocument_&&a.getParent()==
this?(c=this.getContentElement(),b=c.childNodes[b]||null,b!=a.getElement()&&c.insertBefore(a.getElement(),b)):c?(this.element_||this.createDom(),b=Bn(this,b+1),a.render_(this.getContentElement(),b?b.element_:null)):this.inDocument_&&!a.inDocument_&&a.element_&&a.element_.parentNode&&1==a.element_.parentNode.nodeType&&a.enterDocument()};k.getContentElement=function(){return this.element_};
k.isRightToLeft=function(){null==this.rightToLeft_&&(this.rightToLeft_=ri(this.inDocument_?this.element_:this.dom_.getDocument().body));return this.rightToLeft_};k.setRightToLeft=function(a){if(this.inDocument_)throw Error("Component already rendered");this.rightToLeft_=a};
var An=function(a){return a.children_?a.children_.length:0},Cn=function(a){var b=[];zn(a,function(c){b.push(c.getId())});return b},xn=function(a,b){a.childIndex_&&b?(a=a.childIndex_,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b},Bn=function(a,b){return a.children_?a.children_[b]||null:null},zn=function(a,b,c){a.children_&&Cb(a.children_,b,c)},Dn=function(a,b){return a.children_&&b?Ab(a.children_,b):-1};
O.prototype.removeChild=function(a,b){if(a){var c=F(a)?a:a.getId();a=xn(this,c);c&&a&&(sc(this.childIndex_,c),Ob(this.children_,a),b&&(a.exitDocument(),a.element_&&wh(a.element_)),a.setParent(null))}if(!a)throw Error("Child is not in parent component");return a};O.prototype.removeChildren=function(a){for(var b=[];this.children_&&0!=this.children_.length;)b.push(this.removeChild(Bn(this,0),a));return b};var En=function(a,b){this.element_=a;this.dom_=b};var Fn=function(a,b){M.call(this);this.handler_=new Om(this);this.setElement(a||null);b&&this.setType(b)};G(Fn,M);k=Fn.prototype;k.element_=null;k.autoHide_=!0;k.autoHidePartners_=null;k.autoHideRegion_=null;k.isVisible_=!1;k.shouldHideAsync_=!1;k.lastShowTime_=-1;k.lastHideTime_=-1;k.hideOnEscape_=!1;k.enableCrossIframeDismissal_=!0;k.type_="toggle_display";k.getType=function(){return this.type_};k.setType=function(a){this.type_=a};k.getElement=function(){return this.element_};
k.setElement=function(a){if(this.isVisible_)throw Error("Can not change this state of the popup while showing.");this.element_=a};k.setTransition=function(a,b){this.showTransition_=a;this.hideTransition_=b};k.getHandler=function(){return this.handler_};k.isVisible=function(){return this.isVisible_};k.isOrWasRecentlyVisible=function(){return this.isVisible_||150>jb()-this.lastHideTime_};
k.setVisible=function(a){this.showTransition_&&this.showTransition_.stop();this.hideTransition_&&this.hideTransition_.stop();a?this.show_():this.hide_()};k.reposition=Va;
k.show_=function(){if(!this.isVisible_&&this.onBeforeShow()){if(!this.element_)throw Error("Caller must call setElement before trying to show the popup");this.reposition();var a=Yg(this.element_);this.hideOnEscape_&&this.handler_.listen(a,"keydown",this.onDocumentKeyDown_,!0);if(this.autoHide_)if(this.handler_.listen(a,"mousedown",this.onDocumentMouseDown_,!0),Df){try{var b=a.activeElement}catch(d){}for(;b&&"IFRAME"==b.nodeName;){try{var c=b.contentDocument||b.contentWindow.document}catch(d){break}a=
c;b=a.activeElement}this.handler_.listen(a,"mousedown",this.onDocumentMouseDown_,!0);this.handler_.listen(a,"deactivate",this.onDocumentBlur_)}else this.handler_.listen(a,"blur",this.onDocumentBlur_);"toggle_display"==this.type_?Gn(this):"move_offscreen"==this.type_&&this.reposition();this.isVisible_=!0;this.lastShowTime_=jb();this.lastHideTime_=-1;if(this.showTransition_)mk(this.showTransition_,"end",this.onShow,!1,this),this.showTransition_.play();else this.onShow()}};
k.hide_=function(a){if(!this.isVisible_||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.handler_&&this.handler_.removeAll();this.isVisible_=!1;this.lastHideTime_=jb();this.hideTransition_?(mk(this.hideTransition_,"end",ib(this.continueHidingPopup_,a),!1,this),this.hideTransition_.play()):this.continueHidingPopup_(a);return!0};
k.continueHidingPopup_=function(a){"toggle_display"==this.type_?this.shouldHideAsync_?nn(this.hidePopupElement,0,this):this.hidePopupElement():"move_offscreen"==this.type_&&(this.element_.style.top="-10000px");this.onHide(a)};var Gn=function(a){a.element_.style.visibility="visible";qi(a.element_,!0)};k=Fn.prototype;k.hidePopupElement=function(){this.element_.style.visibility="hidden";qi(this.element_,!1)};k.onBeforeShow=function(){return this.dispatchEvent("beforeshow")};k.onShow=function(){this.dispatchEvent("show")};
k.onHide=function(a){this.dispatchEvent({type:"hide",target:a})};k.onDocumentMouseDown_=function(a){a=a.target;Bh(this.element_,a)||Hn(this,a)||this.autoHideRegion_&&!Bh(this.autoHideRegion_,a)||150>jb()-this.lastShowTime_||this.hide_(a)};k.onDocumentKeyDown_=function(a){27==a.keyCode&&this.hide_(a.target)&&(a.preventDefault(),a.stopPropagation())};
k.onDocumentBlur_=function(a){if(this.enableCrossIframeDismissal_){var b=Yg(this.element_);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||Bh(this.element_,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>jb()-this.lastShowTime_||this.hide_()}};var Hn=function(a,b){return Gb(a.autoHidePartners_||[],function(c){return b===c||Bh(c,b)})};
Fn.prototype.disposeInternal=function(){Fn.superClass_.disposeInternal.call(this);this.handler_.dispose();mj(this.showTransition_);mj(this.hideTransition_);delete this.element_;delete this.handler_;delete this.autoHidePartners_};var In=function(a,b){O.call(this,b);this.useIframeMask_=!!a;this.lastFocus_=null;this.resizeBackgroundTask_=gn({mutate:this.resizeBackground_},this)};G(In,O);k=In.prototype;k.focusHandler_=null;k.visible_=!1;k.bgEl_=null;k.bgIframeEl_=null;k.tabCatcherElement_=null;k.backwardTabWrapInProgress_=!1;k.getCssClass=function(){return"goog-modalpopup"};k.getBackgroundElement=function(){return this.bgEl_};
k.createDom=function(){In.superClass_.createDom.call(this);var a=this.getElement();I(a);Fm(a,$c(this.getCssClass()).split(" "));Ih(a,!0);qi(a,!1);Jn(this);Kn(this)};
var Jn=function(a){if(a.useIframeMask_&&!a.bgIframeEl_){var b=a.getDomHelper().createDom("IFRAME",{frameborder:0,style:"border:0;vertical-align:bottom;"});we(b,hn);a.bgIframeEl_=b;a.bgIframeEl_.className=a.getCssClass()+"-bg";qi(a.bgIframeEl_,!1);pi(a.bgIframeEl_,0)}a.bgEl_||(a.bgEl_=a.getDomHelper().createDom("DIV",a.getCssClass()+"-bg"),qi(a.bgEl_,!1))},Kn=function(a){a.tabCatcherElement_||(a.tabCatcherElement_=a.getDomHelper().createElement("SPAN"),qi(a.tabCatcherElement_,!1),Ih(a.tabCatcherElement_,
!0),a.tabCatcherElement_.style.position="absolute")};k=In.prototype;k.resetBackwardTabWrap_=function(){this.backwardTabWrapInProgress_=!1};k.canDecorate=function(a){return!!a&&"DIV"==a.tagName};k.decorateInternal=function(a){In.superClass_.decorateInternal.call(this,a);a=$c(this.getCssClass()).split(" ");Fm(I(this.getElement()),a);Jn(this);Kn(this);Ih(this.getElement(),!0);qi(this.getElement(),!1)};
k.enterDocument=function(){I(!!this.bgEl_,"Background element must not be null.");this.bgIframeEl_&&th(this.bgIframeEl_,this.getElement());th(this.bgEl_,this.getElement());In.superClass_.enterDocument.call(this);uh(this.tabCatcherElement_,this.getElement());this.focusHandler_=new ln(this.getDomHelper().getDocument());this.getHandler().listen(this.focusHandler_,"focusin",this.onFocus);Ln(this,!1)};
k.exitDocument=function(){this.isVisible()&&this.setVisible(!1);mj(this.focusHandler_);In.superClass_.exitDocument.call(this);wh(this.bgIframeEl_);wh(this.bgEl_);wh(this.tabCatcherElement_)};
k.setVisible=function(a){I(this.inDocument_,"ModalPopup must be rendered first.");a!=this.visible_&&(this.popupShowTransition_&&this.popupShowTransition_.stop(),this.bgShowTransition_&&this.bgShowTransition_.stop(),this.popupHideTransition_&&this.popupHideTransition_.stop(),this.bgHideTransition_&&this.bgHideTransition_.stop(),this.inDocument_&&Ln(this,a),a?this.show_():this.hide_())};
var Ln=function(a,b){a.modalAriaVisibilityHelper_||(a.modalAriaVisibilityHelper_=new En(P(a),a.dom_));a=a.modalAriaVisibilityHelper_;if(b){a.hiddenElements_||(a.hiddenElements_=[]);b=a.dom_.getChildren(a.dom_.getDocument().body);for(var c=0;c<b.length;c++){var d=b[c];d==a.element_||zm(d,"hidden")||(ym(d,"hidden",!0),a.hiddenElements_.push(d))}}else if(a.hiddenElements_){for(c=0;c<a.hiddenElements_.length;c++)a.hiddenElements_[c].removeAttribute(xm("hidden"));a.hiddenElements_=null}};
In.prototype.setTransition=function(a,b,c,d){this.popupShowTransition_=a;this.popupHideTransition_=b;this.bgShowTransition_=c;this.bgHideTransition_=d};
In.prototype.show_=function(){if(this.dispatchEvent("beforeshow")){try{this.lastFocus_=this.getDomHelper().getDocument().activeElement}catch(a){}this.resizeBackground_();this.reposition();this.getHandler().listen(this.getDomHelper().getWindow(),"resize",this.resizeBackground_).listen(this.getDomHelper().getWindow(),"orientationchange",this.resizeBackgroundTask_);Mn(this,!0);this.focus();this.visible_=!0;if(this.popupShowTransition_&&this.bgShowTransition_)mk(this.popupShowTransition_,"end",this.onShow,
!1,this),this.bgShowTransition_.play(),this.popupShowTransition_.play();else this.onShow()}};
In.prototype.hide_=function(){if(this.dispatchEvent("beforehide")){this.getHandler().unlisten(this.getDomHelper().getWindow(),"resize",this.resizeBackground_).unlisten(this.getDomHelper().getWindow(),"orientationchange",this.resizeBackgroundTask_);this.visible_=!1;if(this.popupHideTransition_&&this.bgHideTransition_)mk(this.popupHideTransition_,"end",this.onHide,!1,this),this.bgHideTransition_.play(),this.popupHideTransition_.play();else this.onHide();a:{try{var a=this.getDomHelper(),b=a.getDocument().body,
c=a.getDocument().activeElement||b;if(!this.lastFocus_||this.lastFocus_==b){this.lastFocus_=null;break a}(c==b||a.contains(this.getElement(),c))&&this.lastFocus_.focus()}catch(d){}this.lastFocus_=null}}};var Mn=function(a,b){a.bgIframeEl_&&qi(a.bgIframeEl_,b);a.bgEl_&&qi(a.bgEl_,b);qi(a.getElement(),b);qi(a.tabCatcherElement_,b)};k=In.prototype;k.onShow=function(){this.dispatchEvent("show")};k.onHide=function(){Mn(this,!1);this.dispatchEvent("hide")};k.isVisible=function(){return this.visible_};
k.focus=function(){this.focusElement_()};k.resizeBackground_=function(){this.bgIframeEl_&&qi(this.bgIframeEl_,!1);this.bgEl_&&qi(this.bgEl_,!1);var a=this.getDomHelper().getDocument(),b=gh(jh(a)||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth));a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.bgIframeEl_&&(qi(this.bgIframeEl_,!0),li(this.bgIframeEl_,c,a));this.bgEl_&&(qi(this.bgEl_,!0),li(this.bgEl_,c,a))};
k.reposition=function(){var a=this.getDomHelper().getDocument(),b=jh(a)||window;if("fixed"==$h(this.getElement()))var c=a=0;else c=ih(this.getDomHelper().document_),a=c.x,c=c.y;var d=ni(this.getElement());b=gh(b);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);bi(this.getElement(),a,c);bi(this.tabCatcherElement_,a,c)};k.onFocus=function(a){this.backwardTabWrapInProgress_?this.resetBackwardTabWrap_():a.target==this.tabCatcherElement_&&nn(this.focusElement_,0,this)};
k.focusElement_=function(){try{Df&&this.getDomHelper().getDocument().body.focus(),this.getElement().focus()}catch(a){}};k.disposeInternal=function(){mj(this.popupShowTransition_);this.popupShowTransition_=null;mj(this.popupHideTransition_);this.popupHideTransition_=null;mj(this.bgShowTransition_);this.bgShowTransition_=null;mj(this.bgHideTransition_);this.bgHideTransition_=null;In.superClass_.disposeInternal.call(this)};var Sn=function(a,b,c){In.call(this,b,c);this.class_=a||"modal-dialog";this.buttons_=On(On(new Pn,Qn,!0),Rn,!1,!0)};G(Sn,In);k=Sn.prototype;k.escapeToCancel_=!0;k.hasTitleCloseButton_=!0;k.modal_=!0;k.draggable_=!0;k.backgroundElementOpacity_=.5;k.title_="";k.content_=null;k.dragger_=null;k.disposeOnHide_=!1;k.titleEl_=null;k.titleTextEl_=null;k.titleTextId_=null;k.titleCloseEl_=null;k.contentEl_=null;k.buttonEl_=null;k.preferredAriaRole_="dialog";k.getCssClass=function(){return this.class_};
k.setTitle=function(a){this.title_=a;this.titleTextEl_&&Ch(this.titleTextEl_,a)};k.getTitle=function(){return this.title_};var Tn=function(a,b){a.content_=b;a.contentEl_&&ue(a.contentEl_,b)};Sn.prototype.getContent=function(){return null!=this.content_?be(this.content_):""};Sn.prototype.getSafeHtmlContent=function(){return this.content_};Sn.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_};var Un=function(a){a.getElement()||a.render()};
Sn.prototype.getContentElement=function(){Un(this);return this.contentEl_};Sn.prototype.getBackgroundElement=function(){Un(this);return Sn.superClass_.getBackgroundElement.call(this)};
var Vn=function(a,b){a.backgroundElementOpacity_=b;a.getElement()&&(b=a.getBackgroundElement())&&pi(b,a.backgroundElementOpacity_)},Wn=function(a,b){a.modal_=b;if(a.inDocument_){var c=a.getDomHelper(),d=a.getBackgroundElement(),e=a.bgIframeEl_;b?(e&&c.insertSiblingBefore(e,a.getElement()),c.insertSiblingBefore(d,a.getElement())):(c.removeNode(e),c.removeNode(d))}a.isVisible()&&Ln(a,b)},Xn=function(a,b){var c=$c(a.class_+"-title-draggable").split(" ");a.getElement()&&(b?Fm(I(a.titleEl_),c):Hm(I(a.titleEl_),
c));b&&!a.dragger_?(a.dragger_=new Um(a.getElement(),a.titleEl_),Fm(I(a.titleEl_),c),nk(a.dragger_,"start",a.setDraggerLimits_,!1,a)):!b&&a.dragger_&&(a.dragger_.dispose(),a.dragger_=null)};k=Sn.prototype;
k.createDom=function(){Sn.superClass_.createDom.call(this);var a=this.getElement();I(a,"getElement() returns null");var b=this.getDomHelper();this.titleEl_=b.createDom("DIV",this.class_+"-title",this.titleTextEl_=b.createDom("SPAN",{className:this.class_+"-title-text",id:this.getId()},this.title_),this.titleCloseEl_=b.createDom("SPAN",this.class_+"-title-close"));rh(a,this.titleEl_,this.contentEl_=b.createDom("DIV",this.class_+"-content"),this.buttonEl_=b.createDom("DIV",this.class_+"-buttons"));
wm(this.titleTextEl_,"heading");wm(this.titleCloseEl_,"button");Ih(this.titleCloseEl_,!0);ym(this.titleCloseEl_,"label","Close");this.titleTextId_=this.titleTextEl_.id;wm(a,this.getPreferredAriaRole());ym(a,"labelledby",this.titleTextId_||"");this.content_&&ue(this.contentEl_,this.content_);qi(this.titleCloseEl_,this.hasTitleCloseButton_);this.buttons_&&(a=this.buttons_,a.element_=this.buttonEl_,a.render());qi(this.buttonEl_,!!this.buttons_);Vn(this,this.backgroundElementOpacity_)};
k.decorateInternal=function(a){Sn.superClass_.decorateInternal.call(this,a);a=this.getElement();I(a,"The DOM element for dialog cannot be null.");var b=this.class_+"-content";this.contentEl_=ah(document,null,b,a)[0];this.contentEl_||(this.contentEl_=this.getDomHelper().createDom("DIV",b),this.content_&&ue(this.contentEl_,this.content_),a.appendChild(this.contentEl_));b=this.class_+"-title";var c=this.class_+"-title-text",d=this.class_+"-title-close";(this.titleEl_=ah(document,null,b,a)[0])?(this.titleTextEl_=
ah(document,null,c,this.titleEl_)[0],this.titleCloseEl_=ah(document,null,d,this.titleEl_)[0]):(this.titleEl_=this.getDomHelper().createDom("DIV",b),a.insertBefore(this.titleEl_,this.contentEl_));this.titleTextEl_?(this.title_=Lh(this.titleTextEl_),this.titleTextEl_.id||(this.titleTextEl_.id=this.getId())):(this.titleTextEl_=lh("SPAN",{className:c,id:this.getId()}),this.titleEl_.appendChild(this.titleTextEl_));this.titleTextId_=this.titleTextEl_.id;ym(a,"labelledby",this.titleTextId_||"");this.titleCloseEl_||
(this.titleCloseEl_=this.getDomHelper().createDom("SPAN",d),this.titleEl_.appendChild(this.titleCloseEl_));qi(this.titleCloseEl_,this.hasTitleCloseButton_);b=this.class_+"-buttons";(this.buttonEl_=ah(document,null,b,a)[0])?(this.buttons_=new Pn(this.getDomHelper()),this.buttons_.decorate(this.buttonEl_)):(this.buttonEl_=this.getDomHelper().createDom("DIV",b),a.appendChild(this.buttonEl_),this.buttons_&&(a=this.buttons_,a.element_=this.buttonEl_,a.render()),qi(this.buttonEl_,!!this.buttons_));Vn(this,
this.backgroundElementOpacity_)};
k.enterDocument=function(){Sn.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),"keydown",this.onKey_).listen(this.getElement(),"keypress",this.onKey_);this.getHandler().listen(this.buttonEl_,"click",this.onButtonClick_);Xn(this,this.draggable_);this.getHandler().listen(this.titleCloseEl_,"click",this.onTitleCloseClick_);var a=this.getElement();I(a,"The DOM element for dialog cannot be null");wm(a,this.getPreferredAriaRole());""!==this.titleTextEl_.id&&ym(a,"labelledby",
this.titleTextEl_.id);this.modal_||Wn(this,!1)};k.exitDocument=function(){this.isVisible()&&this.setVisible(!1);Xn(this,!1);Sn.superClass_.exitDocument.call(this)};k.setVisible=function(a){a!=this.isVisible()&&(this.inDocument_||this.render(),Sn.superClass_.setVisible.call(this,a))};k.onShow=function(){Sn.superClass_.onShow.call(this);this.dispatchEvent("aftershow")};k.onHide=function(){Sn.superClass_.onHide.call(this);this.dispatchEvent("afterhide");this.disposeOnHide_&&this.dispose()};
k.setDraggerLimits_=function(){var a=this.getDomHelper().getDocument(),b=gh(jh(a)||window),c=Math.max(a.body.scrollWidth,b.width);a=Math.max(a.body.scrollHeight,b.height);var d=ni(this.getElement());"fixed"==$h(this.getElement())?Vm(this.dragger_,new Sh(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))):Vm(this.dragger_,new Sh(0,0,c-d.width,a-d.height))};k.onTitleCloseClick_=function(){Yn(this)};
var Yn=function(a){if(a.hasTitleCloseButton_){var b=a.buttons_,c=b&&b.cancelButton_;c?(b=b.get(c),a.dispatchEvent(new Zn(c,b))&&a.setVisible(!1)):a.setVisible(!1)}};Sn.prototype.disposeInternal=function(){this.buttonEl_=this.titleCloseEl_=null;Sn.superClass_.disposeInternal.call(this)};var $n=function(a,b){a.buttons_=b;a.buttonEl_&&(a.buttons_?(b=a.buttons_,b.element_=a.buttonEl_,b.render()):ue(a.buttonEl_,je),qi(a.buttonEl_,!!a.buttons_))};
Sn.prototype.onButtonClick_=function(a){a:{for(a=a.target;null!=a&&a!=this.buttonEl_;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.buttons_.get(a);this.dispatchEvent(new Zn(a,b))&&this.setVisible(!1)}};
Sn.prototype.onKey_=function(a){var b=!1,c=!1,d=this.buttons_,e=a.target;if("keydown"==a.type)if(this.escapeToCancel_&&27==a.keyCode){var f=d&&d.cancelButton_;e="SELECT"==e.tagName&&!e.disabled;f&&!e?(c=!0,b=d.get(f),b=this.dispatchEvent(new Zn(f,b))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.getElement()){this.backwardTabWrapInProgress_=!0;try{this.tabCatcherElement_.focus()}catch(l){}nn(this.resetBackwardTabWrap_,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)f=e.name;
else if(e==this.titleCloseEl_)Yn(this);else if(d){var g=d.defaultButton_,h=g&&ao(d,g);e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!h||h.disabled||e||(f=g)}f&&d&&(c=!0,b=this.dispatchEvent(new Zn(f,String(d.get(f)))))}else e!=this.titleCloseEl_||32!=a.keyCode&&" "!=a.key||Yn(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.setVisible(!1)};var Zn=function(a,b){this.type="dialogselect";this.key=a;this.caption=b};G(Zn,K);
var Pn=function(a){this.dom_=a||Zg();Mg.call(this)};G(Pn,Mg);k=Pn.prototype;k.class_="goog-buttonset";k.defaultButton_=null;k.element_=null;k.cancelButton_=null;k.clear=function(){Mg.prototype.clear.call(this);this.defaultButton_=this.cancelButton_=null};k.set=function(a,b,c,d){Mg.prototype.set.call(this,a,b);c&&(this.defaultButton_=a);d&&(this.cancelButton_=a);return this};var On=function(a,b,c,d){return a.set(b.key,b.caption,c,d)};
Pn.prototype.render=function(){if(this.element_){ue(this.element_,je);var a=Zg(this.element_);this.forEach(function(b,c){b=a.createDom("BUTTON",{name:c},b);c==this.defaultButton_&&(b.className=this.class_+"-default");this.element_.appendChild(b)},this)}};
Pn.prototype.decorate=function(a){if(a&&1==a.nodeType){this.element_=a;a=(this.element_||document).getElementsByTagName("BUTTON");for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=Lh(c)||c.value,d){var f=0==b;this.set(d,e,f,"cancel"==c.name);f&&Em(c,this.class_+"-default")}}};Pn.prototype.getElement=function(){return this.element_};Pn.prototype.getDomHelper=function(){return this.dom_};
var ao=function(a,b){a=(I(a.element_)||document).getElementsByTagName("BUTTON");for(var c=0,d;d=a[c];c++)if(d.name==b||d.id==b)return d;return null},Qn={key:"ok",caption:"OK"},Rn={key:"cancel",caption:"Cancel"},bo={key:"yes",caption:"Yes"},co={key:"no",caption:"No"},eo={key:"save",caption:"Save"},fo={key:"continue",caption:"Continue"};
"undefined"!=typeof document&&(On(new Pn,Qn,!0,!0),On(On(new Pn,Qn,!0),Rn,!1,!0),On(On(new Pn,bo,!0),co,!1,!0),On(On(On(new Pn,bo),co,!0),Rn,!1,!0),On(On(On(new Pn,fo),eo),Rn,!0,!0));var go=function(a){Sn.call(this,void 0,!1,a);this.hasTitleCloseButton_=!1;this.titleCloseEl_&&qi(this.titleCloseEl_,this.hasTitleCloseButton_);this.escapeToCancel_=!0;$n(this,null)};G(go,Sn);
go.prototype.setVisible=function(a){var b=this.getElement(),c=this.getDomHelper();Im(b,"share-client-offscreen",!a);a!=this.modal_&&Wn(this,a);a?(this.reposition(),go.superClass_.setVisible.call(this,!0)):(b.style.right="",b.style.left="",b.style.top="");c=c.getElementsByTagNameAndClass("iframe",null,this.getContentElement());for(var d=0;d<c.length;d++)c[d].tabIndex=a?"0":"-1";b.tabIndex=a?"0":"-1";this.tabCatcherElement_.tabIndex=a?"0":"-1";b.setAttribute("aria-hidden",!a);a||this.dispatchEvent("d")};
go.prototype.enterDocument=function(){go.superClass_.enterDocument.call(this);var a;Un(this);(a=this.titleCloseEl_)&&ym(a,"hidden",!0)};var ko=function(a,b,c){var d="";if(!E(c)||c)d="B";var e=a,f=ho;a=e;c="";var g=1;0>e&&(e=-e);for(var h=0;h<jo.length;h++){var l=jo[h];g=f[l];if(e>=g||1>=g&&e>.1*g){c=l;break}}c?d&&(c+=d):g=1;b=Math.pow(10,E(b)?b:2);return Math.round(a/g*b)/b+""+c},jo="Y Z E P T G M K  m u n".split(" "),ho={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5),E:Math.pow(1024,6),Z:Math.pow(1024,7),Y:Math.pow(1024,8)};var lo=function(a,b,c){(b=null!=a&&a.contentKind===b)&&I(a.constructor===c);return b};var mo=function(a){if(null!=a)switch(a.contentDir){case 1:return 1;case -1:return-1;case 0:return 0}return null},R=function(a){return lo(a,Yl,em)?a:a instanceof $d?Q(be(a),a.getDirection()):Q(Ee(String(String(a))),mo(a))},Q=function(a){function b(c){this.content=c}b.prototype=a.prototype;return function(c,d){c=new b(String(c));void 0!==d&&(c.contentDir=d);return c}}(em),no=function(a){function b(c){this.content=c}b.prototype=a.prototype;return function(c){return new b(String(c))}}(jm),oo=function(a,
b){a=a instanceof N?a.toString():a;b=b instanceof N?b.toString():b;return ab(a)&&ab(b)?a.contentKind!==b.contentKind?!1:a.toString()===b.toString():a instanceof cm&&b instanceof cm?a.contentKind!=b.contentKind?!1:a.toString()==b.toString():a==b},po=function(a){return(a=String(a))?new N(a):""},qo=function(a){function b(c){this.content=c}b.prototype=a.prototype;return function(c){return(c=String(c))?new b(c):""}}(gm),to=function(a){return lo(a,Yl,em)?a:Q(ro(a,so),mo(a))},uo=/^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\b/,
ro=function(a,b){if(!b)return String(a).replace(vo,"").replace(wo,"&lt;");a=String(a).replace(/\[/g,"&#91;");var c=[],d=[];a=a.replace(vo,function(f,g){if(g&&(g=g.toLowerCase(),b.hasOwnProperty(g)&&b[g])){var h=c.length,l="</",m="";if("/"!=f.charAt(1)){l="<";for(var n;n=xo.exec(f);)if(n[1]&&"dir"==n[1].toLowerCase()){if(f=n[2]){if("'"==f.charAt(0)||'"'==f.charAt(0))f=f.substr(1,f.length-2);f=f.toLowerCase();if("ltr"==f||"rtl"==f||"auto"==f)m=' dir="'+f+'"'}break}xo.lastIndex=0}c[h]=l+g+">";d[h]=m;
return"["+h+"]"}return""});a=S(a);var e=yo(c);a=a.replace(/\[(\d+)\]/g,function(f,g){return d[g]&&c[g]?c[g].substr(0,c[g].length-1)+d[g]+">":c[g]});return a+e},zo=function(a){return a.replace(/<\//g,"<\\/").replace(/\]\]>/g,"]]\\>")},yo=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a[c];"/"==e.charAt(1)?(e=Bb(b,e),0>e?a[c]="":(a[c]=b.slice(e).reverse().join(""),b.length=e)):"<li>"==e&&0>Bb(b,"</ol>")&&0>Bb(b,"</ul>")?a[c]="":uo.test(e)||b.push("</"+e.substring(1))}return b.reverse().join("")},
T=function(a){return lo(a,Yl,em)?S(ro(a.getContent())):Ee(String(a))},Do=function(a){lo(a,Zl,gm)||lo(a,$l,im)?a=String(a).replace(Ao,Bo):a instanceof od?a=String(qd(a)).replace(Ao,Bo):a instanceof Nc?a=String(Pc(a)).replace(Ao,Bo):(a=String(a),Co.test(a)?a=a.replace(Ao,Bo):(pb("Bad value `%s` for |filterNormalizeUri",[a]),a="about:invalid#zSoyz"));return a},Fo=function(a){lo(a,am,jm)?a=zo(a.getContent()):null==a?a="":a instanceof Ad?a=zo(Bd(a)):a instanceof Od?a=zo(Qd(a)):(a=String(a),Eo.test(a)||
(pb("Bad value `%s` for |filterCssValue",[a]),a="zSoyz"));return a},U=function(a,b,c,d){a||(a=c instanceof Function?c.displayName||c.name||"unknown type name":c instanceof Object?c.constructor.displayName||c.constructor.name||Object.prototype.toString.call(c):null===c?"null":typeof c,pb("expected param "+b+" of type "+d+(", but got "+a)+"."));return c},Go={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;",
"<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},Ho=function(a){return Go[a]},Io={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18",
"\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C",
"\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"},Bo=function(a){return Io[a]},Jo=/[\x00\x22\x27\x3c\x3e]/g,Ko=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,Lo=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,Ao=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,
Eo=/^(?!-*(?:expression|(?:moz-)?binding))(?:(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|(?:rgb|hsl)a?\([0-9.%,\u0020]+\)|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,4}|%)?|!important)(?:\s+|$))*$/i,Co=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,S=function(a){return String(a).replace(Jo,Ho)},vo=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,wo=/</g,so={b:!0,br:!0,em:!0,i:!0,s:!0,strong:!0,sub:!0,sup:!0,u:!0},xo=/([a-zA-Z][a-zA-Z0-9:\-]*)[\t\n\r\u0020]*=[\t\n\r\u0020]*("[^"]*"|'[^']*')/g;var Mo=function(){return Q('<div class="'+T("share-client-loading-contents")+'"><div class="'+T("share-client-spinner")+'"> </div></div>')};var No=function(a,b,c,d,e,f){this.iconId_=a;this.message_=b;this.showInDialog_=c;this.timeout_=d;this.learnMoreUrl_=e||null;this.undoFn_=f||null};No.prototype.getMessage=function(){return this.message_};No.prototype.toJson=function(){var a={};a.iconId=this.iconId_;a.learnMoreUrl=this.learnMoreUrl_;a.message=this.getMessage();a.showInDialog=this.showInDialog_;a.timeout=this.timeout_;a.undoFn=this.undoFn_;return a};var Oo=function(a,b){M.call(this);a&&this.attach(a,b)};G(Oo,M);k=Oo.prototype;k.element_=null;k.keyPressKey_=null;k.keyDownKey_=null;k.keyUpKey_=null;k.lastKey_=-1;k.keyCode_=-1;k.altKey_=!1;
var Po={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Qo={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ro=!Hf||Xf("525"),So=Jf&&Gf;k=Oo.prototype;
k.handleKeyDown_=function(a){if(Hf||Ef)if(17==this.lastKey_&&!a.ctrlKey||18==this.lastKey_&&!a.altKey||Jf&&91==this.lastKey_&&!a.metaKey)this.keyCode_=this.lastKey_=-1;-1==this.lastKey_&&(a.ctrlKey&&17!=a.keyCode?this.lastKey_=17:a.altKey&&18!=a.keyCode?this.lastKey_=18:a.metaKey&&91!=a.keyCode&&(this.lastKey_=91));Ro&&!Mm(a.keyCode,this.lastKey_,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.keyCode_=Lm(a.keyCode),So&&(this.altKey_=a.altKey))};
k.handleKeyup_=function(a){this.keyCode_=this.lastKey_=-1;this.altKey_=a.altKey};
k.handleEvent=function(a){var b=a.event_,c=b.altKey;if(Df&&"keypress"==a.type){var d=this.keyCode_;var e=13!=d&&27!=d?b.keyCode:0}else(Hf||Ef)&&"keypress"==a.type?(d=this.keyCode_,e=0<=b.charCode&&63232>b.charCode&&Jm(d)?b.charCode:0):Cf&&!Hf?(d=this.keyCode_,e=Jm(d)?b.keyCode:0):("keypress"==a.type?(So&&(c=this.altKey_),b.keyCode==b.charCode?32>b.keyCode?(d=b.keyCode,e=0):(d=this.keyCode_,e=b.charCode):(d=b.keyCode||this.keyCode_,e=b.charCode||0)):(d=b.keyCode||this.keyCode_,e=b.charCode||0),Jf&&
63==e&&224==d&&(d=191));var f=d=Lm(d);d?63232<=d&&d in Po?f=Po[d]:25==d&&a.shiftKey&&(f=9):b.keyIdentifier&&b.keyIdentifier in Qo&&(f=Qo[b.keyIdentifier]);Gf&&Ro&&"keypress"==a.type&&!Mm(f,this.lastKey_,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=f==this.lastKey_,this.lastKey_=f,b=new To(f,e,a,b),b.altKey=c,this.dispatchEvent(b))};k.getElement=function(){return this.element_};
k.attach=function(a,b){this.keyUpKey_&&this.detach();this.element_=a;this.keyPressKey_=nk(this.element_,"keypress",this,b);this.keyDownKey_=nk(this.element_,"keydown",this.handleKeyDown_,b,this);this.keyUpKey_=nk(this.element_,"keyup",this.handleKeyup_,b,this)};k.detach=function(){this.keyPressKey_&&(vk(this.keyPressKey_),vk(this.keyDownKey_),vk(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null);this.element_=null;this.keyCode_=this.lastKey_=-1};
k.disposeInternal=function(){Oo.superClass_.disposeInternal.call(this);this.detach()};var To=function(a,b,c,d){Xj.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};G(To,Xj);var Uo=function(){},Vo;Wa(Uo);var Wo={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};k=Uo.prototype;k.getAriaRole=function(){};k.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "),a.getContent())};k.getContentElement=function(a){return a};
k.enableClassName=function(a,b,c){if(a=a.getElement?a.getElement():a){var d=[b];Df&&!Xf("7")&&(d=Xo(Bm(a),b),d.push(b));(c?Fm:Hm)(a,d)}};k.canDecorate=function(){return!0};
k.decorate=function(a,b){b.id&&un(a,b.id);var c=this.getContentElement(b);c&&c.firstChild?Yo(a,c.firstChild.nextSibling?Qb(c.childNodes):c.firstChild):a.content_=null;var d=0,e=this.getCssClass(),f=this.getCssClass(),g=!1,h=!1,l=!1,m=Qb(Bm(b));Cb(m,function(p){g||p!=e?h||p!=f?d|=this.getStateFromClass(p):h=!0:(g=!0,f==e&&(h=!0));1==this.getStateFromClass(p)&&(xb(c),Hh(c)&&Ih(c,!1))},this);a.state_=d;g||(m.push(e),f==e&&(h=!0));h||m.push(f);(a=a.extraClassNames_)&&m.push.apply(m,a);if(Df&&!Xf("7")){var n=
Xo(m);0<n.length&&(m.push.apply(m,n),l=!0)}g&&h&&!a&&!l||Cm(b,m.join(" "));return b};k.initializeDom=function(a){a.isRightToLeft()&&this.setRightToLeft(a.getElement(),!0);a.isEnabled()&&this.setFocusable(a,a.isVisible())};
var Zo=function(a,b,c){if(a=c||a.getAriaRole())I(b,"The element passed as a first parameter cannot be null."),c=b.getAttribute("role")||null,a!=c&&wm(b,a)},ap=function(a,b,c){I(b);I(c);var d=b.ariaLabel_;null!=d&&a.setAriaLabel(c,d);b.isVisible()||ym(c,"hidden",!b.isVisible());b.isEnabled()||a.updateAriaState(c,1,!b.isEnabled());$o(b,8)&&a.updateAriaState(c,8,b.isSelected());$o(b,16)&&a.updateAriaState(c,16,!!(b.state_&16));$o(b,64)&&a.updateAriaState(c,64,b.isOpen())};k=Uo.prototype;
k.setAriaLabel=function(a,b){ym(a,"label",b)};k.setAllowTextSelection=function(a,b){ti(a,!b,!Df&&!Cf)};k.setRightToLeft=function(a,b){this.enableClassName(a,this.getCssClass()+"-rtl",b)};k.isFocusable=function(a){var b;return $o(a,32)&&(b=a.getKeyEventTarget())?Hh(b):!1};k.setFocusable=function(a,b){var c;if($o(a,32)&&(c=a.getKeyEventTarget())){if(!b&&a.isFocused()){try{c.blur()}catch(d){}a.isFocused()&&a.handleBlur(null)}Hh(c)!=b&&Ih(c,b)}};k.setVisible=function(a,b){qi(a,b);a&&ym(a,"hidden",!b)};
k.setState=function(a,b,c){var d=a.getElement();if(d){var e=this.getClassForState(b);e&&this.enableClassName(a,e,c);this.updateAriaState(d,b,c)}};k.updateAriaState=function(a,b,c){Vo||(Vo={1:"disabled",8:"selected",16:"checked",64:"expanded"});I(a,"The element passed as a first parameter cannot be null.");b=Vo[b];var d=a.getAttribute("role")||null;d&&(d=Wo[d]||b,b="checked"==b||"selected"==b?d:b);b&&ym(a,b,c)};
k.setContent=function(a,b){var c=this.getContentElement(a);c&&(sh(c),b&&(F(b)?Ch(c,b):(a=function(d){if(d){var e=Yg(c);c.appendChild(F(d)?e.createTextNode(d):d)}},Za(b)?Cb(b,a):!$a(b)||"nodeType"in b?a(b):Cb(Qb(b),a))))};k.getKeyEventTarget=function(a){return a.getElement()};k.getCssClass=function(){return"goog-control"};
k.getClassNames=function(a){var b=this.getCssClass(),c=[b],d=this.getCssClass();d!=b&&c.push(d);b=a.getState();for(d=[];b;){var e=b&-b;d.push(this.getClassForState(e));b&=~e}c.push.apply(c,d);(a=a.extraClassNames_)&&c.push.apply(c,a);Df&&!Xf("7")&&c.push.apply(c,Xo(c));return c};var Xo=function(a,b){var c=[];b&&(a=Pb(a,[b]));Cb([],function(d){!Hb(d,ib(Nb,a))||b&&!Nb(d,b)||c.push(d.join("_"))});return c};Uo.prototype.getClassForState=function(a){this.classByState_||bp(this);return this.classByState_[a]};
Uo.prototype.getStateFromClass=function(a){this.stateByClass_||(this.classByState_||bp(this),this.stateByClass_=xc(this.classByState_));a=parseInt(this.stateByClass_[a],10);return isNaN(a)?0:a};var bp=function(a){var b=a.getCssClass(),c=!jd(b.replace(/\xa0|\s/g," ")," ");I(c,"ControlRenderer has an invalid css class: '"+b+"'");a.classByState_={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var dp=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!ab(b))throw Error("Invalid decorator function "+b);cp[a]=b},ep=function(a){I(a);a=Bm(a);for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d=d in cp?cp[d]():null)return d}return null},fp={},cp={};var gp=function(a,b,c){O.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=eb(b);if(d=fp[d])break;b=b.superClass_?b.superClass_.constructor:null}b=d?ab(d.getInstance)?d.getInstance():new d:null}this.renderer_=b;this.content_=E(a)?a:null;this.ariaLabel_=null};G(gp,O);k=gp.prototype;k.content_=null;k.state_=0;k.supportedStates_=39;k.autoStates_=255;k.statesWithTransitionEvents_=0;k.visible_=!0;k.extraClassNames_=null;k.handleMouseEvents_=!0;k.allowTextSelection_=!1;k.preferredAriaRole_=null;
var ip=function(a,b){a.inDocument_&&b!=a.handleMouseEvents_&&hp(a,b);a.handleMouseEvents_=b};gp.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};gp.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new Oo)};gp.prototype.getRenderer=function(){return this.renderer_};var jp=function(a,b){b&&(a.extraClassNames_?Nb(a.extraClassNames_,b)||a.extraClassNames_.push(b):a.extraClassNames_=[b],a.renderer_.enableClassName(a,b,!0))};k=gp.prototype;
k.enableClassName=function(a,b){b?jp(this,a):a&&this.extraClassNames_&&Ob(this.extraClassNames_,a)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableClassName(this,a,!1))};k.createDom=function(){var a=this.renderer_.createDom(this);this.element_=a;Zo(this.renderer_,a,this.getPreferredAriaRole());this.allowTextSelection_||this.renderer_.setAllowTextSelection(a,!1);this.isVisible()||this.renderer_.setVisible(a,!1)};k.getPreferredAriaRole=function(){return this.preferredAriaRole_};
k.setAriaLabel=function(a){this.ariaLabel_=a;var b=this.getElement();b&&this.renderer_.setAriaLabel(b,a)};k.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};k.canDecorate=function(a){return this.renderer_.canDecorate(a)};k.decorateInternal=function(a){this.element_=a=this.renderer_.decorate(this,a);Zo(this.renderer_,a,this.getPreferredAriaRole());this.allowTextSelection_||this.renderer_.setAllowTextSelection(a,!1);this.visible_="none"!=a.style.display};
k.enterDocument=function(){gp.superClass_.enterDocument.call(this);ap(this.renderer_,this,P(this));this.renderer_.initializeDom(this);if(this.supportedStates_&-2&&(this.handleMouseEvents_&&hp(this,!0),$o(this,32))){var a=this.getKeyEventTarget();if(a){var b=this.getKeyHandler();b.attach(a);this.getHandler().listen(b,"key",this.handleKeyEvent).listen(a,"focus",this.handleFocus).listen(a,"blur",this.handleBlur)}}};
var hp=function(a,b){var c=a.pointerEventsEnabled_?Vj:Wj,d=a.getHandler(),e=a.getElement();b?(d.listen(e,c.MOUSEDOWN,a.handleMouseDown).listen(e,[c.MOUSEUP,c.MOUSECANCEL],a.handleMouseUp).listen(e,"mouseover",a.handleMouseOver).listen(e,"mouseout",a.handleMouseOut),a.pointerEventsEnabled_&&d.listen(e,"gotpointercapture",a.preventPointerCapture_),a.handleContextMenu!=Va&&d.listen(e,"contextmenu",a.handleContextMenu),Df&&(Xf(9)||d.listen(e,"dblclick",a.handleDblClick),a.ieMouseEventSequenceSimulator_||
(a.ieMouseEventSequenceSimulator_=new kp(a),nj(a,a.ieMouseEventSequenceSimulator_)))):(d.unlisten(e,c.MOUSEDOWN,a.handleMouseDown).unlisten(e,[c.MOUSEUP,c.MOUSECANCEL],a.handleMouseUp).unlisten(e,"mouseover",a.handleMouseOver).unlisten(e,"mouseout",a.handleMouseOut),a.pointerEventsEnabled_&&d.unlisten(e,"gotpointercapture",a.preventPointerCapture_),a.handleContextMenu!=Va&&d.unlisten(e,"contextmenu",a.handleContextMenu),Df&&(Xf(9)||d.unlisten(e,"dblclick",a.handleDblClick),mj(a.ieMouseEventSequenceSimulator_),
a.ieMouseEventSequenceSimulator_=null))};gp.prototype.exitDocument=function(){gp.superClass_.exitDocument.call(this);this.keyHandler_&&this.keyHandler_.detach();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)};gp.prototype.disposeInternal=function(){gp.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_);delete this.renderer_;this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null};
gp.prototype.getContent=function(){return this.content_};gp.prototype.setContent=function(a){this.renderer_.setContent(this.getElement(),a);this.content_=a};var Yo=function(a,b){a.content_=b};k=gp.prototype;k.getCaption=function(){var a=this.getContent();if(!a)return"";a=F(a)?a:Za(a)?Fb(a,Mh).join(""):Lh(a);return Be(a)};k.setRightToLeft=function(a){gp.superClass_.setRightToLeft.call(this,a);var b=this.getElement();b&&this.renderer_.setRightToLeft(b,a)};
k.setAllowTextSelection=function(a){this.allowTextSelection_=a;var b=this.getElement();b&&this.renderer_.setAllowTextSelection(b,a)};k.isVisible=function(){return this.visible_};k.setVisible=function(a,b){return b||this.visible_!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.getElement())&&this.renderer_.setVisible(b,a),this.isEnabled()&&this.renderer_.setFocusable(this,a),this.visible_=a,!0):!1};k.isEnabled=function(){return!(this.state_&1)};
k.setEnabled=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!lp(this,1,!a)||(a||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,a),this.setState(1,!a,!0))};k.setHighlighted=function(a){lp(this,2,a)&&this.setState(2,a)};k.isActive=function(){return!!(this.state_&4)};k.setActive=function(a){lp(this,4,a)&&this.setState(4,a)};k.isSelected=function(){return!!(this.state_&8)};
k.setSelected=function(a){lp(this,8,a)&&this.setState(8,a)};var mp=function(a,b){lp(a,16,b)&&a.setState(16,b)};k=gp.prototype;k.isFocused=function(){return!!(this.state_&32)};k.setFocused=function(a){lp(this,32,a)&&this.setState(32,a)};k.isOpen=function(){return!!(this.state_&64)};k.setOpen=function(a){lp(this,64,a)&&this.setState(64,a)};k.getState=function(){return this.state_};
k.setState=function(a,b,c){c||1!=a?$o(this,a)&&b!=!!(this.state_&a)&&(this.renderer_.setState(this,a,b),this.state_=b?this.state_|a:this.state_&~a):this.setEnabled(!b)};var $o=function(a,b){return!!(a.supportedStates_&b)};gp.prototype.setSupportedState=function(a,b){if(this.inDocument_&&this.state_&a&&!b)throw Error("Component already rendered");!b&&this.state_&a&&this.setState(a,!1);this.supportedStates_=b?this.supportedStates_|a:this.supportedStates_&~a};
var np=function(a,b){return!!(a.autoStates_&b)&&$o(a,b)},lp=function(a,b,c){return $o(a,b)&&!!(a.state_&b)!=c&&(!(a.statesWithTransitionEvents_&b)||a.dispatchEvent(tn(b,c)))&&!a.isDisposed()};k=gp.prototype;k.handleMouseOver=function(a){(!a.relatedTarget||!Bh(this.getElement(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&np(this,2)&&this.setHighlighted(!0)};
k.handleMouseOut=function(a){a.relatedTarget&&Bh(this.getElement(),a.relatedTarget)||!this.dispatchEvent("leave")||(np(this,4)&&this.setActive(!1),np(this,2)&&this.setHighlighted(!1))};k.preventPointerCapture_=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};k.handleContextMenu=Va;
k.handleMouseDown=function(a){this.isEnabled()&&(np(this,2)&&this.setHighlighted(!0),ak(a)&&(np(this,4)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus()));!this.allowTextSelection_&&ak(a)&&a.preventDefault()};k.handleMouseUp=function(a){this.isEnabled()&&(np(this,2)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(a)&&np(this,4)&&this.setActive(!1))};k.handleDblClick=function(a){this.isEnabled()&&this.performActionInternal(a)};
k.performActionInternal=function(a){np(this,16)&&mp(this,!(this.state_&16));np(this,8)&&this.setSelected(!0);np(this,64)&&this.setOpen(!this.isOpen());var b=new K("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.platformModifierKey=a.platformModifierKey);return this.dispatchEvent(b)};k.handleFocus=function(){np(this,32)&&this.setFocused(!0)};k.handleBlur=function(){np(this,4)&&this.setActive(!1);np(this,32)&&this.setFocused(!1)};
k.handleKeyEvent=function(a){return this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};k.handleKeyEventInternal=function(a){return 13==a.keyCode&&this.performActionInternal(a)};if(!ab(gp))throw Error("Invalid component class "+gp);if(!ab(Uo))throw Error("Invalid renderer class "+Uo);var op=eb(gp);fp[op]=Uo;dp("goog-control",function(){return new gp(null)});
var kp=function(a){lj.call(this);this.control_=a;this.clickExpected_=!1;this.handler_=new Om(this);nj(this,this.handler_);a=P(this.control_);this.handler_.listen(a,"mousedown",this.handleMouseDown_).listen(a,"mouseup",this.handleMouseUp_).listen(a,"click",this.handleClick_)};G(kp,lj);var pp=!Df||Zf(9);kp.prototype.handleMouseDown_=function(){this.clickExpected_=!1};kp.prototype.handleMouseUp_=function(){this.clickExpected_=!0};
var qp=function(a,b){if(!pp)return a.button=0,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c};
kp.prototype.handleClick_=function(a){if(this.clickExpected_)this.clickExpected_=!1;else{var b=a.event_,c=b.button,d=b.type,e=qp(b,"mousedown");this.control_.handleMouseDown(new Xj(e,a.currentTarget));e=qp(b,"mouseup");this.control_.handleMouseUp(new Xj(e,a.currentTarget));pp||(b.button=c,b.type=d)}};kp.prototype.disposeInternal=function(){this.control_=null;kp.superClass_.disposeInternal.call(this)};var rp=function(a){this.ariaRole_=a};Wa(rp);rp.prototype.getAriaRole=function(){return this.ariaRole_};var sp=function(a,b){a&&(a.tabIndex=b?0:-1)};rp.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "))};rp.prototype.getContentElement=function(a){return a};rp.prototype.canDecorate=function(a){return"DIV"==a.tagName};
rp.prototype.decorate=function(a,b){b.id&&un(a,b.id);var c=this.getCssClass(),d=!1,e=Bm(b);e&&Cb(e,function(f){f==c?d=!0:f&&(f==c+"-disabled"?a.setEnabled(!1):f==c+"-horizontal"?a.setOrientation("horizontal"):f==c+"-vertical"&&a.setOrientation("vertical"))},this);d||Em(b,c);tp(this,a,this.getContentElement(b));return b};
var tp=function(a,b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(1==d.nodeType){var f=a.getDecoratorForChild(d);f&&(f.element_=d,b.isEnabled()||f.setEnabled(!1),b.addChild(f),f.decorate(d))}else d.nodeValue&&""!=$c(d.nodeValue)||c.removeChild(d);d=e}};k=rp.prototype;k.getDecoratorForChild=function(a){return ep(a)};
k.initializeDom=function(a){a=a.getElement();I(a,"The container DOM element cannot be null.");ti(a,!0,Gf);Df&&(a.hideFocus=!0);var b=this.getAriaRole();b&&wm(a,b)};k.getKeyEventTarget=function(a){return a.getElement()};k.getCssClass=function(){return"goog-container"};k.getClassNames=function(a){var b=this.getCssClass(),c=[b,"horizontal"==a.orientation_?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};k.getDefaultOrientation=function(){return"vertical"};var up=function(a,b,c){O.call(this,c);this.renderer_=b||rp.getInstance();this.orientation_=a||this.renderer_.getDefaultOrientation()};G(up,O);k=up.prototype;k.keyEventTarget_=null;k.keyHandler_=null;k.renderer_=null;k.orientation_=null;k.visible_=!0;k.enabled_=!0;k.focusable_=!0;k.highlightedIndex_=-1;k.openItem_=null;k.mouseButtonPressed_=!1;k.allowFocusableChildren_=!1;k.openFollowsHighlight_=!0;k.childElementIdMap_=null;k.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};
k.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new Oo(this.getKeyEventTarget()))};k.getRenderer=function(){return this.renderer_};k.createDom=function(){this.element_=this.renderer_.createDom(this)};k.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};k.canDecorate=function(a){return this.renderer_.canDecorate(a)};k.decorateInternal=function(a){this.element_=this.renderer_.decorate(this,a);"none"==a.style.display&&(this.visible_=!1)};
k.enterDocument=function(){up.superClass_.enterDocument.call(this);zn(this,function(c){c.inDocument_&&vp(this,c)},this);var a=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,!0);var b=this.pointerEventsEnabled_?Vj:Wj;this.getHandler().listen(this,"enter",this.handleEnterItem).listen(this,"highlight",this.handleHighlightItem).listen(this,"unhighlight",this.handleUnHighlightItem).listen(this,"open",this.handleOpenItem).listen(this,"close",this.handleCloseItem).listen(a,
b.MOUSEDOWN,this.handleMouseDown).listen(Yg(a),[b.MOUSEUP,b.MOUSECANCEL],this.handleDocumentMouseUp).listen(a,[b.MOUSEDOWN,b.MOUSEUP,b.MOUSECANCEL,"mouseover","mouseout","contextmenu"],this.handleChildMouseEvents);this.pointerEventsEnabled_&&this.getHandler().listen(a,"gotpointercapture",this.preventPointerCapture_);this.isFocusable()&&wp(this,!0)};k.preventPointerCapture_=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};
var wp=function(a,b){var c=a.getHandler(),d=a.getKeyEventTarget();b?c.listen(d,"focus",a.handleFocus).listen(d,"blur",a.handleBlur).listen(a.getKeyHandler(),"key",a.handleKeyEvent):c.unlisten(d,"focus",a.handleFocus).unlisten(d,"blur",a.handleBlur).unlisten(a.getKeyHandler(),"key",a.handleKeyEvent)};k=up.prototype;k.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(!1);this.mouseButtonPressed_=!1;up.superClass_.exitDocument.call(this)};
k.disposeInternal=function(){up.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null);this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null};k.handleEnterItem=function(){return!0};
k.handleHighlightItem=function(a){var b=Dn(this,a.target);if(-1<b&&b!=this.highlightedIndex_){var c=xp(this);c&&c.setHighlighted(!1);this.highlightedIndex_=b;c=xp(this);this.mouseButtonPressed_&&c.setActive(!0);this.openFollowsHighlight_&&this.openItem_&&c!=this.openItem_&&($o(c,64)?c.setOpen(!0):this.openItem_.setOpen(!1))}b=this.getElement();I(b,"The DOM element for the container cannot be null.");null!=a.target.getElement()&&ym(b,"activedescendant",a.target.getElement().id)};
k.handleUnHighlightItem=function(a){a.target==xp(this)&&(this.highlightedIndex_=-1);a=this.getElement();I(a,"The DOM element for the container cannot be null.");a.removeAttribute(xm("activedescendant"))};k.handleOpenItem=function(a){(a=a.target)&&a!=this.openItem_&&a.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=a)};
k.handleCloseItem=function(a){a.target==this.openItem_&&(this.openItem_=null);var b=this.getElement(),c=a.target.getElement();b&&a.target.state_&2&&c&&Am(b,c)};k.handleMouseDown=function(a){this.enabled_&&(this.mouseButtonPressed_=!0);var b=this.getKeyEventTarget();b&&Hh(b)?b.focus():a.preventDefault()};k.handleDocumentMouseUp=function(){this.mouseButtonPressed_=!1};
k.handleChildMouseEvents=function(a){var b=this.pointerEventsEnabled_?Vj:Wj;a:{var c=a.target;if(this.childElementIdMap_)for(var d=this.getElement();c&&c!==d;){var e=c.id;if(e in this.childElementIdMap_){c=this.childElementIdMap_[e];break a}c=c.parentNode}c=null}if(c)switch(a.type){case b.MOUSEDOWN:c.handleMouseDown(a);break;case b.MOUSEUP:case b.MOUSECANCEL:c.handleMouseUp(a);break;case "mouseover":c.handleMouseOver(a);break;case "mouseout":c.handleMouseOut(a);break;case "contextmenu":c.handleContextMenu(a)}};
k.handleFocus=function(){};k.handleBlur=function(){this.setHighlightedIndex(-1);this.mouseButtonPressed_=!1;this.openItem_&&this.openItem_.setOpen(!1)};k.handleKeyEvent=function(a){return this.isEnabled()&&this.isVisible()&&(0!=An(this)||this.keyEventTarget_)&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
k.handleKeyEventInternal=function(a){var b=xp(this);if(b&&"function"==typeof b.handleKeyEvent&&b.handleKeyEvent(a)||this.openItem_&&this.openItem_!=b&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.isFocusable())this.getKeyEventTarget().blur();else return!1;break;case 36:yp(this);break;case 35:zp(this);break;case 38:if("vertical"==this.orientation_)Ap(this);else return!1;
break;case 37:if("horizontal"==this.orientation_)this.isRightToLeft()?Bp(this):Ap(this);else return!1;break;case 40:if("vertical"==this.orientation_)Bp(this);else return!1;break;case 39:if("horizontal"==this.orientation_)this.isRightToLeft()?Ap(this):Bp(this);else return!1;break;default:return!1}return!0};var vp=function(a,b){var c=b.getElement();c=c.id||(c.id=b.getId());a.childElementIdMap_||(a.childElementIdMap_={});a.childElementIdMap_[c]=b};k=up.prototype;
k.addChild=function(a,b){zb(a,gp,"The child of a container must be a control");up.superClass_.addChild.call(this,a,b)};
k.addChildAt=function(a,b,c){zb(a,gp);a.statesWithTransitionEvents_|=2;a.statesWithTransitionEvents_|=64;!this.isFocusable()&&this.allowFocusableChildren_||a.setSupportedState(32,!1);ip(a,!1);var d=a.getParent()==this?Dn(this,a):-1;up.superClass_.addChildAt.call(this,a,b,c);a.inDocument_&&this.inDocument_&&vp(this,a);a=d;-1==a&&(a=An(this));a==this.highlightedIndex_?this.highlightedIndex_=Math.min(An(this)-1,b):a>this.highlightedIndex_&&b<=this.highlightedIndex_?this.highlightedIndex_++:a<this.highlightedIndex_&&
b>this.highlightedIndex_&&this.highlightedIndex_--};k.removeChild=function(a,b){a=F(a)?xn(this,a):a;zb(a,gp);if(a){var c=Dn(this,a);-1!=c&&(c==this.highlightedIndex_?(a.setHighlighted(!1),this.highlightedIndex_=-1):c<this.highlightedIndex_&&this.highlightedIndex_--);(c=a.getElement())&&c.id&&this.childElementIdMap_&&sc(this.childElementIdMap_,c.id)}a=up.superClass_.removeChild.call(this,a,b);ip(a,!0);return a};
k.setOrientation=function(a){if(this.getElement())throw Error("Component already rendered");this.orientation_=a};k.isVisible=function(){return this.visible_};k.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?"show":"hide")){this.visible_=a;var c=this.getElement();c&&(qi(c,a),this.isFocusable()&&sp(this.getKeyEventTarget(),this.enabled_&&this.visible_),b||this.dispatchEvent(this.visible_?"aftershow":"afterhide"));return!0}return!1};k.isEnabled=function(){return this.enabled_};
k.setEnabled=function(a){this.enabled_!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.enabled_=!0,zn(this,function(b){b.wasDisabled?delete b.wasDisabled:b.setEnabled(!0)})):(zn(this,function(b){b.isEnabled()?b.setEnabled(!1):b.wasDisabled=!0}),this.mouseButtonPressed_=this.enabled_=!1),this.isFocusable()&&sp(this.getKeyEventTarget(),a&&this.visible_))};k.isFocusable=function(){return this.focusable_};
k.setFocusable=function(a){a!=this.focusable_&&this.inDocument_&&wp(this,a);this.focusable_=a;this.enabled_&&this.visible_&&sp(this.getKeyEventTarget(),a)};k.setHighlightedIndex=function(a){(a=Bn(this,a))?a.setHighlighted(!0):-1<this.highlightedIndex_&&xp(this).setHighlighted(!1)};k.setHighlighted=function(a){this.setHighlightedIndex(Dn(this,a))};
var xp=function(a){return Bn(a,a.highlightedIndex_)},yp=function(a){Cp(a,function(b,c){return(b+1)%c},An(a)-1)},zp=function(a){Cp(a,function(b,c){b--;return 0>b?c-1:b},0)},Bp=function(a){Cp(a,function(b,c){return(b+1)%c},a.highlightedIndex_)},Ap=function(a){Cp(a,function(b,c){b--;return 0>b?c-1:b},a.highlightedIndex_)},Cp=function(a,b,c){c=0>c?Dn(a,a.openItem_):c;var d=An(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=Bn(a,c);if(f&&a.canHighlightItem(f)){a.setHighlightedIndex(c);break}e++;c=b.call(a,
c,d)}};up.prototype.canHighlightItem=function(a){return a.isVisible()&&a.isEnabled()&&$o(a,2)};var Dp=function(){};G(Dp,Uo);Wa(Dp);Dp.prototype.getCssClass=function(){return"goog-menuheader"};var Ep=function(a,b,c){gp.call(this,a,c||Dp.getInstance(),b);this.setSupportedState(1,!1);this.setSupportedState(2,!1);this.setSupportedState(4,!1);this.setSupportedState(32,!1);this.state_=1};G(Ep,gp);dp("goog-menuheader",function(){return new Ep(null)});var Fp=function(){this.classNameCache_=[]};G(Fp,Uo);Wa(Fp);var Gp=function(a,b){var c=a.classNameCache_[b];if(!c){switch(b){case 0:c=a.getCssClass()+"-highlight";break;case 1:c=a.getCssClass()+"-checkbox";break;case 2:c=a.getCssClass()+"-content"}a.classNameCache_[b]=c}return c};k=Fp.prototype;k.getAriaRole=function(){return"menuitem"};
k.createDom=function(a){var b=a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "),Hp(this,a.getContent(),a.getDomHelper()));Ip(this,a,b,$o(a,8)||$o(a,16));return b};k.getContentElement=function(a){return a&&a.firstChild};k.decorate=function(a,b){I(b);var c=Ah(b),d=Gp(this,2);c&&Dm(c,d)||b.appendChild(Hp(this,b.childNodes,a.getDomHelper()));Dm(b,"goog-option")&&(a.setCheckable(!0),this.setCheckable(a,b,!0));return Fp.superClass_.decorate.call(this,a,b)};
k.setContent=function(a,b){var c=this.getContentElement(a),d=Jp(this,a)?c.firstChild:null;Fp.superClass_.setContent.call(this,a,b);d&&!Jp(this,a)&&c.insertBefore(d,c.firstChild||null)};var Hp=function(a,b,c){a=Gp(a,2);return c.createDom("DIV",a,b)};Fp.prototype.setSelectable=function(a,b,c){a&&b&&Ip(this,a,b,c)};Fp.prototype.setCheckable=function(a,b,c){a&&b&&Ip(this,a,b,c)};
var Jp=function(a,b){return(b=a.getContentElement(b))?(b=b.firstChild,a=Gp(a,1),!!b&&bb(b)&&1==b.nodeType&&Dm(b,a)):!1},Ip=function(a,b,c,d){Zo(a,c,b.getPreferredAriaRole());ap(a,b,c);d!=Jp(a,c)&&(Im(c,"goog-option",d),c=a.getContentElement(c),d?(a=Gp(a,1),c.insertBefore(b.getDomHelper().createDom("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};
Fp.prototype.getClassForState=function(a){switch(a){case 2:return Gp(this,0);case 16:case 8:return"goog-option-selected";default:return Fp.superClass_.getClassForState.call(this,a)}};Fp.prototype.getStateFromClass=function(a){var b=Gp(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Fp.superClass_.getStateFromClass.call(this,a)}};Fp.prototype.getCssClass=function(){return"goog-menuitem"};var Kp=function(a,b,c,d){gp.call(this,a,d||Fp.getInstance(),c);this.setValue(b)};G(Kp,gp);k=Kp.prototype;k.getValue=function(){var a=this.getModel();return null!=a?a:this.getCaption()};k.setValue=function(a){this.setModel(a)};k.setSupportedState=function(a,b){Kp.superClass_.setSupportedState.call(this,a,b);switch(a){case 8:this.state_&16&&!b&&mp(this,!1);(a=this.getElement())&&this.getRenderer().setSelectable(this,a,b);break;case 16:(a=this.getElement())&&this.getRenderer().setCheckable(this,a,b)}};
k.setSelectable=function(a){this.setSupportedState(8,a)};k.setCheckable=function(a){this.setSupportedState(16,a)};k.getCaption=function(){var a=this.getContent();return Za(a)?(a=Fb(a,function(b){return bb(b)&&1==b.nodeType&&(Dm(b,"goog-menuitem-accel")||Dm(b,"goog-menuitem-mnemonic-separator"))?"":Mh(b)}).join(""),Be(a)):Kp.superClass_.getCaption.call(this)};
k.getAccelerator=function(){var a=this.getDomHelper(),b=this.getContent();return Za(b)&&(b=Kb(b,function(c){return Dm(c,"goog-menuitem-accel")}))?a.getTextContent(b):null};k.handleMouseUp=function(a){var b=this.getParent();if(b){var c=b.openingCoords;b.openingCoords=null;if(c&&Pa(a.clientX)&&Ug(c,new Tg(a.clientX,a.clientY)))return}Kp.superClass_.handleMouseUp.call(this,a)};
k.handleKeyEventInternal=function(a){return a.keyCode==this.mnemonicKey_&&this.performActionInternal(a)?!0:Kp.superClass_.handleKeyEventInternal.call(this,a)};k.getMnemonic=function(){return this.mnemonicKey_};dp("goog-menuitem",function(){return new Kp(null)});Kp.prototype.getPreferredAriaRole=function(){return $o(this,16)?"menuitemcheckbox":$o(this,8)?"menuitemradio":Kp.superClass_.getPreferredAriaRole.call(this)};Kp.prototype.getParent=function(){return gp.prototype.getParent.call(this)};
Kp.prototype.getParentEventTarget=function(){return gp.prototype.getParentEventTarget.call(this)};var Lp=function(){};G(Lp,Uo);Wa(Lp);Lp.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getCssClass())};Lp.prototype.decorate=function(a,b){b.id&&un(a,b.id);if("HR"==b.tagName){var c=b;b=this.createDom(a);th(b,c);wh(c)}else Em(b,this.getCssClass());return b};Lp.prototype.setContent=function(){};Lp.prototype.getCssClass=function(){return"goog-menuseparator"};var Mp=function(a,b){gp.call(this,null,a||Lp.getInstance(),b);this.setSupportedState(1,!1);this.setSupportedState(2,!1);this.setSupportedState(4,!1);this.setSupportedState(32,!1);this.state_=1};G(Mp,gp);Mp.prototype.enterDocument=function(){Mp.superClass_.enterDocument.call(this);var a=this.getElement();I(a,"The DOM element for the separator cannot be null.");wm(a,"separator")};dp("goog-menuseparator",function(){return new Mp});var Np=function(a){this.ariaRole_=a||"menu"};G(Np,rp);Wa(Np);k=Np.prototype;k.canDecorate=function(a){return"UL"==a.tagName||Np.superClass_.canDecorate.call(this,a)};k.getDecoratorForChild=function(a){return"HR"==a.tagName?new Mp:Np.superClass_.getDecoratorForChild.call(this,a)};k.containsElement=function(a,b){return Bh(a.getElement(),b)};k.getCssClass=function(){return"goog-menu"};
k.initializeDom=function(a){Np.superClass_.initializeDom.call(this,a);a=a.getElement();I(a,"The menu DOM element cannot be null.");ym(a,"haspopup","true")};var Op=function(a){Mp.call(this,Lp.getInstance(),a)};G(Op,Mp);dp("goog-menuseparator",function(){return new Mp});var Pp=function(a,b){up.call(this,"vertical",b||Np.getInstance(),a);this.setFocusable(!1)};G(Pp,up);k=Pp.prototype;k.allowAutoFocus_=!0;k.allowHighlightDisabled_=!1;k.getCssClass=function(){return this.getRenderer().getCssClass()};k.containsElement=function(a){if(this.getRenderer().containsElement(this,a))return!0;for(var b=0,c=An(this);b<c;b++){var d=Bn(this,b);if("function"==typeof d.containsElement&&d.containsElement(a))return!0}return!1};k.addItem=function(a){this.addChild(a,!0)};
k.removeItem=function(a){(a=this.removeChild(a,!0))&&a.dispose()};k.getItems=function(){var a=[];zn(this,function(b){a.push(b)});return a};k.setPosition=function(a,b){var c=this.isVisible();c||qi(this.getElement(),!0);var d=this.getElement(),e=fi(d);a instanceof Tg&&(b=a.y,a=a.x);a=qb(a)-e.x;bi(d,d.offsetLeft+a,d.offsetTop+(Number(b)-e.y));c||qi(this.getElement(),!1)};k.getPosition=function(){return this.isVisible()?fi(this.getElement()):null};
k.setVisible=function(a,b,c){(b=Pp.superClass_.setVisible.call(this,a,b))&&a&&this.inDocument_&&this.allowAutoFocus_&&this.getKeyEventTarget().focus();a&&c&&Pa(c.clientX)?this.openingCoords=new Tg(c.clientX,c.clientY):this.openingCoords=null;return b};k.handleEnterItem=function(a){this.allowAutoFocus_&&this.getKeyEventTarget().focus();return Pp.superClass_.handleEnterItem.call(this,a)};k.canHighlightItem=function(a){return(this.allowHighlightDisabled_||a.isEnabled())&&a.isVisible()&&$o(a,2)};
k.decorateInternal=function(a){for(var b=this.getRenderer(),c=this.getDomHelper().getElementsByTagNameAndClass("DIV",b.getCssClass()+"-content",a),d=c.length,e=0;e<d;e++)tp(b,this,c[e]);Pp.superClass_.decorateInternal.call(this,a)};k.handleKeyEventInternal=function(a){var b=Pp.superClass_.handleKeyEventInternal.call(this,a);b||zn(this,function(c){!b&&c.getMnemonic&&c.mnemonicKey_==a.keyCode&&(this.isEnabled()&&this.setHighlighted(c),b=c.handleKeyEvent(a))},this);return b};
k.setHighlightedIndex=function(a){Pp.superClass_.setHighlightedIndex.call(this,a);var b=Bn(this,a);if(b){a=this.getElement()||hh(document);var c=b.getElement();b=a||hh(document);var d=fi(c),e=fi(b),f=zi(b);if(b==hh(document)){var g=d.x-b.scrollLeft;d=d.y-b.scrollTop;Df&&!Zf(10)&&(g+=f.left,d+=f.top)}else g=d.x-e.x-f.left,d=d.y-e.y-f.top;c=mi(c);f=b.clientHeight-c.height;e=b.scrollLeft;var h=b.scrollTop;e+=Math.min(g,Math.max(g-(b.clientWidth-c.width),0));h+=Math.min(d,Math.max(d-f,0));b=new Tg(e,
h);a.scrollLeft=b.x;a.scrollTop=b.y}};var Qp=function(){lj.call(this)};G(Qp,lj);Qp.prototype.getMenu=function(a,b,c){c=new Pp(b,c);Rp(c,a,b);return c};
var Sp=function(a,b,c,d){zn(a,function(e){switch(e.getModel()){case "settings":E(b)&&e.setEnabled(b);break;case "email":E(d)&&e.setEnabled(d);break;case "emailAttach":E(c)&&e.setEnabled(c)}})},Rp=function(a,b,c,d){c=Tp(c);b&&c.push(new Op);Pa(d)?Db(c,function(e){a.addChildAt(e,d,!0)}):Cb(c,function(e){a.addChild(e,!0)});b=a.getElement();Dm(b,"goog-menu-noicon")&&Gm(b,"goog-menu-noicon")},Tp=function(a){var b=[],c=new Kp("Share...","settings",a);b.push(c);c=new Kp("Advanced...","advanced",a);b.push(c);
c=new Op(a);c.setModel("separator");b.push(c);c=new Kp("Restrictions...","restrictions",a);b.push(c);c=new Op(a);c.setModel("separator");b.push(c);c=new Kp("Email collaborators...","email",a);b.push(c);a=new Kp("Email as attachment...","emailAttach",a);b.push(a);return b};var Up=function(){M.call(this);this.state_=0;this.endTime=this.startTime=null};G(Up,M);Up.prototype.isStopped=function(){return 0==this.state_};Up.prototype.onBegin=function(){this.dispatchAnimationEvent("begin")};Up.prototype.onEnd=function(){this.dispatchAnimationEvent("end")};Up.prototype.dispatchAnimationEvent=function(a){this.dispatchEvent(a)};var Wp=function(a,b){Za(b)||(b=[b]);I(0<b.length,"At least one Css3Property should be specified.");b=Fb(b,function(c){if(F(c))return c;ub(c,"Expected css3 property to be an object.");var d=c.property+" "+c.duration+"s "+c.timing+" "+c.delay+"s";I(c.property&&Pa(c.duration)&&c.timing&&Pa(c.delay),"Unexpected css3 property value: %s",d);return d});Vp(a,b.join(","))},Xp=ec(function(){if(Df)return Xf("10.0");var a=oh("DIV"),b=Hf?"-webkit":Gf?"-moz":Df?"-ms":Cf?"-o":null,c={transition:"opacity 1s linear"};
b&&(c[b+"-transition"]="opacity 1s linear");ue(a,ie("div",{style:c}));a=a.firstChild;I(a.nodeType==Node.ELEMENT_NODE);b=a.style[Re("transition")];return""!=("undefined"!==typeof b?b:a.style[Vh(a,"transition")]||"")}),Vp=function(a,b){Wh(a,"transition",b)};var Yp=function(a,b,c,d,e){Up.call(this);this.element_=a;this.duration_=b;this.initialStyle_=c;this.finalStyle_=d;this.transitions_=Za(e)?e:[e]};G(Yp,Up);k=Yp.prototype;k.play=function(){if(1==this.state_)return!1;this.onBegin();this.dispatchAnimationEvent("play");this.startTime=jb();this.state_=1;if(Xp())return Wh(this.element_,this.initialStyle_),this.timerId_=nn(this.play_,void 0,this),!0;this.stop_(!1);return!1};
k.play_=function(){ni(this.element_);Wp(this.element_,this.transitions_);Wh(this.element_,this.finalStyle_);this.timerId_=nn(hb(this.stop_,this,!1),1E3*this.duration_)};k.stop=function(){1==this.state_&&this.stop_(!0)};k.stop_=function(a){Vp(this.element_,"");on(this.timerId_);Wh(this.element_,this.finalStyle_);this.endTime=jb();this.state_=0;a?this.dispatchAnimationEvent("stop"):this.dispatchAnimationEvent("finish");this.onEnd()};k.disposeInternal=function(){this.stop();Yp.superClass_.disposeInternal.call(this)};
k.pause=function(){I(!1,"Css3 transitions does not support pause action.")};var Zp=function(a,b,c,d){return new Yp(a,.13,{opacity:c},{opacity:d},{property:"opacity",duration:.13,timing:b,delay:0})};var bq=function(a){var b=ib($p,a,Qn.key);a.inDocument_?b():Df?mk(a,"show",b):mk(a,"beforeshow",b);var c=null;nk(a,"show",function(){a.draggable_&&(c=new aq(a))});nk(a,"hide",function(){mj(c)})},$p=function(a,b){Vn(a,.75);var c=a.buttons_;c&&b&&(b=ao(c,b))&&Em(b,"goog-buttonset-action");b=Zp(a.getElement(),"ease-out",0,1);c=Zp(a.getElement(),"ease-in",1,0);var d=Zp(a.getBackgroundElement(),"ease-out",0,.75),e=Zp(a.getBackgroundElement(),"ease-in",.75,0);a.setTransition(b,c,d,e)},aq=function(a){Um.call(this,
a.getElement());this.dialog_=a;nk(this,"start",this.shouldDrag_,!1,this)};G(aq,Um);aq.prototype.shouldDrag_=function(a){a=a.browserEvent;if(this.dialog_.draggable_&&Dm(a.target,this.dialog_.getCssClass())){var b=ni(this.dialog_.getElement());b=new Qh(0,b.width,b.height,0);var c=wi(this.dialog_.getElement(),"padding");b.expand(-1*c.top,-1*c.right,-1*c.bottom,-1*c.left);if(!b.contains(new Tg(a.offsetX,a.offsetY)))return this.setDraggerLimits_(),!0}return!1};
aq.prototype.setDraggerLimits_=function(){var a=this.dialog_.getDomHelper().getDocument(),b=gh(jh(a)),c=ni(this.dialog_.getElement());if("fixed"==$h(this.dialog_.getElement()))a=b.width-c.width,b=b.height-c.height;else{var d=Math.max(a.body.scrollHeight,b.height);a=Math.max(a.body.scrollWidth,b.width)-c.width;b=d-c.height}Vm(this,new Sh(0,0,Math.max(0,a),Math.max(0,b)))};var cq=function(a){M.call(this);this.domHelper_=a||Zg()};G(cq,M);cq.prototype.errorDialog_=null;cq.prototype.eventHandler_=null;cq.prototype.initialized_=!1;var dq=function(a){return a.eventHandler_||(a.eventHandler_=new Om(a))};k=cq.prototype;k.getDomHelper=function(){return this.domHelper_};k.init=function(){this.isInitialized()||(this.initInternal(),this.initialized_=!0)};k.isInitialized=function(){return this.initialized_};k.getShareUiType=function(){return"default"};
k.handleErrorDialogHidden_=function(){this.dispatchEvent("errorHidden")};k.handleErrorDialogShown_=function(){this.dispatchEvent("errorShown")};
var eq=function(a,b,c){var d=a.errorDialog_;b&&(d||(a.errorDialog_||(d=new Sn(void 0,!0,a.getDomHelper()),d.render(),$n(d,On(new Pn,Qn,!0,!0)),d.setTitle(""),dq(a).listen(d,"hide",a.handleErrorDialogHidden_).listen(d,"show",a.handleErrorDialogShown_),bq(d),Em(d.getElement(),"share-client-error-dialog"),a.errorDialog_=d),d=a.errorDialog_),Tn(d,de(c||"")));d&&d.setVisible(b)};k=cq.prototype;k.disposeInternal=function(){mj(this.errorDialog_);mj(this.eventHandler_);cq.superClass_.disposeInternal.call(this)};
k.initInternal=Va;k.setLoadingInternal=Va;k.setTeamDriveMode=Va;k.setLoading=function(a){a&&this.dispatchEvent("beforeLoad");this.setLoadingInternal(a);a||this.dispatchEvent("afterLoad")};var fq=function(){this.devicePixelRatioCache_=0;this.isReliable_=!0},gq=bg||fg&&0<=md(Ci,31)||Df&&0<=md(Ci,11),hq=[.25,.33296337402885684,.5,.6659,.75,.9,1,1.1,1.25,1.5,1.75,2,2.5,3,4,5];fq.prototype.clear=function(){this.devicePixelRatioCache_=0};var jq=function(a){M.call(this);this.devicePixelRatioCache_=new fq;this.handler_=new Om(this);this.domHelper_=a||Zg();this.resizeTarget_=this.sizeElement_=null;this.lastZoomFactor_=0;if(null!=this.supportsSubpixels_)a=this.supportsSubpixels_;else{a=lh("DIV",{style:"height:4.5px;width:4.5px;"});document.body.appendChild(a);var b=a.getBoundingClientRect();wh(a);a=this.supportsSubpixels_=.1>=Math.abs(b.right-b.left-4.5)}a&&this.handler_.listen(iq(this),"resize",this.handleResize_)};G(jq,M);
var iq=function(a){if(a.resizeTarget_)return a.resizeTarget_;a.sizeElement_=a.domHelper_.createDom("IFRAME",{style:"position:absolute;width:9em;height:9em;top:-99em",tabIndex:-1,"aria-hidden":"true"});var b=a.domHelper_.getDocument().body;b.insertBefore(a.sizeElement_,b.firstChild);a:{b=a.sizeElement_;try{var c=b.contentWindow||(b.contentDocument?jh(b.contentDocument):null);break a}catch(d){}c=null}a.resizeTarget_=c;return a.resizeTarget_};
jq.prototype.handleResize_=function(){this.devicePixelRatioCache_.clear();var a=this.devicePixelRatioCache_;if(0==a.devicePixelRatioCache_){var b=jh().devicePixelRatio||1;if(!gq){var c=1;if(Hf){c=jh();var d=c.outerWidth;a.isReliable_=250<=d;if(a.isReliable_)c=d/c.innerWidth,d=Ub(hq,Xb,c),0>d&&(d=-d-1,0<d&&c-hq[d-1]<hq[d]-c&&--d),c=hq[d]||hq[hq.length-1];else if(void 0==document.width)c=1;else{d=lh("DIV",{"min-width":"100%"});var e=document;e.body.appendChild(d);c=e.width/d.clientWidth;e.body.removeChild(d)}}else Df&&
(c=screen.deviceXDPI,d=screen.logicalXDPI,I(c&&d),c=Math.round(c/d*100)/100);b=c*b}a.devicePixelRatioCache_=b}a=a.devicePixelRatioCache_;this.lastZoomFactor_!=a&&(this.lastZoomFactor_=a,this.dispatchEvent("resize"))};jq.prototype.supportsSubpixels_=null;jq.prototype.disposeInternal=function(){this.handler_.dispose();wh(this.sizeElement_);this.sizeElement_=null};var kq=function(a,b){O.call(this,b);this.content_=a};G(kq,O);kq.prototype.type_="info";kq.prototype.mini_=!1;var lq={info:"jfk-butterBar-info",error:"jfk-butterBar-error",warning:"jfk-butterBar-warning",promo:"jfk-butterBar-promo"};k=kq.prototype;k.getType=function(){return this.type_};k.setType=function(a){if(this.getContentElement()){var b=this.getElement(),c=lq[a];Gm(b,lq[this.type_]);Em(b,c)}this.type_=a};
k.setContent=function(a){this.content_=a;if(a=this.getElement()){var b=this.getDomHelper();b.removeChildren(a);b.append(a,this.content_)}};k.isVisible=function(){var a=this.getElement();return null!=a&&Dm(a,"jfk-butterBar-shown")};k.setVisible=function(a){I(this.inDocument_,"setVisible must only be called after the butter bar is rendered.");Im(this.getElement(),"jfk-butterBar-shown",a)};
k.createDom=function(){this.element_=this.getDomHelper().createDom("DIV","jfk-butterBar");I(this.getElement(),"The DOM element for the butter bar cannot be null.");var a=this.getElement();a&&(ym(a,"live","assertive"),ym(a,"atomic","true"));this.setContent(this.content_);this.mini_=this.mini_;(a=this.getElement())&&Im(a,"jfk-butterBar-mini",this.mini_);this.setType(this.type_)};var mq=function(a,b){this.postMessage_=a;this.domHelper_=b||Zg();this.butterContainerEl_=null;this.showInDialog_=!1;this.timeoutId_=0};G(mq,lj);
var oq=function(a,b,c){var d=b.iconId_;switch(d){case "copy":var e="share-butter-copy-icon";break;case "specificPeople":e="share-butter-specific-people-icon";break;case "personLink":e="share-butter-person-link-icon"}a.butterContainerEl_&&a.removeButter();var f=a.domHelper_,g=f.createDom("SPAN");e&&"none"!=d&&(e=f.createDom("SPAN",["apps-share-sprite","share-butter-icon",e]),f.append(g,e));e=f.createDom("SPAN","share-butter-message",b.getMessage());f.append(g,e);if(e=b.learnMoreUrl_)d=f.createDom("A",
{target:"_blank","class":"share-butter-link",tabIndex:"0"},"Learn more"),ve(d,e),f.append(g,"\u00a0","\u00a0"),f.append(g,d);var h=b.undoFn_;if(h){var l=f.createDom("SPAN",{"class":"share-butter-link",tabIndex:"0"},"Undo");l.onclick=function(){h();l.onclick=Va};f.append(g,"\u00a0","\u00a0");f.append(g,l)}a.butterContainerEl_=f.createDom("DIV",["share-butterbar-container","share-butterbar-top","share-butterbar-zindex"]);g=new kq(g,f);g.render(a.butterContainerEl_);ym(g.getElement(),"live","off");g.setVisible(!0);
a.showInDialog_=b.showInDialog_;f.appendChild(a.showInDialog_&&c?c:document.body,a.butterContainerEl_);nq(a,a.butterContainerEl_,c);a.timeoutId_=window.setTimeout(hb(a.removeButter,a),b.timeout_)};mq.prototype.removeButter=function(){this.butterContainerEl_&&(wh(this.butterContainerEl_),this.butterContainerEl_=null,delete this.butterContainerEl_,window.clearTimeout(this.timeoutId_))};mq.prototype.repositionButter=function(a){this.butterContainerEl_&&nq(this,this.butterContainerEl_,a)};
var nq=function(a,b,c){var d=parseInt(Yh(b,"width"),10);if(a.showInDialog_&&c){var e=parseInt(Yh(c,"left"),10),f=parseInt(Yh(c,"top"),10);c=parseInt(Yh(c,"width"),10);var g=parseInt(Yh(b,"height"),10);bi(b,e+(c-d)/2,a.postMessage_?0:f+g/2)}else b.style.left="50%",b.style.marginLeft=-(d/2)+"px"};var pq=function(a){cq.call(this,a);this.dialog_=new go(a);dq(this).listen(this.dialog_,"dialogselect",this.handleDialogSelect_).listen(this.dialog_,"d",this.handleDialogHide_);this.zoomDetector_=new jq(a);nj(this,this.zoomDetector_);this.isOnScreen_=!1;this.butterManager_=new mq(!1,a);nj(this,this.butterManager_)};G(pq,cq);k=pq.prototype;k.loadingDialog_=null;k.handleDialogSelect_=function(){this.setVisible(!1);this.dispatchEvent("uiContainerClose");return!1};k.handleDialogHide_=function(){this.dispatchEvent("uiContainerClose")};
k.handleDialogClick_=function(a){Bh(this.dialog_.getElement(),a.target)&&(this.dialog_.getElement().blur(),this.dialog_.getElement().focus())};
k.initInternal=function(){var a=this.dialog_;a.inDocument_||a.render();var b=this.getDomHelper();var c=this.dialog_;Un(c);c=c.getElement();var d=b.createDom("DIV",{"class":"share-client-debug"});b.appendChild(c,d);Em(a.getElement(),"share-client-dialog");dq(this).listen(a.getElement(),"click",this.handleDialogClick_);qi(a.getElement(),!0);a.getElement().setAttribute("guidedhelpid","share_dialog");this.setVisible(!1);dq(this).listen(this.zoomDetector_,"resize",this.dialog_.reposition.bind(this.dialog_))};
k.isVisible=function(){return this.isOnScreen_};k.setVisible=function(a){var b=this.dialog_;b.inDocument_||this.init();b.setVisible(a);this.isOnScreen_=a};k.setLoadingInternal=function(a){var b=this.loadingDialog_;a&&!b&&(b=new Sn(void 0,!0,this.getDomHelper()),Tn(b,dm(Mo())),$n(b,null),b.setTitle("Loading..."),dq(this).listen(b,"hide",this.handleLoadingDialogClosed_),this.loadingDialog_=b,b.render(),Em(b.getElement(),"share-client-loading-dialog"));b&&b.setVisible(a)};
k.handleLoadingDialogClosed_=function(){this.dispatchEvent("uiContainerCancelLoad")};k.setContent=function(a){Tn(this.dialog_,a)};k.setTitle=function(a,b){var c=this.getDomHelper().getElementsByTagNameAndClass("IFRAME",void 0,this.dialog_.getContentElement());0<c.length&&(c[0].title=a);c=this.dialog_;Un(c);Im(c.titleEl_,"share-client-dialog-hidden-title",b);this.dialog_.setTitle(b?"":a)};
k.resize=function(a,b){var c=this.dialog_.getContentElement();c.style.width=a+"px";c.style.height=b+"px";b=gh().height;c=this.dialog_.getElement();var d;if(d=this.isVisible()&&0<b&&c)d=c.getBoundingClientRect(),d=!(0<=d.top&&d.bottom<=b);d&&(d="fixed"==$h(c)?0:ih(this.getDomHelper().document_).y,Wh(c,"top",b-ni(c).height+d+"px"));window.setTimeout(hb(this.butterManager_.repositionButter,this.butterManager_,c));Df&&(b=fh(document),Xf(8)&&b||(this.dialog_.getElement().style.width=a+(b?0:18)+"px"))};
k.maximize=function(){var a=this.dialog_.getContentElement();a.style.width="100vw";a.style.height="100vh"};k.showNotification=function(a){oq(this.butterManager_,a,this.dialog_.getElement())};k.removeNotification=function(){this.butterManager_.removeButter()};k.disposeInternal=function(){mj(this.dialog_);mj(this.loadingDialog_);pq.superClass_.disposeInternal.call(this)};
k.setTeamDriveMode=function(a,b){var c=this.dialog_.getElement();Im(c,"full-screen-share-client-dialog",b);Im(c,"team-drive-share-client-dialog",a);c.setAttribute("guidedhelpid",a?"drive_share_dialog":"share_dialog")};var jc=function(a){return null!=a&&(!F(a)||!Zc(null==a?"":String(a)))&&(!Za(a)||0!=a.length)&&(!bb(a)||!rc(a))};var qq=D.JSON.stringify;var rq=function(a,b,c,d,e,f,g,h,l,m,n){this.state_=a;this.summary_=b;this.details_=c;this.role_=d||0;this.restrictedToDomain_=E(e)?e:!0;this.keyToken_=f||null;this.domainDisplayName_=g||null;this.restrictedToSingleUserScope_=!!h;this.hasInvalidEntries_=E(l)?l:!1;this.publishVisibilityState_=m||"unknown";this.hasNamedPartiesForPublish_=n||!1};rq.prototype.getVisibilityState=function(){return this.state_};rq.prototype.hasInvalidEntries=function(){return this.hasInvalidEntries_};
rq.prototype.toJson=function(){var a={};a.visibilityState=this.state_;a.summary=this.summary_;a.details=this.details_;a.role=this.role_;a.restrictedToDomain=this.restrictedToDomain_;this.keyToken_&&(a.key=this.keyToken_);this.domainDisplayName_&&(a.domainDisplayName=this.domainDisplayName_);a.restrictedToSingleUserScope=this.restrictedToSingleUserScope_;a.hasInvalidEntries=this.hasInvalidEntries_;a.publishVisibilityState=this.publishVisibilityState_;a.hasNamedPartiesForPublish=this.hasNamedPartiesForPublish_;
return kc(a)};rq.prototype.getTemplateParams=function(){var a={};a.state=this.state_;a.summary=this.summary_;a.details=this.details_;a.restrictedToDomain=this.restrictedToDomain_;this.domainDisplayName_&&(a.opt_domain=this.domainDisplayName_);a.role=this.role_;a.vsjson=qq(this.toJson());a.restrictedToSingleUserScope=this.restrictedToSingleUserScope_;a.hasInvalidEntries=this.hasInvalidEntries_;return a};var sq=function(a){var b=a.loadingId,c=a.overlayId,d=a.statusId;a=a.shareClientId;return Q('<div class="'+T("inline-share-ui-status")+'" id="'+T(d)+'"></div><div id="'+T(b)+'"></div><div class="'+T("inline-share-ui-overlay")+'" id="'+T(c)+'"></div><div class="'+T("inline-share-ui-share-client")+'" id="'+T(a)+'"></div>')};sq.soyTemplateName="apps.share.client.templates.inlineContainer.contents";var tq=function(a,b,c){this.reset(a,b,c,void 0,void 0)};tq.prototype.exception_=null;var uq=0;tq.prototype.reset=function(a,b,c,d,e){"number"==typeof e||uq++;this.time_=d||jb();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_};tq.prototype.getLevel=function(){return this.level_};tq.prototype.setLevel=function(a){this.level_=a};tq.prototype.getMessage=function(){return this.msg_};var vq=function(a){this.name_=a;this.handlers_=this.children_=this.level_=this.parent_=null},wq=function(a,b){this.name=a;this.value=b};wq.prototype.toString=function(){return this.name};var xq=new wq("SEVERE",1E3),yq=new wq("WARNING",900),zq=new wq("INFO",800),Aq=new wq("CONFIG",700),Bq=new wq("FINE",500);k=vq.prototype;k.getName=function(){return this.name_};k.getParent=function(){return this.parent_};k.getChildren=function(){this.children_||(this.children_={});return this.children_};
k.setLevel=function(a){this.level_=a};k.getLevel=function(){return this.level_};var Cq=function(a){if(a.level_)return a.level_;if(a.parent_)return Cq(a.parent_);pb("Root logger has no level set.");return null};vq.prototype.log=function(a,b,c){if(a.value>=Cq(this).value)for(ab(b)&&(b=b()),a=new tq(a,String(b),this.name_),c&&(a.exception_=c),c=this;c;){var d=c,e=a;if(d.handlers_)for(var f=0;b=d.handlers_[f];f++)b(e);c=c.getParent()}};vq.prototype.info=function(a,b){this.log(zq,a,b)};
vq.prototype.config=function(a,b){this.log(Aq,a,b)};var Dq={},Eq=null,Fq=function(){Eq||(Eq=new vq(""),Dq[""]=Eq,Eq.setLevel(Aq))},Gq=function(a){Fq();var b;if(!(b=Dq[a])){b=new vq(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Gq(a.substr(0,c));c.getChildren()[d]=b;b.parent_=c;Dq[a]=b}return b};var Hq=function(a,b){a&&a.log(Bq,b,void 0)};var Iq=function(a,b){cq.call(this,b);this.logger_=Gq("apps.share.client.InlineContainer");this.containerEl_=this.getDomHelper().getElement(a);this.statusElEnabled_=!0};G(Iq,cq);k=Iq.prototype;k.domContext_=null;k.id_=null;k.idGenerator_=qn.getInstance();k.shareClientEl_=null;k.statusEl_=null;k.loadingEl_=null;k.overlayEl_=null;k.shareUiEnabled_=!0;k.title_="";k.visible_=!1;
k.initInternal=function(){if(!this.shareClientEl_){var a={};a.overlayId=this.makeId("inline-share-ui-overlay");a.loadingId=this.makeId("inline-share-ui-loading");a.statusId=this.makeId("inline-share-ui-status");a.shareClientId=this.makeId("inline-share-ui-share-client");a=this.domContext_=a;var b=this.getDomHelper(),c=this.containerEl_;I(sq,"Soy template may not be null.");var d=lm(sq(a||km,void 0,void 0));te(I(c),oe(Gc("Soy HTML template."),d));this.shareClientEl_=b.getElement(a.shareClientId);this.statusEl_=
b.getElement(a.statusId);this.loadingEl_=b.getElement(a.loadingId);this.overlayEl_=b.getElement(a.overlayId);this.setVisible(this.visible_);this.shareUiEnabled_=a=this.shareUiEnabled_;if(b=this.overlayEl_)a||(c=ni(this.shareClientEl_),Jq(this,c.width,c.height)),qi(b,!a),pi(this.shareClientEl_,a?1:.5)}};k.getShareUiType=function(){return"inline"};k.makeId=function(a){return(this.id_||(this.id_=rn(this.idGenerator_)))+"."+a};
k.setVisible=function(a){Kq(this.containerEl_,a);Kq(this.shareClientEl_,a);this.visible_=a};k.isVisible=function(){return this.visible_};k.setLoadingInternal=function(a){Kq(this.containerEl_,a||this.visible_);var b=dm(Mo());a?(this.setTitle("Loading...",!1),this.loadingEl_&&ue(this.loadingEl_,b)):(this.setTitle(this.title_,!1),this.loadingEl_&&ue(this.loadingEl_,je))};k.setContent=function(a){this.shareClientEl_||this.init();this.shareClientEl_&&ue(this.shareClientEl_,a)};
k.setTitle=function(a){this.title_=a;this.statusEl_.innerHTML=a;qi(this.statusEl_,this.statusElEnabled_);var b=this.getDomHelper().getElementsByTagNameAndClass("IFRAME",void 0,this.shareClientEl_);0<b.length&&(b[0].title=a)};k.resize=function(a,b){var c=this.shareClientEl_;c&&(c.style.width=a+"px",c.style.height=b+"px",Jq(this,a,b))};var Jq=function(a,b,c){if(a=a.overlayEl_)a.style.width=b+"px",a.style.height=c+"px"};Iq.prototype.maximize=function(){};
Iq.prototype.disposeInternal=function(){this.idGenerator_=this.domContext_=null;Iq.superClass_.disposeInternal.call(this)};var Kq=function(a,b){a.style.left=b?"":"-9999px";a.style.position=b?"":"absolute"};Iq.prototype.showNotification=function(){var a=this.logger_;a&&a.log(yq,"Unimplemented function 'apps.share.client.InlineContainer.prototype.showNotification'.",void 0)};
Iq.prototype.removeNotification=function(){var a=this.logger_;a&&a.log(yq,"Unimplemented function 'apps.share.client.InlineContainer.prototype.removeNotification'.",void 0)};var Lq=function(a,b){lj.call(this);this.target_=a;this.targetOrigin_=b;this.pendingMessages_=[];this.messageListener_=hb(this.handleMessage_,this);window.addEventListener("message",this.messageListener_,!1);this.handlers_=new Mg};G(Lq,lj);
Lq.prototype.handleMessage_=function(a){if(a.origin==this.targetOrigin_){try{var b=JSON.parse(a.data)}catch(d){return}var c=b.args;if(b=this.handlers_.get(b.type))this.target_=a.source,this.pendingMessages_&&(Cb(this.pendingMessages_,function(d){this.sendMessage(d.messageType,d.opt_args)},this),this.pendingMessages_=[]),b.call(null,c)}};var Mq=function(a,b,c,d){a.handlers_.set(b,hb(c,d))};
Lq.prototype.sendMessage=function(a,b){if(this.target_){var c={};c.type=a;b&&(c.args=b);this.target_.postMessage(qq(c),this.targetOrigin_)}else this.pendingMessages_.push({messageType:a,opt_args:b})};Lq.prototype.disposeInternal=function(){window.removeEventListener("message",this.messageListener_,!1)};var Nq=function(){};G(Nq,Uo);Wa(Nq);k=Nq.prototype;k.getAriaRole=function(){return"button"};k.updateAriaState=function(a,b,c){switch(b){case 8:case 16:I(a,"The button DOM element cannot be null.");ym(a,"pressed",c);break;default:case 64:case 1:Nq.superClass_.updateAriaState.call(this,a,b,c)}};k.createDom=function(a){var b=Nq.superClass_.createDom.call(this,a);this.setTooltip(b,a.getTooltip());var c=a.getValue();c&&this.setValue(b,c);$o(a,16)&&this.updateAriaState(b,16,!!(a.state_&16));return b};
k.decorate=function(a,b){b=Nq.superClass_.decorate.call(this,a,b);var c=this.getValue(b);a.value_=c;a.tooltip_=this.getTooltip(b);$o(a,16)&&this.updateAriaState(b,16,!!(a.state_&16));return b};k.getValue=Va;k.setValue=Va;k.getTooltip=function(a){return a.title};k.setTooltip=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};
k.setCollapsed=function(a,b){var c=a.isRightToLeft(),d=this.getCssClass()+"-collapse-left",e=this.getCssClass()+"-collapse-right";a.enableClassName(c?e:d,!!(b&1));a.enableClassName(c?d:e,!!(b&2))};k.getCssClass=function(){return"goog-button"};var Oq=function(){};G(Oq,Nq);Wa(Oq);k=Oq.prototype;k.getAriaRole=function(){};k.createDom=function(a){ip(a,!1);a.autoStates_&=-256;a.setSupportedState(32,!1);return a.getDomHelper().createDom("BUTTON",{"class":this.getClassNames(a).join(" "),disabled:!a.isEnabled(),title:a.getTooltip()||"",value:a.getValue()||""},a.getCaption()||"")};k.canDecorate=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};
k.decorate=function(a,b){ip(a,!1);a.autoStates_&=-256;a.setSupportedState(32,!1);if(b.disabled){var c=rb(this.getClassForState(1));Em(b,c)}return Oq.superClass_.decorate.call(this,a,b)};k.initializeDom=function(a){a.getHandler().listen(a.getElement(),"click",a.performActionInternal)};k.setAllowTextSelection=Va;k.setRightToLeft=Va;k.isFocusable=function(a){return a.isEnabled()};k.setFocusable=Va;
k.setState=function(a,b,c){Oq.superClass_.setState.call(this,a,b,c);(a=a.getElement())&&1==b&&(a.disabled=c)};k.getValue=function(a){return a.value};k.setValue=function(a,b){a&&(a.value=b)};k.updateAriaState=Va;var Pq=function(a,b,c){gp.call(this,a,b||Oq.getInstance(),c)};G(Pq,gp);k=Pq.prototype;k.getValue=function(){return this.value_};k.setValue=function(a){this.value_=a;this.getRenderer().setValue(this.getElement(),a)};k.getTooltip=function(){return this.tooltip_};k.setTooltip=function(a){this.tooltip_=a;this.getRenderer().setTooltip(this.getElement(),a)};k.setCollapsed=function(a){this.getRenderer().setCollapsed(this,a)};
k.disposeInternal=function(){Pq.superClass_.disposeInternal.call(this);delete this.value_;delete this.tooltip_};k.enterDocument=function(){Pq.superClass_.enterDocument.call(this);if($o(this,32)){var a=this.getKeyEventTarget();a&&this.getHandler().listen(a,"keyup",this.handleKeyEventInternal)}};k.handleKeyEventInternal=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.performActionInternal(a):32==a.keyCode};dp("goog-button",function(){return new Pq(null)});var Qq=function(a,b,c){lj.call(this);this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=hb(this.doAction_,this)};G(Qq,lj);k=Qq.prototype;k.id_=0;k.disposeInternal=function(){Qq.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};k.start=function(a){this.stop();this.id_=nn(this.callback_,E(a)?a:this.interval_)};k.stop=function(){this.isActive()&&on(this.id_);this.id_=0};k.fire=function(){this.stop();this.doAction_()};
k.isActive=function(){return 0!=this.id_};k.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var Rq=function(a,b){this.coordinate=a instanceof Tg?a:new Tg(a,b)};G(Rq,Rh);Rq.prototype.reposition=function(a,b,c,d){Gi(ci(a),0,a,b,this.coordinate,c,null,d)};var Sq=function(a,b){this.popupCorner_=8;this.position_=b||void 0;Fn.call(this,a)};G(Sq,Fn);Sq.prototype.getPosition=function(){return this.position_||null};Sq.prototype.setPosition=function(a){this.position_=a||void 0;this.isVisible()&&this.reposition()};Sq.prototype.reposition=function(){if(this.position_){var a=!this.isVisible()&&"move_offscreen"!=this.getType(),b=this.getElement();a&&(b.style.visibility="hidden",qi(b,!0));this.position_.reposition(b,this.popupCorner_,this.margin_);a&&qi(b,!1)}};var Tq=function(a,b,c){this.dom_=c||(a?Zg($g(document,a)):Zg());Sq.call(this,this.dom_.createDom("DIV",{style:"position:absolute;display:none;"}));this.cursorPosition=new Tg(1,1);this.elements_=new Ki;this.tooltipFocusHandler_=null;a&&this.attach(a);null!=b&&this.setText(b)};G(Tq,Sq);var Uq=[];k=Tq.prototype;k.activeEl_=null;k.className="goog-tooltip";k.showDelayMs_=500;k.hideDelayMs_=0;k.getDomHelper=function(){return this.dom_};
k.attach=function(a){a=$g(document,a);this.elements_.add(a);nk(a,"mouseover",this.handleMouseOver,!1,this);nk(a,"mouseout",this.handleMouseOutAndBlur,!1,this);nk(a,"mousemove",this.handleMouseMove,!1,this);nk(a,"focus",this.handleFocus,!1,this);nk(a,"blur",this.handleMouseOutAndBlur,!1,this)};k.detach=function(a){if(a)a=$g(document,a),Vq(this,a),this.elements_.remove(a);else{for(var b=this.elements_.getValues(),c=0;a=b[c];c++)Vq(this,a);this.elements_.clear()}};
var Vq=function(a,b){uk(b,"mouseover",a.handleMouseOver,!1,a);uk(b,"mouseout",a.handleMouseOutAndBlur,!1,a);uk(b,"mousemove",a.handleMouseMove,!1,a);uk(b,"focus",a.handleFocus,!1,a);uk(b,"blur",a.handleMouseOutAndBlur,!1,a)};k=Tq.prototype;k.setText=function(a){Ch(this.getElement(),a)};
k.setElement=function(a){var b=this.getElement();b&&wh(b);Tq.superClass_.setElement.call(this,a);a?(b=this.dom_.getDocument().body,b.insertBefore(a,b.lastChild),mj(this.tooltipFocusHandler_),this.tooltipFocusHandler_=new ln(I(this.getElement())),nj(this,this.tooltipFocusHandler_),nk(this.tooltipFocusHandler_,"focusin",this.clearHideTimer,void 0,this),nk(this.tooltipFocusHandler_,"focusout",this.startHideTimer,void 0,this)):(mj(this.tooltipFocusHandler_),this.tooltipFocusHandler_=null)};
k.getText=function(){return Lh(this.getElement())};k.getState=function(){return this.showTimer?this.isVisible()?4:1:this.hideTimer?3:this.isVisible()?2:0};
k.onBeforeShow=function(){if(!Fn.prototype.onBeforeShow.call(this))return!1;if(this.anchor)for(var a,b=0;a=Uq[b];b++)Bh(a.getElement(),this.anchor)||a.setVisible(!1);Nb(Uq,this)||Uq.push(this);a=this.getElement();a.className=this.className;this.clearHideTimer();nk(a,"mouseover",this.handleTooltipMouseOver,!1,this);nk(a,"mouseout",this.handleTooltipMouseOut,!1,this);Wq(this);return!0};
k.onHide=function(){Ob(Uq,this);for(var a=this.getElement(),b,c=0;b=Uq[c];c++)b.anchor&&Bh(a,b.anchor)&&b.setVisible(!1);this.parentTooltip_&&this.parentTooltip_.startHideTimer();uk(a,"mouseover",this.handleTooltipMouseOver,!1,this);uk(a,"mouseout",this.handleTooltipMouseOut,!1,this);this.anchor=void 0;0==this.getState()&&(this.seenInteraction_=!1);Fn.prototype.onHide.call(this)};
k.maybeShow=function(a,b){this.anchor==a&&this.elements_.contains(this.anchor)&&(this.seenInteraction_||!this.requireInteraction_?(this.setVisible(!1),this.isVisible()||(this.anchor=a,this.setPosition(b||Xq(this,0)),this.setVisible(!0))):this.anchor=void 0);this.showTimer=void 0};k.getActiveElement=function(){return this.activeEl_};
k.maybeHide=function(a){this.hideTimer=void 0;if(a==this.anchor){a=this.getDomHelper();var b=a.getActiveElement();a=b&&this.getElement()&&a.contains(this.getElement(),b);null!=this.activeEl_&&(this.activeEl_==this.getElement()||this.elements_.contains(this.activeEl_))||a||this.childTooltip_&&this.childTooltip_.activeEl_||this.setVisible(!1)}};var Yq=function(a,b){var c=ih(a.dom_.document_);a.cursorPosition.x=b.clientX+c.x;a.cursorPosition.y=b.clientY+c.y};
Tq.prototype.handleMouseOver=function(a){var b=Zq(this,a.target);this.activeEl_=b;this.clearHideTimer();b!=this.anchor&&(this.anchor=b,this.showTimer||(this.showTimer=nn(hb(this.maybeShow,this,b,void 0),this.showDelayMs_)),$q(this),Yq(this,a))};var Zq=function(a,b){try{for(;b&&!a.elements_.contains(b);)b=b.parentNode;return b}catch(c){return null}};Tq.prototype.handleMouseMove=function(a){Yq(this,a);this.seenInteraction_=!0};
Tq.prototype.handleFocus=function(a){this.activeEl_=a=Zq(this,a.target);this.seenInteraction_=!0;if(this.anchor!=a){this.anchor=a;var b=Xq(this,1);this.clearHideTimer();this.showTimer||(this.showTimer=nn(hb(this.maybeShow,this,a,b),this.showDelayMs_));$q(this)}};var Xq=function(a,b){return 0==b?(a=a.cursorPosition.clone(),new ar(a)):new br(a.activeEl_)},$q=function(a){if(a.anchor)for(var b,c=0;b=Uq[c];c++)Bh(b.getElement(),a.anchor)&&(b.childTooltip_=a,a.parentTooltip_=b)};
Tq.prototype.handleMouseOutAndBlur=function(a){var b=Zq(this,a.target),c=Zq(this,a.relatedTarget);b!=c&&(b==this.activeEl_&&(this.activeEl_=null),Wq(this),this.seenInteraction_=!1,!this.isVisible()||a.relatedTarget&&Bh(this.getElement(),a.relatedTarget)?this.anchor=void 0:this.startHideTimer())};Tq.prototype.handleTooltipMouseOver=function(){var a=this.getElement();this.activeEl_!=a&&(this.clearHideTimer(),this.activeEl_=a)};
Tq.prototype.handleTooltipMouseOut=function(a){var b=this.getElement();this.activeEl_!=b||a.relatedTarget&&Bh(b,a.relatedTarget)||(this.activeEl_=null,this.startHideTimer())};var Wq=function(a){a.showTimer&&(on(a.showTimer),a.showTimer=void 0)};Tq.prototype.startHideTimer=function(){2==this.getState()&&(this.hideTimer=nn(hb(this.maybeHide,this,this.anchor),this.hideDelayMs_))};Tq.prototype.clearHideTimer=function(){this.hideTimer&&(on(this.hideTimer),this.hideTimer=void 0)};
Tq.prototype.disposeInternal=function(){this.setVisible(!1);Wq(this);this.detach();this.getElement()&&wh(this.getElement());this.activeEl_=null;delete this.dom_;Tq.superClass_.disposeInternal.call(this)};var ar=function(a,b){Rq.call(this,a,b)};G(ar,Rq);ar.prototype.reposition=function(a,b,c){b=ci(a);b=gi(b);c=c?new Qh(c.top+10,c.right,c.bottom,c.left+10):new Qh(10,0,0,10);Fi(this.coordinate,a,8,c,b,9)&496&&Fi(this.coordinate,a,8,c,b,5)};var br=function(a){Hi.call(this,a,5)};G(br,Hi);
br.prototype.reposition=function(a,b,c){var d=new Tg(10,0);Gi(this.element,this.corner,a,b,d,c,9)&496&&Gi(this.element,4,a,1,d,c,5)};var cr=function(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};var dr=function(){};dr.prototype.cachedOptions_=null;dr.prototype.getOptions=function(){var a;(a=this.cachedOptions_)||(a={},er(this)&&(a[0]=!0,a[1]=!0),a=this.cachedOptions_=a);return a};var fr,gr=function(){};G(gr,dr);var hr=function(a){return(a=er(a))?new ActiveXObject(a):new XMLHttpRequest},er=function(a){if(!a.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ieProgId_=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ieProgId_};
fr=new gr;var ir=function(a){M.call(this);this.headers=new Mg;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastError_=this.lastMethod_=this.lastUri_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_="";this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};G(ir,M);ir.prototype.logger_=Gq("goog.net.XhrIo");var jr=/^https?$/i,kr=["POST","PUT"],lr=[];
ir.prototype.cleanupSend_=function(){this.dispose();Ob(lr,this)};
ir.prototype.send=function(a,b,c,d){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastMethod_=b;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.xmlHttpFactory_?hr(this.xmlHttpFactory_):hr(fr);this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():fr.getOptions();this.xhr_.onreadystatechange=hb(this.onReadyStateChange_,this);this.progressEventsEnabled_&&
"onprogress"in this.xhr_&&(this.xhr_.onprogress=hb(function(f){this.onProgressHandler_(f,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=hb(this.onProgressHandler_,this)));try{Hq(this.logger_,mr(this,"Opening Xhr")),this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(f){Hq(this.logger_,mr(this,"Error opening Xhr: "+f.message));this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&rg(d,function(f,g){e.set(g,f)});d=Kb(e.getKeys(),nr);c=D.FormData&&a instanceof D.FormData;
!Nb(kr,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(f,g){this.xhr_.setRequestHeader(g,f)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_);try{or(this),0<this.timeoutInterval_&&(this.useXhr2Timeout_=pr(this.xhr_),Hq(this.logger_,mr(this,"Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+
this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=hb(this.timeout_,this)):this.timeoutId_=nn(this.timeout_,this.timeoutInterval_,this)),Hq(this.logger_,mr(this,"Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(f){Hq(this.logger_,mr(this,"Send error: "+f.message)),this.error_(5,f)}};var pr=function(a){return Df&&Xf(9)&&Pa(a.timeout)&&E(a.ontimeout)},nr=function(a){return"content-type"==a.toLowerCase()};
ir.prototype.timeout_=function(){"undefined"!=typeof Na&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",Hq(this.logger_,mr(this,this.lastError_)),this.dispatchEvent("timeout"),this.abort(8))};ir.prototype.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;qr(this);rr(this)};var qr=function(a){a.errorDispatched_||(a.errorDispatched_=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
ir.prototype.abort=function(){this.xhr_&&this.active_&&(Hq(this.logger_,mr(this,"Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rr(this))};ir.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),rr(this,!0));ir.superClass_.disposeInternal.call(this)};
ir.prototype.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)sr(this);else this.onReadyStateChangeEntryPoint_()};ir.prototype.onReadyStateChangeEntryPoint_=function(){sr(this)};
var sr=function(a){if(a.active_&&"undefined"!=typeof Na)if(a.xhrOptions_[1]&&4==a.getReadyState()&&2==a.getStatus())Hq(a.logger_,mr(a,"Local request error detected and ignored"));else if(a.inSend_&&4==a.getReadyState())nn(a.onReadyStateChange_,0,a);else if(a.dispatchEvent("readystatechange"),4==a.getReadyState()){Hq(a.logger_,mr(a,"Request complete"));a.active_=!1;try{a.isSuccess()?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.lastError_=a.getStatusText()+" ["+a.getStatus()+"]",qr(a))}finally{rr(a)}}};
ir.prototype.onProgressHandler_=function(a,b){I("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(tr(a,"progress"));this.dispatchEvent(tr(a,b?"downloadprogress":"uploadprogress"))};
var tr=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},rr=function(a,b){if(a.xhr_){or(a);var c=a.xhr_,d=a.xhrOptions_[0]?Va:null;a.xhr_=null;a.xhrOptions_=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(a=a.logger_)&&a.log(xq,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},or=function(a){a.xhr_&&a.useXhr2Timeout_&&(a.xhr_.ontimeout=null);a.timeoutId_&&(on(a.timeoutId_),a.timeoutId_=null)};k=ir.prototype;
k.isActive=function(){return!!this.xhr_};k.isSuccess=function(){var a=this.getStatus(),b;if(!(b=cr(a))){if(a=0===a)a=sl(String(this.lastUri_)),a=!jr.test(a);b=a}return b};k.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};k.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};k.getStatusText=function(){try{return 2<this.getReadyState()?this.xhr_.statusText:""}catch(a){return Hq(this.logger_,"Can not get status: "+a.message),""}};
k.getResponseHeader=function(a){if(this.xhr_&&4==this.getReadyState())return a=this.xhr_.getResponseHeader(a),null===a?void 0:a};k.getAllResponseHeaders=function(){return this.xhr_&&4==this.getReadyState()?this.xhr_.getAllResponseHeaders()||"":""};var mr=function(a,b){return b+" ["+a.lastMethod_+" "+a.lastUri_+" "+a.getStatus()+"]"};var ur=function(a,b,c,d,e,f){this.name_=a;this.id_=String(b);this.scopeType_=c||"user";this.me_=!!d;this.iconUrl_=Zc(null==e?"":String(e))?null:e;this.requiresKey_=!!f},vr=new Mg;k=ur.prototype;k.getName=function(){return this.name_};k.getId=function(){return this.id_};k.clone=function(a){var b=this.toJson();a&&zc(b,a);a=b.scopeType;return vr.containsKey(a)?vr.get(a).call(void 0,b):new ur(b.name,b.id,b.scopeType,b.me,b.iconUrl,b.requiresKey)};
k.toJson=function(){var a={};a.iconUrl=this.iconUrl_;a.scopeType=this.scopeType_;a.name=this.name_;a.id=this.id_;a.me=this.me_;a.requiresKey=this.requiresKey_;return kc(a)};k.toString=function(){return"<scope id="+this.getId()+", name="+this.getName()+">"};var wr=function(a,b,c,d,e,f,g,h,l){ur.call(this,a,b,"user",d,e,g);this.email_=c||null;this.invitedEmail_=f||null;this.isCollaboratorAccount_=h||!1;this.isUnicornAccount_=l||!1};G(wr,ur);wr.prototype.getEmail=function(){return this.email_};wr.prototype.toJson=function(){var a=wr.superClass_.toJson.call(this);a.email=this.email_;a.invitedEmail=this.invitedEmail_;a.isCollaboratorAccount=this.isCollaboratorAccount_;a.isFamilyLinkAccount=this.isUnicornAccount_;return kc(a)};
var xr=function(a){return new wr(a.name,a.id,a.email,a.me,a.iconUrl,a.invitedEmail,a.requiresKey,a.isCollaboratorAccount,a.isFamilyLinkAccount)};vr.set("user",xr);var yr=function(a){lj.call(this);this.userRole_=a.userRole||0;this.editorsCanInvite_=!!a.editorsCanInvite;this.numSharedUsers_=a.numSharedUsers||0;this.sharingDisabled_=!!a.sharingDisabled;this.userScope_=a.userScope||null;this.exportable_=!!a.exportable;this.visibilitySetting_=a.visibilitySetting||null;this.shareableUrl_=a.shareableUrl||null;this.requestShareEnabled_=!!a.requestShareEnabled;this.shareAppPath_=a.shareAppPath||null;this.dlpDetectorDisplayName_=a.dlpDetectorDisplayName||null;this.hasDlpViolation_=
a.hasDlpViolation||!1;this.emailCollaboratorsSupported_=1<this.numSharedUsers_;a=a.emailAsAttachmentSupported;this.emailAsAttachmentSupported_=null==a||!!a;this.shareClientJserrorReportingEnabled_=this.teamDriveAclFixerDialogEnabled_=!0};G(yr,lj);k=yr.prototype;k.getUserRole=function(){return this.userRole_};k.getEditorsCanInvite=function(){return this.editorsCanInvite_};k.getNumSharedUsers=function(){return this.numSharedUsers_};k.getVisibilitySetting=function(){return this.visibilitySetting_};
k.toJson=function(){var a={};a.userRole=this.getUserRole();a.editorsCanInvite=this.getEditorsCanInvite();a.numSharedUsers=this.getNumSharedUsers();a.sharingDisabled=this.sharingDisabled_;a.userScope=this.userScope_?this.userScope_.toJson():null;a.exportable=this.exportable_;this.getVisibilitySetting()&&(a.visibilitySetting=this.getVisibilitySetting().toJson());a.shareableUrl=this.shareableUrl_;a.requestShareEnabled=this.requestShareEnabled_;a.shareAppPath=this.shareAppPath_;a.hasDlpViolation=this.hasDlpViolation_;
a.dlpDetectorDisplayName=this.dlpDetectorDisplayName_;a.emailCollaboratorsSupported=this.emailCollaboratorsSupported_;a.emailAsAttachmentSupported=this.emailAsAttachmentSupported_;a.teamDriveAclFixerDialogEnabled=this.teamDriveAclFixerDialogEnabled_;a.shareClientJserrorReportingEnabled=this.shareClientJserrorReportingEnabled_;return a};var Ar=function(a){zr();return Sc(a)},zr=Va;var Er=function(a,b,c,d,e,f,g,h,l,m,n,p,r,w){M.call(this);this.gaiaSessionId_=a;this.uiContainer_=h||new pq(d);this.object_=l||window;a=Np.getInstance();d=new Pp(d,a);this.cancelCommandTimeout_=1E4;this.initResponseTimeout_=9E3;a=d.getElement();a||(d.createDom(),a=d.getElement());Em(a,"goog-menu-noaccel");d.setVisible(!1);this.shareMenu_=d;a=Fp.getInstance();(this.loadingItem_=new Kp(this.MSG_SHARE_CLIENT_LOADING_,void 0,void 0,a)).setEnabled(!1);(this.shareServiceUnavailableItem_=new Kp(this.MSG_SHARE_CLIENT_SERVICE_UNAVAILABLE_,
void 0,void 0,a)).setEnabled(!1);this.serviceName_=b;this.gaiaServiceName_=c;this.shareServiceName_=g||b;this.clientModel_=new yr({});this.domHelper_=d.getDomHelper();this.locale_=e||null;this.popupWindowsEnabled_=E(f)?f:!0;this.shareMenuFactory_=new Qp;this.appId_=n||null;this.usePostmessage_=!!m;this.embedOrigin_=m||null;this.shareStateTracker_=p||null;this.actionManager_=w||new sm;this.skipInitCommand_=!1;this.ariaLiveRegion_=null;I(this.domHelper_);this.ariaLiveRegion_=this.domHelper_.getElement("docs-aria-speakable");
this.fetchSummary_=null;Br(this,r);this.usePostmessage_||Cr(this,this.object_);b=Dr(this);b.listen(d,"show",this.handleMenuOpen_);b.listen(d,"action",this.handleShareMenuActionEvent);b.listen(this.uiContainer_,"uiContainerCancelLoad",this.handleLoadCancelled_);b.listen(this.uiContainer_,"uiContainerClose",this.handleUiContainerClosed_);b.listen(this.uiContainer_,"errorHidden",this.handleUiContainerHidden_);b.listen(this.uiContainer_,"errorShown",this.handleUiOpened_)};G(Er,M);k=Er.prototype;
k.updateClientModelAfterHideFn_=null;k.cancelCommandTimerId_=null;k.baseUri_=null;k.isAdminRequest_=!1;k.locationHint_=null;k.currentShareAppPath_="share";k.aclInfoInitialized_=!1;k.shareSystemInitialized_=!1;k.executeShareSystemCommandFn_=null;k.lastExecuteShareSystemCommandFn_=null;k.setShareSystemVisibleFn_=null;k.rewriteUrlFn_=null;k.eventHandler_=null;k.itemIds_=null;k.hybridAccessToken_=null;k.savedIds_=null;k.initializingForLargeShare_=!1;k.initCommandIframe_=null;k.waitingForInit_=!1;
k.waitingForClientModel_=!1;k.waitingForSetup_=!1;k.loading_=!1;k.currentCommand_=null;k.numShareMenuItems_=0;k.enableEmailAttachment_=!1;k.subscriptionManager_=null;k.lastDataFetchTime_=0;k.shareClientButton_=null;k.shareableUrlUpdated_=!1;k.reloadWhenShareableUrlChanges_=!1;k.initError_=!1;k.isAclFixerRunning_=!1;k.MSG_SHARE_CLIENT_LOADING_="Loading...";k.MSG_SHARE_CLIENT_SERVICE_UNAVAILABLE_="Sharing is unavailable at this time. Please try again later.";
k.MSG_SHARE_CLIENT_SERVICE_UNAVAILABLE_DIALOG_="Sorry, sharing is unavailable at this time. Please try again later.";k.communicator_=null;
var Cr=function(a,b){a.usePostmessage_||(b.SC_setTitle=hb(a.setTitle_,a),b.SC_resize=hb(a.uiContainer_.resize,a.uiContainer_),b.SC_maximize=hb(a.uiContainer_.maximize,a.uiContainer_),b.SC_setVisible=hb(a.setUiVisibleExported_,a),b.SC_prepareForVisible=hb(a.prepareForVisible_,a),b.SC_setClientModel=hb(a.setClientModel_,a),b.SC_dispatchEvent=hb(a.dispatchEvent_,a),b.SC_handleError=hb(a.handleError_,a),b.SC_handleCommandComplete=hb(a.handleCommandComplete_,a),b.SC_setExecuteCommandFn=hb(a.setExecuteCommandFn_,
a),b.SC_switchShareApp=hb(a.switchShareApp_,a),b.SC_setSetShareSystemVisibleFn=hb(a.setSetShareSystemVisibleFn_,a),b.SC_setGetInterfaceVersionNumberFn=hb(a.setGetInterfaceVersionNumberFn_,a),b.SC_getVersionNumber=hb(a.getVersionNumber_,a),b.SC_rewriteUrl=hb(a.rewriteUrl_,a),b.SC_showNotification=hb(a.showNotification_,a),b.SC_removeNotification=hb(a.removeNotification_,a),b.SC_getAriaLiveRegion=hb(a.getAriaLiveRegion_,a))},Fr=function(a){if(a.usePostmessage_&&!a.communicator_){I(a.baseUri_);var b=
Jl(Hl(a.baseUri_.clone(),"").setQuery(""),"").toString();a.communicator_=new Lq(null,b);nj(a,a.communicator_);Mq(a.communicator_,"setClientModel",function(c){this.setClientModel_(c.clientModelJson)},a);Mq(a.communicator_,"handleCommandComplete",function(c){this.handleCommandComplete_(c.commandType,c.commandStatus)},a);Mq(a.communicator_,"resize",function(c){I(this.communicator_);this.uiContainer_.resize(c.width,c.height);this.communicator_.sendMessage("resizeComplete")},a);Mq(a.communicator_,"maximize",
function(){I(this.communicator_);this.uiContainer_.maximize();this.communicator_.sendMessage("maximizeComplete")},a);Mq(a.communicator_,"prepareForVisible",function(){I(this.communicator_);this.prepareForVisible_();this.communicator_.sendMessage("makeBodyVisible");this.communicator_.sendMessage("prepareComplete")},a);Mq(a.communicator_,"setVisible",function(c){this.setUiVisibleExported_(c.visible)},a);Mq(a.communicator_,"setTitle",function(c){this.setTitle_(c.title,c.hidden)},a);a.lastExecuteShareSystemCommandFn_=
null;a.executeShareSystemCommandFn_=hb(function(c){I(this.communicator_);this.communicator_.sendMessage("executeCommand",{commandType:c})},a)}},Gr=function(a){var b={};b.impressionType=a;return b};Er.prototype.setBaseUri=function(a){if(this.baseUri_)throw Error("Base uri has already been set and cannot be set again.");F(a)&&(a=new Dl(a));this.baseUri_=a;this.usePostmessage_&&Fr(this)};
var Hr=function(a,b){if(a.shareSystemInitialized_)throw Error("Token cannot be set after sharing has been initialized.");a.hybridAccessToken_=b};k=Er.prototype;k.getVersionNumber_=function(){return 2};
k.setClientModel_=function(a){var b=this.clientModel_;a=vc(a);var c=a.userScope;c&&(a.userScope=xr(c));(c=a.visibilitySetting)&&(a.visibilitySetting=new rq(c.visibilityState,c.summary,c.details,c.role,c.restrictedToDomain,c.key,c.domainDisplayName,c.restrictedToSingleUserScope,c.hasInvalidEntries,c.publishVisibilityState||"unknown",c.hasNamedPartiesForPublish||!1));this.clientModel_=new yr(a);this.aclInfoInitialized_&&b.shareableUrl_!=this.clientModel_.shareableUrl_&&(this.shareableUrlUpdated_=!0);
this.aclInfoInitialized_=!0;this.waitingForClientModel_=!1;b=this.clientModel_.shareAppPath_;"driveshare"!=b&&(b="share");b!=this.currentShareAppPath_&&(I(this.baseUri_),a=this.baseUri_.clone(),a=Ir(a,b),this.shareSystemInitialized_=!1,this.baseUri_=a,this.currentShareAppPath_=b);Jr(this);var d=this.clientModel_;this.numShareMenuItems_=Tp(this.domHelper_).length;b=this.shareMenu_;a=d.getUserRole();c=d.sharingDisabled_;var e=Kr(this),f=d.exportable_&&this.enableEmailAttachment_,g=this.itemIds_?this.itemIds_.length:
0,h=this.domHelper_,l=d.requestShareEnabled_;d=d.emailCollaboratorsSupported_;for(var m=Cn(b),n=0;n<m.length;n++){var p=xn(b,m[n]);switch(p.getModel()){case "email":case "emailAttach":case "separator":case "settings":b.removeChild(p,!0)}}Rp(b,null,h,0);g=!Pa(g)||1==g;h=!E(d)||!!d;c?Sp(b,!1,!1,!1):e?Sp(b,!0,g&&!!f,g&&h):30<=a?Sp(b,!0,g&&!!f,g&&h):Sp(b,g&&!!l,g&&!!f,!1);this.dispatchEvent_("menuUpdated");this.updateActions_();this.shareClientButton_&&(this.shareClientButton_.visibilitySetting_=this.clientModel_.getVisibilitySetting(),
this.shareClientButton_.setDlpInfo(this.clientModel_.dlpDetectorDisplayName_,this.clientModel_.hasDlpViolation_));this.dispatchEvent_("aclInfoUpdated")};k.handleMenuOpen_=function(){if(this.itemIds_&&this.itemIds_.length)this.aclInfoInitialized_?Lr(this):(this.shareMenu_.isVisible()||this.shareMenu_.setVisible(!0,!0),this.updateClientModel_(!0));else{Jr(this);for(var a=Tp(this.domHelper_),b=a.length-1;0<=b;b--)Mr(this,a[b])}};
k.handleError_=function(a,b){switch(a){case "init":Jr(this),b?(a=Fp.getInstance(),b=new Kp(ph(document,ie("div",void 0,b)),void 0,void 0,a),b.setEnabled(!1),Mr(this,b)):Mr(this,this.shareServiceUnavailableItem_),this.aclInfoInitialized_=this.initError_=!0}};
k.handleCommandComplete_=function(a,b,c){b="success"==b;switch(a){case "init":Nr(this);break;case "init_share":case "data":b&&(this.lastDataFetchTime_=jb());a:{this.waitingForSetup_=!1;a=this.currentCommand_;c=this.currentCommandArgs_||{};if(this.initializingForLargeShare_)if(this.initializingForLargeShare_=!1,this.itemIds_=this.savedIds_,delete this.savedIds_,this.currentCommand_=null,delete this.currentCommandArgs_,delete this.currentCommandStartTime_,b){if(a){c.itemIds=this.itemIds_;this.hybridAccessToken_&&
(c.hybrid_access_token=this.hybridAccessToken_);Or(this,a,c);break a}}else"maybe_show_acl_fixer"==a&&Pr(this);a&&(b?(b=hb(this.executeCommandInner_,this,a,this.currentCommandArgs_,this.currentCommandStartTime_),nn(b,10,this)):"maybe_show_acl_fixer"==a&&Pr(this),this.currentCommand_=null,delete this.currentCommandArgs_,delete this.currentCommandStartTime_)}break;case "settings":case "advanced":b||eq(this.uiContainer_,!0,c||"")}};k.setGetInterfaceVersionNumberFn_=function(){};
k.setExecuteCommandFn_=function(a){this.shareSystemInitialized_=!0;this.lastExecuteShareSystemCommandFn_=this.executeShareSystemCommandFn_;this.executeShareSystemCommandFn_=a};
k.switchShareApp_=function(a,b){Ff&&(this.setShareSystemVisibleFn_=null);b&&b.forceFullLoad&&(this.shareSystemInitialized_=!1);var c=this.executeShareSystemCommandFn_;this.lastExecuteShareSystemCommandFn_?this.executeShareSystemCommandFn_=this.lastExecuteShareSystemCommandFn_:this.shareSystemInitialized_=!1;this.lastExecuteShareSystemCommandFn_=c;Qr(this);b=b||{};b.share_app_switched=!0;this.executeCommand(a,b)};k.setSetShareSystemVisibleFn_=function(a){this.setShareSystemVisibleFn_=a};
k.rewriteUrl_=function(a){return this.rewriteUrlFn_?this.rewriteUrlFn_(a):a};k.showNotification_=function(a){this.uiContainer_.showNotification(new No(a.iconId,a.message,a.showInDialog,a.timeout,a.learnMoreUrl,a.undoFn))};k.removeNotification_=function(){this.uiContainer_.removeNotification()};k.setTitle_=function(a,b){this.uiContainer_.setTitle(a,b)};k.getUserRole=function(){return this.clientModel_.getUserRole()};k.getEditorsCanInvite=function(){return this.clientModel_.getEditorsCanInvite()};
k.getNumSharedUsers=function(){return this.clientModel_.getNumSharedUsers()};var Kr=function(a){var b=a.clientModel_.getUserRole();return a.clientModel_.sharingDisabled_?!1:40==b||45==b||30==b&&a.clientModel_.getEditorsCanInvite()};Er.prototype.getVisibilitySetting=function(){return this.clientModel_.getVisibilitySetting()};Er.prototype.getAriaLiveRegion_=function(){return this.ariaLiveRegion_};
var Br=function(a,b){b&&(a.fetchSummary_=function(){sb(b);var c=b(),d=new Ik(function(e){D.setTimeout(e,1500)});return Pk([c,d])})};
Er.prototype.updateClientModel_=function(a,b,c){this.itemIds_&&0!=this.itemIds_.length&&(this.uiContainer_.isVisible()?this.updateClientModelAfterHideFn_=hb(this.updateClientModel_,this,a,b):(a&&(Jr(this),Mr(this,this.loadingItem_),nn(this.abortClientModelWaiting_,this.initResponseTimeout_,this)),this.waitingForClientModel_||(this.shareSystemInitialized_?(this.waitingForClientModel_=!0,Rr(this,c,!0)):this.skipInitCommand_||(this.waitingForInit_=this.waitingForClientModel_=!0,b=this.initCommandIframe_,
b||(b=lh("IFRAME"),Df&&!Xf("7")&&we(b,Wc(Gc('javascript:""'))),c=b.style,c.visibility="hidden",c.width=c.height="10px",gg&&!Xf("419.3")?c.marginTop=c.marginLeft="-99px":(c.position="absolute",c.top=c.left="-10px"),I(document.body).appendChild(b),this.initCommandIframe_=b),b.src=Sr(this,"init"),nn(this.checkCancelInitCommandTimeout_,this.cancelCommandTimeout_,this),a&&Lr(this)))))};
var Lr=function(a){if(!a.initError_)if(a.waitingForSetup_||a.shareSystemInitialized_){var b;if(b=a.shareSystemInitialized_)b=2E4<jb()-a.lastDataFetchTime_;b&&(a.waitingForSetup_=!0,Rr(a,void 0,!0))}else a.waitingForSetup_=!0,Tr(a,"unknown",!0)},Tr=function(a,b,c){var d={};d.locationHint=b;d.preload=!!c;b=a.baseUri_?Ar(Sr(a,"init_share",d)):hn;d=U(F(b)||b instanceof im||b instanceof N||b instanceof Nc,"src",b,"!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedTrustedResourceUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string");
b=Q;lo(d,$l,im)?d=d.getContent():d instanceof Nc?d=Pc(d):(pb("Bad value `%s` for |filterTrustedResourceUri",[String(d)]),d="about:invalid#zSoyz");b=b('<iframe frameborder="0" src="'+T(d)+'" class="'+T("share-client-content-iframe")+'"></iframe>');b=dm(b);a.uiContainer_.setContent(b);c||Ur(a,!0);a.prepareForVisible_()},Rr=function(a,b,c){b=b||{};b.itemIds||(b.itemIds=a.itemIds_);b.locationHint||(b.locationHint=a.locationHint_);!b.hybrid_access_token&&a.hybridAccessToken_&&(b.hybrid_access_token=a.hybridAccessToken_);
!b.adminRequest&&a.isAdminRequest_&&(b.adminRequest=!0);a.executeCommandInner_("data",b,void 0,c)},Jr=function(a){for(var b=a.shareMenu_,c=a.numShareMenuItems_,d=0;d<c;d++)b.removeChild(Bn(b,0),!0);a.numShareMenuItems_=0;a.dispatchEvent_("menuUpdated")},Mr=function(a,b){b.getParent()||(a.shareMenu_.addChildAt(b,0,!0),a.numShareMenuItems_++,a.dispatchEvent_("menuUpdated"))},Dr=function(a){return a.eventHandler_||(a.eventHandler_=new Om(a))},Sr=function(a,b,c){if(!a.baseUri_)return jn;var d=a.baseUri_.clone();
if("init"==b)d=Ir(d,"init");else if("init_share"==b&&a.currentCommand_&&("maybe_show_acl_fixer"==a.currentCommand_||"load_acl_fixer_data"==a.currentCommand_))d=Ir(d,"driveshare");else if(c){var e=c.locationHint;e||sc(c,"locationHint");"teamDriveRoot"==e||"teamDriveItem"==e?d=Ir(d,"driveshare"):"myDriveItem"==e&&(d=Ir(d,"share"))}Sl(d,"id",a.itemIds_);Sl(d,"foreignService",a.serviceName_);Sl(d,"gaiaService",a.gaiaServiceName_);Sl(d,"shareService",a.shareServiceName_);"init"!=b&&Sl(d,"command",b);Sl(d,
"subapp",10);Sl(d,"popupWindowsEnabled",a.popupWindowsEnabled_);Sl(d,"shareUiType",a.uiContainer_.getShareUiType());a.locale_&&Sl(d,"hl",a.locale_);a.hybridAccessToken_?Sl(d,"hybrid_access_token",a.hybridAccessToken_):Sl(d,"authuser",a.gaiaSessionId_?a.gaiaSessionId_:"0");Sl(d,"rand",jb());c&&d.queryData_.extend(c);a.usePostmessage_&&Sl(d,"client","postMessage");a.appId_&&Sl(d,"appId",a.appId_);a.embedOrigin_&&Sl(d,"embedOrigin",a.embedOrigin_);a.isAdminRequest_&&Sl(d,"admin",!0);return d.toString()},
Ir=function(a,b){return Hl(a,a.path_.replace(/[a-z]+$/,"driveshare"==b||"init"==b?b:"share"))};
Er.prototype.executeCommand=function(a,b){b=b||{};b.itemIds=this.itemIds_;b.triggerInstantMs=jb();this.hybridAccessToken_&&(b.hybrid_access_token=this.hybridAccessToken_);this.isAdminRequest_&&(b.adminRequest=!0);!b.locationHint&&this.locationHint_&&(b.locationHint=this.locationHint_);Cr(this,this.object_);var c=!0;switch(a){case "init":case "load_acl_fixer_data":case "maybe_email_collaborators":case "maybe_show_acl_fixer":case "preload_share":case "refresh":case "reset":c=!1}switch(a){case "maybe_show_acl_fixer":Vr(this,
!0)}if("reset"==a)this.abortClientModelWaiting_();else if(!this.shareSystemInitialized_&&this.itemIds_&&15<this.itemIds_.length)this.savedIds_=this.itemIds_,this.itemIds_=[this.itemIds_[0]],this.initializingForLargeShare_=!0,Or(this,a,b,!c);else if("init"==a||"refresh"==a)this.updateClientModel_(!1,!0,b);else if(!this.itemIds_||!this.itemIds_.length)this.dispatchEvent(new Wr(hb(this.executeCommand,this,a,b)));else if(b.share_app_switched||this.dispatchEvent(new Xr(a,b))){if("invite"==a&&b.inviteFromUrl){if(this.aclInfoInitialized_&&
!Kr(this))return;if(!this.aclInfoInitialized_){this.waitingForClientModel_||this.updateClientModel_(!1,!0);Dr(this).listenOnce(this,"aclInfoUpdated",hb(this.executeCommand,this,a,b));return}}"settings"==a&&!b.itemContentSummaryPromise&&this.fetchSummary_&&(b.itemContentSummaryPromise=this.fetchSummary_());var d;if(!(d=!this.shareSystemInitialized_)&&(d=2E4<jb()-this.lastDataFetchTime_)){a:switch(a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":d=!0;break a;case "preload_share":d=!0;break a;
default:d=!1}d=!d}d?((this.initializingForLargeShare_&&c||b.itemContentSummaryPromise)&&Ur(this,!0),Or(this,a,b,!c)):this.executeCommandInner_(a,b)}};
var Or=function(a,b,c,d){a.currentCommand_=b;a.currentCommandArgs_=c;a.currentCommandStartTime_=(new Date).getTime();Pa(a.cancelCommandTimerId_)&&on(a.cancelCommandTimerId_);a.cancelCommandTimerId_=nn(a.checkCancelPendingCommandTimeout_,a.cancelCommandTimeout_,a);a.waitingForSetup_||(a.waitingForSetup_=!0,a.shareSystemInitialized_?a.waitingForClientModel_||Rr(a,c,"load_acl_fixer_data"==b||"maybe_show_acl_fixer"==b):(b="unknown",c&&c.locationHint&&(b=c.locationHint),Tr(a,b,d)))};
Er.prototype.executeCommandInner_=function(a,b,c,d){if("preload_share"!=a){var e=b||{};e.itemIds||(e.itemIds=this.itemIds_);!e.hybrid_access_token&&this.hybridAccessToken_&&(e.hybrid_access_token=this.hybridAccessToken_);!e.adminRequest&&this.isAdminRequest_&&(e.adminRequest=!0);if("maybe_show_acl_fixer"==a||"load_acl_fixer_data"==a)e.aclFixerMode=e.aclFixerMode||"mail";Cr(this,this.object_);(b=e.itemContentSummaryPromise)?b.then(function(f){Ur(this,!1);f?e.itemContentSummaryInfo=f:e.itemContentSummaryPromiseTimeout=
!0;sb(this.executeShareSystemCommandFn_);this.executeShareSystemCommandFn_(a,e,c,d)},void 0,this):(sb(this.executeShareSystemCommandFn_),this.executeShareSystemCommandFn_(a,e,c,d))}};var Nr=function(a){var b=a.initCommandIframe_;b&&(wh(b),a.initCommandIframe_=null)};Er.prototype.checkCancelInitCommandTimeout_=function(){this.waitingForInit_&&(Nr(this),this.waitingForInit_=!1)};
Er.prototype.abortClientModelWaiting_=function(){this.waitingForClientModel_&&!this.initError_&&(Jr(this),Mr(this,this.shareServiceUnavailableItem_),this.waitingForClientModel_=!1,this.initError_=!0)};
Er.prototype.checkCancelPendingCommandTimeout_=function(){if(this.waitingForSetup_){var a=!1;switch(this.currentCommand_){case "maybe_show_acl_fixer":Pr(this);break;case "load_acl_fixer_data":case "preload_share":break;default:a=!0,eq(this.uiContainer_,!0,this.MSG_SHARE_CLIENT_SERVICE_UNAVAILABLE_DIALOG_)}this.dispatchEvent_("loadError");if(this.baseUri_){var b="Command timed out. \nCommand:"+this.currentCommand_+", \nCommand Args:"+JSON.stringify(this.currentCommandArgs_)+", \nStack trace:"+Jj();
var c=null;var d="unset";try{if(this.uiContainer_ instanceof pq){var e=xb(this.uiContainer_.dialog_.getContentElement()).getElementsByTagName("iframe")[0];if(e.contentDocument&&e.contentDocument.body){var f=e.contentDocument.body.textContent;c="Iframe's inner text:["+f.substring(0,Math.min(f.length,200))+"]"}else c=e.contentDocument?"Iframe document body is null.":"Iframe document not yet loaded.";e.contentWindow&&(d=e.contentWindow.shareDialogLoadingStage||"unset")}else c="Unable to get error details from UiContainer"}catch(L){c=
L}e=this.currentCommand_;f=this.currentCommandArgs_;if("maybe_show_acl_fixer"==e||"load_acl_fixer_data"==e)var g="aclFixer";else e=f?f.locationHint:"unknown",g="teamDriveItem"==e||"teamDriveRoot"==e||"driveshare"==this.currentShareAppPath_?"teamDrive":"myDrive";e=this.itemIds_;f=this.serviceName_;var h=this.shareServiceName_,l=this.popupWindowsEnabled_,m=this.uiContainer_.getShareUiType(),n=this.locale_,p=this.hybridAccessToken_,r=this.gaiaSessionId_,w=this.usePostmessage_,v=this.appId_,A=this.embedOrigin_,
H=this.isAdminRequest_,C=this.baseUri_.clone();Hl(C,C.path_.replace(/[a-z]+$/,"jserror"));Sl(Sl(Sl(Sl(Sl(Sl(Sl(C,"requestType",g),"innerTextOrError",c),"dialogLoadingStage",d),"foreignService",f),"shareService",h),"popupWindowsEnabled",l),"shareUiType",m);e&&Sl(C,"id",e);n&&Sl(C,"hl",n);p?Sl(C,"hybrid_access_token",p):Sl(C,"authuser",r?r:"0");Sl(C,"rand",jb());w&&Sl(C,"client","postMessage");v&&Sl(C,"appId",v);A&&Sl(C,"embedOrigin",A);H&&Sl(C,"admin",!0);c=C.toString();c=xl(c,"error","Command timed out.");
b={trace:b};d=[];for(J in b)vl(J,b[J],d);var J=d.join("&");b=c;c=new ir;lr.push(c);c.listenOnce("ready",c.cleanupSend_);c.send(b,"POST",J,void 0)}Qr(this,a)}};Er.prototype.handleLoadCancelled_=function(){this.loading_&&Qr(this)};var Qr=function(a,b){a.waitingForSetup_&&(Yr(a,!1,b),a.uiContainer_.setContent(je),a.waitingForSetup_=!1,Ur(a,!1),a.currentCommand_=null,delete a.currentCommandArgs_,delete a.currentCommandStartTime_)},Ur=function(a,b){a.loading_=b;a.uiContainer_.setLoading(b);b&&a.handleUiOpened_()};
Er.prototype.handleShareMenuActionEvent=function(a){a=a.target;zb(a,Kp);switch(a.getValue()){case "email":this.executeCommand("email",Gr(5));break;case "emailAttach":this.executeCommand("email_attach",Gr(6));break;case "settings":a={};null==a.impressionType&&(a.impressionType=2);this.executeCommand("settings",a);break;case "advanced":this.executeCommand("advanced",Gr(2));break;case "restrictions":this.executeCommand("team_drive_restrictions",Gr(2))}};
Er.prototype.updateActions_=function(){var a=this.clientModel_,b=this.actionManager_,c=this.isAclFixerRunning_||a.sharingDisabled_,d=Kr(this),e=a.requestShareEnabled_,f=this.shareStateTracker_||void 0,g=1==(this.itemIds_?this.itemIds_.length:0),h=30<=a.getUserRole(),l=a.emailCollaboratorsSupported_&&!c&&(h||d)&&g;d=!c&&(d||h||g&&e);var m=a.emailAsAttachmentSupported_&&!c&&g&&a.exportable_&&this.enableEmailAttachment_;a=!c&&e&&!h&&g&&!!a.userScope_;f?f.setStates(m,l,d,a):(b.emailAsAttachmentAction_.setEnabled(m),
b.emailCollaboratorsAction_.setEnabled(l),b.shareAction_.setEnabled(d),b.currentUserRequestAccessAction_.setEnabled(a),b.currentUserRequestAccessAction_.setVisible(a))};Er.prototype.setUiVisibleExported_=function(a,b){a&&(this.waitingForSetup_=!1,Ur(this,!1),eq(this.uiContainer_,!1));Yr(this,a,!1,b)};Er.prototype.prepareForVisible_=function(){this.uiContainer_.init()};
var Yr=function(a,b,c,d){b&&(a.uiContainer_.init(),a.uiContainer_.setTeamDriveMode("driveshare"==a.currentShareAppPath_,!!d));a.uiContainer_.setVisible(b);b?a.handleUiOpened_():Zr(a,c)},Vr=function(a,b){a.isAclFixerRunning_=b;a.aclInfoInitialized_?a.updateActions_():(a.actionManager_.shareAction_.setEnabled(!b),Dr(a).listenOnce(a,"aclInfoUpdated",hb(a.updateActions_,a)))};Er.prototype.handleUiOpened_=function(){this.dispatchEvent("uiOpened")};
var Zr=function(a,b){a.updateClientModelAfterHideFn_&&(a.updateClientModelAfterHideFn_(),a.updateClientModelAfterHideFn_=null);if(a.shareableUrlUpdated_){a.shareableUrlUpdated_=!1;var c=a.clientModel_.shareableUrl_,d=a.clientModel_.getVisibilitySetting();c&&d&&"unlisted"==d.getVisibilityState()&&(c=new $r(c),a.reloadWhenShareableUrlChanges_?as(c):a.dispatchEvent(c))}a.setShareSystemVisibleFn_&&a.setShareSystemVisibleFn_(!1);b||a.dispatchEvent("uiClosed")};
Er.prototype.handleUiContainerClosed_=function(){this.setShareSystemVisibleFn_&&this.setShareSystemVisibleFn_(!1)};Er.prototype.handleUiContainerHidden_=function(){this.uiContainer_.isVisible()||Zr(this)};var Pr=function(a){Vr(a,!1);a.dispatchEvent(new bs("continue"))};Er.prototype.dispatchEvent_=function(a,b){switch(a){case "aclFixerDone":a="continue";b&&b.aclFixerDoneStatus&&(a=b.aclFixerDoneStatus);Vr(this,!1);this.dispatchEvent(new bs(a));break;default:this.dispatchEvent(new K(a))}};
Er.prototype.disposeInternal=function(){Er.superClass_.disposeInternal.call(this);Pa(this.cancelCommandTimerId_)&&on(this.cancelCommandTimerId_);this.shareMenu_.dispose();delete this.shareMenu_;this.shareClientButton_&&(this.shareClientButton_.dispose(),this.shareClientButton_=null);this.loadingItem_.dispose();delete this.loadingItem_;this.shareServiceUnavailableItem_.dispose();delete this.shareServiceUnavailableItem_;delete this.domHelper_;this.shareMenuFactory_.dispose();delete this.shareMenuFactory_;
this.uiContainer_.dispose();delete this.uiContainer_;this.eventHandler_&&(this.eventHandler_.dispose(),this.eventHandler_=null);this.subscriptionManager_&&(this.subscriptionManager_.dispose(),this.subscriptionManager_=null);this.baseUri_=this.hybridAccessToken_=this.itemIds_=null;this.clientModel_.dispose();delete this.clientModel_;this.setShareSystemVisibleFn_=this.executeShareSystemCommandFn_=this.lastExecuteShareSystemCommandFn_=null};var Xr=function(){K.call(this,"beforeExecute")};G(Xr,K);
var Wr=function(a){K.call(this,"createItems");this.callback_=a};G(Wr,K);var $r=function(a){K.call(this,"reloadSuggested");this.shareableUrl=a};G($r,K);
var as=function(a){var b=Tl(Ul(a.shareableUrl),"authkey"),c=window,d=Ul(c.location.href).removeParameter("userstoinvite").removeParameter("role");b&&Sl(d,"authkey",b);var e=d.toString();e!=Ul(c.location.href).toString()&&((a=a.target)&&a.dispose(),c.setTimeout(function(){ye(c.location,e)},0))},bs=function(a){K.call(this,"aclFixerDone");this.status_=a};G(bs,K);bs.prototype.getStatus=function(){return this.status_};var cs=function(a,b,c){lj.call(this);this.listener_=null!=c?hb(a,c):a;this.interval_=b;this.callback_=hb(this.onTimer_,this);this.args_=[]};G(cs,lj);k=cs.prototype;k.shouldFire_=!1;k.pauseCount_=0;k.timer_=null;k.fire=function(a){this.args_=arguments;this.timer_||this.pauseCount_?this.shouldFire_=!0:this.doAction_()};k.stop=function(){this.timer_&&(on(this.timer_),this.timer_=null,this.shouldFire_=!1,this.args_=[])};k.pause=function(){this.pauseCount_++};
k.resume=function(){this.pauseCount_--;this.pauseCount_||!this.shouldFire_||this.timer_||(this.shouldFire_=!1,this.doAction_())};k.disposeInternal=function(){cs.superClass_.disposeInternal.call(this);this.stop()};k.onTimer_=function(){this.timer_=null;this.shouldFire_&&!this.pauseCount_&&(this.shouldFire_=!1,this.doAction_())};k.doAction_=function(){this.timer_=nn(this.callback_,this.interval_);this.listener_.apply(null,this.args_)};var ds=function(){this.blockSize=-1};var es=function(a){var b=a.a,c=a.b,d=a.c;b=b-c-d^d>>>13;c=c-d-b^b<<8;d-=b;d=d-c^c>>>13;b-=c;b-=d;b^=d>>>12;c=c-d-b^b<<16;d-=b;d=d-c^c>>>5;b-=c;b-=d;b^=d>>>3;c=c-d-b^b<<10;d-=b;d=d-c^c>>>15;a.a=b;a.b=c;return a.c=d},gs=function(a,b){return fs(a[b+0])+(fs(a[b+1])<<8)+(fs(a[b+2])<<16)+(fs(a[b+3])<<24)},fs=function(a){return 127<a?a-256:a};var hs=function(){this.blockSize=-1;this.blockSize=64;this.chain_=Array(4);this.block_=Array(this.blockSize);this.totalLength_=this.blockLength_=0;this.reset()};G(hs,ds);hs.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.totalLength_=this.blockLength_=0};
var is=function(a,b,c){c||(c=0);var d=Array(16);if(F(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.chain_[0];c=a.chain_[1];e=a.chain_[2];var f=a.chain_[3];var g=b+(f^c&(e^f))+d[0]+3614090360&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[1]+3905402710&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[2]+606105819&4294967295;e=f+(g<<17&4294967295|
g>>>15);g=c+(b^e&(f^b))+d[3]+3250441966&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[4]+4118548399&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[5]+1200080426&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[6]+2821735955&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[7]+4249261313&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[8]+1770035416&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[9]+2336552879&4294967295;f=b+(g<<12&4294967295|
g>>>20);g=e+(c^f&(b^c))+d[10]+4294925233&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[11]+2304563134&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[12]+1804603682&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[13]+4254626195&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[14]+2792965006&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[15]+1236535329&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(e^f&(c^e))+d[1]+4129170786&4294967295;b=c+(g<<
5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[6]+3225465664&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[11]+643717713&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[0]+3921069994&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[5]+3593408605&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[10]+38016083&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[15]+3634488961&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[4]+3889429448&4294967295;c=
e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[9]+568446438&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[14]+3275163606&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[3]+4107603335&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[8]+1163531501&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[13]+2850285829&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[2]+4243563512&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[7]+1735328473&4294967295;
e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[12]+2368359562&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(c^e^f)+d[5]+4294588738&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[8]+2272392833&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[11]+1839030562&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[14]+4259657740&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[1]+2763975236&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[4]+1272893353&4294967295;f=b+(g<<11&4294967295|
g>>>21);g=e+(f^b^c)+d[7]+4139469664&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[10]+3200236656&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[13]+681279174&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[0]+3936430074&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[3]+3572445317&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[6]+76029189&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[9]+3654602809&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[12]+
3873151461&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[15]+530742520&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[2]+3299628645&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(e^(c|~f))+d[0]+4096336452&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[7]+1126891415&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[14]+2878612391&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[5]+4237533241&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[12]+1700485571&
4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[3]+2399980690&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[10]+4293915773&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[1]+2240044497&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[8]+1873313359&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[15]+4264355552&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[6]+2734768916&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[13]+1309151649&
4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[4]+4149444226&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[11]+3174756917&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[2]+718787259&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[9]+3951481745&4294967295;a.chain_[0]=a.chain_[0]+b&4294967295;a.chain_[1]=a.chain_[1]+(e+(g<<21&4294967295|g>>>11))&4294967295;a.chain_[2]=a.chain_[2]+e&4294967295;a.chain_[3]=a.chain_[3]+f&4294967295};
hs.prototype.update=function(a,b){E(b)||(b=a.length);for(var c=b-this.blockSize,d=this.block_,e=this.blockLength_,f=0;f<b;){if(0==e)for(;f<=c;)is(this,a,f),f+=this.blockSize;if(F(a))for(;f<b;){if(d[e++]=a.charCodeAt(f++),e==this.blockSize){is(this,d);e=0;break}}else for(;f<b;)if(d[e++]=a[f++],e==this.blockSize){is(this,d);e=0;break}}this.blockLength_=e;this.totalLength_+=b};
hs.prototype.digest=function(){var a=Array((56>this.blockLength_?this.blockSize:2*this.blockSize)-this.blockLength_);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;var c=8*this.totalLength_;for(b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var d=0;32>d;d+=8)a[c++]=this.chain_[b]>>>d&255;return a};var ls=function(a,b){this.blockSize=-1;this.blockSize=64;this.chunk_=D.Uint8Array?new Uint8Array(this.blockSize):Array(this.blockSize);this.total_=this.inChunk_=0;this.hash_=[];this.numHashBlocks_=a;this.initHashBlocks_=b;this.w_=D.Int32Array?new Int32Array(64):Array(64);E(js)||(D.Int32Array?js=new Int32Array(ks):js=ks);this.reset()},js;G(ls,ds);for(var ms=[],ns=0;63>ns;ns++)ms[ns]=0;var os=Pb(128,ms);
ls.prototype.reset=function(){this.total_=this.inChunk_=0;this.hash_=D.Int32Array?new Int32Array(this.initHashBlocks_):Qb(this.initHashBlocks_)};
var ps=function(a){var b=a.chunk_;I(b.length==a.blockSize);for(var c=a.w_,d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(b=16;64>b;b++){e=c[b-15]|0;d=c[b-2]|0;var f=(c[b-16]|0)+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)|0,g=(c[b-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[b]=f+g|0}d=a.hash_[0]|0;e=a.hash_[1]|0;var h=a.hash_[2]|0,l=a.hash_[3]|0,m=a.hash_[4]|0,n=a.hash_[5]|0,p=a.hash_[6]|0;f=a.hash_[7]|0;for(b=0;64>b;b++){var r=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+
(d&e^d&h^e&h)|0;g=m&n^~m&p;f=f+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))|0;g=g+(js[b]|0)|0;g=f+(g+(c[b]|0)|0)|0;f=p;p=n;n=m;m=l+g|0;l=h;h=e;e=d;d=g+r|0}a.hash_[0]=a.hash_[0]+d|0;a.hash_[1]=a.hash_[1]+e|0;a.hash_[2]=a.hash_[2]+h|0;a.hash_[3]=a.hash_[3]+l|0;a.hash_[4]=a.hash_[4]+m|0;a.hash_[5]=a.hash_[5]+n|0;a.hash_[6]=a.hash_[6]+p|0;a.hash_[7]=a.hash_[7]+f|0};
ls.prototype.update=function(a,b){E(b)||(b=a.length);var c=0,d=this.inChunk_;if(F(a))for(;c<b;)this.chunk_[d++]=a.charCodeAt(c++),d==this.blockSize&&(ps(this),d=0);else if($a(a))for(;c<b;){var e=a[c++];if(!("number"==typeof e&&0<=e&&255>=e&&e==(e|0)))throw Error("message must be a byte array");this.chunk_[d++]=e;d==this.blockSize&&(ps(this),d=0)}else throw Error("message must be string or array");this.inChunk_=d;this.total_+=b};
ls.prototype.digest=function(){var a=[],b=8*this.total_;56>this.inChunk_?this.update(os,56-this.inChunk_):this.update(os,this.blockSize-(this.inChunk_-56));for(var c=63;56<=c;c--)this.chunk_[c]=b&255,b/=256;ps(this);for(c=b=0;c<this.numHashBlocks_;c++)for(var d=24;0<=d;d-=8)a[b++]=this.hash_[c]>>d&255;return a};
var ks=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,
4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var rs=function(){ls.call(this,8,qs)};G(rs,ls);var qs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];var ss={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},ts=ss;ts=ss;var us=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,vs=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,ws=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/,xs=function(a,b,c,d,e){a=new Date(a,b,c);e=e||0;return a.valueOf()+864E5*(((E(d)?d:3)-e+7)%7-((a.getDay()+6)%7-e+7)%7)},zs=function(a,b){b=$c(b);var c=-1==b.indexOf("T")?" ":"T";b=b.split(c);var d=b[0].match(us);if(d){var e=Number(d[2]),f=Number(d[3]),g=Number(d[4]);c=Number(d[5]);var h=Number(d[6])||1;a.setFullYear(Number(d[1]));
g?(a.setDate(1),a.setMonth(0),a.add(new ys("d",g-1))):c?(a.setMonth(0),a.setDate(1),d=a.getDay()||7,a.add(new ys("d",(4>=d?1-d:8-d)+(Number(h)+7*(Number(c)-1))-1))):(e&&(a.setDate(1),a.setMonth(e-1)),f&&a.setDate(f));c=!0}else c=!1;if(c&&!(c=2>b.length)){c=b[1];b=c.match(ws);if(b)if(c=c.substring(0,c.length-b[0].length),"Z"===b[0])var l=0;else l=60*Number(b[2])+Number(b[3]),l*="-"==b[1]?1:-1;(c=c.match(vs))?(b?(qb(l),a.setTime(Date.UTC(a.getYear(),a.getMonth(),a.getDate(),Number(c[1]),Number(c[2])||
0,Number(c[3])||0,c[4]?1E3*Number(c[4]):0)+6E4*l)):(a.setHours(Number(c[1])),a.setMinutes(Number(c[2])||0),a.setSeconds(Number(c[3])||0),a.setMilliseconds(c[4]?1E3*Number(c[4]):0)),c=!0):c=!1}return c},ys=function(a,b,c,d,e,f){F(a)?(this.years="y"==a?b:0,this.months="m"==a?b:0,this.days="d"==a?b:0,this.hours="h"==a?b:0,this.minutes="n"==a?b:0,this.seconds="s"==a?b:0):(this.years=a||0,this.months=b||0,this.days=c||0,this.hours=d||0,this.minutes=e||0,this.seconds=f||0)};
ys.prototype.toIsoString=function(a){var b=Math.min(this.years,this.months,this.days,this.hours,this.minutes,this.seconds),c=Math.max(this.years,this.months,this.days,this.hours,this.minutes,this.seconds);if(0>b&&0<c)return null;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.years||a)&&c.push(Math.abs(this.years)+"Y");(this.months||a)&&c.push(Math.abs(this.months)+"M");(this.days||a)&&c.push(Math.abs(this.days)+"D");if(this.hours||this.minutes||this.seconds||a)c.push("T"),
(this.hours||a)&&c.push(Math.abs(this.hours)+"H"),(this.minutes||a)&&c.push(Math.abs(this.minutes)+"M"),(this.seconds||a)&&c.push(Math.abs(this.seconds)+"S");return c.join("")};ys.prototype.equals=function(a){return a.years==this.years&&a.months==this.months&&a.days==this.days&&a.hours==this.hours&&a.minutes==this.minutes&&a.seconds==this.seconds};ys.prototype.clone=function(){return new ys(this.years,this.months,this.days,this.hours,this.minutes,this.seconds)};
ys.prototype.add=function(a){this.years+=a.years;this.months+=a.months;this.days+=a.days;this.hours+=a.hours;this.minutes+=a.minutes;this.seconds+=a.seconds};
var Cs=function(a,b,c){Pa(a)?(this.date=As(a,b||0,c||1),Bs(this,c||1)):bb(a)?(this.date=As(a.getFullYear(),a.getMonth(),a.getDate()),Bs(this,a.getDate())):(this.date=new Date(jb()),a=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),Bs(this,a))},As=function(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b};k=Cs.prototype;k.firstDayOfWeek_=ts.FIRSTDAYOFWEEK;k.firstWeekCutOffDay_=ts.FIRSTWEEKCUTOFFDAY;
k.clone=function(){var a=new Cs(this.date);a.firstDayOfWeek_=this.firstDayOfWeek_;a.firstWeekCutOffDay_=this.firstWeekCutOffDay_;return a};k.getFullYear=function(){return this.date.getFullYear()};k.getYear=function(){return this.getFullYear()};k.getMonth=function(){return this.date.getMonth()};k.getDate=function(){return this.date.getDate()};k.getTime=function(){return this.date.getTime()};k.getDay=function(){return this.date.getDay()};k.getUTCFullYear=function(){return this.date.getUTCFullYear()};
k.getUTCMonth=function(){return this.date.getUTCMonth()};k.getUTCDate=function(){return this.date.getUTCDate()};k.getUTCDay=function(){return this.date.getDay()};k.getUTCHours=function(){return this.date.getUTCHours()};k.getUTCMinutes=function(){return this.date.getUTCMinutes()};k.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};k.set=function(a){this.date=new Date(a.getFullYear(),a.getMonth(),a.getDate())};k.setFullYear=function(a){this.date.setFullYear(a)};k.setYear=function(a){this.setFullYear(a)};
k.setMonth=function(a){this.date.setMonth(a)};k.setDate=function(a){this.date.setDate(a)};k.setTime=function(a){this.date.setTime(a)};k.setUTCFullYear=function(a){this.date.setUTCFullYear(a)};k.setUTCMonth=function(a){this.date.setUTCMonth(a)};k.setUTCDate=function(a){this.date.setUTCDate(a)};
k.add=function(a){if(a.years||a.months){var b=this.getMonth()+a.months+12*a.years,c=this.getYear()+Math.floor(b/12);b%=12;0>b&&(b+=12);a:{switch(b){case 1:var d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.days&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.days),this.setDate(1),this.setFullYear(a.getFullYear()),
this.setMonth(a.getMonth()),this.setDate(a.getDate()),Bs(this,a.getDate()))};k.toIsoString=function(a){return[this.getFullYear(),Oe(this.getMonth()+1,2),Oe(this.getDate(),2)].join(a?"-":"")+""};k.toUTCIsoString=function(a){return[this.getUTCFullYear(),Oe(this.getUTCMonth()+1,2),Oe(this.getUTCDate(),2)].join(a?"-":"")+""};k.equals=function(a){return!(!a||this.getYear()!=a.getYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};k.toString=function(){return this.toIsoString()};
var Bs=function(a,b){a.getDate()!=b&&a.date.setUTCHours(a.date.getUTCHours()+(a.getDate()<b?1:-1))};Cs.prototype.valueOf=function(){return this.date.valueOf()};var Ds=function(a,b,c,d,e,f,g){this.date=Pa(a)?new Date(a,b||0,c||1,d||0,e||0,f||0,g||0):new Date(a&&a.getTime?a.getTime():jb())};G(Ds,Cs);var Es=function(a){var b=new Ds;b.setTime(a);return b};k=Ds.prototype;k.getHours=function(){return this.date.getHours()};k.getMinutes=function(){return this.date.getMinutes()};k.getSeconds=function(){return this.date.getSeconds()};
k.getMilliseconds=function(){return this.date.getMilliseconds()};k.getUTCDay=function(){return this.date.getUTCDay()};k.getUTCHours=function(){return this.date.getUTCHours()};k.getUTCMinutes=function(){return this.date.getUTCMinutes()};k.getUTCSeconds=function(){return this.date.getUTCSeconds()};k.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()};k.setHours=function(a){this.date.setHours(a)};k.setMinutes=function(a){this.date.setMinutes(a)};k.setSeconds=function(a){this.date.setSeconds(a)};
k.setMilliseconds=function(a){this.date.setMilliseconds(a)};k.setUTCHours=function(a){this.date.setUTCHours(a)};k.setUTCMinutes=function(a){this.date.setUTCMinutes(a)};k.setUTCSeconds=function(a){this.date.setUTCSeconds(a)};k.setUTCMilliseconds=function(a){this.date.setUTCMilliseconds(a)};
k.add=function(a){Cs.prototype.add.call(this,a);a.hours&&this.setUTCHours(this.date.getUTCHours()+a.hours);a.minutes&&this.setUTCMinutes(this.date.getUTCMinutes()+a.minutes);a.seconds&&this.setUTCSeconds(this.date.getUTCSeconds()+a.seconds)};k.toIsoString=function(a){var b=Cs.prototype.toIsoString.call(this,a);return a?b+" "+Oe(this.getHours(),2)+":"+Oe(this.getMinutes(),2)+":"+Oe(this.getSeconds(),2):b+"T"+Oe(this.getHours(),2)+Oe(this.getMinutes(),2)+Oe(this.getSeconds(),2)};
k.toUTCIsoString=function(a){var b=Cs.prototype.toUTCIsoString.call(this,a);return a?b+" "+Oe(this.getUTCHours(),2)+":"+Oe(this.getUTCMinutes(),2)+":"+Oe(this.getUTCSeconds(),2):b+"T"+Oe(this.getUTCHours(),2)+Oe(this.getUTCMinutes(),2)+Oe(this.getUTCSeconds(),2)};var Fs=function(a){var b=a.toUTCIsoString(!0).replace(" ","T");a=a.getUTCMilliseconds();return(a?b+"."+Oe(a,3):b)+"Z"};Ds.prototype.equals=function(a){return this.getTime()==a.getTime()};Ds.prototype.toString=function(){return this.toIsoString()};
Ds.prototype.clone=function(){var a=new Ds(this.date);a.firstDayOfWeek_=this.firstDayOfWeek_;a.firstWeekCutOffDay_=this.firstWeekCutOffDay_;return a};var Gs=function(a){var b=new Ds(2E3);return zs(b,a)?b:null};var Hs=function(){},Js=function(a){if("number"==typeof a){var b=new Hs;b.standardOffset_=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",Oe(c,2));c=d.join("")}b.timeZoneId_=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=Is(a);b.tzNames_=[c,c];b.tzNamesExt_={STD_LONG_NAME_GMT:a,STD_GENERIC_LOCATION:a};b.transitions_=[];return b}b=new Hs;
b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.tzNamesExt_=a.names_ext;b.transitions_=a.transitions;return b},Is=function(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(Oe(Math.floor(a/60)%100,2),":",Oe(a%60,2));return b.join("")},Ks=function(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;for(var c=0;c<a.transitions_.length&&b>=a.transitions_[c];)c+=2;return 0==c?0:a.transitions_[c-1]};
Hs.prototype.getLongName=function(a){return this.tzNames_[0<Ks(this,a)?3:1]};var Ls=function(a){I(E(a),"Pattern must be defined");I(E(void 0)||E(ts),"goog.i18n.DateTimeSymbols or explicit symbols must be defined");this.patternParts_=[];this.dateTimeSymbols_=ts;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)},Ms=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/],Ns=function(a){return a.getHours?a.getHours():0};
Ls.prototype.applyPattern_=function(a){for(Os&&(a=a.replace(/\u200f/g,""));a;){for(var b=a,c=0;c<Ms.length;++c){var d=a.match(Ms[c]);if(d){var e=d[0];a=a.substring(e.length);0==c&&("''"==e?e="'":(e=e.substring(1,"'"==d[1]?e.length-1:e.length),e=e.replace(/''/g,"'")));this.patternParts_.push({text:e,type:c});break}}if(b===a)throw Error("Malformed pattern part: "+a);}};
Ls.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-(b.standardOffset_-Ks(b,a))):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(var f=0;f<this.patternParts_.length;++f){var g=this.patternParts_[f].text;1==this.patternParts_[f].type?c.push(Ps(this,g,a,d,e,b)):
c.push(g)}return c.join("")};Ls.prototype.applyStandardPattern_=function(a){if(4>a)var b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b.replace("{1}",this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b.replace("{0}",this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(10);return}this.applyPattern_(b)};
var Qs=function(a,b){b=String(b);a=a.dateTimeSymbols_||ts;if(void 0!==a.ZERODIGIT){for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.ZERODIGIT+e-48):b.charAt(d))}b=c.join("")}return b},Os=!1,Rs=function(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");},Ps=function(a,b,c,d,e,f){var g=b.length;switch(b.charAt(0)){case "G":return c=
0<d.getFullYear()?1:0,4<=g?a.dateTimeSymbols_.ERANAMES[c]:a.dateTimeSymbols_.ERAS[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==g&&(c%=100),Qs(a,Oe(c,g));case "Y":return c=(new Date(xs(d.getFullYear(),d.getMonth(),d.getDate(),a.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,a.dateTimeSymbols_.FIRSTDAYOFWEEK))).getFullYear(),0>c&&(c=-c),2==g&&(c%=100),Qs(a,Oe(c,g));case "M":a:switch(c=d.getMonth(),g){case 5:g=a.dateTimeSymbols_.NARROWMONTHS[c];break a;case 4:g=a.dateTimeSymbols_.MONTHS[c];break a;case 3:g=
a.dateTimeSymbols_.SHORTMONTHS[c];break a;default:g=Qs(a,Oe(c+1,g))}return g;case "k":return Rs(e),Qs(a,Oe(Ns(e)||24,g));case "S":return Qs(a,(e.getMilliseconds()/1E3).toFixed(Math.min(3,g)).substr(2)+(3<g?Oe(0,g-3):""));case "E":return c=d.getDay(),4<=g?a.dateTimeSymbols_.WEEKDAYS[c]:a.dateTimeSymbols_.SHORTWEEKDAYS[c];case "a":return Rs(e),g=Ns(e),a.dateTimeSymbols_.AMPMS[12<=g&&24>g?1:0];case "h":return Rs(e),Qs(a,Oe(Ns(e)%12||12,g));case "K":return Rs(e),Qs(a,Oe(Ns(e)%12,g));case "H":return Rs(e),
Qs(a,Oe(Ns(e),g));case "c":a:switch(c=d.getDay(),g){case 5:g=a.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[c];break a;case 4:g=a.dateTimeSymbols_.STANDALONEWEEKDAYS[c];break a;case 3:g=a.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[c];break a;default:g=Qs(a,Oe(c,1))}return g;case "L":a:switch(c=d.getMonth(),g){case 5:g=a.dateTimeSymbols_.STANDALONENARROWMONTHS[c];break a;case 4:g=a.dateTimeSymbols_.STANDALONEMONTHS[c];break a;case 3:g=a.dateTimeSymbols_.STANDALONESHORTMONTHS[c];break a;default:g=Qs(a,Oe(c+
1,g))}return g;case "Q":return c=Math.floor(d.getMonth()/3),4>g?a.dateTimeSymbols_.SHORTQUARTERS[c]:a.dateTimeSymbols_.QUARTERS[c];case "d":return Qs(a,Oe(d.getDate(),g));case "m":return Rs(e),Qs(a,Oe(e.getMinutes(),g));case "s":return Rs(e),Qs(a,Oe(e.getSeconds(),g));case "v":return g=f||Js(c.getTimezoneOffset()),g.timeZoneId_;case "V":return a=f||Js(c.getTimezoneOffset()),2>=g?a.timeZoneId_:0<Ks(a,c)?E(a.tzNamesExt_.DST_GENERIC_LOCATION)?a.tzNamesExt_.DST_GENERIC_LOCATION:a.tzNamesExt_.DST_GENERIC_LOCATION:
E(a.tzNamesExt_.STD_GENERIC_LOCATION)?a.tzNamesExt_.STD_GENERIC_LOCATION:a.tzNamesExt_.STD_GENERIC_LOCATION;case "w":return c=xs(e.getFullYear(),e.getMonth(),e.getDate(),a.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,a.dateTimeSymbols_.FIRSTDAYOFWEEK),Qs(a,Oe(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,g));case "z":return a=f||Js(c.getTimezoneOffset()),4>g?a.tzNames_[0<Ks(a,c)?2:0]:a.getLongName(c);case "Z":return b=f||Js(c.getTimezoneOffset()),4>g?(g=-(b.standardOffset_-
Ks(b,c)),a=[0>g?"-":"+"],g=Math.abs(g),a.push(Oe(Math.floor(g/60)%100,2),Oe(g%60,2)),g=a.join("")):g=Qs(a,Is(b.standardOffset_-Ks(b,c))),g;default:return""}};var Ss={YEAR_FULL:"y",YEAR_FULL_WITH_ERA:"y G",YEAR_MONTH_ABBR:"MMM y",YEAR_MONTH_FULL:"MMMM y",YEAR_MONTH_SHORT:"MM/y",MONTH_DAY_ABBR:"MMM d",MONTH_DAY_FULL:"MMMM dd",MONTH_DAY_SHORT:"M/d",MONTH_DAY_MEDIUM:"MMMM d",MONTH_DAY_YEAR_MEDIUM:"MMM d, y",WEEKDAY_MONTH_DAY_MEDIUM:"EEE, MMM d",WEEKDAY_MONTH_DAY_YEAR_MEDIUM:"EEE, MMM d, y",DAY_ABBR:"d",MONTH_DAY_TIME_ZONE_SHORT:"MMM d, h:mm a zzzz"},Ts=Ss;Ts=Ss;var Us={COMPACT_DECIMAL_SHORT_PATTERN:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},COMPACT_DECIMAL_LONG_PATTERN:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},
1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},1E14:{other:"000 trillion"}}},Vs=Us;Vs=Us;var Xs=function(a,b){var c=["0"];b=Ws[b][0]&7;if(0<b){c.push(".");for(var d=0;d<b;d++)c.push("0")}return a.replace(/0.00/g,c.join(""))},Ws={AED:[2,"dh","\u062f.\u0625."],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$","RD$"],EGP:[2,"\u00a3",
"LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],
PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd","RUB"],SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"\u20ba","TRY"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};var Ys={DECIMAL_SEP:".",GROUP_SEP:",",PERCENT:"%",ZERO_DIGIT:"0",PLUS_SIGN:"+",MINUS_SIGN:"-",EXP_SYMBOL:"E",PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"USD"},Zs=Ys;Zs=Ys;var at=function(){this.intlCurrencyCode_=null;this.currencyStyle_=0;this.overrideNumberFormatSymbols_=null;this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.significantDigits_=0;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.showTrailingZeros_=this.useSignForPositiveExponent_=!1;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_=$s(this).MINUS_SIGN;this.negativeSuffix_="";this.multiplier_=1;this.negativePercentSignExpected_=!1;
this.groupingArray_=[];this.useExponentialNotation_=this.decimalSeparatorAlwaysShown_=!1;this.compactStyle_=0;this.baseFormattingNumber_=null;this.applyStandardPattern_(1)},$s=function(a){return a.overrideNumberFormatSymbols_||Zs},bt=function(a){return a.intlCurrencyCode_||$s(a).DEF_CURRENCY_CODE};
at.prototype.applyPattern_=function(a){this.pattern_=a.replace(/ /g,"\u00a0");var b=[0];this.positivePrefix_=ct(this,a,b);for(var c=b[0],d=-1,e=0,f=0,g=0,h=-1,l=a.length,m=!0;b[0]<l&&m;b[0]++)switch(a.charAt(b[0])){case "#":0<f?g++:e++;0<=h&&0>d&&h++;break;case "0":if(0<g)throw Error('Unexpected "0" in pattern "'+a+'"');f++;0<=h&&0>d&&h++;break;case ",":0<h&&this.groupingArray_.push(h);h=0;break;case ".":if(0<=d)throw Error('Multiple decimal separators in pattern "'+a+'"');d=e+f+g;break;case "E":if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+
a+'"');this.useExponentialNotation_=!0;this.minExponentDigits_=0;b[0]+1<l&&"+"==a.charAt(b[0]+1)&&(b[0]++,this.useSignForPositiveExponent_=!0);for(;b[0]+1<l&&"0"==a.charAt(b[0]+1);)b[0]++,this.minExponentDigits_++;if(1>e+f||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+a+'"');m=!1;break;default:b[0]--,m=!1}0==f&&0<e&&0<=d&&(f=d,0==f&&f++,g=e-f,e=f-1,f=1);if(0>d&&0<g||0<=d&&(d<e||d>e+f)||0==h)throw Error('Malformed pattern "'+a+'"');g=e+f+g;this.maximumFractionDigits_=0<=
d?g-d:0;0<=d&&(this.minimumFractionDigits_=e+f-d,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=d?d:g)-e;this.useExponentialNotation_&&(this.maximumIntegerDigits_=e+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingArray_.push(Math.max(0,h));this.decimalSeparatorAlwaysShown_=0==d||d==g;c=b[0]-c;this.positiveSuffix_=ct(this,a,b);b[0]<a.length&&";"==a.charAt(b[0])?(b[0]++,
1!=this.multiplier_&&(this.negativePercentSignExpected_=!0),this.negativePrefix_=ct(this,a,b),b[0]+=c,this.negativeSuffix_=ct(this,a,b)):(this.negativePrefix_+=this.positivePrefix_,this.negativeSuffix_+=this.positiveSuffix_)};
at.prototype.applyStandardPattern_=function(a){switch(a){case 1:this.applyPattern_($s(this).DECIMAL_PATTERN);break;case 2:this.applyPattern_($s(this).SCIENTIFIC_PATTERN);break;case 3:this.applyPattern_($s(this).PERCENT_PATTERN);break;case 4:this.applyPattern_(Xs($s(this).CURRENCY_PATTERN,bt(this)));break;case 5:dt(this,1);break;case 6:dt(this,2);break;default:throw Error("Unsupported pattern type.");}};
var dt=function(a,b){a.compactStyle_=b;a.applyPattern_($s(a).DECIMAL_PATTERN);a.minimumFractionDigits_=0;a.maximumFractionDigits_=2;if(0<a.minimumFractionDigits_)throw Error("Can't combine significant digits and minimum fraction digits");a.significantDigits_=2};
at.prototype.parse=function(a,b){b=b||[0];if(0!=this.compactStyle_)throw Error("Parsing of compact numbers is unimplemented");a=a.replace(/ |\u202f/g,"\u00a0");var c=a.indexOf(this.positivePrefix_,b[0])==b[0],d=a.indexOf(this.negativePrefix_,b[0])==b[0];c&&d&&(this.positivePrefix_.length>this.negativePrefix_.length?d=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(c=!1));c?b[0]+=this.positivePrefix_.length:d&&(b[0]+=this.negativePrefix_.length);if(a.indexOf($s(this).INFINITY,b[0])==b[0]){b[0]+=
$s(this).INFINITY.length;var e=Infinity}else{e=a;var f=!1,g=!1,h=!1,l=-1,m=1,n=$s(this).DECIMAL_SEP,p=$s(this).GROUP_SEP,r=$s(this).EXP_SYMBOL;if(0!=this.compactStyle_)throw Error("Parsing of compact style numbers is not implemented");p=p.replace(/\u202f/g,"\u00a0");for(var w="";b[0]<e.length;b[0]++){var v=e.charAt(b[0]),A=et(this,v);if(0<=A&&9>=A)w+=A,h=!0;else if(v==n.charAt(0)){if(f||g)break;w+=".";f=!0}else if(v==p.charAt(0)&&("\u00a0"!=p.charAt(0)||b[0]+1<e.length&&0<=et(this,e.charAt(b[0]+1)))){if(f||
g)break}else if(v==r.charAt(0)){if(g)break;w+="E";g=!0;l=b[0]}else if("+"==v||"-"==v){if(h&&l!=b[0]-1)break;w+=v}else if(1==this.multiplier_&&v==$s(this).PERCENT.charAt(0)){if(1!=m)break;m=100;if(h){b[0]++;break}}else if(1==this.multiplier_&&v==$s(this).PERMILL.charAt(0)){if(1!=m)break;m=1E3;if(h){b[0]++;break}}else break}1!=this.multiplier_&&(m=this.multiplier_);e=parseFloat(w)/m}if(c){if(a.indexOf(this.positiveSuffix_,b[0])!=b[0])return NaN;b[0]+=this.positiveSuffix_.length}else if(d){if(a.indexOf(this.negativeSuffix_,
b[0])!=b[0])return NaN;b[0]+=this.negativeSuffix_.length}return d?-e:e};
at.prototype.format=function(a){if(isNaN(a))return $s(this).NAN;var b=[];var c=null===this.baseFormattingNumber_?a:this.baseFormattingNumber_,d=a;if(0==this.compactStyle_)var e=ft;else c=Math.abs(c),d=Math.abs(d),e=gt(this,1>=c?0:ht(c)).divisorBase,d=it(d,-e),jt(this,d),c=it(c,-e),c=jt(this,c),e=gt(this,e+ht(c.intValue));a=it(a,-e.divisorBase);b.push(e.prefix);c=0>a||0==a&&0>1/a;b.push(c?this.negativePrefix_:this.positivePrefix_);if(isFinite(a))if(a=a*(c?-1:1)*this.multiplier_,this.useExponentialNotation_)if(0==
a)kt(this,a,this.minimumIntegerDigits_,b),lt(this,0,b);else{d=Gg(Math.log(a)/Math.log(10));a=it(a,-d);var f=this.minimumIntegerDigits_;1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_?(f=d%this.maximumIntegerDigits_,0>f&&(f=this.maximumIntegerDigits_+f),a=it(a,f),d-=f,f=1):1>this.minimumIntegerDigits_?(d++,a=it(a,-1)):(d-=this.minimumIntegerDigits_-1,a=it(a,this.minimumIntegerDigits_-1));kt(this,a,f,b);lt(this,d,b)}else kt(this,a,this.minimumIntegerDigits_,b);else b.push($s(this).INFINITY);
b.push(c?this.negativeSuffix_:this.positiveSuffix_);b.push(e.suffix);return b.join("")};
var jt=function(a,b){var c=it(b,a.maximumFractionDigits_);0<a.significantDigits_&&(c=mt(c,a.significantDigits_,a.maximumFractionDigits_));c=Math.round(c);isFinite(c)?(b=Math.floor(it(c,-a.maximumFractionDigits_)),a=Math.floor(c-it(b,a.maximumFractionDigits_))):a=0;return{intValue:b,fracValue:a}},kt=function(a,b,c,d){if(a.minimumFractionDigits_>a.maximumFractionDigits_)throw Error("Min value must be less than max value");d||(d=[]);b=jt(a,b);var e=b.intValue,f=b.fracValue,g=0==e?0:ht(e)+1,h=0<a.minimumFractionDigits_||
0<f||a.showTrailingZeros_&&g<a.significantDigits_;b=a.minimumFractionDigits_;h&&(b=a.showTrailingZeros_&&0<a.significantDigits_?a.significantDigits_-g:a.minimumFractionDigits_);var l="";for(g=e;1E20<g;)l="0"+l,g=Math.round(it(g,-1));l=g+l;var m=$s(a).DECIMAL_SEP;g=$s(a).ZERO_DIGIT.charCodeAt(0);var n=l.length,p=0;if(0<e||0<c){for(e=n;e<c;e++)d.push(String.fromCharCode(g));if(2<=a.groupingArray_.length)for(c=1;c<a.groupingArray_.length;c++)p+=a.groupingArray_[c];c=n-p;if(0<c){e=a.groupingArray_;p=
n=0;for(var r,w=$s(a).GROUP_SEP,v=l.length,A=0;A<v;A++)if(d.push(String.fromCharCode(g+1*Number(l.charAt(A)))),1<v-A)if(r=e[p],A<c){var H=c-A;(1===r||0<r&&1===H%r)&&d.push(w)}else p<e.length&&(A===c?p+=1:r===A-c-n+1&&(d.push(w),n+=r,p+=1))}else{c=l;l=a.groupingArray_;e=$s(a).GROUP_SEP;r=c.length;w=[];for(n=l.length-1;0<=n&&0<r;n--){p=l[n];for(v=0;v<p&&0<=r-v-1;v++)w.push(String.fromCharCode(g+1*Number(c.charAt(r-v-1))));r-=p;0<r&&w.push(e)}d.push.apply(d,w.reverse())}}else h||d.push(String.fromCharCode(g));
(a.decimalSeparatorAlwaysShown_||h)&&d.push(m);f=String(f);h=f.split("e+");2==h.length&&(f=String(mt(parseFloat(h[0]),a.significantDigits_,1)),f=f.replace(".",""),f+=Ne("0",parseInt(h[1],10)-f.length+1));a.maximumFractionDigits_+1>f.length&&(f="1"+Ne("0",a.maximumFractionDigits_-f.length)+f);for(a=f.length;"0"==f.charAt(a-1)&&a>b+1;)a--;for(e=1;e<a;e++)d.push(String.fromCharCode(g+1*Number(f.charAt(e))))},lt=function(a,b,c){c.push($s(a).EXP_SYMBOL);0>b?(b=-b,c.push($s(a).MINUS_SIGN)):a.useSignForPositiveExponent_&&
c.push($s(a).PLUS_SIGN);b=""+b;for(var d=$s(a).ZERO_DIGIT,e=b.length;e<a.minExponentDigits_;e++)c.push(d);c.push(b)},et=function(a,b){b=b.charCodeAt(0);if(48<=b&&58>b)return b-48;a=$s(a).ZERO_DIGIT.charCodeAt(0);return a<=b&&b<a+10?b-a:-1},ct=function(a,b,c){for(var d="",e=!1,f=b.length;c[0]<f;c[0]++){var g=b.charAt(c[0]);if("'"==g)c[0]+1<f&&"'"==b.charAt(c[0]+1)?(c[0]++,d+="'"):e=!e;else if(e)d+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return d;case "\u00a4":if(c[0]+1<f&&"\u00a4"==
b.charAt(c[0]+1))c[0]++,d+=bt(a);else switch(a.currencyStyle_){case 0:d+=Ws[bt(a)][1];break;case 2:g=bt(a);var h=Ws[g];d+=g==h[1]?g:g+" "+h[1];break;case 1:d+=Ws[bt(a)][2]}break;case "%":if(!a.negativePercentSignExpected_&&1!=a.multiplier_)throw Error("Too many percent/permill");if(a.negativePercentSignExpected_&&100!=a.multiplier_)throw Error("Inconsistent use of percent/permill characters");a.multiplier_=100;a.negativePercentSignExpected_=!1;d+=$s(a).PERCENT;break;case "\u2030":if(!a.negativePercentSignExpected_&&
1!=a.multiplier_)throw Error("Too many percent/permill");if(a.negativePercentSignExpected_&&1E3!=a.multiplier_)throw Error("Inconsistent use of percent/permill characters");a.multiplier_=1E3;a.negativePercentSignExpected_=!1;d+=$s(a).PERMILL;break;default:d+=g}}return d},ft={prefix:"",suffix:"",divisorBase:0},gt=function(a,b){a=1==a.compactStyle_?Vs.COMPACT_DECIMAL_SHORT_PATTERN:Vs.COMPACT_DECIMAL_LONG_PATTERN;null==a&&(a=Vs.COMPACT_DECIMAL_SHORT_PATTERN);if(3>b)return ft;b=Math.min(14,b);var c=a[it(1,
b)];for(--b;!c&&3<=b;)c=a[it(1,b)],b--;if(!c)return ft;a=c.other;return a&&"0"!=a?(a=/([^0]*)(0+)(.*)/.exec(a))?{prefix:a[1],suffix:a[3],divisorBase:b+1-(a[2].length-1)}:ft:ft},ht=function(a){if(!isFinite(a))return 0<a?a:0;for(var b=0;1<=(a/=10);)b++;return b},it=function(a,b){I(0==b%1,'Cannot shift by fractional digits "%s".',b);if(!a||!isFinite(a)||0==b)return a;a=String(a).split("e");return parseFloat(a[0]+"e"+(parseInt(a[1]||0,10)+b))},nt=function(a,b){I(0==b%1,'Cannot round to fractional digits "%s".',
b);return a&&isFinite(a)?it(Math.round(it(a,b)),-b):a},mt=function(a,b,c){if(!a)return a;b=b-ht(a)-1;return b<-c?nt(a,-c):nt(a,b)};var ot=function(a){return 1==a%10&&11!=a%100?"one":2==a%10&&12!=a%100?"two":3==a%10&&13!=a%100?"few":"other"},pt=ot;pt=ot;var qt=function(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1},rt=function(a,b){var c=a|0;a=void 0===b?Math.min(qt(a),3):b;return 1==c&&0==a?"one":"other"},st=rt;st=rt;var wt=function(a){this.pattern_=a;this.parsedPattern_=this.literals_=this.initialLiterals_=null;a=Zs;var b=Vs;if(tt!==a||ut!==b)tt=a,ut=b,vt=new at;this.numberFormatter_=vt},tt=null,ut=null,vt=null,xt=/'([{}#].*?)'/g,yt=/''/g;
wt.prototype.format=function(a){if(this.pattern_){this.initialLiterals_=[];var b=zt(this,this.pattern_);this.parsedPattern_=At(this,b);this.pattern_=null}if(this.parsedPattern_&&0!=this.parsedPattern_.length)for(this.literals_=Qb(this.initialLiterals_),b=[],Bt(this,this.parsedPattern_,a,!1,b),a=b.join(""),I(-1==a.search("#"),"Not all # were replaced.");0<this.literals_.length;)a=a.replace(this.buildPlaceholder_(this.literals_),this.literals_.pop());else a="";return a};
var Bt=function(a,b,c,d,e){for(var f=0;f<b.length;f++)switch(b[f].type){case 4:e.push(b[f].value);break;case 3:var g=b[f].value,h=a,l=e,m=c[g];E(m)?(h.literals_.push(m),l.push(h.buildPlaceholder_(h.literals_))):l.push("Undefined parameter - "+g);break;case 2:g=b[f].value;h=a;l=c;m=d;var n=e,p=g.argumentIndex;E(l[p])?(p=g[l[p]],E(p)||(p=g.other,vb(p,"Invalid option or missing other option for select block.")),Bt(h,p,l,m,n)):n.push("Undefined parameter - "+p);break;case 0:g=b[f].value;Ct(a,g,c,st,d,
e);break;case 1:g=b[f].value;Ct(a,g,c,pt,d,e);break;default:pb("Unrecognized block type: "+b[f].type)}},Ct=function(a,b,c,d,e,f){var g=b.argumentIndex,h=b.argumentOffset,l=+c[g];isNaN(l)?f.push("Undefined or invalid parameter - "+g):(h=l-h,g=b[c[g]],E(g)||(I(0<=h,"Argument index smaller than offset."),d=d(h),rb(d,"Invalid plural key."),g=b[d],E(g)||(g=b.other),vb(g,"Invalid option or missing other option for plural block.")),b=[],Bt(a,g,c,e,b),c=b.join(""),rb(c,"Empty block in plural."),e?f.push(c):
(a=a.numberFormatter_.format(h),f.push(c.replace(/#/g,a))))},zt=function(a,b){var c=a.initialLiterals_,d=hb(a.buildPlaceholder_,a);b=b.replace(yt,function(){c.push("'");return d(c)});return b=b.replace(xt,function(e,f){c.push(f);return d(c)})},Dt=function(a){var b=0,c=[],d=[],e=/[{}]/g;e.lastIndex=0;for(var f;f=e.exec(a);){var g=f.index;"}"==f[0]?(f=c.pop(),I(E(f)&&"{"==f,"No matching { for }."),0==c.length&&(f={type:1},f.value=a.substring(b,g),d.push(f),b=g+1)):(0==c.length&&(b=a.substring(b,g),
""!=b&&d.push({type:0,value:b}),b=g+1),c.push("{"))}I(0==c.length,"There are mismatched { or } in the pattern.");b=a.substring(b);""!=b&&d.push({type:0,value:b});return d},Et=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,Ft=/^\s*(\w+)\s*,\s*selectordinal\s*,/,Gt=/^\s*(\w+)\s*,\s*select\s*,/,At=function(a,b){var c=[];b=Dt(b);for(var d=0;d<b.length;d++){var e={};if(0==b[d].type)e.type=4,e.value=b[d].value;else if(1==b[d].type){var f=b[d].value;switch(Et.test(f)?0:Ft.test(f)?1:Gt.test(f)?2:/^\s*\w+\s*/.test(f)?
3:5){case 2:e.type=2;e.value=Ht(a,b[d].value);break;case 0:e.type=0;e.value=It(a,b[d].value);break;case 1:e.type=1;e.value=Jt(a,b[d].value);break;case 3:e.type=3;e.value=b[d].value;break;default:pb("Unknown block type for pattern: "+b[d].value)}}else pb("Unknown part of the pattern.");c.push(e)}return c},Ht=function(a,b){var c="";b=b.replace(Gt,function(h,l){c=l;return""});var d={};d.argumentIndex=c;b=Dt(b);for(var e=0;e<b.length;){var f=b[e].value;rb(f,"Missing select key element.");e++;I(e<b.length,
"Missing or invalid select value element.");if(1==b[e].type)var g=At(a,b[e].value);else pb("Expected block type.");d[f.replace(/\s/g,"")]=g;e++}vb(d.other,"Missing other key in select statement.");return d},It=function(a,b){var c="",d=0;b=b.replace(Et,function(l,m,n){c=m;n&&(d=parseInt(n,10));return""});var e={};e.argumentIndex=c;e.argumentOffset=d;b=Dt(b);for(var f=0;f<b.length;){var g=b[f].value;rb(g,"Missing plural key element.");f++;I(f<b.length,"Missing or invalid plural value element.");if(1==
b[f].type)var h=At(a,b[f].value);else pb("Expected block type.");e[g.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=h;f++}vb(e.other,"Missing other key in plural statement.");return e},Jt=function(a,b){var c="";b=b.replace(Ft,function(h,l){c=l;return""});var d={};d.argumentIndex=c;d.argumentOffset=0;b=Dt(b);for(var e=0;e<b.length;){var f=b[e].value;rb(f,"Missing ordinal key element.");e++;I(e<b.length,"Missing or invalid ordinal value element.");if(1==b[e].type)var g=At(a,b[e].value);else pb("Expected block type.");
d[f.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=g;e++}vb(d.other,"Missing other key in selectordinal statement.");return d};wt.prototype.buildPlaceholder_=function(a){I(0<a.length,"Literal array is empty.");return"\ufddf_"+(a.length-1).toString(10)+"_"};var Kt;
Kt={DAY:{LONG:{R:{"-1":"yesterday",0:"today",1:"tomorrow"},P:"one{# day ago}other{# days ago}",F:"one{in # day}other{in # days}"}},HOUR:{LONG:{R:{0:"this hour"},P:"one{# hour ago}other{# hours ago}",F:"one{in # hour}other{in # hours}"},SHORT:{R:{0:"this hour"},P:"one{# hr. ago}other{# hr. ago}",F:"one{in # hr.}other{in # hr.}"}},MINUTE:{LONG:{R:{0:"this minute"},P:"one{# minute ago}other{# minutes ago}",F:"one{in # minute}other{in # minutes}"},SHORT:{R:{0:"this minute"},P:"one{# min. ago}other{# min. ago}",F:"one{in # min.}other{in # min.}"}},
MONTH:{LONG:{R:{"-1":"last month",0:"this month",1:"next month"},P:"one{# month ago}other{# months ago}",F:"one{in # month}other{in # months}"},SHORT:{R:{"-1":"last mo.",0:"this mo.",1:"next mo."},P:"one{# mo. ago}other{# mo. ago}",F:"one{in # mo.}other{in # mo.}"}},QUARTER:{LONG:{R:{"-1":"last quarter",0:"this quarter",1:"next quarter"},P:"one{# quarter ago}other{# quarters ago}",F:"one{in # quarter}other{in # quarters}"},SHORT:{R:{"-1":"last qtr.",0:"this qtr.",1:"next qtr."},P:"one{# qtr. ago}other{# qtrs. ago}",
F:"one{in # qtr.}other{in # qtrs.}"}},SECOND:{LONG:{R:{0:"now"},P:"one{# second ago}other{# seconds ago}",F:"one{in # second}other{in # seconds}"},SHORT:{R:{0:"now"},P:"one{# sec. ago}other{# sec. ago}",F:"one{in # sec.}other{in # sec.}"}},WEEK:{LONG:{R:{"-1":"last week",0:"this week",1:"next week"},P:"one{# week ago}other{# weeks ago}",F:"one{in # week}other{in # weeks}"},SHORT:{R:{"-1":"last wk.",0:"this wk.",1:"next wk."},P:"one{# wk. ago}other{# wk. ago}",F:"one{in # wk.}other{in # wk.}"}},YEAR:{LONG:{R:{"-1":"last year",
0:"this year",1:"next year"},P:"one{# year ago}other{# years ago}",F:"one{in # year}other{in # years}"},SHORT:{R:{"-1":"last yr.",0:"this yr.",1:"next yr."},P:"one{# yr. ago}other{# yr. ago}",F:"one{in # yr.}other{in # yr.}"}}};var Lt=function(a){I(E(void 0)||E(Kt),"goog.i18n.RelativeDateTimeSymbols or explicit symbols must be defined");this.alwaysNumeric_=!0;a&&(I("always"==a||"auto"==a,"Invalid opt_numeric value"),"always"==a?this.alwaysNumeric_=!0:"auto"==a&&(this.alwaysNumeric_=!1));this.style_=0;this.rdtfSymbols_=Kt};
Lt.prototype.format=function(a,b){qb(a,"Quantity must be a number");I(0<=b&&7>=b,"Unit must be one of the supported values");var c=Mt(this,b),d=a.toString(),e=this.alwaysNumeric_;if(6==b||5==b)e=!0;!e&&c&&c.R&&c.R[d]?a=c.R[d]:c?(b=Math.abs(a),a=(new wt("{N,plural,"+(0<a||0==a&&Infinity==1/a?c.F:c.P)+"}")).format({N:b})):a="";return a};
var Mt=function(a,b){b=Nt(a,b);ub(b);a:switch(a.style_){case 2:if(void 0!=b.NARROW){a=b.NARROW;break a}case 1:if(void 0!=b.SHORT){a=b.SHORT;break a}default:a=b.LONG}return a},Nt=function(a,b){switch(b){default:case 0:return a.rdtfSymbols_.YEAR;case 1:return a.rdtfSymbols_.QUARTER;case 2:return a.rdtfSymbols_.MONTH;case 3:return a.rdtfSymbols_.WEEK;case 4:return a.rdtfSymbols_.DAY;case 5:return a.rdtfSymbols_.HOUR;case 6:return a.rdtfSymbols_.MINUTE;case 7:return a.rdtfSymbols_.SECOND}};var Ot,Pt,Qt,Rt,St=function(a){Qt||(Qt=new Ls(Ts.MONTH_DAY_ABBR));return Qt.format(a)},Tt=function(a){var b=jb(),c=Math.floor((b-a)/6E4);b=!1;0>c&&(b=!0,c*=-1);if(60>c)return Rt(c,b,0);c=Math.floor(c/60);if(24>c)return Rt(c,b,1);c=new Date(jb());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Rt(c,b,2):""},Ut=function(a,b){var c=new Date(jb());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=(a-c.getTime())/
864E5;var d=c=Math.floor(c);c=new Lt("auto");c=Mt(c,4);"number"==typeof d&&(d=d.toString());c=c&&c.R&&c.R[d]?c.R[d]:void 0;if(void 0==c)c=null;else{d=1;var e=c.charCodeAt(0);55296<=e&&57343>=e&&(d=2);c=c.substring(0,d).toLocaleUpperCase()+c.substring(d)}return c?c:(b||St)(new Date(a))},Vt=function(a){var b=a.getTime(),c=Tt(b);c&&(c=" ("+c+")");1440>Math.floor((jb()-b)/6E4)?(Pt||(Pt=new Ls(7)),a=Pt.format(a)+c):(Ot||(Ot=new Ls(0)),a=Ot.format(a)+c);return a};
Rt=function(a,b,c){a=b?a:-a;b=new Lt;switch(c){case 0:c=6;break;case 1:c=5;break;default:case 2:c=4}return b.format(a,c)};var Wt=function(){this.relativeTimeStart_=jb()},Xt=null;Wt.prototype.set=function(a){this.relativeTimeStart_=a};Wt.prototype.reset=function(){this.set(jb())};Wt.prototype.get=function(){return this.relativeTimeStart_};var Yt=function(a){this.prefix_=a||"";Xt||(Xt=new Wt);this.startTimeProvider_=Xt};k=Yt.prototype;k.appendNewline=!0;k.showAbsoluteTime=!0;k.showRelativeTime=!0;k.showLoggerName=!0;k.showExceptionText=!1;k.showSeverityLevel=!1;var Zt=function(a){return 10>a?"0"+a:String(a)},$t=function(a,b){a=(a.time_-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},au=function(a){Yt.call(this,a)};G(au,Yt);
var bu=function(a,b){var c=[];c.push(a.prefix_," ");if(a.showAbsoluteTime){var d=new Date(b.time_);c.push("[",Zt(d.getFullYear()-2E3)+Zt(d.getMonth()+1)+Zt(d.getDate())+" "+Zt(d.getHours())+":"+Zt(d.getMinutes())+":"+Zt(d.getSeconds())+"."+Zt(Math.floor(d.getMilliseconds()/10)),"] ")}a.showRelativeTime&&c.push("[",$t(b,a.startTimeProvider_.get()),"s] ");a.showLoggerName&&c.push("[",b.loggerName_,"] ");a.showSeverityLevel&&c.push("[",b.getLevel().name,"] ");c.push(b.getMessage());a.showExceptionText&&
(b=b.exception_)&&c.push("\n",b instanceof Error?b.message:b.toString());a.appendNewline&&c.push("\n");return c.join("")};var cu=function(){this.publishHandler_=hb(this.addLogRecord,this);this.formatter_=new au;this.formatter_.showAbsoluteTime=!1;this.formatter_.showExceptionText=!1;this.isCapturing_=this.formatter_.appendNewline=!1;this.filteredLoggers_={}},eu=function(){var a=du;if(1!=a.isCapturing_){Fq();var b=Eq;var c=a.publishHandler_;b.handlers_||(b.handlers_=[]);b.handlers_.push(c);a.isCapturing_=!0}};
cu.prototype.addLogRecord=function(a){function b(f){if(f){if(f.value>=xq.value)return"error";if(f.value>=yq.value)return"warn";if(f.value>=Aq.value)return"log"}return"debug"}if(!this.filteredLoggers_[a.loggerName_]){var c=bu(this.formatter_,a),d=fu;if(d){var e=b(a.getLevel());gu(d,e,c,a.exception_)}}};var du=null,fu=D.console,gu=function(a,b,c,d){if(a[b])a[b](c,d||"");else a.log(c,d||"")};var hu=function(a){M.call(this);this.timer_=null;this.element_=a;a=Df||Ef||Hf&&!Xf("531")&&"TEXTAREA"==a.tagName;this.eventHandler_=new Om(this);this.eventHandler_.listen(this.element_,a?["keydown","paste","cut","drop","input"]:"input",this)};G(hu,M);
hu.prototype.handleEvent=function(a){if("input"==a.type)Df&&Xf(10)&&0==a.keyCode&&0==a.charCode||(iu(this),this.dispatchEvent(ju(a)));else if("keydown"!=a.type||Km(a)){var b="keydown"==a.type?this.element_.value:null;Df&&229==a.keyCode&&(b=null);var c=ju(a);iu(this);this.timer_=nn(function(){this.timer_=null;this.element_.value!=b&&this.dispatchEvent(c)},0,this)}};var iu=function(a){null!=a.timer_&&(on(a.timer_),a.timer_=null)},ju=function(a){a=new Xj(a.event_);a.type="input";return a};
hu.prototype.disposeInternal=function(){hu.superClass_.disposeInternal.call(this);this.eventHandler_.dispose();iu(this);delete this.element_};var ku={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",
93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"`",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};var lu={},mu=null,nu=function(a){a=eb(a);delete lu[a];rc(lu)&&mu&&mu.stop()},pu=function(){mu||(mu=new Qq(function(){ou()},20));var a=mu;a.isActive()||a.start()},ou=function(){var a=jb();hc(lu,function(b){b.cycle(a)});rc(lu)||pu()};var qu=function(a,b,c,d){Up.call(this);if(!Za(a)||!Za(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.startPoint=a;this.endPoint=b;this.duration=c;this.accel_=d;this.coords=[];this.useRightPositioningForRtl_=!1;this.progress=0;this.lastFrame=null};G(qu,Up);k=qu.prototype;
k.play=function(a){if(a||this.isStopped())this.progress=0,this.coords=this.startPoint;else if(1==this.state_)return!1;nu(this);this.startTime=a=jb();-1==this.state_&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.lastFrame=this.startTime;if(!this.progress)this.onBegin();this.dispatchAnimationEvent("play");-1==this.state_&&this.dispatchAnimationEvent("resume");this.state_=1;var b=eb(this);b in lu||(lu[b]=this);pu();this.cycle(a);return!0};
k.stop=function(a){nu(this);this.state_=0;a&&(this.progress=1);ru(this,this.progress);this.dispatchAnimationEvent("stop");this.onEnd()};k.pause=function(){1==this.state_&&(nu(this),this.state_=-1,this.dispatchAnimationEvent("pause"))};k.disposeInternal=function(){this.isStopped()||this.stop(!1);this.dispatchAnimationEvent("destroy");qu.superClass_.disposeInternal.call(this)};
k.cycle=function(a){qb(this.startTime);qb(this.endTime);qb(this.lastFrame);a<this.startTime&&(this.endTime=a+this.endTime-this.startTime,this.startTime=a);this.progress=(a-this.startTime)/(this.endTime-this.startTime);1<this.progress&&(this.progress=1);this.lastFrame=a;ru(this,this.progress);if(1==this.progress)this.state_=0,nu(this),this.dispatchAnimationEvent("finish"),this.onEnd();else if(1==this.state_)this.onAnimate()};
var ru=function(a,b){ab(a.accel_)&&(b=a.accel_(b));a.coords=Array(a.startPoint.length);for(var c=0;c<a.startPoint.length;c++)a.coords[c]=(a.endPoint[c]-a.startPoint[c])*b+a.startPoint[c]};qu.prototype.onAnimate=function(){this.dispatchAnimationEvent("animate")};qu.prototype.dispatchAnimationEvent=function(a){this.dispatchEvent(new su(a,this))};
var su=function(a,b){K.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.state=b.state_};G(su,K);var tu=function(a,b,c,d,e){qu.call(this,b,c,d,e);this.element=a};G(tu,qu);k=tu.prototype;k.updateStyle=Va;k.isRightToLeft=function(){E(this.rightToLeft_)||(this.rightToLeft_=ri(this.element));return this.rightToLeft_};k.onAnimate=function(){this.updateStyle();tu.superClass_.onAnimate.call(this)};k.onEnd=function(){this.updateStyle();tu.superClass_.onEnd.call(this)};k.onBegin=function(){this.updateStyle();tu.superClass_.onBegin.call(this)};
var uu=function(a,b,c,d,e){Pa(b)&&(b=[b]);Pa(c)&&(c=[c]);tu.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.lastOpacityUpdate_=-1};G(uu,tu);var vu=1/1024;k=uu.prototype;k.updateStyle=function(){var a=this.coords[0];Math.abs(a-this.lastOpacityUpdate_)>=vu&&(pi(this.element,a),this.lastOpacityUpdate_=a)};k.onBegin=function(){this.lastOpacityUpdate_=-1;uu.superClass_.onBegin.call(this)};k.onEnd=function(){this.lastOpacityUpdate_=-1;uu.superClass_.onEnd.call(this)};
k.show=function(){this.element.style.display=""};k.hide=function(){this.element.style.display="none"};var wu=function(a,b,c){uu.call(this,a,0,1,b,c)};G(wu,uu);wu.prototype.onBegin=function(){this.show();wu.superClass_.onBegin.call(this)};var xu={};
function yu(a){if(Df&&!Xf(9))return[0,0,0,0];var b=xu.hasOwnProperty(a)?xu[a]:null;if(b)return b;65536<Object.keys(xu).length&&(xu={});var c=[0,0,0,0];b=zu(a,/\\[0-9A-Fa-f]{6}\s?/g);b=zu(b,/\\[0-9A-Fa-f]{1,5}\s/g);b=zu(b,/\\./g);b=b.replace(/:not\(([^\)]*)\)/g,"     $1 ");b=b.replace(/{[^]*/gm,"");b=Au(b,c,/(\[[^\]]+\])/g,2);b=Au(b,c,/(#[^\#\s\+>~\.\[:]+)/g,1);b=Au(b,c,/(\.[^\s\+>~\.\[:]+)/g,2);b=Au(b,c,/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,3);b=Au(b,c,/(:[\w-]+\([^\)]*\))/gi,2);
b=Au(b,c,/(:[^\s\+>~\.\[:]+)/g,2);b=b.replace(/[\*\s\+>~]/g," ");b=b.replace(/[#\.]/g," ");Au(b,c,/([^\s\+>~\.\[:]+)/g,3);b=c;return xu[a]=b}function Au(a,b,c,d){return a.replace(c,function(e){b[d]+=1;return Array(e.length+1).join(" ")})}function zu(a,b){return a.replace(b,function(c){return Array(c.length+1).join("A")})};var Bu={"* ARIA-CHECKED":!0,"* ARIA-COLCOUNT":!0,"* ARIA-COLINDEX":!0,"* ARIA-DESCRIBEDBY":!0,"* ARIA-DISABLED":!0,"* ARIA-GOOG-EDITABLE":!0,"* ARIA-LABEL":!0,"* ARIA-LABELLEDBY":!0,"* ARIA-MULTILINE":!0,"* ARIA-MULTISELECTABLE":!0,"* ARIA-ORIENTATION":!0,"* ARIA-PLACEHOLDER":!0,"* ARIA-READONLY":!0,"* ARIA-REQUIRED":!0,"* ARIA-ROLEDESCRIPTION":!0,"* ARIA-ROWCOUNT":!0,"* ARIA-ROWINDEX":!0,"* ARIA-SELECTED":!0,"* ABBR":!0,"* ACCEPT":!0,"* ACCESSKEY":!0,"* ALIGN":!0,"* ALT":!0,"* AUTOCOMPLETE":!0,"* AXIS":!0,
"* BGCOLOR":!0,"* BORDER":!0,"* CELLPADDING":!0,"* CELLSPACING":!0,"* CHAROFF":!0,"* CHAR":!0,"* CHECKED":!0,"* CLEAR":!0,"* COLOR":!0,"* COLSPAN":!0,"* COLS":!0,"* COMPACT":!0,"* COORDS":!0,"* DATETIME":!0,"* DIR":!0,"* DISABLED":!0,"* ENCTYPE":!0,"* FACE":!0,"* FRAME":!0,"* HEIGHT":!0,"* HREFLANG":!0,"* HSPACE":!0,"* ISMAP":!0,"* LABEL":!0,"* LANG":!0,"* MAX":!0,"* MAXLENGTH":!0,"* METHOD":!0,"* MULTIPLE":!0,"* NOHREF":!0,"* NOSHADE":!0,"* NOWRAP":!0,"* OPEN":!0,"* READONLY":!0,"* REQUIRED":!0,
"* REL":!0,"* REV":!0,"* ROLE":!0,"* ROWSPAN":!0,"* ROWS":!0,"* RULES":!0,"* SCOPE":!0,"* SELECTED":!0,"* SHAPE":!0,"* SIZE":!0,"* SPAN":!0,"* START":!0,"* SUMMARY":!0,"* TABINDEX":!0,"* TITLE":!0,"* TYPE":!0,"* VALIGN":!0,"* VALUE":!0,"* VSPACE":!0,"* WIDTH":!0},Cu={"* USEMAP":!0,"* ACTION":!0,"* CITE":!0,"* HREF":!0,"* LONGDESC":!0,"* SRC":!0,"LINK HREF":!0,"* FOR":!0,"* HEADERS":!0,"* NAME":!0,"A TARGET":!0,"* CLASS":!0,"* ID":!0,"* STYLE":!0};var Du={rgb:!0,rgba:!0,alpha:!0,rect:!0,image:!0,"linear-gradient":!0,"radial-gradient":!0,"repeating-linear-gradient":!0,"repeating-radial-gradient":!0,"cubic-bezier":!0,matrix:!0,perspective:!0,rotate:!0,rotate3d:!0,rotatex:!0,rotatey:!0,steps:!0,rotatez:!0,scale:!0,scale3d:!0,scalex:!0,scaley:!0,scalez:!0,skew:!0,skewx:!0,skewy:!0,translate:!0,translate3d:!0,translatex:!0,translatey:!0,translatez:!0},Eu=/[\n\f\r"'()*<>]/g,Fu={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29",
"*":"%2a","<":"%3c",">":"%3e"};function Gu(a){return I(Fu[a])}var Hu=function(a,b,c){b=$c(b);if(""==b)return null;if(0==ad("url(",b.substr(0,4)))return!b.endsWith(")")||1<(b?b.split("(").length-1:0)||1<(b?b.split(")").length-1:0)||!c?b=null:b=c?(b=c(Ie(b.substring(4,b.length-1),"\"'"),a))&&"about:invalid#zClosurez"!=qd(b)?'url("'+qd(b).replace(Eu,Gu)+'")':null:null,b;if(0<b.indexOf("(")){if(/"|'/.test(b))return null;for(a=/([\-\w]+)\(/g;c=a.exec(b);)if(!(c[1]in Du))return null}return b};function Iu(a,b){a=D[a];return a&&a.prototype?(b=Object.getOwnPropertyDescriptor(a.prototype,b))&&b.get||null:null}function Ju(a,b){return(a=D[a])&&a.prototype&&a.prototype[b]||null}
var Ku=Iu("Element","attributes")||Iu("Node","attributes"),Lu=Ju("Element","hasAttribute"),Mu=Ju("Element","getAttribute"),Nu=Ju("Element","setAttribute"),Ou=Ju("Element","removeAttribute"),Pu=Ju("Element","getElementsByTagName"),Qu=Ju("Element","matches")||Ju("Element","msMatchesSelector"),Ru=Iu("Node","nodeName"),Su=Iu("Node","nodeType"),Tu=Iu("Node","parentNode"),Uu=Iu("HTMLElement","style")||Iu("Element","style"),Vu=Iu("HTMLStyleElement","sheet"),Wu=Ju("CSSStyleDeclaration","getPropertyValue"),
Xu=Ju("CSSStyleDeclaration","setProperty");function Yu(a,b,c,d){if(a)return a.apply(b);a=b[c];if(!d(a))throw Error("Clobbering detected");return a}function Zu(a,b,c,d){if(a)return a.apply(b,d);if(Df&&10>document.documentMode){if(!b[c].call)throw Error("IE Clobbering detected");}else if("function"!=typeof b[c])throw Error("Clobbering detected");return b[c].apply(b,d)}function $u(a){return Yu(Ku,a,"attributes",function(b){return b instanceof NamedNodeMap})}
function av(a,b,c){try{Zu(Nu,a,"setAttribute",[b,c])}catch(d){if(-1==d.message.indexOf("A security problem occurred"))throw d;}}function bv(a){cv(a);return Yu(Uu,a,"style",function(b){return b instanceof CSSStyleDeclaration})}function cv(a){if(!(a instanceof HTMLElement))throw Error("Not an HTMLElement");}function dv(a){cv(a);return Yu(Vu,a,"sheet",function(b){return b instanceof CSSStyleSheet})}function ev(a){return Yu(Ru,a,"nodeName",function(b){return"string"==typeof b})}
function fv(a){return Yu(Su,a,"nodeType",function(b){return"number"==typeof b})}function gv(a){return Yu(Tu,a,"parentNode",function(b){return!(b&&"string"==typeof b.name&&b.name&&"parentnode"==b.name.toLowerCase())})}function hv(a,b){return Zu(Wu,a,a.getPropertyValue?"getPropertyValue":"getAttribute",[b])||""}function iv(a,b,c){Zu(Xu,a,a.setProperty?"setProperty":"setAttribute",[b,c])};var jv=Df&&10>document.documentMode?null:/\s*([^\s'",]+[^'",]*(('([^'\r\n\f\\]|\\[^])*')|("([^"\r\n\f\\]|\\[^])*")|[^'",])*)/g,kv={"-webkit-border-horizontal-spacing":!0,"-webkit-border-vertical-spacing":!0},nv=function(a,b,c){var d=[];a=lv(Qb(a.cssRules));Cb(a,function(e){if(b&&!/[a-zA-Z][\w-:\.]*/.test(b))throw Error("Invalid container id");if(!(b&&Df&&10==document.documentMode&&/\\['"]/.test(e.selectorText))){var f=b?e.selectorText.replace(jv,"#"+b+" $1"):e.selectorText;d.push(Pd(f,mv(e.style,
c)))}});return Rd(d)},lv=function(a){return Eb(a,function(b){return b instanceof CSSStyleRule||b.type==CSSRule.STYLE_RULE})},pv=function(a,b,c){a=ov("<style>"+a+"</style>");return null==a||null==a.sheet?Sd:nv(a.sheet,void 0!=b?b:null,c)},ov=function(a){if(Df&&!Xf(10)||"function"!=typeof D.DOMParser)return null;a=oe(Gc("Never attached to DOM."),"<html><head></head><body>"+a+"</body></html>");return(new DOMParser).parseFromString(ae(a),"text/html").body.children[0]},mv=function(a,b){if(!a)return Cd;
var c=document.createElement("div").style,d=qv(a);Cb(d,function(e){var f=Hf&&e in kv?e:e.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/i,"");Yc(f,"--")||Yc(f,"var")||(e=hv(a,e),e=Hu(f,e,b),null!=e&&iv(c,f,e))});return pe(c.cssText||"")},sv=function(a){var b=Array.from(Zu(Pu,a,"getElementsByTagName",["STYLE"])),c=$b(b,function(e){return Qb(dv(e).cssRules)});c=lv(c);c.sort(function(e,f){e=yu(e.selectorText);a:{f=yu(f.selectorText);for(var g=Math.min(e.length,f.length),h=
0;h<g;h++){var l=Xb(e[h],f[h]);if(0!=l){e=l;break a}}e=Xb(e.length,f.length)}return-e});a=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,null,!1);for(var d;d=a.nextNode();)Cb(c,function(e){Zu(Qu,d,d.matches?"matches":"msMatchesSelector",[e.selectorText])&&e.style&&rv(d,e.style)});Cb(b,wh)},rv=function(a,b){var c=qv(a.style),d=qv(b);Cb(d,function(e){if(!(0<=c.indexOf(e))){var f=hv(b,e);iv(a.style,e,f)}})},qv=function(a){$a(a)?a=Qb(a):(a=nc(a),Ob(a,"cssText"));return a};var tv="undefined"!=typeof WeakMap&&-1!=WeakMap.toString().indexOf("[native code]"),uv=0,vv=function(){this.keys_=[];this.values_=[];this.dataAttributeName_="data-elementweakmap-index-"+uv++};vv.prototype.set=function(a,b){if(Zu(Lu,a,"hasAttribute",[this.dataAttributeName_])){var c=parseInt(Zu(Mu,a,"getAttribute",[this.dataAttributeName_])||null,10);this.values_[c]=b}else c=this.values_.push(b)-1,av(a,this.dataAttributeName_,c.toString()),this.keys_.push(a);return this};
vv.prototype.get=function(a){if(Zu(Lu,a,"hasAttribute",[this.dataAttributeName_]))return a=parseInt(Zu(Mu,a,"getAttribute",[this.dataAttributeName_])||null,10),this.values_[a]};vv.prototype.clear=function(){this.keys_.forEach(function(a){Zu(Ou,a,"removeAttribute",[this.dataAttributeName_])},this);this.keys_=[];this.values_=[]};var wv=Gq("goog.html.sanitizer.SafeDomTreeProcessor"),xv=!Df||Zf(10),yv=function(){};
yv.prototype.processToTree=function(a){if(!xv)return oh("SPAN");var b=oh("SPAN");this.currentStyleContainerId_&&"*"==this.styleContainerId_&&(b.id=this.currentStyleContainerId_);this.inlineStyleRules_&&(a=ov("<div>"+a+"</div>"),I(a,"Older browsers that don't support inert parsing should not get to this branch"),sv(a),a=a.innerHTML);a=oe(Gc("Never attached to DOM."),a);var c=document.createElement("template");if("content"in c)te(c,a),c=c.content;else{var d=document.implementation.createHTMLDocument("x");
c=d.body;te(d.body,a)}a=document.createTreeWalker(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1);for(c=tv?new WeakMap:new vv;d=a.nextNode();){a:{var e=d;var f=fv(e);switch(f){case 3:e=this.createTextNode(e);break a;case 1:1==fv(e)||pb("Expected Node of type Element but got Node of type %s",fv(e));if("TEMPLATE"==ev(e).toUpperCase())e=null;else{f=ev(e).toUpperCase();if(f in this.tagBlacklist_)var g=null;else this.tagWhitelist_[f]?g=document.createElement(f):(g=oh("SPAN"),this.shouldAddOriginalTagNames_&&
av(g,"data-sanitizer-original-tag",f.toLowerCase()));if(g){var h=g,l=$u(e);if(null!=l)for(var m=0;f=l[m];m++)if(f.specified){var n=e;var p=f;var r=p.name;if(Yc(r,"data-sanitizer-"))p=null;else{var w=ev(n);p=p.value;var v={tagName:$c(w).toLowerCase(),attributeName:$c(r).toLowerCase()},A={cssStyle:void 0};"style"==v.attributeName&&(A.cssStyle=bv(n));n=zv(w,r);n in this.attributeHandlers_?(r=this.attributeHandlers_[n],p=r(p,v,A)):(r=zv(null,r),r in this.attributeHandlers_?(r=this.attributeHandlers_[r],
p=r(p,v,A)):p=null)}null===p||av(h,f.name,p)}e=g}else e=null}break a;default:wv&&wv.log(yq,"Dropping unknown node type: "+f,void 0),e=null}}if(e){if(1==fv(e)&&c.set(d,e),d=gv(d),f=!1,d)g=fv(d),h=ev(d).toLowerCase(),l=gv(d),11!=g||l?"body"==h&&l&&(g=gv(l))&&!gv(g)&&(f=!0):f=!0,g=null,f||!d?g=b:1==fv(d)&&(g=c.get(d)),g.content&&(g=g.content),g.appendChild(e)}else sh(d)}c.clear&&c.clear();return b};var Av={APPLET:!0,AUDIO:!0,BASE:!0,BGSOUND:!0,EMBED:!0,FORM:!0,IFRAME:!0,ISINDEX:!0,KEYGEN:!0,LAYER:!0,LINK:!0,META:!0,OBJECT:!0,SCRIPT:!0,SVG:!0,STYLE:!0,TEMPLATE:!0,VIDEO:!0};var Bv={A:!0,ABBR:!0,ACRONYM:!0,ADDRESS:!0,AREA:!0,ARTICLE:!0,ASIDE:!0,B:!0,BDI:!0,BDO:!0,BIG:!0,BLOCKQUOTE:!0,BR:!0,BUTTON:!0,CAPTION:!0,CENTER:!0,CITE:!0,CODE:!0,COL:!0,COLGROUP:!0,DATA:!0,DATALIST:!0,DD:!0,DEL:!0,DETAILS:!0,DFN:!0,DIALOG:!0,DIR:!0,DIV:!0,DL:!0,DT:!0,EM:!0,FIELDSET:!0,FIGCAPTION:!0,FIGURE:!0,FONT:!0,FOOTER:!0,FORM:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HEADER:!0,HGROUP:!0,HR:!0,I:!0,IMG:!0,INPUT:!0,INS:!0,KBD:!0,LABEL:!0,LEGEND:!0,LI:!0,MAIN:!0,MAP:!0,MARK:!0,MENU:!0,METER:!0,NAV:!0,
NOSCRIPT:!0,OL:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,P:!0,PRE:!0,PROGRESS:!0,Q:!0,S:!0,SAMP:!0,SECTION:!0,SELECT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,STYLE:!0,SUB:!0,SUMMARY:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TEXTAREA:!0,TFOOT:!0,TH:!0,THEAD:!0,TIME:!0,TR:!0,TT:!0,U:!0,UL:!0,VAR:!0,WBR:!0};var Fv=function(a){a=a||new Cv;Dv(a);this.attributeHandlers_=vc(a.attributeWhitelist_);this.tagBlacklist_=vc(a.tagBlacklist_);this.tagWhitelist_=vc(a.tagWhitelist_);this.shouldAddOriginalTagNames_=a.shouldAddOriginalTagNames_;Cb(a.dataAttributeWhitelist_,function(b){if(!Yc(b,"data-"))throw new nb('Only "data-" attributes allowed, got: %s.',[b]);if(Yc(b,"data-sanitizer-"))throw new nb('Attributes with "%s" prefix are not allowed, got: %s.',["data-sanitizer-",b]);this.attributeHandlers_["* "+b.toUpperCase()]=
Ev},this);this.networkRequestUrlPolicy_=a.networkRequestUrlPolicy_;this.styleContainerId_=a.styleContainerId_;this.currentStyleContainerId_=null;this.inlineStyleRules_=a.inlineStyleRules_};G(Fv,yv);
var Gv=function(a){return function(b,c){return(b=a($c(b),c))&&"about:invalid#zClosurez"!=qd(b)?qd(b):null}},Cv=function(){this.attributeWhitelist_={};Cb([Bu,Cu],function(a){Cb(nc(a),function(b){this.attributeWhitelist_[b]=Ev},this)},this);this.attributeOverrideList_={};this.dataAttributeWhitelist_=[];this.tagBlacklist_=vc(Av);this.tagWhitelist_=vc(Bv);this.shouldAddOriginalTagNames_=!1;this.urlPolicy_=wd;this.sanitizeInlineCssPolicy_=this.tokenPolicy_=this.namePolicy_=this.networkRequestUrlPolicy_=
dc;this.styleContainerId_=null;this.policiesInstalled_=this.inlineStyleRules_=!1},Hv=function(a,b){Rb(a.dataAttributeWhitelist_,b);return a},Jv=function(a){a.sanitizeInlineCssPolicy_=Iv;return a},Lv=function(){var a=Kv();a.tagWhitelist_={SPAN:!0};Cb(["EM","SUB","SUP","STRIKE","I"],function(b){b=b.toUpperCase();if(Bv[b])this.tagWhitelist_[b]=!0;else throw Error("Only whitelisted tags can be allowed. See goog.html.sanitizer.TagWhitelist.");},a);return a},Mv=function(a,b){a.networkRequestUrlPolicy_=
b;return a},Kv=function(){var a=Nv(Mv(new Cv,Ov),Pv);a.namePolicy_=Qv;return a},Nv=function(a,b){a.tokenPolicy_=b;return a},Rv=function(a,b){return function(c,d,e,f){c=a(c,d,e,f);return null==c?null:b(c,d,e,f)}},Sv=function(a,b,c,d){a[c]&&!b[c]&&(a[c]=Rv(a[c],d))};Cv.prototype.build=function(){return new Fv(this)};
var Dv=function(a){if(a.policiesInstalled_)throw Error("HtmlSanitizer.Builder.build() can only be used once.");Sv(a.attributeWhitelist_,a.attributeOverrideList_,"* USEMAP",Tv);var b=Gv(a.urlPolicy_);Cb(["* ACTION","* CITE","* HREF"],function(d){Sv(this.attributeWhitelist_,this.attributeOverrideList_,d,b)},a);var c=Gv(a.networkRequestUrlPolicy_);Cb(["* LONGDESC","* SRC","LINK HREF"],function(d){Sv(this.attributeWhitelist_,this.attributeOverrideList_,d,c)},a);Cb(["* FOR","* HEADERS","* NAME"],function(d){Sv(this.attributeWhitelist_,
this.attributeOverrideList_,d,ib(Uv,this.namePolicy_))},a);Sv(a.attributeWhitelist_,a.attributeOverrideList_,"A TARGET",ib(Vv,["_blank","_self"]));Sv(a.attributeWhitelist_,a.attributeOverrideList_,"* CLASS",ib(Wv,a.tokenPolicy_));Sv(a.attributeWhitelist_,a.attributeOverrideList_,"* ID",ib(Xv,a.tokenPolicy_));Sv(a.attributeWhitelist_,a.attributeOverrideList_,"* STYLE",ib(a.sanitizeInlineCssPolicy_,c));a.policiesInstalled_=!0},zv=function(a,b){a||(a="*");return(a+" "+b).toUpperCase()},Iv=function(a,
b,c,d){if(!d.cssStyle)return null;b=Bd(mv(d.cssStyle,function(e,f){c.cssProperty=f;e=a(e,c);null==e?e=null:(f=Gc("HtmlSanitizerPolicy created with networkRequestUrlPolicy_ when installing '* STYLE' handler."),rb(Fc(f),"must provide justification"),I(!Zc(Fc(f)),"must provide non-empty justification"),e=td(e));return e}));return""==b?null:b},Ev=function(a){return $c(a)},Vv=function(a,b){b=$c(b);return Nb(a,b.toLowerCase())?b:null},Tv=function(a){return(a=$c(a))&&"#"==a.charAt(0)?a:null},Uv=function(a,
b,c){return a($c(b),c)},Wv=function(a,b,c){b=b.split(/(?:\s+)/);for(var d=[],e=0;e<b.length;e++){var f=a(b[e],c);f&&d.push(f)}return 0==d.length?null:d.join(" ")},Xv=function(a,b,c){return a($c(b),c)};
Fv.prototype.sanitize=function(a){this.currentStyleContainerId_=Yv(this);if(xv){a=this.processToTree(a);if(0<$u(a).length){var b=oh("SPAN");b.appendChild(a);a=b}a=(new XMLSerializer).serializeToString(a);a=a.slice(a.indexOf(">")+1,a.lastIndexOf("</"))}else a="";return oe(Gc("Output of HTML sanitizer"),a)};
var Zv=function(a,b){a.currentStyleContainerId_=Yv(a);return yv.prototype.processToTree.call(a,b)},Yv=function(a){var b=!("STYLE"in a.tagBlacklist_)&&"STYLE"in a.tagWhitelist_;return"*"==a.styleContainerId_&&b?"sanitizer-"+Pe():a.styleContainerId_};
Fv.prototype.createTextNode=function(a){var b=a.data;(a=gv(a))&&"style"==ev(a).toLowerCase()&&!("STYLE"in this.tagBlacklist_)&&"STYLE"in this.tagWhitelist_&&(b=Qd(pv(b,this.currentStyleContainerId_,hb(function(c,d){return this.networkRequestUrlPolicy_(c,{cssProperty:d})},this))));return document.createTextNode(b)};var $v=function(a){return(new Cv).build().sanitize(a)};var bw=function(a){var b=aw;return function(){var c=this||D;c=c.closure_memoize_cache_||(c.closure_memoize_cache_={});var d=b(eb(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}},aw=function(a,b){a=[a];for(var c=b.length-1;0<=c;--c)a.push(typeof b[c],b[c]);return a.join("\x0B")};var cw=function(a){M.call(this);this.domHelper_=a||Zg();if(this.eventType_=this.getBrowserEventType_())this.eventKey_=nk(this.domHelper_.getDocument(),this.eventType_,hb(this.handleChange_,this))};G(cw,M);k=cw.prototype;k.getBrowserEventType_=bw(function(){var a=this.isSupported(),b="hidden"!=this.getHiddenPropertyName_();if(a){var c;b?c=((Th()||"")+"visibilitychange").toLowerCase():c="visibilitychange";a=c}else a=null;return a});k.getHiddenPropertyName_=bw(function(){return Uh("hidden",this.domHelper_.getDocument())});
k.getVisibilityStatePropertyName_=bw(function(){return Uh("visibilityState",this.domHelper_.getDocument())});k.isSupported=function(){return!!this.getHiddenPropertyName_()};k.getVisibilityState=function(){return this.isSupported()?this.domHelper_.getDocument()[this.getVisibilityStatePropertyName_()]:null};k.handleChange_=function(){var a=this.getVisibilityState();a=new dw(!!this.domHelper_.getDocument()[this.getHiddenPropertyName_()],a);this.dispatchEvent(a)};
k.disposeInternal=function(){vk(this.eventKey_);cw.superClass_.disposeInternal.call(this)};var dw=function(a,b){K.call(this,"visibilitychange");this.hidden=a;this.visibilityState=b};G(dw,K);var fw=function(a){a=ew(a);return Fb(a,function(b){return b.getContent()})},gw=function(a,b,c,d){this.string=a;this.startLineIndex=b;this.endContentIndex=c;this.endLineIndex=d};gw.prototype.getContent=function(){return this.string.substring(this.startLineIndex,this.endContentIndex)};var ew=function(a){for(var b=/\r\n|\r|\n/g,c=0,d,e=[];d=b.exec(a);)c=new gw(a,c,d.index,d.index+d[0].length),e.push(c),c=b.lastIndex;c<a.length&&(c=new gw(a,c,a.length,a.length),e.push(c));return e};var iw=function(a,b,c){this.position=null;c=c||"";if(a=hw(a,b)){var d=a.lineIndex+1;b=b-a.line.startLineIndex+1;this.position={line:d,column:b};c+=Ae(" at line %s column %s",d,b);b=a.line.getContent()+"\n"+(Ne(" ",b-1)+"^");c+="\n"+b}lb.call(this,c)};G(iw,lb);iw.prototype.name="ParseError";
var hw=function(a,b){a=ew(a);var c=Ib(a,function(d){return d.startLineIndex<=b&&d.endLineIndex>b});return Pa(c)?{line:a[c],lineIndex:c}:null},ow=function(a,b,c){function d(C){jw(C);I(null===v);v=C}function e(){if(null!=v){var C=v;v=null;return C}if(l>=a.length)return n;C=a.charAt(l++);jw(C);var J=!1;"\n"==C?J=!0:"\r"==C&&(l<a.length&&"\n"==a.charAt(l)&&l++,J=!0);return J?r:C}function f(){for(var C=l,J=null,L=e();L!=n;L=e())if('"'==L)if(J=l-1,L=e(),'"'==L)J=null;else{if(L==m||L==n||L==r){L==r&&d(L);
L==m&&(A=!0);break}if(b)return C='"'+a.substring(C,l),J=g(),J==p?(d(r),C):C+J;throw new iw(a,l-1,'Unexpected character "'+L+'" after quote mark');}if(null===J)if(b)J=a.length;else throw new iw(a,a.length-1,"Unexpected end of text after open quote");return a.substring(C,J).replace(/""/g,'"')}function g(){var C=l,J=A;A=!1;var L=e();if(L==w)return p;if(L==n||L==r)return J?(d(w),""):p;if('"'==L)return f();for(;;){if(L==n||L==r){d(L);break}if(L==m){A=!0;break}if('"'==L&&!b)throw new iw(a,l-1,"Unexpected quote mark");
L=e()}return(L==n?a.substring(C):a.substring(C,l-1)).replace(/[\r\n]+/g,"")}function h(){if(l>=a.length)return n;for(var C=[],J=g();J!=p;J=g())C.push(J);return C}var l=0,m=c||",";I(1==m.length,"Delimiter must be a single character.");I("\r"!=m&&"\n"!=c,"Cannot use newline or carriage return has delimiter.");var n=kw,p=lw,r=mw,w=nw,v=null,A=!1;c=[];for(var H=h();H!=n;H=h())c.push(H);return c},nw={},kw={},lw={},mw={},pw={EMPTY:nw,EOF:kw,EOR:lw,NEWLINE:mw},jw=function(a){F(a)?(rb(a),I(F(a)&&1==a.length,
"Should be a string of length 1 or a sentinel.")):I(oc(pw,a),"Should be a string of length 1 or a sentinel.")};var rw=function(a,b){return qw("GET",a,null,b).then(function(c){return c.responseText})},sw=function(a,b,c){return qw("POST",a,b,c).then(function(d){return d.responseText})},tw=function(a,b,c){return qw("POST",a,b,c).then(function(d){var e=d.responseText;c&&c.xssiPrefix&&(d=c.xssiPrefix,Yc(e,d)&&(e=e.substring(d.length)));return JSON.parse(e)})},qw=function(a,b,c,d){var e=d||{},f=e.xmlHttpFactory?hr(e.xmlHttpFactory):hr(fr);return Xk(new Ik(function(g,h){var l;try{f.open(a,b,!0)}catch(p){h(new uw("Error opening XHR: "+
p.message,b,f))}f.onreadystatechange=function(){if(4==f.readyState){D.clearTimeout(l);var p;!(p=cr(f.status))&&(p=0===f.status)&&(p=sl(b),p=!("http"==p||"https"==p||""==p));p?g(f):h(new vw(f.status,b,f))}};f.onerror=function(){h(new uw("Network error",b,f))};if(e.headers){for(var m in e.headers){var n=e.headers[m];null!=n&&f.setRequestHeader(m,n)}n=e.headers["Content-Type"]}m=D.FormData&&c instanceof D.FormData;"POST"!=a||void 0!==n||m||f.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");
e.withCredentials&&(f.withCredentials=e.withCredentials);e.responseType&&(f.responseType=e.responseType);e.mimeType&&f.overrideMimeType(e.mimeType);0<e.timeoutMs&&(l=D.setTimeout(function(){f.onreadystatechange=Va;f.abort();h(new ww(b,f))},e.timeoutMs));try{f.send(c)}catch(p){f.onreadystatechange=Va,D.clearTimeout(l),h(new uw("Error sending XHR: "+p.message,b,f))}}),function(g){g instanceof Hk&&f.abort();throw g;})},uw=function(a,b,c){lb.call(this,a+", url="+b);this.url=b;this.xhr=c};G(uw,lb);
uw.prototype.name="XhrError";var vw=function(a,b,c){uw.call(this,"Request Failed, status="+a,b,c);this.status=a};G(vw,uw);vw.prototype.name="XhrHttpError";var ww=function(a,b){uw.call(this,"Request timed out",a,b)};G(ww,uw);ww.prototype.name="XhrTimeoutError";var xw=function(a,b){I(0<a,"Initial value must be greater than zero.");I(b>=a,"Max value should be at least as large as initial value.");E(.1)&&I(!0,"Randomness factor should be between 0 and 1.");E(void 0)&&I(!1,"Backoff factor should be greater than 1");E(void 0)&&I(!1,"Decay factor should be greater than 1");this.initialValue_=a;this.maxValue_=b;this.currBaseValue_=this.currValue_=a;this.randomFactor_=.1;this.backoffFactor_=2};xw.prototype.reset=function(){this.currBaseValue_=this.currValue_=this.initialValue_};
xw.prototype.getValue=function(){return this.currValue_};var Cw=function(a){var b={},c=b.document||document,d=Pc(a),e=oh("SCRIPT"),f={script_:e,timeout_:void 0},g=new fl(yw,f),h=null,l=null!=b.timeout?b.timeout:5E3;0<l&&(h=window.setTimeout(function(){zw(e,!0);g.errback(new Aw(1,"Timeout reached for loading script "+d))},l),f.timeout_=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(zw(e,b.cleanupWhenDone||!1,h),g.callback(null))};e.onerror=function(){zw(e,!0,h);g.errback(new Aw(0,"Error while loading script "+
d))};f=b.attributes||{};zc(f,{type:"text/javascript",charset:"UTF-8"});eh(e,f);xe(e,a);Bw(c).appendChild(e)},Bw=function(a){var b=(a||document).getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement},yw=function(){if(this&&this.script_){var a=this.script_;a&&"SCRIPT"==a.tagName&&zw(a,!0,this.timeout_)}},zw=function(a,b,c){null!=c&&D.clearTimeout(c);a.onload=Va;a.onerror=Va;a.onreadystatechange=Va;b&&window.setTimeout(function(){wh(a)},0)},Aw=function(a,b){var c="Jsloader error (code #"+
a+")";b&&(c+=": "+b);lb.call(this,c);this.code=a};G(Aw,lb);var Dw=function(a,b){this.coordinate=a instanceof Tg?a:new Tg(a,b)};G(Dw,Rh);Dw.prototype.reposition=function(a,b,c,d){I(a);var e=Yg(a);var f=e.body;e=e.documentElement;e=new Tg(f.scrollLeft||e.scrollLeft,f.scrollTop||e.scrollTop);f=this.coordinate.x+e.x;e=this.coordinate.y+e.y;var g=Di(a);f-=g.x;e-=g.y;Fi(new Tg(f,e),a,b,c,null,null,d)};var Ew=function(a,b,c,d){Ii.call(this,a,b,c||d);(c||d)&&this.setLastResortOverflow(65|(d?32:132))};G(Ew,Ii);var Fw=function(a,b){Dw.call(this,a,b)};G(Fw,Dw);Fw.prototype.lastResortOverflow_=0;Fw.prototype.setLastResortOverflow=function(a){this.lastResortOverflow_=a};Fw.prototype.reposition=function(a,b,c,d){var e=ci(a);e=gi(e);var f=hh(Zg(a).document_);f=new Tg(this.coordinate.x+f.scrollLeft,this.coordinate.y+f.scrollTop);var g=b,h=Fi(f,a,g,c,e,10,d);if(0!=(h&496)){if(h&16||h&32)g^=4;if(h&64||h&128)g^=1;h=Fi(f,a,g,c,e,10,d);0!=(h&496)&&Fi(f,a,b,c,e,this.lastResortOverflow_,d)}};var Gw=function(){};var Hw=function(){};G(Hw,Gw);Hw.prototype.getCount=function(){var a=0;Kg(this.__iterator__(!0),function(b){rb(b);a++});return a};Hw.prototype.clear=function(){var a=Lg(this.__iterator__(!0)),b=this;Cb(a,function(c){b.remove(c)})};var Iw=function(a){this.storage_=a};G(Iw,Hw);var Jw=function(a){if(!a.storage_)return!1;try{return a.storage_.setItem("__sak","1"),a.storage_.removeItem("__sak"),!0}catch(b){return!1}};k=Iw.prototype;k.set=function(a,b){try{this.storage_.setItem(a,b)}catch(c){if(0==this.storage_.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};k.get=function(a){a=this.storage_.getItem(a);if(!F(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};
k.remove=function(a){this.storage_.removeItem(a)};k.getCount=function(){return this.storage_.length};k.__iterator__=function(a){var b=0,c=this.storage_,d=new Ig;d.next=function(){if(b>=c.length)throw Hg;var e=rb(c.key(b++));if(a)return e;e=c.getItem(e);if(!F(e))throw"Storage mechanism: Invalid value was encountered";return e};return d};k.clear=function(){this.storage_.clear()};k.key=function(a){return this.storage_.key(a)};var Mw=function(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return de(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(Kw,function(e,f,g,h,l){d.push(f);if(!g)return"";e="";h?(e="mailto:",g=h,h=""):(l||(e="http://"),(h=g.match(Lw))&&!jd(g,"(")?(g=h[1],h=h[2]):h="");b.href=e+g;d.push(ie("a",b,g));d.push(h);return""});return le(d)},
Lw=/^(.*?)([':;,\.?}\]\)!]+)$/,Kw=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi;var Nw=function(){};G(Nw,Nq);Wa(Nw);k=Nw.prototype;k.createDom=function(a){var b=this.getClassNames(a);b=a.getDomHelper().createDom("DIV","goog-inline-block "+b.join(" "),this.createButton(a.getContent(),a.getDomHelper()));this.setTooltip(b,a.getTooltip());return b};k.getAriaRole=function(){return"button"};k.getContentElement=function(a){return a&&a.firstChild&&a.firstChild.firstChild};
k.createButton=function(a,b){return b.createDom("DIV","goog-inline-block "+(this.getCssClass()+"-outer-box"),b.createDom("DIV","goog-inline-block "+(this.getCssClass()+"-inner-box"),a))};k.canDecorate=function(a){return"DIV"==a.tagName};
k.decorate=function(a,b){I(b);Ow(b,!0);Ow(b,!1);a:{var c=a.getDomHelper().getFirstElementChild(b);var d=this.getCssClass()+"-outer-box";if(c&&Dm(c,d)&&(c=a.getDomHelper().getFirstElementChild(c),d=this.getCssClass()+"-inner-box",c&&Dm(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.createButton(b.childNodes,a.getDomHelper()));Fm(b,["goog-inline-block",this.getCssClass()]);return Nw.superClass_.decorate.call(this,a,b)};k.getCssClass=function(){return"goog-custom-button"};
var Ow=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==$c(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};var Pw=function(a){var b=ep(a);b&&b.decorate(a);return b};var Qw=function(){this.ariaRole_="menubar"};G(Qw,rp);Wa(Qw);Qw.prototype.getCssClass=function(){return"goog-menubar"};Qw.prototype.getDefaultOrientation=function(){return"horizontal"};dp("goog-menubar",function(a,b){return new up(null,a?a:Qw.getInstance(),b)});var Rw=function(){};G(Rw,Nw);Wa(Rw);k=Rw.prototype;k.getContentElement=function(a){return Rw.superClass_.getContentElement.call(this,a&&a.firstChild)};k.decorate=function(a,b){var c=ah(document,"*","goog-menu",b)[0];if(c){qi(c,!1);qh(Yg(c).body,c);var d=new Pp;d.decorate(c);a.setMenu(d)}return Rw.superClass_.decorate.call(this,a,b)};
k.createButton=function(a,b){return Rw.superClass_.createButton.call(this,[this.createCaption(a,b),b.createDom("DIV","goog-inline-block "+(this.getCssClass()+"-dropdown"),"\u00a0")],b)};k.createCaption=function(a,b){return b.createDom("DIV","goog-inline-block "+(this.getCssClass()+"-caption"),a)};k.getCssClass=function(){return"goog-menu-button"};var Sw=function(a,b,c,d,e){Pq.call(this,a,c||Rw.getInstance(),d);this.setSupportedState(64,!0);this.menuPosition_=new Ew(null,9);b&&this.setMenu(b);this.menuMargin_=null;this.timer_=new mn(500);!cg&&!dg||Xf("533.17.9")||(this.isFocusablePopupMenu_=!0);this.menuRenderer_=e||Np.getInstance()};G(Sw,Pq);k=Sw.prototype;k.isFocusablePopupMenu_=!1;k.renderMenuAsSibling_=!1;k.selectFirstOnEnterOrSpace_=!1;
k.enterDocument=function(){Sw.superClass_.enterDocument.call(this);Tw(this,!0);this.menu_&&Uw(this,this.menu_,!0);ym(P(this),"haspopup",!!this.menu_)};k.exitDocument=function(){Sw.superClass_.exitDocument.call(this);Tw(this,!1);if(this.menu_){this.setOpen(!1);this.menu_.exitDocument();Uw(this,this.menu_,!1);var a=this.menu_.getElement();a&&wh(a)}};
k.disposeInternal=function(){Sw.superClass_.disposeInternal.call(this);this.menu_&&(this.menu_.dispose(),delete this.menu_);delete this.positionElement_;this.timer_.dispose()};k.handleMouseDown=function(a){Sw.superClass_.handleMouseDown.call(this,a);this.isActive()&&(this.setOpen(!this.isOpen(),a),this.menu_&&(a=this.isOpen(),this.menu_.mouseButtonPressed_=a))};k.handleMouseUp=function(a){Sw.superClass_.handleMouseUp.call(this,a);this.menu_&&!this.isActive()&&(this.menu_.mouseButtonPressed_=!1)};
k.performActionInternal=function(){this.setActive(!1);return!0};k.handleDocumentMouseDown=function(a){this.menu_&&this.menu_.isVisible()&&!this.containsElement(a.target)&&this.setOpen(!1)};k.containsElement=function(a){return a&&Bh(this.getElement(),a)||this.menu_&&this.menu_.containsElement(a)||!1};
k.handleKeyEventInternal=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.menu_&&this.menu_.isVisible()){var b=13==a.keyCode||32==a.keyCode,c=this.menu_.handleKeyEvent(a);return 27==a.keyCode||b?(this.setOpen(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.setOpen(!0,a),!0):!1};k.handleMenuAction=function(){this.setOpen(!1)};k.handleMenuBlur=function(){this.isActive()||this.setOpen(!1)};
k.handleBlur=function(a){this.isFocusablePopupMenu_||this.setOpen(!1);Sw.superClass_.handleBlur.call(this,a)};k.getMenu=function(){this.menu_||this.setMenu(new Pp(this.getDomHelper(),this.menuRenderer_));return this.menu_||null};
k.setMenu=function(a){var b=this.menu_;a!=b&&(b&&(this.setOpen(!1),this.inDocument_&&Uw(this,b,!1),delete this.menu_),this.inDocument_&&ym(P(this),"haspopup",!!a),a&&(this.menu_=a,a.setParent(this),a.setVisible(!1),b=this.isFocusablePopupMenu_,(a.allowAutoFocus_=b)&&a.setFocusable(!0),this.inDocument_&&Uw(this,a,!0)))};k.addItem=function(a){this.getMenu().addChild(a,!0)};k.removeItem=function(a){(a=this.getMenu().removeChild(a,!0))&&a.dispose()};
k.setVisible=function(a,b){(a=Sw.superClass_.setVisible.call(this,a,b))&&!this.isVisible()&&this.setOpen(!1);return a};k.setEnabled=function(a){Sw.superClass_.setEnabled.call(this,a);this.isEnabled()||this.setOpen(!1)};k.showMenu=function(){this.setOpen(!0)};
k.setOpen=function(a,b){Sw.superClass_.setOpen.call(this,a);if(this.menu_&&!!(this.state_&64)==a){if(a){if(!this.menu_.inDocument_)if(this.renderMenuAsSibling_){var c=this.getElement();(c=E(c.nextElementSibling)?c.nextElementSibling:zh(c.nextSibling))?yn(this.menu_,c):this.menu_.render(this.getElement().parentNode)}else this.menu_.render();this.viewportBox_=gi(this.getElement());this.buttonRect_=oi(this.getElement());Vw(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||
c&&this.selectFirstOnEnterOrSpace_?yp(this.menu_):this.menu_.setHighlightedIndex(-1)}else{this.setActive(!1);this.menu_.mouseButtonPressed_=!1;if(c=this.getElement())ym(c,"activedescendant",""),ym(c,"owns","");null!=this.originalSize_&&(this.originalSize_=void 0,(c=this.menu_.getElement())&&li(c,"",""))}this.menu_.setVisible(a,!1,b);this.isDisposed()||(b=this.getHandler(),c=a?b.listen:b.unlisten,c.call(b,this.getDomHelper().getDocument(),"mousedown",this.handleDocumentMouseDown,!0),this.isFocusablePopupMenu_&&
c.call(b,this.menu_,"blur",this.handleMenuBlur),c.call(b,this.timer_,"tick",this.onTick_),a?this.timer_.start():this.timer_.stop())}this.menu_&&this.menu_.getElement()&&P(this.menu_).removeAttribute(xm("hidden"))};
var Vw=function(a){if(a.menu_.inDocument_){var b=a.menuPosition_;a.menuPosition_.element=a.positionElement_||a.getElement();var c=a.menu_.getElement();a.menu_.isVisible()||(c.style.visibility="hidden",qi(c,!0));!a.originalSize_&&a.menuPosition_.getLastResortOverflow&&a.menuPosition_.lastResortOverflow_&32&&(a.originalSize_=ni(c));b.reposition(c,b.corner^1,a.menuMargin_,a.originalSize_);a.menu_.isVisible()||(qi(c,!1),c.style.visibility="visible")}};
Sw.prototype.onTick_=function(){var a=oi(this.getElement()),b=gi(this.getElement());var c=this.buttonRect_;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.viewportBox_,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.buttonRect_=a,this.viewportBox_=b,Vw(this))};
var Uw=function(a,b,c){var d=a.getHandler();c=c?d.listen:d.unlisten;c.call(d,b,"action",a.handleMenuAction);c.call(d,b,"close",a.handleCloseItem);c.call(d,b,"highlight",a.handleHighlightItem);c.call(d,b,"unhighlight",a.handleUnHighlightItem)},Tw=function(a,b){var c=a.getHandler();(b?c.listen:c.unlisten).call(c,a.getElement(),"keydown",a.handleKeyDownEvent_)};Sw.prototype.handleHighlightItem=function(a){(a=a.target.getElement())&&Ww(this,a)};
Sw.prototype.handleKeyDownEvent_=function(a){$o(this,32)&&this.getKeyEventTarget()&&this.menu_&&this.menu_.isVisible()&&a.stopPropagation()};Sw.prototype.handleUnHighlightItem=function(){if(!xp(this.menu_)){var a=this.getElement();I(a,"The menu button DOM element cannot be null.");ym(a,"activedescendant","");ym(a,"owns","")}};Sw.prototype.handleCloseItem=function(a){if(this.isOpen()&&a.target instanceof Kp){a=a.target;var b=a.getElement();a.isVisible()&&a.state_&2&&null!=b&&Ww(this,b)}};
var Ww=function(a,b){a=a.getElement();I(a,"The menu button DOM element cannot be null.");var c=zm(b,"activedescendant");b=Yg(b).getElementById(c)||b;b.id||(c=qn.getInstance(),b.id=rn(c));Am(a,b);ym(a,"owns",b.id)};dp("goog-menu-button",function(){return new Sw(null)});var Xw=function(a,b){Pp.call(this,a,b);this.allowAutoFocus_=!0;this.setFocusable(!0);this.setVisible(!1,!0);this.targets_=new Mg};G(Xw,Pp);k=Xw.prototype;k.toggleMode_=!1;k.shiftOverride_=!1;k.lastHide_=0;k.decorateInternal=function(a){Xw.superClass_.decorateInternal.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.getDomHelper().getElement(a),1)};
k.enterDocument=function(){Xw.superClass_.enterDocument.call(this);this.targets_.forEach(this.attachEvent_,this);var a=this.getHandler();a.listen(this,"action",this.onAction_);a.listen(this.getDomHelper().getDocument(),"mousedown",this.onDocClick,!0)};
k.attach=function(a,b){a&&this.targets_.containsKey(eb(a))||(a?(b={element_:a,targetCorner_:b,menuCorner_:void 0,eventType_:"mousedown",margin_:void 0},this.targets_.set(eb(a),b)):b=null,this.inDocument_&&this.attachEvent_(b),a=ib(this.onMenuKeyboardAction_,a),this.getElement()&&this.getHandler().listen(this.getElement(),"keydown",a))};
k.onMenuKeyboardAction_=function(a,b){if(27==b.keyCode)a.focus();else if(a=Bn(this,this.highlightedIndex_)){a=a.getElement();var c=new Xj(b.event_,a);c.target=a;if(32==b.keyCode||13==b.keyCode)ck(a)?Fk(a,"keydown",!1,c):xk(a,"keydown",!1,c);32==b.keyCode&&this.hide()}};k.attachEvent_=function(a){this.getHandler().listen(a.element_,a.eventType_,this.onTargetClick_);"contextmenu"!=a.eventType_&&this.getHandler().listen(a.element_,"keydown",this.onTargetKeyboardAction_)};
k.detach=function(a){if(!a||!this.targets_.containsKey(eb(a)))throw Error("Menu not attached to provided element, unable to detach.");a=eb(a);if(this.inDocument_){var b=this.targets_.get(a);this.getHandler().unlisten(b.element_,b.eventType_,this.onTargetClick_)}this.targets_.remove(a)};
var Yw=function(a,b,c,d){var e=a.isVisible();a.isOrWasRecentlyVisible()&&a.toggleMode_?a.hide():a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:8,e||(a.getElement().style.visibility="hidden"),qi(a.getElement(),!0),b.reposition(a.getElement(),c,d),e||(a.getElement().style.visibility="visible"),a.setHighlightedIndex(-1),a.setVisible(!0))};k=Xw.prototype;
k.showMenu=function(a,b,c){b=E(a.targetCorner_)?new Ii(a.element_,a.targetCorner_,!0):new Fw(b,c);b.setLastResortOverflow&&b.setLastResortOverflow(5);Yw(this,b,a.menuCorner_,a.margin_)};k.hide=function(){this.isVisible()&&(this.setVisible(!1),this.isVisible()||(this.lastHide_=jb()))};k.isOrWasRecentlyVisible=function(){return this.isVisible()||150>jb()-this.lastHide_};k.onAction_=function(){this.hide()};k.onTargetClick_=function(a){this.shiftOverride_&&a.shiftKey&&2==a.button||Zw(this,a)};
k.onTargetKeyboardAction_=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||Zw(this,a);40==a.keyCode&&yp(this)};var Zw=function(a,b){for(var c=a.targets_.getKeys(),d=0;d<c.length;d++){var e=a.targets_.get(c[d]);if(e.element_==b.currentTarget){a.showMenu(e,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};Xw.prototype.onDocClick=function(a){this.isVisible()&&!this.containsElement(a.target)&&this.hide()};
Xw.prototype.handleBlur=function(a){Xw.superClass_.handleBlur.call(this,a);this.hide()};Xw.prototype.disposeInternal=function(){Xw.superClass_.disposeInternal.call(this);this.targets_&&(this.targets_.clear(),delete this.targets_)};var $w=function(){this.classNameCache_=[]};G($w,Fp);Wa($w);$w.prototype.createDom=function(a){var b=$w.superClass_.createDom.call(this,a);I(b);Em(b,"goog-submenu");ax(this,a,b);return b};$w.prototype.decorate=function(a,b){b=$w.superClass_.decorate.call(this,a,b);I(b);Em(b,"goog-submenu");ax(this,a,b);var c=ah(document,"DIV","goog-menu",b);if(c.length){var d=new Pp(a.getDomHelper());c=c[0];qi(c,!1);a.getDomHelper().getDocument().body.appendChild(c);d.decorate(c);a.setMenu(d,!0)}return b};
$w.prototype.setContent=function(a,b){var c=this.getContentElement(a),d=c&&c.lastChild;$w.superClass_.setContent.call(this,a,b);d&&c.lastChild!=d&&Dm(d,"goog-submenu-arrow")&&c.appendChild(d)};
$w.prototype.initializeDom=function(a){$w.superClass_.initializeDom.call(this,a);var b=a.getContentElement(),c=a.getDomHelper().getElementsByTagNameAndClass("SPAN","goog-submenu-arrow",b)[0];bx(a,c);c!=b.lastChild&&b.appendChild(c);a=a.getElement();I(a,"The sub menu DOM element cannot be null.");ym(a,"haspopup","true")};
var ax=function(a,b,c){var d=b.getDomHelper().createDom("SPAN");d.className="goog-submenu-arrow";bx(b,d);a.getContentElement(c).appendChild(d)},bx=function(a,b){I(b);a.isRightToLeft()?(Em(b,"goog-submenu-arrow-rtl"),Ch(b,a.alignToEnd_?"\u25c4":"\u25ba")):(Gm(b,"goog-submenu-arrow-rtl"),Ch(b,a.alignToEnd_?"\u25ba":"\u25c4"))};var cx=function(a,b,c,d){Kp.call(this,a,b,c,d||$w.getInstance())};G(cx,Kp);k=cx.prototype;k.dismissTimer_=null;k.showTimer_=null;k.menuIsVisible_=!1;k.subMenu_=null;k.externalSubMenu_=!1;k.alignToEnd_=!0;k.isPositionAdjustable_=!1;k.enterDocument=function(){cx.superClass_.enterDocument.call(this);this.getHandler().listen(this.getParent(),"hide",this.onParentHidden_);this.subMenu_&&dx(this,this.subMenu_,!0)};
k.exitDocument=function(){this.getHandler().unlisten(this.getParent(),"hide",this.onParentHidden_);this.subMenu_&&(dx(this,this.subMenu_,!1),this.externalSubMenu_||(this.subMenu_.exitDocument(),wh(this.subMenu_.getElement())));cx.superClass_.exitDocument.call(this)};k.disposeInternal=function(){this.subMenu_&&!this.externalSubMenu_&&this.subMenu_.dispose();this.subMenu_=null;cx.superClass_.disposeInternal.call(this)};
k.setHighlighted=function(a){cx.superClass_.setHighlighted.call(this,a);a||(this.dismissTimer_&&on(this.dismissTimer_),this.dismissTimer_=nn(this.dismissSubMenu,218,this))};k.showSubMenu=function(){var a=this.getParent();a&&xp(a)==this&&(ex(this,!0),fx(this))};k.dismissSubMenu=function(){var a=this.subMenu_;a&&a.getParent()==this&&(ex(this,!1),zn(a,function(b){"function"==typeof b.dismissSubMenu&&b.dismissSubMenu()}))};var gx=function(a){a.dismissTimer_&&on(a.dismissTimer_);a.showTimer_&&on(a.showTimer_)};
cx.prototype.setVisible=function(a,b){(a=cx.superClass_.setVisible.call(this,a,b))&&!this.isVisible()&&this.dismissSubMenu();return a};var fx=function(a){zn(a.getParent(),function(b){b!=this&&"function"==typeof b.dismissSubMenu&&(b.dismissSubMenu(),gx(b))},a)};k=cx.prototype;
k.handleKeyEvent=function(a){var b=a.keyCode,c=this.isRightToLeft()?37:39,d=this.isRightToLeft()?39:37;if(!this.menuIsVisible_){if(!this.isEnabled()||b!=c&&b!=this.mnemonicKey_)return!1;this.showSubMenu();yp(this.getMenu());gx(this)}else if(!this.getMenu().handleKeyEvent(a))if(b==d)this.dismissSubMenu();else return!1;a.preventDefault();return!0};k.onChildEnter_=function(){this.subMenu_.getParent()==this&&(gx(this),this.getParentEventTarget().setHighlighted(this),fx(this))};
k.onParentHidden_=function(a){a.target==this.getParentEventTarget()&&(this.dismissSubMenu(),gx(this))};k.handleMouseOver=function(a){this.isEnabled()&&(gx(this),this.showTimer_=nn(this.showSubMenu,218,this));cx.superClass_.handleMouseOver.call(this,a)};k.performActionInternal=function(a){gx(this);if($o(this,8)||$o(this,16))return cx.superClass_.performActionInternal.call(this,a);this.showSubMenu();return!0};
var ex=function(a,b){!b&&a.getMenu()&&a.getMenu().setHighlightedIndex(-1);a.dispatchEvent(tn(64,b));var c=a.getMenu();b!=a.menuIsVisible_&&Im(I(a.getElement()),"goog-submenu-open",b);if(b!=c.isVisible()&&(b&&(c.inDocument_||c.render(),c.setHighlightedIndex(-1)),c.setVisible(b),b)){c=new Ii(a.getElement(),a.alignToEnd_?12:8,a.isPositionAdjustable_);var d=a.getMenu(),e=d.getElement();d.isVisible()||(e.style.visibility="hidden",qi(e,!0));c.reposition(e,a.alignToEnd_?8:12);d.isVisible()||(qi(e,!1),e.style.visibility=
"visible")}a.menuIsVisible_=b},dx=function(a,b,c){var d=a.getHandler();(c?d.listen:d.unlisten).call(d,b,"enter",a.onChildEnter_)};k=cx.prototype;k.addItem=function(a){this.getMenu().addChild(a,!0)};k.removeItem=function(a){(a=this.getMenu().removeChild(a,!0))&&a.dispose()};k.getItems=function(){return this.getMenu().getItems()};
k.getMenu=function(){this.subMenu_?this.externalSubMenu_&&this.subMenu_.getParent()!=this&&this.subMenu_.setParent(this):this.setMenu(new Pp(this.getDomHelper()),!0);this.subMenu_.getElement()||this.subMenu_.createDom();return this.subMenu_};
k.setMenu=function(a,b){var c=this.subMenu_;a!=c&&(c&&(this.dismissSubMenu(),this.inDocument_&&dx(this,c,!1)),this.subMenu_=a,this.externalSubMenu_=!b,a&&(a.setParent(this),a.setVisible(!1,!0),a.allowAutoFocus_=!1,a.setFocusable(!1),this.inDocument_&&dx(this,a,!0)))};k.containsElement=function(a){return this.getMenu().containsElement(a)};dp("goog-submenu",function(){return new cx(null)});var hx=function(){};G(hx,Uo);Wa(hx);k=hx.prototype;k.getAriaRole=function(){};k.decorate=function(a,b){ip(a,!1);a.autoStates_&=-256;a.setSupportedState(32,!1);hx.superClass_.decorate.call(this,a,b);a.setContent(b.value);return b};k.createDom=function(a){ip(a,!1);a.autoStates_&=-256;a.setSupportedState(32,!1);return a.getDomHelper().createDom("TEXTAREA",{"class":this.getClassNames(a).join(" "),disabled:!a.isEnabled()},a.getContent()||"")};k.canDecorate=function(a){return"TEXTAREA"==a.tagName};
k.setRightToLeft=Va;k.isFocusable=function(a){return a.isEnabled()};k.setFocusable=Va;k.setState=function(a,b,c){hx.superClass_.setState.call(this,a,b,c);(a=a.getElement())&&1==b&&(a.disabled=c)};k.updateAriaState=Va;k.setContent=function(a,b){a&&(a.value=b)};k.getCssClass=function(){return"goog-textarea"};var ix=function(a,b,c){gp.call(this,a,b||hx.getInstance(),c);ip(this,!1);this.setAllowTextSelection(!0);this.hasUserInput_=""!=a;a||(this.content_="")};G(ix,gp);var jx=!(Df&&!Zf(11));k=ix.prototype;k.isResizing_=!1;k.hasFocusForPlaceholder_=!1;k.hasUserInput_=!1;k.height_=0;k.maxHeight_=0;k.minHeight_=0;k.hasDiscoveredTextareaCharacteristics_=!1;k.needsPaddingBorderFix_=!1;k.scrollHeightIncludesPadding_=!1;k.scrollHeightIncludesBorder_=!1;k.placeholderText_="";
var lx=function(a,b){a.placeholderText_=b;a.getElement()&&kx(a)},mx=function(a){return a.paddingBox_.top+a.paddingBox_.bottom+a.borderBox_.top+a.borderBox_.bottom},nx=function(a){var b=a.minHeight_,c=a.getElement();b&&c&&a.needsPaddingBorderFix_&&(b-=mx(a));return b};k=ix.prototype;k.setValue=function(a){this.setContent(String(a))};k.getValue=function(){return this.getElement().value!=this.placeholderText_||ox(this)||this.hasUserInput_?this.getElement().value:""};
k.setContent=function(a){ix.superClass_.setContent.call(this,a);this.hasUserInput_=""!=a;this.resize()};k.setEnabled=function(a){ix.superClass_.setEnabled.call(this,a);this.getElement().disabled=!a};k.resize=function(){this.getElement()&&this.grow_()};
var ox=function(a){I(a.getElement());return"placeholder"in a.getElement()},kx=function(a){a.placeholderText_&&(ox(a)?a.getElement().placeholder=a.placeholderText_:!a.getElement()||a.hasUserInput_||a.hasFocusForPlaceholder_||(Em(I(a.getElement()),"textarea-placeholder-input"),a.getElement().value=a.placeholderText_))};
ix.prototype.enterDocument=function(){ix.superClass_.enterDocument.call(this);var a=this.getElement();Wh(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.paddingBox_=wi(a,"padding");this.borderBox_=zi(a);this.getHandler().listen(a,"scroll",this.grow_).listen(a,"focus",this.grow_).listen(a,"keyup",this.grow_).listen(a,"mouseup",this.mouseUpListener_).listen(a,"blur",this.blur_);kx(this);this.resize()};
ix.prototype.getHeight_=function(){if(!this.hasDiscoveredTextareaCharacteristics_){var a=this.getElement().cloneNode(!1);Wh(a,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});qh(this.getDomHelper().getDocument().body,a);var b=a.scrollHeight;a.style.padding="10px";var c=a.scrollHeight;this.scrollHeightIncludesPadding_=c>b;a.style.borderWidth="10px";this.scrollHeightIncludesBorder_=a.scrollHeight>c;a.style.height="100px";100!=a.offsetHeight&&
(this.needsPaddingBorderFix_=!0);wh(a);this.hasDiscoveredTextareaCharacteristics_=!0}a=this.getElement();isNaN(this.paddingBox_.top)&&(this.paddingBox_=wi(a,"padding"),this.borderBox_=zi(a));b=this.getElement().scrollHeight;var d=this.getElement();c=d.offsetHeight-d.clientHeight;if(!this.scrollHeightIncludesPadding_){var e=this.paddingBox_;c-=e.top+e.bottom}this.scrollHeightIncludesBorder_||(d=zi(d),c-=d.top+d.bottom);b+=0<c?c:0;this.needsPaddingBorderFix_?b-=mx(this):(this.scrollHeightIncludesPadding_||
(c=this.paddingBox_,b+=c.top+c.bottom),this.scrollHeightIncludesBorder_||(a=zi(a),b+=a.top+a.bottom));return b};var px=function(a,b){a.height_!=b&&(a.height_=b,a.getElement().style.height=b+"px")},qx=function(a){var b=a.getElement();b.style.height="auto";var c=b.value.match(/\n/g)||[];b.rows=c.length+1;a.height_=0};ix.prototype.blur_=function(){ox(this)||(this.hasFocusForPlaceholder_=!1,""==this.getElement().value&&(this.hasUserInput_=!1,kx(this)))};
ix.prototype.grow_=function(a){if(!this.isResizing_){var b=this.getElement();!ox(this)&&a&&"focus"==a.type&&(b.value==this.placeholderText_&&this.placeholderText_&&!this.hasFocusForPlaceholder_&&(Gm(b,"textarea-placeholder-input"),b.value=""),this.hasFocusForPlaceholder_=!0,this.hasUserInput_=""!=b.value);var c=!1;this.isResizing_=!0;a=this.height_;if(b.scrollHeight){var d=!1,e=!1,f=this.getHeight_(),g=b.offsetHeight,h=nx(this);var l=this.maxHeight_;var m=this.getElement();l&&m&&this.needsPaddingBorderFix_&&
(l-=mx(this));h&&f<h?(px(this,h),d=!0):l&&f>l?(px(this,l),b.style.overflowY="",e=!0):g!=f?px(this,f):this.height_||(this.height_=f);d||e||!jx||(c=!0)}else qx(this);this.isResizing_=!1;c&&(b=this.getElement(),this.isResizing_||(this.isResizing_=!0,(e=b.scrollHeight)?(f=this.getHeight_(),c=nx(this),c&&f<=c||(d=this.paddingBox_,b.style.paddingBottom=d.bottom+1+"px",this.getHeight_()==f&&(b.style.paddingBottom=d.bottom+e+"px",b.scrollTop=0,e=this.getHeight_()-e,e>=c?px(this,e):px(this,c)),b.style.paddingBottom=
d.bottom+"px")):qx(this),this.isResizing_=!1));a!=this.height_&&this.dispatchEvent("resize")}};ix.prototype.mouseUpListener_=function(){var a=this.getElement(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.height_&&(this.height_=this.minHeight_=b)};/*
 Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the Apache License, Version 2.0 (the "License"); you may not use
 this file except in compliance with the License. You may obtain a copy of the
 License at http://www.apache.org/licenses/LICENSE-2.0

 THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
 WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
 MERCHANTABLITY OR NON-INFRINGEMENT.

 See the Apache Version 2.0 License for specific language governing permissions
 and limitations under the License.
*/
var rx=!/^\s*class\s*\{\s*\}\s*$/.test(function(){}.toString());var sx=function(){this.port=this.iframe=null;this.deferredMessages=[]};sx.prototype.load=function(){var a=this,b=tx();this.iframe=ux(b);vx().then(function(){document.body.appendChild(a.iframe)});return wx(this.iframe).then(function(c){if(c.data===b)for(a.port=c.ports[0];0<a.deferredMessages.length;)c=a.deferredMessages.shift(),a.port.postMessage(c.data,c.transferables)})};
sx.prototype.exec=function(a,b){var c=this;return new Promise(function(d,e){var f=new MessageChannel;f.port1.onmessage=function(p){f.port1.onmessage=null;p=p.data;null!=p.error?e(new EvalError(p.error)):d(p.result)};for(var g=[],h=[],l=[],m=q(null!=b?b:[]),n=m.next();!n.done;n=m.next())n=n.value,g.push(n.name),h.push(n.value),n.transfer&&l.push(n.value);g={code:a,paramNames:g,values:h};c.port?c.port.postMessage(g,[f.port2].concat(ja(l))):c.deferredMessages.push({data:g,transferables:[f.port2].concat(ja(l))})})};
sx.prototype.dispose=function(){null!=this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null)};var tx=function(){var a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")};function wx(a){return new Promise(function(b){var c=function(d){d.source===a.contentWindow&&(window.removeEventListener("message",c),b(d))};window.addEventListener("message",c)})}
function ux(a){var b=oh("IFRAME");if(!("sandbox"in b))throw Error("iframe sandboxes not supported");b.sandbox="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads-without-user-activation")&&b.sandbox.add("allow-downloads-without-user-activation");var c=Kc(Gc('function(){var e=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}},f=function(a){if(!(a instanceof Array)){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=c?c.call(a):{next:e(a)};for(var d=[];!(c=a.next()).done;)d.push(c.value);a=d}return a},k=this||self,m=/^[\\w+/_-]+[=]{0,2}$/,n=null,p=function(){var a=k.document;return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&m.test(a)?a:""};var r=function(){this.b="";this.c=q},q={};r.prototype.a=function(a){this.b=a;return this};(new r).a("");var t=function(){};t.prototype.a=function(){return this};(new t).a("");var u=function(){};u.prototype.a=function(){return this};(new u).a("");var v=function(){};v.prototype.a=function(){return this};(new v).a("<!DOCTYPE html>");(new v).a("");(new v).a("<br>");var w={eval:function(a,c){for(var d=[],b=1;b<arguments.length;++b)d[b-1]=arguments[b];var l,g;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});b=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[b]={args:d,callback:function(h,x){l=h;g=x}};d=document.createElement("script");d.async=!1;d.text=\'"use strict";\\x0B(function(){var callback = evalCspCompatiblyData[\'+b+"].callback;delete evalCspCompatiblyData["+b+"];try{callback(true,("+(a instanceof r&&a.constructor===\nr&&a.c===q?a.b:"type_error:SafeScript").toString()+"\\n));}catch(ex){callback(false, ex);}}).apply(this, evalCspCompatiblyData["+b+"].args)";null===n&&(n=p());(b=n)&&d.setAttribute("nonce",b);b=function(h){l=!1;g=h.error||h};window.addEventListener("error",b);document.head.appendChild(d);window.removeEventListener("error",b);document.head.removeChild(d);if(!l)throw g;return g}};var y=arguments[0]||(new URL(location.href)).searchParams.get("nonce");function z(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(a){return!0}}\n(function(){if(!z())throw"sandboxing error";var a=new MessageChannel;a.port1.onmessage=function(c){try{var d=w.eval.apply(w,[(new r).a("(function("+c.data.paramNames.join(", ")+") {\\n"+c.data.code+"\\n}).apply(null, arguments)")].concat(f(c.data.values)));c.ports[0].postMessage({result:d})}catch(b){c.ports[0].postMessage({error:b.toString()})}};window.parent.postMessage(y,"*",[a.port2])})();}\n'),
a);a={nonce:Sa()};for(var d in a){var e=d.toLowerCase();if("language"==e||"src"==e||"text"==e||"type"==e)throw Error('Cannot set "'+e+'" attribute');}d="";c=Pb(c);for(e=0;e<c.length;e++)d+=Lc(c[e]);c=ce(d,0);a=he("script",a,c);a=le(me,ie("body",{},a));a=qe(Gc("data URL to be opened only in a sandbox"),"data:text/html;charset=UTF-8;base64,"+btoa(be(a)));we(b,a);b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";return b}
function vx(){return new Promise(function(a){"loading"!=document.readyState?a():mk(document,"DOMContentLoaded",function(){a()})})};var xx=function(){this.sandbox=new sx};xx.prototype.init=function(){return this.sandbox.load()};
xx.prototype.download=function(a,b,c){a=a instanceof Blob?a:new Blob([a],{type:void 0===c?"":c});return navigator.msSaveOrOpenBlob?(navigator.msSaveOrOpenBlob(a,b),yx()):this.sandbox.exec("\n      var url = URL.createObjectURL(blob);\n      var a = document.createElement('a');\n\n      if (!('download' in a)) {\n        throw new Error('Downloading not supported on this browser');\n      }\n\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n\n      setTimeout(function() {\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n      }, 250);\n    ",[{name:"blob",
value:a,transfer:!1},{name:"filename",value:b,transfer:!1}]).then(function(){return yx()})};xx.prototype.dispose=function(){this.sandbox.dispose()};function yx(){return new Promise(function(a){setTimeout(a,500)})};var zx=function(){this.provided_=D.colabExperiments||{};this.notFound_=[];this.declared_=new Map;this.string("jsraw")},Ax=function(a,b,c){var d=a.provided_[b];void 0==d&&(a.notFound_.push(b),d=c);a.declared_.set(b,d);return d},Cx=function(a,b){return!!Ax(Bx,a,void 0===b?!1:b)};zx.prototype.string=function(a,b){return String(Ax(this,a,void 0===b?"":b))};zx.prototype.number=function(a,b){return Number(Ax(this,a,void 0===b?0:b))};var Bx=new zx;Bx.string("debug_external");Bx.string("debug_prod");
var Dx=Bx.string("drive_api_key"),Ex=Bx.string("drive_anon_api_key"),Fx=Cx("show_switch_to_prod_link"),Gx=Bx.string("classroom_iframe_parent_origin"),Hx=Cx("local_service_worker"),Ix=Cx("verbose_warnings"),Jx=Cx("include_webcomponentsjs_lite"),Kx=Bx.string("service_account_access_token"),Lx=Cx("mobile",If),Mx=Cx("advanced_debugger"),Nx=Bx.string("runtime_status_bar","NONE"),Ox=Bx.number("rt_doc_size_limit",20971520),Px=Bx.number("hats_trigger_probability"),Qx=Bx.number("hats_num_buckets",1),Rx=Bx.string("hats_site_id"),
Sx=Cx("views"),Tx=Bx.string("autocomplete_new_declarations","NONE"),Ux=Cx("first_party_auth",!0),Vx=Cx("early_first_party_drive_install",!0),Wx=Cx("allow_gpu"),Xx=Cx("allow_tpu"),Yx=Bx.string("external_trusted_github_org_repos","googlecolab/colabtools").split(",");Bx.string("runtime_type_for_test");
var Zx=Cx("monaco",!0),$x=Cx("crawler"),ay=Cx("auto_scrolling_outputs",!0),by=Bx.number("comment_poll_short",6E4),cy=Bx.number("comment_poll_long",9E5),dy=Bx.number("document_change_poll_interval",3E4),ey=Cx("katex",!0),fy=Bx.number("resource_poll_interval_ms",6E4),gy=Bx.string("runtime_env_overrides",""),hy=Cx("server_execution_queue",!1),iy=Cx("warn_on_garbage",!1),jy=Cx("table_of_contents_selection_focuses_cell",!1),ky=Cx("monaco_vim",!0),ly=Cx("monaco_emacs",!0),my=Cx("polymer2",!1),ny=Cx("shadow_dom",
!1),oy=Cx("monaco_hover",!0),py=Bx.number("isolate_notebooks_bucket_limit",0),qy=Bx.number("high_memory_bucket_limit",0),ry=Cx("slow_complete_warning",!1);Bx.number("monaco_rich_completion_min_cl",0);Bx.number("monaco_autocomplete_min_cl",0);
var sy=Bx.string("output_frame_webcomponentsv0_origin_trial_token"),ty=Cx("base64_downloads",!1),uy=Cx("monaco_layers",!0),vy=Cx("outputview2",!0),wy=Cx("proxy_windows",!1),xy=Bx.string("outputframe_version",""),yy=Cx("preload_outputviews",!0),zy=Cx("format_on_type",!0),Ay=Cx("monaco_autocomplete_new_declarations",!0),By=function(){var a=Bx,b=new Ll(self.location.search.substr(1));b.getKeys().forEach(function(c){a.declared_.has(c)||b.remove(c)});return b.toString()}();
(function(){var a=Bx;if(self.document){var b=[].concat(ja(a.declared_.keys())).sort().map(function(c){var d=JSON.stringify(a.declared_.get(c));return c+": "+d}).join(", ");console.info("Experiment flags: "+b);a.notFound_.length&&(b=a.notFound_.join(", "),console.info("Could not find experiment flags: '"+b+"'"))}})();var Cy=function(a,b){b=void 0===b?null:b;lb.call(this,a);this.parent=b};t(Cy,lb);var Ey=function(a,b,c){c=void 0===c?"Timed out waiting for promise":c;var d=!1,e=0;return new Promise(function(f,g){e=nn(function(){d=!0;g(new Dy(c))},b);a.then(function(h){if(d)throw Error("Promise resolved after timeout.");on(e);f(h)},function(h){if(d)throw Error("Promise rejected after timeout.");on(e);g(h)})})},Fy=function(a,b,c){c=c||function(){return!0};return new Ik(function(d){var e=function(f){c(f)&&(a.removeEventListener(b,e,!1),d(f))};a.addEventListener(b,e,!1)})},Dy=function(a){Cy.call(this,
a)};t(Dy,Cy);var Gy=function(a,b,c){var d=this;this.milliseconds_=b;this.timerId_=null;b=new Promise(function(e,f){d.errorCallback_=function(){f(new Dy(c))}});this.promise=Promise.race([b,a]).finally(function(){null!=d.timerId_&&on(d.timerId_)});this.restart()};Gy.prototype.restart=function(){null!=this.timerId_&&on(this.timerId_);this.timerId_=nn(this.errorCallback_,this.milliseconds_)};
var Hy=function(){this.milliseconds_=3E4;this.timeoutMessage_="Timed out waiting for iframe load.";this.pending_=new Set};Hy.prototype.enqueue=function(a){var b=this,c=new Gy(a,this.milliseconds_,this.timeoutMessage_);this.pending_.add(c);a.then(function(d){for(var e=q(b.pending_.values()),f=e.next();!f.done;f=e.next())f=f.value,f!=c&&f.restart();return d}).finally(function(){b.pending_.delete(c)});return c.promise};var Iy=!1;function Jy(a){return a.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,function(b){return b.replace(/\$/g,"~D")})}
var Ly=function(a){var b=[],c=null,d=/`/.test(a);d&&(a=Jy(a));a=a.split(/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[\\{}$]|[{}]|(?:\n\s*)+|@@\d+@@)/i);for(var e=1;e<a.length;e+=2){var f=a[e];"@"===f.charAt(0)?(a[e]="@@"+b.length+"@@",b.push(f)):c?f===c.expectedEndDelimiter?(c.endIndex=e,0==c.unmatchedBraces&&(a=Ky(c.startIndex,c.endIndex,d,b,a),c=null)):f.match(/\n.*\n/)?(c.endIndex&&(a=Ky(c.startIndex,c.endIndex,d,b,a)),c=null):"{"===f?c.unmatchedBraces++:"}"===f&&c.unmatchedBraces&&c.unmatchedBraces--:
"$"===f||"$$"===f?c={startIndex:e,expectedEndDelimiter:f,unmatchedBraces:0,endIndex:null}:"begin"===f.substr(1,5)&&(c={startIndex:e,expectedEndDelimiter:"\\end"+f.substr(6),unmatchedBraces:0,endIndex:null})}c&&c.endIndex&&(a=Ky(c.startIndex,c.endIndex,d,b,a));a=a.join("");d&&(a=a.replace(/~D/g,"$").replace(/~T/g,"~"));return{text:a,math:b}};
function Ky(a,b,c,d,e){var f=e.slice(a,b+1).join("");e[a]="@@"+d.length+"@@";for(a+=1;a<=b;a++)e[a]="";c&&(f=f.replace(/~D/g,"$").replace(/~T/g,"~"));d.push(f);return e}var My=function(a,b){if(3==a.nodeType){var c=a.nodeValue,d=c.replace(/@@(\d+)@@/g,function(e,f){return b[f]});d!=c&&(a.nodeValue=d)}else for(a=a.firstChild;a;)c=a,a=a.nextSibling,My(c,b)},Ny=function(a){Iy&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,a])};var Oy=function(a){return a.split("/").map(Ce).join("/")};var Qy=function(a){return xd("https://github.com"+Py(a,!0))},Py=function(a,b){b=void 0===b||b?Ce:Oy;return"/"+Oy(a.org)+"/"+(Oy(a.repo)+"/blob/")+(b(a.branch)+"/"+Oy(a.path))},Sy=function(a){if("github.com"!=a.getDomain())throw Error("Expected "+a.getDomain()+" to be github.com in "+a.toString());return Ry(a.path_.split("/"))},Ty=function(a){var b=a.join("/");""==a[0]&&a.shift();var c=a.shift(),d=a.shift(),e=a.shift(),f=a.shift();f=f?De(f):f;a=De(a.join("/"));return e&&"blob"!=e?{path:null,error:"malformed GitHub path: missing 'blob' before branch name: "+
b}:{path:{org:c||void 0,repo:d||void 0,branch:f||void 0,path:a||void 0},error:null}},Ry=function(a){var b=a.join("/");a=Ty(a);if(a.error)throw Error(a.error);a=a.path;if(!(a.org&&a.repo&&a.branch&&a.path))throw Error("Full github path required; got: "+b);return a},Wy=function(a){if(!a)return"";a=Uy(a).replace(/\.ipynb$/,"-ipynb");return"file-"+a},Uy=function(a){a=a.toLowerCase().replace(/\.ipynb$/,"");return a.replace(/[^a-z0-9_]+/g,"-").replace(/\-$/,"")+".ipynb"},Yy=function(a){if("gist.github.com"!=
a.getDomain())throw Error("Expected "+a.getDomain()+" to be gist.github.com in "+a.toString());var b=Xy(a.path_.split("/"));b.fileHash=b.fileHash||a.fragment_;!b.filename&&b.fileHash.startsWith("file-")&&(b.filename=b.fileHash.replace(/^file-/,"").replace(/-ipynb$/,".ipynb"));return b},Xy=function(a){var b=a.join("/");""==a[0]&&a.shift();var c=a.shift(),d=a.shift(),e=a.shift()||"",f=e?Wy(e):"";if(!d||0<a.length)throw Error("Unexpected Github Gist path: "+b);return{fileHash:f,filename:e,id:d,username:c}},
Zy=function(a){var b=a.fileHash?"#"+Oy(a.fileHash):"";return xd("https://gist.github.com/"+Oy(a.username)+"/"+(""+Oy(a.id)+b))};var $y=function(a,b,c){this.fileId_=a;this.source=b;this.versionControlId_=void 0===c?null:c},az=function(a){return"drive"==a.source},bz=function(a){return"cns"==a.source||"x20"==a.source},cz=function(a){return"piper"==a.source};$y.prototype.toString=function(){return this.fileId_};
var dz=function(a){if(!az(a))throw Error("Expected "+a.fileId_+" to be a Drive file.");return a.fileId_},ez=function(a){if(!a.versionControlId_)throw Error("Expected "+a.fileId_+" to be a version controlled file.");return a.versionControlId_},fz=function(a){if(az(a))throw Error("Expected "+a.fileId_+" not to be a Drive file.");if(a.versionControlId_)return a.versionControlId_.getUri();var b="undefined"!==typeof window&&window.colabVersionTag||null;return"bundled"==a.source&&b?Il(new Dl(a.fileId_),
"vrz="+b):new Dl(a.fileId_)},hz=function(a){a=a.split("/");if(3>a.length)return{source:null,parts:[]};a.shift();for(var b=a.shift(),c=q(gz.entries()),d=c.next();!d.done;d=c.next()){var e=q(d.value);d=e.next().value;e=e.next().value;if(d==b)return{source:e,parts:a}}return{source:null,parts:[]}},iz=function(a){if(a.versionControlId_)return iz(a.versionControlId_);switch(a.source){case "bundled":return a=a.fileId_.split("/").slice(2),"external"==a[0]&&a.shift(),"/"+a.join("/");case "cns":return a.fileId_.substring(11);
case "drive":return"/drive/"+a.fileId_;case "github":return a=new Dl(a.fileId_),a=Sy(a),"/github"+Py(a);case "gist":return a=new Dl(a.fileId_),a=Yy(a),"/gist/"+a.username+"/"+a.id+(a.filename?"/"+a.filename:"");case "sidecar":return null;case "hosted_path":return null;case "inlinedoc":return null;case "x20":return a.fileId_.substring(11);default:throw Error("Unsupported source "+a.source);}},jz={BUNDLED:"bundled",CNS:"cns",DRIVE:"drive",GIST:"gist",GITHUB:"github",HOSTED_PATH:"hosted_path",INLINE_DOC:"inlinedoc",
PIPER:"piper",SIDECAR:"sidecar",X20:"x20"},gz=new Map([["cns","cns"],["drive","drive"],["gist","gist"],["github","github"],["google_src","piper"],["hosted_path","hosted_path"],["notebooks","bundled"],["sidecar","sidecar"],["x20","x20"]]);var kz=function(){M.call(this);var a=this;window.addEventListener("popstate",function(b){a.dispatchEvent(new PopStateEvent("statechange",{state:b.state}))})};t(kz,M);kz.prototype.pushState=function(a,b,c){window.history.pushState(a,b,c);this.dispatchEvent(new PopStateEvent("statechange",{state:a}))};kz.prototype.replaceState=function(a,b,c){window.history.replaceState(a,b,c);this.dispatchEvent(new PopStateEvent("statechange",{state:a}))};var lz=new kz;var mz=function(a){return"Copied "+(a+" cells. You can now paste them in this or a different notebook.")},nz=function(a){return"Could not fetch "+(a+" from backend")},pz=function(a){var b=mc(oz).join(", ");return a+(" is not a valid annotation. Supported annotations are: "+b)},qz=function(a){return'Form field type "'+(a+'" is not supported')},rz=function(a,b){return"Missing "+(a+(" in cell URL "+b))},sz=function(a){return"New "+(a+" notebook")},tz=D.hl||"en";var uz={BOTH:"both",CODE:"code",FORM:"form"};var vz={name:"",display_name:"None",prefix:"m"},wz={name:"GPU",display_name:"GPU",prefix:"gpu"},xz={name:"TPU",display_name:"TPU",prefix:"tpu"},yz={DEFAULT:vz,GPU:wz,TPU:xz},zz={name:"python2",display_name:"Python 2"},Az={name:"python3",display_name:"Python 3"},Bz={name:"R",display_name:"R"},Cz={PYTHON2:zz,PYTHON3:Az,R:Bz},Dz=function(a){if(!a)return null;for(var b=q(Object.keys(Cz)),c=b.next();!c.done;c=b.next())if(c=c.value,c.toLowerCase()==a.toLowerCase())return Cz[c];return null},Ez=function(a,
b){return(a?a.name:null)==(b?b.name:null)};var Fz="collapsedLevels create datalabBackendUrl driveDebug editView fileId fileIds folderId forceEdit inlineDoc language line nodisplayOutput offline pickWorkspace poolId preferences printMode readonly recent revisionId runtimeId sandboxMode scrollTo skipOAuthForTest skipViewHeader snippetFileIds snippetQuery templateParams uniqifier updateTitle view".split(" ");var Gz=Ix?console.log:function(){},Hz=Ix?console.warn:function(){};var Iz="create datalabBackendUrl editView forceEdit offline readonly sandboxMode view".split(" "),Jz=Iz.concat(["fileId"]),Kz=function(a){var b=new Ll(a),c={};b.getKeys().forEach(function(d,e){""!==d&&(e=b.getValues()[e],"fileId"==d?e=e.replace(/%2F/g,"/"):e=decodeURIComponent(e),c[d]=e)});return c},Lz=function(a){var b=[];Object.keys(a||{}).forEach(function(c){var d=String(a[c]);d=encodeURIComponent(d);"fileId"==c&&(d=d.replace(/%2F/g,"/"));b.push(c+"="+d)});return b.join("&")},Mz=function(a){return Kz((a?
a.hash:window.location.hash).slice(1))},Oz=function(a,b,c){var d=Nz.SUPPORTS_GO_LINKS;if((void 0===d||d)&&a.match(/^[a-z]+\//))return"http://"+a;if(c&&(d=new Dl(a),!d.scheme_&&d.path_&&!d.path_.endsWith(".ipynb")))return(new URL(a,c)).toString();if(!a.startsWith("#"))return null;c={};try{c=Kz(a.substr(1))}catch(f){return Hz("convertLocalCellUrlToFullUrl: error during decodeParamString "+a,f),null}if(!c.scrollTo&&!c.collapsedLevels)return null;var e=c;Jz.forEach(function(f){!e[f]&&b[f]&&(e[f]=b[f])});
return"#"+Lz(c)};var Pz="",Qz="",Rz=function(a,b,c){c=void 0===c?null:c;a=new Dl(a?Pz:window.location.toString());Il(a,null!=c?c:By);Hl(a,Qz);Jl(a,"");b=Lz(b);c=a.toString();b&&(c+="#"+b);return c};var Sz=["ts"],Tz=function(a,b,c){a=void 0===a?{}:a;b=void 0===b?null:b;c=void 0===c?null:c;this.params_=Object.assign({},a);this.fileId_=b;this.queryData_=c?c.clone():new Ll;a=q(Sz);for(b=a.next();!b.done;b=a.next())this.queryData_.remove(b.value)},Uz=function(a){return(new Tz).setFileId(a)},Vz=function(a,b,c){c=void 0===c?{}:c;c=void 0===c.line?null:c.line;b?a.params_.scrollTo=b:delete a.params_.scrollTo;c?(a.params_.line=c,a.params_.uniqifier=(parseInt(a.params_.uniqifier,10)||0)+1):delete a.params_.line;
return a},Xz=function(a,b){return Wz(a,"offline",b)},Yz=function(a,b){return Wz(a,"create",b)},Zz=function(a,b){return Wz(a,"folderId",b)},$z=function(a,b){return Wz(a,"updateTitle",b)};Tz.prototype.setFileId=function(a){a?this.params_.fileId=a.toString():delete this.params_.fileId;this.fileId_=a;return this};var aA=function(a,b){return b?Wz(a,"language",b.name):Wz(a,"language",null)},bA=function(a){a.queryData_.set("hl","en");return a},Wz=function(a,b,c){c?a.params_[b]=c:delete a.params_[b];return a};
Tz.prototype.setReadOnly=function(a){Wz(this,"readonly",a)};var cA=function(a,b){return Wz(a,"revisionId",b)};Tz.prototype.setView=function(a){return Wz(this,"view",a)};
var dA=function(a,b){return Wz(a,"editView",b)},fA=function(a){return eA(a,!0).toString()},eA=function(a,b){var c=Object.assign({},a.params_);delete c.fileId;c=new URL(Rz(b,c,a.queryData_));if(a.fileId_){var d=iz(a.fileId_);if(!d)return new URL(Rz(b,a.params_,a.queryData_));c.pathname=d}return c},gA=function(a){ye(window.location,eA(a,!1).toString())},hA=function(a,b){b=void 0===b?{}:b;b=void 0===b.replace?!1:b.replace;a=eA(a,!1);b?lz.replaceState({},"",a.toString()):lz.pushState({},"",a.toString())},
jA=function(a){(new Ll(By)).forEach(function(c,d){a.queryData_.add(d,c)});iA(a);var b=(new Dl(window.location.toString())).queryData_;a.queryData_.containsKey("hl")||tz!=b.get("hl","")||a.queryData_.add("hl",tz);return a},iA=function(a){var b=(new Dl(window.location.toString())).queryData_.get("authuser","0");"0"==b?a.queryData_.remove("authuser"):a.queryData_.add("authuser",b);return a};var kA=function(a){this.authUrl=a.authUrl||"";this.buildTarget=a.buildTarget||"";this.cacheAlloc=null!=a.cacheAlloc?a.cacheAlloc:!0;this.cell=a.cell||"";this.forceHttpLocalConnections=!!a.forceHttpLocalConnections;this.forceIsolation=!!a.forceIsolation;this.forceSocketIo=a.forceSocketIo||null;this.hostport=a.hostport||"";this.kernelName=a.kernelName||"";this.kind=a.kind||"private";this.poolId=a.poolId||"";this.routingToken=a.routingToken||"";this.skipAuthorization=!!a.skipAuthorization;this.supportsCredentials=
null!=a.supportsCredentials?a.supportsCredentials:!0;this.uid=a.uid||"";this.version5Kernel=!!a.version5Kernel},lA=function(a,b){a=Object.assign({},a.toJson());Object.assign(a,b);return new kA(a)},mA=function(a,b){return lA(a,{kernelName:b})};kA.prototype.toJson=function(){return this};var nA=function(){this.authUrl="";this.supportsCredentials=this.supportsColabtools=this.version5Kernel=!1};var oA=function(a){var b=new nA;b.version5Kernel=!0;this.connectionParams=a;this.capabilities=b;this.lifecycle="started";this.displayName="";this.kind=this.connectionParams.kind;this.lastOom=0;this.kernel=null;this.sessionId=""};
oA.prototype.getStatusText=function(){switch(this.lifecycle){case "awaiting-response":return"Awaiting server response...";case "starting":return"Awaiting startup...";case "started":return"Ready";case "stopping":return"Stopping...";case "restarting":return"Restarting...";case "unhealthy":if(0<this.lastOom){var a=1E3*this.lastOom;return"Unhealthy: Waiting for restart. Memory exceeded "+(Tt(a)||Vt(new Date(a)))}return"Unhealthy: Waiting for restart.";default:return"Unknown runtime status: "+this.lifecycle}};
var pA=function(a){var b=a.connectionParams.kernelName||"";if(!a.kernel)return b;var c=Dz(a.kernel.name);return c?c.display_name:a.kernel.name||b};oA.prototype.getAccelerator=function(){var a=this.connectionParams.hostport.indexOf("/tun/m/");if(0>a)return vz.name;var b=this.connectionParams.hostport.substr(a+7).split("-")[0];return(a=Object.values(yz).find(function(c){return c.prefix==b}))?a.name:vz.name};var qA=function(){M.call(this);this.runtimes_=[]};t(qA,M);qA.prototype.getRuntimes=function(){return this.runtimes_};var rA=function(){M.call(this);this.entries=[];this.lastUpdated=null};t(rA,M);rA.prototype.getEntries=function(){return this.entries};var sA=function(a,b){b=void 0===b?"":b;var c="opaque"==a.type;b&&(b=" "+b);c?Cy.call(this,"Credentials expired, causing cross-origin request to be made. Request disallowed."+b):Cy.call(this,"Could not fetch resource at "+a.url+": "+(a.status+" "+a.statusText+b));this.status=a.status;this.statusText=c?"Credentials expired":a.statusText;this.crossOrigin=c;this.name="FetchError"};t(sA,Cy);var tA=function(a,b){var c=new xx;c.init();c.download(new Blob([b]),a).then(function(){c.dispose()})},uA=function(a,b){a=a.trim();a=a.replace(/\.ipynb$/,"").replace(/[ \.\-:#@%*\/\\]+/g,"_")||"untitled";b=b.startsWith(".")?b:"."+b;return a+b},vA=function(){var a=(new Cs).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+Math.floor(16*Math.random()))%16;a=Gg(a/16);"y"==b&&(c=c&7|8);return c.toString(16)})},wA=function(a){return a.startsWith(")]}'\n")?a.substr(5):
a},xA=function(a,b,c){c=void 0===c?!1:c;var d={credentials:"include",mode:"no-cors"};b&&(d.method="POST",d.body=b);var e;a=fetch(a,d).then(function(f){e=f;return e.text()}).then(function(f){if(!e.ok){if(c)throw new sA(e,f);throw new sA(e);}return JSON.parse(wA(f))});return Mk(a)},yA=function(a){if(!a)return a;var b=Number(a);return isNaN(b)?a:b},zA=function(a){var b=new Ds;F(a)?zs(b,a):b=a;var c=!1;a=Ut(b.getTime(),function(d){c=!0;return(new Ls(Ts.MONTH_DAY_YEAR_MEDIUM)).format(d)});return c?a:(new Ls(7)).format(b)+
" "+a},AA=function(a){if(!a)return"";var b=new Ls(Ts.MONTH_DAY_YEAR_MEDIUM);return Tt(a)||b.format(new Date(a))},BA=function(a,b,c){b=q(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;if(!(a&&d in a))return c;a=a[d]}return a},CA=function(a){if(!a)return 4;switch(typeof a){case "boolean":return 4;case "number":return 8;case "string":return a.length}var b=4,c;for(c in a)b+=CA(c)+CA(a[c]);return b},DA=function(a){a=a.id;return a.substring(a.indexOf("-")+1)},EA=function(a,b){for(var c=[],d=0,e=0;e<
a.length;e++){var f=a.charCodeAt(e);255<f&&(c[d++]=f&255,f>>=8);c[d++]=f}a=0;d=c.length;b={a:-1640531527,b:-1640531527,c:b||314159265};for(e=d;12<=e;e-=12,a+=12)b.a+=gs(c,a),b.b+=gs(c,a+4),b.c+=gs(c,a+8),es(b);b.c+=d;switch(e){case 11:b.c+=c[a+10]<<24;case 10:b.c+=(c[a+9]&255)<<16;case 9:b.c+=(c[a+8]&255)<<8;case 8:b.b+=gs(c,a+4);b.a+=gs(c,a);break;case 7:b.b+=(c[a+6]&255)<<16;case 6:b.b+=(c[a+5]&255)<<8;case 5:b.b+=c[a+4]&255;case 4:b.a+=gs(c,a);break;case 3:b.a+=(c[a+2]&255)<<16;case 2:b.a+=(c[a+
1]&255)<<8;case 1:b.a+=c[a+0]&255}return es(b)>>>0},FA=function(a,b,c){return a.every(function(d){return b.toLowerCase().includes(d)||c.toLowerCase().includes(d)})},HA=function(){GA||(GA=new cw);return!!GA.domHelper_.getDocument()[GA.getHiddenPropertyName_()]},GA=null;/*

 Copyright (c) 2011-2018, Christopher Jeffrey (https://github.com/chjj/)

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
var IA=function(a,b,c){if(0===a.length)return"";for(var d=0;d<a.length;){var e=a.charAt(a.length-d-1);if(e!==b||c)if(e!==b&&c)d++;else break;else d++}return a.substr(0,a.length-d)},JA=function(a,b){a=a.replace(/\|/g,function(d,e,f){for(d=!1;0<=--e&&"\\"===f[e];)d=!d;return d?"|":" |"}).split(/ \|/);var c=0;if(a.length>b)a.splice(b);else for(;a.length<b;)a.push("");for(;c<a.length;c++)a[c]=a[c].trim().replace(/\\\|/g,"|");return a},KA=function(a,b){for(var c=1,d,e;c<arguments.length;c++)for(e in d=
arguments[c],d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e]);return a},LA=function(){},PA=function(a,b,c){if(a){try{var d=decodeURIComponent(MA(c)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===d.indexOf("javascript:")||0===d.indexOf("vbscript:")||0===d.indexOf("data:"))return null}b&&!NA.test(c)&&(a=b,OA[" "+a]||(OA[" "+a]=/^[^:]+:\/*[^/]*$/.test(a)?a+"/":IA(a,"/",!0)),a=OA[" "+a],c="//"===c.slice(0,2)?a.replace(/:[\s\S]*/,":")+c:"/"===c.charAt(0)?a.replace(/(:\/*[^/]*)[\s\S]*/,
"$1")+c:a+c);try{c=encodeURI(c).replace(/%25/g,"%")}catch(e){return null}return c},QA=function(a,b){a=a.source||a;b=b||"";return{replace:function(c,d){d=d.source||d;d=d.replace(/(^|[^\[])\^/g,"$1");a=a.replace(c,d);return this},getRegex:function(){return new RegExp(a,b)}}},MA=function(a){return a.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(b,c){c=c.toLowerCase();return"colon"===c?":":"#"===c.charAt(0)?"x"===c.charAt(1)?String.fromCharCode(parseInt(c.substring(2),16)):String.fromCharCode(+c.substring(1)):
""})},WA=function(a,b){if(b){if(RA.test(a))return a.replace(SA,function(c){return TA[c]})}else if(UA.test(a))return a.replace(VA,function(c){return TA[c]});return a},XA=function(){this.seen={}},$A=function(a){this.tokens=[];this.token=null;this.options=a||YA.defaults;this.options.renderer=this.options.renderer||new ZA;this.renderer=this.options.renderer;this.renderer.options=this.options;this.slugger=new XA},aB=function(){},ZA=function(a){this.options=a||YA.defaults},cB=function(a,b){this.options=
b||YA.defaults;this.links=a;this.rules=bB.normal;this.renderer=this.options.renderer||new ZA;this.renderer.options=this.options;this.inLink=!1;if(!this.links)throw Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=bB.pedantic:this.options.gfm&&(this.rules=this.options.breaks?bB.breaks:bB.gfm)},eB=function(a){this.tokens=[];this.tokens.links=Object.create(null);this.options=a||YA.defaults;this.rules=dB.normal;this.options.pedantic?this.rules=dB.pedantic:this.options.gfm&&
(this.rules=this.options.tables?dB.tables:dB.gfm)},dB={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:LA,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:LA,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:LA,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};dB.def=QA(dB.def).replace("label",dB._label).replace("title",dB._title).getRegex();dB.bullet=/(?:[*+-]|\d{1,9}\.)/;
dB.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;dB.item=QA(dB.item,"gm").replace(/bull/g,dB.bullet).getRegex();dB.list=QA(dB.list).replace(/bull/g,dB.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+dB.def.source+")").getRegex();dB._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
dB._comment=/\x3c!--(?!-?>)[\s\S]*?--\x3e/;dB.html=QA(dB.html,"i").replace("comment",dB._comment).replace("tag",dB._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();dB.paragraph=QA(dB.paragraph).replace("hr",dB.hr).replace("heading",dB.heading).replace("lheading",dB.lheading).replace("tag",dB._tag).getRegex();dB.blockquote=QA(dB.blockquote).replace("paragraph",dB.paragraph).getRegex();dB.normal=KA({},dB);
dB.gfm=KA({},dB.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});dB.gfm.paragraph=QA(dB.paragraph).replace("(?!","(?!"+dB.gfm.fences.source.replace("\\1","\\2")+"|"+dB.list.source.replace("\\1","\\3")+"|").getRegex();dB.tables=KA({},dB.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/});
dB.pedantic=KA({},dB.normal,{html:QA("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",dB._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});
var fB=function(a,b){b=new eB(b);a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return b.token(a,!0)};
eB.prototype.token=function(a,b){a=a.replace(/^ +$/gm,"");for(var c,d,e,f,g,h,l,m,n,p,r;a;){if(e=this.rules.newline.exec(a))a=a.substring(e[0].length),1<e[0].length&&this.tokens.push({type:"space"});if(e=this.rules.code.exec(a))a=a.substring(e[0].length),e=e[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?e:IA(e,"\n")});else if(e=this.rules.fences.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"code",lang:e[2]?e[2].trim():e[2],text:e[3]||""});else if(e=
this.rules.heading.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"heading",depth:e[1].length,text:e[2]});else{if(b&&(e=this.rules.nptable.exec(a))&&(g={type:"table",header:JA(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]},g.header.length===g.align.length)){a=a.substring(e[0].length);for(m=0;m<g.align.length;m++)g.align[m]=/^ *-+: *$/.test(g.align[m])?"right":/^ *:-+: *$/.test(g.align[m])?"center":/^ *:-+ *$/.test(g.align[m])?
"left":null;for(m=0;m<g.cells.length;m++)g.cells[m]=JA(g.cells[m],g.header.length);this.tokens.push(g);continue}if(e=this.rules.hr.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"hr"});else if(e=this.rules.blockquote.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"blockquote_start"}),e=e[0].replace(/^ *> ?/gm,""),this.token(e,b),this.tokens.push({type:"blockquote_end"});else if(e=this.rules.list.exec(a)){a=a.substring(e[0].length);f=e[2];c=1<f.length;h={type:"list_start",ordered:c,
start:c?+f:"",loose:!1};this.tokens.push(h);e=e[0].match(this.rules.item);l=[];c=!1;n=e.length;for(m=0;m<n;m++)g=e[m],d=g.length,g=g.replace(/^ *([*+-]|\d+\.) */,""),~g.indexOf("\n ")&&(d-=g.length,g=this.options.pedantic?g.replace(/^ {1,4}/gm,""):g.replace(new RegExp("^ {1,"+d+"}","gm"),"")),m!==n-1&&(d=dB.bullet.exec(e[m+1])[0],1<f.length?1===d.length:1<d.length||this.options.smartLists&&d!==f)&&(a=e.slice(m+1).join("\n")+a,m=n-1),d=c||/\n\n(?!\s*$)/.test(g),m!==n-1&&(c="\n"===g.charAt(g.length-
1),d||(d=c)),d&&(h.loose=!0),p=/^\[[ xX]\] /.test(g),r=void 0,p&&(r=" "!==g[1],g=g.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:p,checked:r,loose:d},l.push(d),this.tokens.push(d),this.token(g,!1),this.tokens.push({type:"list_item_end"});if(h.loose)for(n=l.length,m=0;m<n;m++)l[m].loose=!0;this.tokens.push({type:"list_end"})}else if(e=this.rules.html.exec(a))a=a.substring(e[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===
e[1]||"script"===e[1]||"style"===e[1]),text:e[0]});else if(b&&(e=this.rules.def.exec(a)))a=a.substring(e[0].length),e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),f=e[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[f]||(this.tokens.links[f]={href:e[2],title:e[3]});else{if(b&&(e=this.rules.table.exec(a))&&(g={type:"table",header:JA(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]},g.header.length===
g.align.length)){a=a.substring(e[0].length);for(m=0;m<g.align.length;m++)g.align[m]=/^ *-+: *$/.test(g.align[m])?"right":/^ *:-+: *$/.test(g.align[m])?"center":/^ *:-+ *$/.test(g.align[m])?"left":null;for(m=0;m<g.cells.length;m++)g.cells[m]=JA(g.cells[m].replace(/^ *\| *| *\| *$/g,""),g.header.length);this.tokens.push(g);continue}if(e=this.rules.lheading.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"heading",depth:"="===e[2]?1:2,text:e[1]});else if(b&&(e=this.rules.paragraph.exec(a)))a=
a.substring(e[0].length),this.tokens.push({type:"paragraph",text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]});else if(e=this.rules.text.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"text",text:e[0]});else if(a)throw Error("Infinite loop on byte: "+a.charCodeAt(0));}}}return this.tokens};
var bB={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:LA,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:LA,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};bB.em=QA(bB.em).replace(/punctuation/g,bB._punctuation).getRegex();bB._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
bB._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;bB._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;bB.autolink=QA(bB.autolink).replace("scheme",bB._scheme).replace("email",bB._email).getRegex();bB._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;bB.tag=QA(bB.tag).replace("comment",dB._comment).replace("attribute",bB._attribute).getRegex();bB._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/;
bB._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/;bB._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;bB.link=QA(bB.link).replace("label",bB._label).replace("href",bB._href).replace("title",bB._title).getRegex();bB.reflink=QA(bB.reflink).replace("label",bB._label).getRegex();bB.normal=KA({},bB);
bB.pedantic=KA({},bB.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:QA(/^!?\[(label)\]\((.*?)\)/).replace("label",bB._label).getRegex(),reflink:QA(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",bB._label).getRegex()});
bB.gfm=KA({},bB.normal,{escape:QA(bB.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:QA(bB.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()});
bB.gfm.url=QA(bB.gfm.url,"i").replace("email",bB.gfm._extended_email).getRegex();bB.breaks=KA({},bB.gfm,{br:QA(bB.br).replace("{2,}","*").getRegex(),text:QA(bB.gfm.text).replace("{2,}","*").getRegex()});
cB.prototype.output=function(a){for(var b="",c,d,e;a;)if(e=this.rules.escape.exec(a))a=a.substring(e[0].length),b+=WA(e[1]);else if(e=this.rules.tag.exec(a))!this.inLink&&/^<a /i.test(e[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(e[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.inRawBlock=!1),a=a.substring(e[0].length),b+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):
WA(e[0]):e[0];else if(e=this.rules.link.exec(a)){a:{d=e[2];if(-1!==d.indexOf(")"))for(var f=c=0;f<d.length;f++)if("\\"===d[f])f++;else if("("===d[f])c++;else if(")"===d[f]&&(c--,0>c)){d=f;break a}d=-1}-1<d&&(c=e[2].length-d,e[2]=e[2].substring(0,d),e[0]=e[0].substring(0,e[0].length-c));a=a.substring(e[0].length);this.inLink=!0;d=e[2];this.options.pedantic?(c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(d))?(d=c[1],c=c[3]):c="":c=e[3]?e[3].slice(1,-1):"";d=d.trim().replace(/^<([\s\S]*)>$/,"$1");b+=gB(this,
e,{href:hB(d),title:hB(c)});this.inLink=!1}else if((e=this.rules.reflink.exec(a))||(e=this.rules.nolink.exec(a)))a=a.substring(e[0].length),c=(e[2]||e[1]).replace(/\s+/g," "),(c=this.links[c.toLowerCase()])&&c.href?(this.inLink=!0,b+=gB(this,e,c),this.inLink=!1):(b+=e[0].charAt(0),a=e[0].substring(1)+a);else if(e=this.rules.strong.exec(a))a=a.substring(e[0].length),b+=this.renderer.strong(this.output(e[4]||e[3]||e[2]||e[1]));else if(e=this.rules.em.exec(a))a=a.substring(e[0].length),b+=this.renderer.em(this.output(e[6]||
e[5]||e[4]||e[3]||e[2]||e[1]));else if(e=this.rules.code.exec(a))a=a.substring(e[0].length),b+=this.renderer.codespan(WA(e[2].trim(),!0));else if(e=this.rules.br.exec(a))a=a.substring(e[0].length),b+=this.renderer.br();else if(e=this.rules.del.exec(a))a=a.substring(e[0].length),b+=this.renderer.del(this.output(e[1]));else if(e=this.rules.autolink.exec(a))a=a.substring(e[0].length),"@"===e[2]?(c=WA(this.mangle(e[1])),d="mailto:"+c):d=c=WA(e[1]),b+=this.renderer.link(d,null,c);else if(!this.inLink&&
(e=this.rules.url.exec(a))){if("@"===e[2])c=WA(e[0]),d="mailto:"+c;else{do d=e[0],e[0]=this.rules._backpedal.exec(e[0])[0];while(d!==e[0]);c=WA(e[0]);d="www."===e[1]?"http://"+c:c}a=a.substring(e[0].length);b+=this.renderer.link(d,null,c)}else if(e=this.rules.text.exec(a))a=a.substring(e[0].length),b=this.inRawBlock?b+this.renderer.text(e[0]):b+this.renderer.text(WA(this.smartypants(e[0])));else if(a)throw Error("Infinite loop on byte: "+a.charCodeAt(0));return b};
var hB=function(a){return a?a.replace(bB._escapes,"$1"):a},gB=function(a,b,c){var d=c.href;c=c.title?WA(c.title):null;return"!"!==b[0].charAt(0)?a.renderer.link(d,c,a.output(b[1])):a.renderer.image(d,c,WA(b[1]))};
cB.prototype.smartypants=function(a){return this.options.smartypants?a.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):a};cB.prototype.mangle=function(a){if(!this.options.mangle)return a;for(var b="",c=a.length,d=0,e;d<c;d++)e=a.charCodeAt(d),.5<Math.random()&&(e="x"+e.toString(16)),b+="&#"+e+";";return b};k=ZA.prototype;
k.code=function(a,b,c){b=(b||"").match(/\S*/)[0];if(this.options.highlight){var d=this.options.highlight(a,b);null!=d&&d!==a&&(c=!0,a=d)}return b?'<pre><code class="'+this.options.langPrefix+WA(b,!0)+'">'+(c?a:WA(a,!0))+"</code></pre>\n":"<pre><code>"+(c?a:WA(a,!0))+"</code></pre>"};k.blockquote=function(a){return"<blockquote>\n"+a+"</blockquote>\n"};k.html=function(a){return a};
k.heading=function(a,b,c,d){if(this.options.headerIds){var e="<h"+b+' id="'+this.options.headerPrefix;c=c.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(d.seen.hasOwnProperty(c)){var f=c;do d.seen[f]++,c=f+"-"+d.seen[f];while(d.seen.hasOwnProperty(c))}d.seen[c]=0;a=e+c+'">'+a+"</h"+b+">\n"}else a="<h"+b+">"+a+"</h"+b+">\n";return a};k.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};
k.list=function(a,b,c){var d=b?"ol":"ul";return"<"+d+(b&&1!==c?' start="'+c+'"':"")+">\n"+a+"</"+d+">\n"};k.listitem=function(a){return"<li>"+a+"</li>\n"};k.paragraph=function(a){return"<p>"+a+"</p>\n"};k.table=function(a,b){b&&(b="<tbody>"+b+"</tbody>");return"<table>\n<thead>\n"+a+"</thead>\n"+b+"</table>\n"};var iB=function(a,b){var c=b.header?"th":"td";return(b.align?"<"+c+' align="'+b.align+'">':"<"+c+">")+a+"</"+c+">\n"};k=ZA.prototype;k.strong=function(a){return"<strong>"+a+"</strong>"};
k.em=function(a){return"<em>"+a+"</em>"};k.codespan=function(a){return"<code>"+a+"</code>"};k.br=function(){return this.options.xhtml?"<br/>":"<br>"};k.del=function(a){return"<del>"+a+"</del>"};k.link=function(a,b,c){a=PA(this.options.sanitize,this.options.baseUrl,a);if(null===a)return c;a='<a href="'+WA(a)+'"';b&&(a+=' title="'+b+'"');return a+(">"+c+"</a>")};
k.image=function(a,b,c){a=PA(this.options.sanitize,this.options.baseUrl,a);if(null===a)return c;a='<img src="'+a+'" alt="'+c+'"';b&&(a+=' title="'+b+'"');return a+=this.options.xhtml?"/>":">"};k.text=function(a){return a};k=aB.prototype;k.strong=function(a){return a};k.em=function(a){return a};k.codespan=function(a){return a};k.del=function(a){return a};k.text=function(a){return a};k.link=function(a,b,c){return""+c};k.image=function(a,b,c){return""+c};k.br=function(){return""};var jB=function(a,b){return(new $A(b)).parse(a)};
$A.prototype.parse=function(a){this.inline=new cB(a.links,this.options);this.inlineText=new cB(a.links,KA({},this.options,{renderer:new aB}));this.tokens=a.reverse();for(a="";this.next();)a+=kB(this);return a};$A.prototype.next=function(){return this.token=this.tokens.pop()};$A.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};
var lB=function(a){for(var b=a.token.text;"text"===a.peek().type;)b+="\n"+a.next().text;return a.inline.output(b)},kB=function(a){switch(a.token.type){case "space":return"";case "hr":return a.renderer.hr();case "heading":return a.renderer.heading(a.inline.output(a.token.text),a.token.depth,MA(a.inlineText.output(a.token.text)),a.slugger);case "code":return a.renderer.code(a.token.text,a.token.lang,a.token.escaped);case "table":var b="",c="",d,e;var f="";for(d=0;d<a.token.header.length;d++)f+=iB(a.inline.output(a.token.header[d]),
{header:!0,align:a.token.align[d]});b+="<tr>\n"+f+"</tr>\n";for(d=0;d<a.token.cells.length;d++){var g=a.token.cells[d];f="";for(e=0;e<g.length;e++)f+=iB(a.inline.output(g[e]),{header:!1,align:a.token.align[e]});c+="<tr>\n"+f+"</tr>\n"}return a.renderer.table(b,c);case "blockquote_start":for(c="";"blockquote_end"!==a.next().type;)c+=kB(a);return a.renderer.blockquote(c);case "list_start":c="";b=a.token.ordered;for(d=a.token.start;"list_end"!==a.next().type;)c+=kB(a);return a.renderer.list(c,b,d);case "list_item_start":c=
"";b=a.token.loose;for(a.token.task&&(c+="<input "+(a.token.checked?'checked="" ':"")+'disabled="" type="checkbox"'+(a.renderer.options.xhtml?" /":"")+"> ");"list_item_end"!==a.next().type;)c+=b||"text"!==a.token.type?kB(a):lB(a);return a.renderer.listitem(c);case "html":return a.renderer.html(a.token.text);case "paragraph":return a.renderer.paragraph(a.inline.output(a.token.text));case "text":return a.renderer.paragraph(lB(a));default:c='Token with "'+a.token.type+'" type was not found.';if(a.options.silent)return console.log(c),
"";throw Error(c);}},RA=/[&<>"']/,SA=/[&<>"']/g,TA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},UA=/[<>"']|&(?!#?\w+;)/,VA=/[<>"']|&(?!#?\w+;)/g,OA={},NA=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;LA.exec=LA;
var YA=function(a,b,c){if("undefined"===typeof a||null===a)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof a)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected");if(c||"function"===typeof b){c||(c=b,b=null);b=KA({},YA.defaults,b||{});var d=b.highlight,e=0;try{var f=fB(a,b)}catch(l){return c(l)}var g=f.length;var h=function(l){if(l)return b.highlight=d,c(l);try{var m=jB(f,b)}catch(n){l=n}b.highlight=d;return l?
c(l):c(null,m)};if(!d||3>d.length)return h();delete b.highlight;if(!g)return h();for(;e<f.length;e++)(function(l){return"code"!==l.type?--g||h():d(l.text,l.lang,function(m,n){if(m)return h(m);if(null==n||n===l.text)return--g||h();l.text=n;l.escaped=!0;--g||h()})})(f[e])}else try{return b&&(b=KA({},YA.defaults,b)),jB(fB(a,b),b)}catch(l){l.message+="\nPlease report this to https://github.com/markedjs/marked.";if((b||YA.defaults).silent)return"<p>An error occurred:</p><pre>"+WA(l.message+"",!0)+"</pre>";
throw l;}};YA.options=YA.setOptions=function(a){KA(YA.defaults,a);return YA};YA.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new ZA,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}};YA.defaults=YA.getDefaults();YA.Parser=$A;YA.parser=jB;YA.Renderer=ZA;YA.TextRenderer=aB;YA.Lexer=eB;YA.lexer=fB;YA.InlineLexer=cB;
YA.inlineLexer=function(a,b,c){return(new cB(b,c)).output(a)};YA.Slugger=XA;YA.parse=YA;var nB=function(a){return YA.lexer(mB(a)).filter(function(b){return"heading"==b.type}).map(function(b){return{indents:b.depth,text:b.text}})},mB=function(a){return a.replace(/(^|\r|\n|\r\n)(#+)([^#\s])/g,"$1$2 $3")};var oB=function(a){return"dark"==a?"vs-dark":"colab"};var qB=function(a){return pB(a,function(){return null}).textContent.trim()},tB=function(a){a=rB(a,function(){return null});sB||(sB=Lv().build());return sB.sanitize(a)},uB=!1,vB=/{{USERNAME}}/g,wB="";function xB(){uB=!0;YA.options({gfm:!0,tables:!0,sanitize:!1,headerPrefix:"marked_header_",langPrefix:"cm-s-default ",highlight:yB(null)})}
function yB(a){return function(b,c,d){if(!d)return b;if(Zx)monaco.editor.colorize(b,c||"",{theme:oB(a)}).then(function(f){f.endsWith("<br/>")&&(f=f.substr(0,f.length-5));d(null,f)});else{c=CodeMirror.getMode({},c);var e=document.createElement("div");CodeMirror.runMode(b,c,e);d(null,e.innerHTML)}}}
function zB(a){var b=new YA.Renderer,c=b.image;b.image=function(f,g,h){var l=f.match(/\s=\d*x\d*$/g);l&&l.length&&(f=f.replace(l[0],""));f=c.call(b,f,g,h);l&&l.length&&(g="/>"==f.slice(-2)?2:1,h="",l=l[0].slice(2).split("x"),l[0]&&(h+=" width="+l[0]),l[1]&&(h+=" height="+l[1]),f=f.slice(0,-g)+(h+" data-markdown-size=true")+f.slice(-g));return f};var d=b.link;b.link=function(f,g,h){var l=a(f);l&&(f=l);return d.call(b,f,g,h)};b.paragraph=AB(b.paragraph);b.listitem=AB(b.listitem);var e=b.text;b.text=
function(f){return e(f)};return b}function BB(a,b){var c=Object.assign({},YA.defaults);c.highlight=yB(b);c.renderer=zB(a);return c}function AB(a){return function(b){b=b.replace(/(^| )\\((\r|\n|\r\n)|$)/g,"<br>");return a.call(a,b)}}function CB(a,b){var c="";a&&b&&!Zc(a[a.length-1])&&!Zc(b[0])&&(c=" ");return""+a+c+b}
var DB=function(a){if(a.startsWith("### "))return a=a.replace("### ",""),{replace:a,select:[0,a.length]};a=a.startsWith("## ")||a.startsWith("# ")?"#"+a:CB("#",a||"New Section");return{replace:a,select:[a.indexOf(" ")+1,a.length]}};function EB(a){return(a=a.includes("\n")?null:/^(\**)([^*]+?)(\**$)/g.exec(a))&&a[1].length==a[3].length?{numStars:a[1].length,text:a[2]}:null}
var FB=function(a){var b=EB(a);if(b){if(3==b.numStars)return{replace:"*"+b.text+"*",select:[1,1+b.text.length]};if(2==b.numStars)return{replace:b.text,select:[0,b.text.length]};if(1==b.numStars||0==b.numStars)return{replace:"**"+a+"**",select:[2+b.numStars,2+b.numStars+b.text.length]}}a=CB(a,"**bold text**");return{replace:a,select:[a.length-13+2,a.length-2]}},GB=function(a){var b=EB(a);if(b){if(3==b.numStars)return{replace:"**"+b.text+"**",select:[2,2+b.text.length]};if(2==b.numStars||0==b.numStars)return{replace:"*"+
a+"*",select:[1+b.numStars,1+b.numStars+b.text.length]};if(1==b.numStars)return{replace:b.text,select:[0,b.text.length]}}a=CB(a,"*italicized text*");return{replace:a,select:[a.length-17+1,a.length-1]}},HB=function(a){if(a.startsWith("`")&&a.endsWith("`")){var b=a.substring(1,a.length-1);if(!b.includes("`"))return{replace:b,select:[0,b.length]}}else if(a&&!a.includes("`"))return a="`"+a+"`",{replace:a,select:[1,a.length-1]};a=CB(a,"`Inline code`");return{replace:a,select:[a.length-13+1,a.length-1]}},
IB=function(a){a=a.trimRight()+"\n\n```\n# This is formatted as code\n```\n\n";return{replace:a,select:[a.length-33,a.length-6]}},JB=function(a){if(/^\[[^\(\)]*\]\([^\[\]]*\)$/.test(a)){var b=a.substring(1,a.length-1).replace("]("," ");b.endsWith(" https://")&&(b=b.substring(0,b.length-8-1));return{replace:b,select:[0,b.length]}}b=CB(a,"[link text](https://)");a.length&&!["[","]","(",")"].find(function(c){return a.includes(c)})&&(b=a.startsWith("https://")||a.startsWith("http://")?"[link text]("+
a+")":"["+a+"](https://)");return{replace:b,select:[b.indexOf("(")+1,b.length-1]}},KB=function(a){var b=CB(a,"![alt text](https://)");if(a.startsWith("http://")||a.startsWith("https://"))b="![alt text]("+a+")";return{replace:b,select:[b.indexOf("(")+1,b.length-1]}};function LB(a,b,c){c="\n"+c+"   List item\n\n";a=a.trimRight()+("\n\n"+b+"   List item"+c);b=a.length-c.length;return{replace:a,select:[b-9,b]}}
var MB=function(a){return LB(a,"1.","2.")},NB=function(a){return LB(a,"*","*")},OB=function(a){a=a.trimRight()+"\n\n---\n\n";return{replace:a,select:[a.length,a.length]}},PB=function(a){a=a.trimRight()+"\n\n> Indented block\n\n";return{replace:a,select:[a.length-16-2+2,a.length-2]}},QB=null;function RB(){QB||(QB=Hv(Kv(),["data-markdown-size"]).build());return QB}var sB=null;function Pv(a,b){return b&&"class"==b.attributeName&&(a.startsWith("cm-")||a.startsWith("mtk"))?a:null}
function Ov(a,b){return b&&"img"==b.tagName&&"src"==b.attributeName&&a.startsWith("data:")?ud(a):wd(a)}function Qv(a,b){if(!b||"a"!=b.tagName)return null;b=Object.getOwnPropertyNames(Element.prototype);return Object.getOwnPropertyNames(Node.prototype).includes(a)||b.includes(a)?null:a}
var SB=function(a,b,c){var d,e;return B(function(f){if(1==f.nextAddress)return a=mB(a),wB&&(a=a.replace(vB,wB)),uB||xB(),d=BB(b,c),u(f,new Promise(function(g,h){YA(a,d,function(l,m){l?h(l):g(m);return""})}),2);e=f.yieldResult;return f.return(Zv(RB(),e))})},pB=function(a,b){a=rB(a,b);return Zv(RB(),a)};function rB(a,b){a=mB(a);wB&&(a=a.replace(vB,wB));uB||xB();b=BB(b,"");return YA(a,b)||""}
var TB=function(a,b){var c=a.path_.lastIndexOf("/");if(-1==c)return[];Hl(a,a.path_.substr(0,c+1));c=[];b=b.querySelectorAll("img");b=q(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.getAttribute("src")||"";if(!(!e||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")||e.startsWith("/"))){var f=a.resolve(new Dl(e));Sl(f,"raw","1");f=f.toString();d.setAttribute("src",f);c.push({absolute:f,relative:e})}}return c};
function UB(a,b){a=q(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=Me(c.relative),e=new RegExp("("+Me("![")+"[^\\]]*"+Me("](")+"\\W*)"+d+("(\\W*"+Me(")")+")"));d=new RegExp("("+Me("src=")+"['\"]?)"+d+"(['\"]?)");b=b.replace(e,"$1"+c.absolute+"$2").replace(d,"$1"+c.absolute+"$2")}return b}var VB=function(a,b){var c=pB(b,function(d){return d});a=TB(a,c);return UB(a,b)};var WB=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=function(g){for(var h=q(e),l=h.next();!l.done;l=h.next())if(g=g[l.value],void 0===g)return;return g},e=b;if($x)return d(window);var f={get:function(g,h){var l=d(self);f.get=function(m,n){var p=l[n];da();return"function"==typeof p&&n==Symbol.hasInstance?function(r){for(var w=[],v=0;v<arguments.length;++v)w[v-0]=arguments[v];return p.apply(l,w)}:p};return f.get(null,h)},set:function(g,h,l){d(self)[h]=l;return!0},has:function(g,
h){return h in d(self)}};return new window.Proxy({},f)};var XB=WB("colabDriveRealtime","CollaborativeTypes");var YB=function(a,b){b.beginCompoundOperation("Purging content: ",!1);var c=[];a.type==XB.COLLABORATIVE_LIST?(c=a.asArray(),a.clear()):a.type==XB.COLLABORATIVE_MAP?(c=a.values(),a.clear()):a.type==XB.COLLABORATIVE_STRING&&a.setText("");c.forEach(function(d){var e=d.type;e!=XB.COLLABORATIVE_LIST&&e!=XB.COLLABORATIVE_MAP&&e!=XB.COLLABORATIVE_STRING||YB(d,b)});b.endCompoundOperation()};var $B=function(a){var b={};switch(a.output_type){case "execute_result":b.output_type="pyout";break;case "error":b.output_type="pyerr";break;default:b.output_type=a.output_type}switch(a.output_type){case "error":b.ename=a.ename;b.evalue=a.evalue;b.traceback=a.traceback;break;case "stream":var c=a.text;c="string"==typeof c?c:c.join("");b.text=c;b.stream=a.name;break;case "display_data":ZB(a,b);break;case "execute_result":ZB(a,b);b.prompt_number=a.execution_count;break;default:throw Error("Unrecognized output type: "+
a.output_type);}return b},cC=function(a){var b={};b.cell_type=a.cell_type;switch(a.cell_type){case "heading":b.cell_type="markdown";b.source=aC("########".substring(0,a.level||0)+a.source);b.metadata=a.metadata;break;case "markdown":b.source=aC(a.source);b.metadata=a.metadata;break;case "code":b.source=aC(a.input);b.outputs=(a.outputs||[]).map(bC);b.metadata=a.metadata;b.execution_count=0;a.outputs&&0<a.outputs.length&&"pyout"==a.outputs[0].output_type&&(b.execution_count=a.outputs[0].prompt_number||
0);break;default:throw Error("Unrecognized cell type: "+a.cell_type);}return b},bC=function(a){var b={};switch(a.output_type){case "pyout":b.output_type="execute_result";break;case "pyerr":b.output_type="error";break;default:b.output_type=a.output_type}switch(a.output_type){case "pyerr":b.ename=a.ename;b.evalue=a.evalue;b.traceback=a.traceback;break;case "stream":b.text=aC(a.text);b.name=a.stream;break;case "display_data":b.data={};b.metadata={};dC(a,b);break;case "pyout":b.data={};b.metadata={};
dC(a,b);b.execution_count=a.prompt_number||0;break;default:throw Error("Unrecognized output type: "+a.output_type);}return b},aC=function(a){a=a||"";Za(a)&&(a=a.join(""));var b=(a.split("\n")||[]).map(function(c){return c+"\n"});a.endsWith("\n")?b.splice(b.length-1):(a=b[b.length-1],b[b.length-1]=a.substring(0,a.length-1));return b},ZB=function(a,b){b.metadata={tags:[]};Object.assign(b.metadata,a.metadata);Object.keys(a.data||{}).forEach(function(c){var d=a.data[c];Za(d)?b[c]=d.join(""):b[c]=F(d)?
d:"application/json"==c&&bb(d)?JSON.stringify(d):d})},dC=function(a,b){b.metadata=a.metadata;b.data={};Object.keys(a).forEach(function(c){if(c.includes("/")){var d=a[c];switch(c){case "text/html":case "text/plain":case "application/javascript":b.data[c]=aC(d);break;case "application/json":try{b.data[c]=JSON.parse(d);break}catch(e){}default:b.data[c]=d}}})};var eC=function(a){var b=a.nbformat||0,c=a.nbformat_minor||0;if(0===b&&0===c)throw new Cy("The document does not appear to be a correctly formatted notebook. Version information is missing in the JSON.");if(3===b&&0===c)return b={nbformat:4,nbformat_minor:0},c=a.metadata.colab||{},Object.assign(c,{version:a.metadata.colabVersion,views:a.metadata.colab_views,default_view:a.metadata.colab_default_view,name:a.metadata.name,provenance:a.metadata.provenance}),a.metadata.private_outputs&&(c.private_outputs=
!0),b.metadata={colab:c},a.metadata.accelerator&&(b.metadata.accelerator=a.metadata.accelerator),a=(a.worksheets[0].cells||[]).map(cC),b.cells=a,b;if(4==b)return a;throw new Cy("Attempted to load an unsupported notebook format; version "+(b+"."+c));},fC=function(a){return Array.isArray(a)?a.join(""):a||""};var gC=function(a,b){M.call(this);this.estimatedSize=0;this.realtimeCell_=a;this.model_=b;this.id_=rb(this.realtimeCell_.get("id"));this.originalMetadata_={}};t(gC,M);
var hC=function(a,b){if(!b)return 4;if(!b.addEventListener)return CA(b);if(b.type==XB.COLLABORATIVE_MAP){var c=24;b.keys().forEach(function(f){var g=b.get(f);c+=CA(f)+44+hC(this,g)},a);return c}if(b.type==XB.COLLABORATIVE_LIST){for(var d=32,e=0;e<b.length;e++)d+=24+hC(a,b.get(e));return d}if(b.type==XB.COLLABORATIVE_STRING)return b.length;console.error("Unknown type, won't be able to estimate size correctly",b);return 0};k=gC.prototype;k.getId=function(){return this.id_};k.getType=function(){return this.realtimeCell_.get("type")};
k.getTextModel=function(){return this.realtimeCell_.get("text")};k.getText=function(){return this.getTextModel().getText()};k.getModel=function(){return this.model_};k.getImportedFrom=function(){return this.realtimeCell_.get("imported_from")};k.makeOffline=function(){this.realtimeCell_[iC]=this.toJson();YB(this.getTextModel(),this.model_)};
k.toJson=function(a){a=void 0===a?{}:a;var b=void 0===a.basePathForRelativeUrls?"":a.basePathForRelativeUrls,c="markdown";"code"===this.getType()&&(c="code");a=Object.assign({},this.originalMetadata_,{id:this.getId(),colab_type:this.getType()});c={cell_type:c,metadata:a};var d=this.getTextModel().getText();b&&"markdown"==c.cell_type&&(d=VB(new Dl(b),d));c.source=aC(d);(b=this.realtimeCell_.get("slideshow"))?a.slideshow=b:delete a.slideshow;(b=this.getImportedFrom())?a.imported_from=b:delete a.imported_from;
return c};var jC=function(a,b,c){var d=c.createMap();a=a||d.id;d.set("id",a);d.set("type",b);d.set("text",c.createString());return d};gC.prototype.fillFromJson=function(a){var b=a.metadata,c=this.realtimeCell_;b&&b.imported_from&&c.set("imported_from",b.imported_from);b&&b.slideshow&&c.set("slideshow",b.slideshow);b=Object.assign({},b);b.colab&&delete b.colab;this.originalMetadata_=b;a=fC(a.source);this.realtimeCell_.get("text").setText(a)};da();var iC=Symbol("pickled_content");var kC=function(a){var b=void 0===a.commentable?!0:a.commentable;this.editable_=void 0===a.editable?!0:a.editable;this.commentable_=b};kC.prototype.isEditable=function(){return this.editable_};kC.prototype.isCommentable=function(){return this.commentable_};var lC=function(a){lb.call(this,a)};t(lC,lb);var mC=function(a){lb.call(this,a)};t(mC,lC);var nC=function(a){return a.parent_header?a.parent_header.msg_id:null};var oC=function(){M.call(this)};t(oC,M);k=oC.prototype;k.getReadyState=function(){};k.isOpen=function(){return this.getReadyState()==WebSocket.OPEN};k.send=function(a){this.sendString(JSON.stringify(a))};k.opened=function(a){console.log("Connected to "+a);this.dispatchEvent("opened")};k.closed=function(){this.dispatchEvent("closed")};var pC=function(a){K.call(this,"message");this.message=a};t(pC,K);var sC=function(a){var b=a.host,c=a.withCredentials,d=a.sessionIndex;return a.hostSupportsWebSockets?(new URL(b)).protocol!=window.location.protocol?new qC(b):new rC(b,c,d):new rC(b,c,d)},rC=function(a,b,c){this.host_=a;this.withCredentials_=b;this.sessionIndex_=c};k=rC.prototype;
k.postJson=function(a,b){a=yl(a,"authuser",this.sessionIndex_);var c;b&&(c=JSON.stringify(b));a=""+this.host_+a;b={withCredentials:this.withCredentials_,mimeType:"application/json"};a.includes(".com/tun/")&&(b.headers={"X-Colab-Tunnel":"Google"});return tw(a,c,b)};
k.post=function(a,b){a=yl(a,"authuser",this.sessionIndex_);var c;b&&(c=JSON.stringify(b));a=""+this.host_+a;b={withCredentials:this.withCredentials_,mimeType:"application/json"};a.includes(".com/tun/")&&(b.headers={"X-Colab-Tunnel":"Google"});return sw(a,c,b)};
k.get=function(a,b){b=void 0===b?{}:b;b=void 0===b.withCredentials?void 0:b.withCredentials;a=yl(a,"authuser",this.sessionIndex_);a=""+this.host_+a;b={withCredentials:void 0==b?this.withCredentials_:b};a.includes(".com/tun/")&&(b.headers={"X-Colab-Tunnel":"Google"});return rw(a,b)};k.close=function(){};
k.fetch=function(a,b){b=void 0===b?{}:b;var c=void 0===b.body?void 0:b.body,d=void 0===b.headers?void 0:b.headers,e=void 0===b.credentials?void 0:b.credentials,f=void 0===b.method?"GET":b.method,g=this,h,l,m;return B(function(n){h=new URL(a,window.location.toString());l=yl(h.search,"authuser",g.sessionIndex_);m=""+g.host_+h.pathname+l;d||(d=new Headers);m.includes(".com/tun/")&&d.set("X-Colab-Tunnel","Google");void 0==e&&(e=g.withCredentials_?"include":"omit");return n.return(fetch(m,{body:c,headers:d,
credentials:e,method:f}))})};var qC=function(a){this.host_=a.replace(/^http/,"ws");this.socket_=null;this.requests_=new Map;this.nextRequestId_=1;this.opened_=null};qC.prototype.postJson=function(a,b){return this.post(a,b).then(function(c){return JSON.parse(c)})};qC.prototype.post=function(a,b){var c=this,d,e;return B(function(f){if(1==f.nextAddress)return b&&(d=JSON.stringify(b)),u(f,c.fetch(a,{method:"POST",body:d}),2);e=f.yieldResult;if(!e.ok)throw new sA(e);return f.return(e.text())})};
qC.prototype.get=function(a){var b=this,c;return B(function(d){if(1==d.nextAddress)return u(d,b.fetch(a),2);c=d.yieldResult;if(!c.ok)throw new sA(c);return d.return(c.text())})};
qC.prototype.fetch=function(a,b){b=void 0===b?{}:b;var c=void 0===b.body?void 0:b.body,d=void 0===b.method?"GET":b.method,e=this,f,g,h,l;return B(function(m){if(1==m.nextAddress)return u(m,tC(e),2);f=new URL(a,window.location.toString());if(c instanceof ArrayBuffer)throw Error("Body must be a string or undefined.");g=e.nextRequestId_++;h={message_id:g,method:d,port:f.port,path:f.pathname,binary:!0,body:c};l="undefined"===typeof ReadableStream?new uC:new vC;e.requests_.set(g,l);e.socket_.send(JSON.stringify(h));
return m.return(l.done)})};var tC=function(a){if(!a.opened_){var b=Sl(Hl(new Dl(a.host_),"http_over_websocket"),"min_version","0.0.1a3");a.socket_=new WebSocket(b.toString());a.opened_=new Ik(function(c,d){a.socket_.addEventListener("open",c);a.socket_.addEventListener("error",function(e){wC(a,e);d(new mC("WebSocket connection could not be established"))})});a.socket_.addEventListener("close",function(c){wC(a,c)});a.socket_.addEventListener("message",function(c){a.handleMessage_(JSON.parse(c.data))})}return a.opened_};
qC.prototype.handleMessage_=function(a){var b=a.message_id,c=this.requests_.get(b);if(c){if(c.handleStatus({status:a.status,statusText:a.statusText,headers:new Headers(a.headers)}),a.data&&c.handleData(a.data),a.done||void 0===a.done)this.requests_.delete(b),c.finish()}else console.warn("Unexpected message: ",a)};var wC=function(a,b){a.opened_=null;a.socket_=null;for(var c=q(a.requests_.values()),d=c.next();!d.done;d=c.next())d.value.reject(b);a.requests_.clear()};
qC.prototype.close=function(){this.socket_&&(this.socket_.close(),this.opened_=this.socket_=null)};var xC=function(){var a=this;this.reject=this.resolve_=null;this.done=new Ik(function(b,c){a.resolve_=b;a.reject=c})};xC.prototype.handleStatus=function(){};xC.prototype.handleData=function(){};xC.prototype.finish=function(){};var vC=function(){xC.call(this);this.controller_=null};t(vC,xC);
vC.prototype.handleStatus=function(a){if(!this.controller_){var b=void 0,c=this;204!=a.status&&(b=new ReadableStream({start:function(d){c.controller_=d}}));this.resolve_(new Response(b,a))}};vC.prototype.handleData=function(a){this.controller_&&this.controller_.enqueue(ng(a))};vC.prototype.finish=function(){this.controller_&&this.controller_.close()};var uC=function(){xC.call(this);this.bodyParts_=[]};t(uC,xC);uC.prototype.handleStatus=function(a){this.responseInit_||(this.responseInit_=a)};
uC.prototype.handleData=function(a){this.bodyParts_.push(a)};uC.prototype.finish=function(){var a=this.bodyParts_.join("");a=a?ng(a):void 0;this.resolve_(new Response(a,this.responseInit_))};var yC=function(a){var b=void 0===a.perSessionIsolation?!1:a.perSessionIsolation,c=void 0===a.perUserIsolation?!1:a.perUserIsolation,d=void 0===a.userId?"":a.userId;this.fileId_=a.fileId;this.suffix_=this.username_=null;b&&(a=window.sessionStorage.getItem("kernelSuffix"),a||(a=Math.random().toString(36).substr(2),window.sessionStorage.setItem("kernelSuffix",a)),this.suffix_=a);c&&d&&(this.username_=d)};yC.prototype.getFileId=function(){return this.fileId_};yC.prototype.getUsername=function(){return this.username_};
yC.prototype.equals=function(a){return a?a.getFileId()==this.getFileId()&&a.suffix_==this.suffix_&&a.getUsername()==this.getUsername():!1};
var AC=function(a){var b=new rs;b.update(JSON.stringify(zC(a)));return lg(b.digest(),!0)},BC=function(a){var b=zC(a);a=b[0];b=b[1];if(a.length!=b.length)throw Error("Mismatched lengths for keys/values");for(var c=new Ll(null,void 0),d=0;d<a.length;d++)c.add(a[d],b[d]);return c.toString()},zC=function(a){var b=["fileId"],c=[a.getFileId()];a.suffix_&&(b.push("kernelSuffix"),c.push(a.suffix_));a.getUsername()&&(b.push("username"),c.push(a.getUsername()));return[b,c]};var CC=function(a){var b=a.ename,c=a.evalue;this.status=a.status;this.ename=b;this.evalue=c};CC.prototype.isSuccess=function(){return"ok"==this.status};var DC=function(a){var b=a.matches,c=a.matchedText,d=a.typeMetadata,e=a.cursorStart,f=a.cursorEnd,g=void 0===a.matchesIncomplete?!1:a.matchesIncomplete;CC.call(this,{status:void 0===a.status?"ok":a.status,ename:a.ename,evalue:a.evalue});this.matches=b;this.matchedText=c;this.typeMetadata=d||null;this.cursorStart=e;this.cursorEnd=f;this.matchesIncomplete=g};t(DC,CC);var EC=function(a){var b=a.definition;this.typeName=a.typeName;this.definition=b};var FC=function(a){this.type=a},GC=function(a,b){b={output_type:a.type,metadata:{tags:b}};a.fillNotebookFormatOutputItem(b);return b};var HC=function(){};k=HC.prototype;k.onUserInputRequest=function(){};k.supportsUserInput=function(){return!1};k.onClearOutput=function(){return!1};k.onOutput=function(){return!1};k.onColabRequest=function(){return null};k.getCellId=function(){return""};k.onCommOpen=function(){};k.onCommMessage=function(){};var IC=function(a){var b=a.data,c=a.metadata;a=a.displayId;this.type="display_data";this.data=b;this.metadata=c;this.displayId=a;this.control=BA(c,["outputarea"])||null};t(IC,FC);IC.prototype.fillNotebookFormatOutputItem=function(a){JC(this.data,this.metadata,this.displayId,a)};var JC=function(a,b,c,d){for(var e=q(Object.keys(a)),f=e.next();!f.done;f=e.next())f=f.value,d[f]=a[f];a=q(Object.keys(b));for(f=a.next();!f.done;f=a.next())e=f.value,d.metadata[e]=b[e];c&&(d.display_id=c)};var KC=function(a){var b=a.status,c=a.ename,d=a.evalue;IC.call(this,{data:a.data,metadata:a.metadata,displayId:a.displayId});this.status=b;this.ename=c;this.evalue=d};t(KC,IC);KC.prototype.isSuccess=function(){return"ok"==this.status};var LC=function(a){var b=new Map;if(!a)return b;for(var c=q(Object.keys(a)),d=c.next();!d.done;d=c.next()){d=d.value;var e=a[d];e=new KC({data:e.data,metadata:e.metadata,status:e.status,displayId:e.displayId,ename:e.ename,evalue:e.evalue});b.set(d,e)}return b};var MC=function(a){var b=a.payload,c=a.executionCount,d=a.executionFinished,e=a.userExpressions;CC.call(this,{status:a.status,ename:a.ename,evalue:a.evalue});this.payload=b;this.executionCount=c;this.executionFinished=d;this.userExpressions=e};t(MC,CC);var NC=function(a){a=a.language;CC.call(this,{status:"ok"});this.language=a};t(NC,CC);var OC=function(a){var b=a.docstring,c=a.definition,d=a.initDocstring,e=a.initDefinition,f=a.callDocstring,g=a.isClass,h=a.name,l=a.argSpec,m=a.stringForm,n=a.typeName;CC.call(this,{status:void 0===a.status?"ok":a.status});this.docstring=b;this.definition=c;this.initDocstring=d;this.initDefinition=e;this.callDocstring=f;this.isClass=g;this.name=h||"";this.argSpec=l||null;this.stringForm=m||"";this.typeName=n||null};t(OC,CC);
var PC=function(a){var b=a.defaults,c=a.varargs,d=a.kwargs;this.args=a.args;this.defaults=b;this.varargs=c;this.kwargs=d};var RC=function(a){var b=a.usageProvider,c=a.ramThreshold;a=a.pollInterval;M.call(this);this.getUsage_=b;this.pollInterval_=a;this.resources_=[new QC({type:"disk",threshold:.8}),new QC({type:"gpu_memory",threshold:.8}),new QC({type:"ram",threshold:c})];this.started_=this.running_=!1;this.cachedUsage_={ram:{kernels:{},limit:0,usage:0}}};t(RC,M);k=RC.prototype;k.dispose=function(){M.prototype.dispose.call(this);this.stop()};
k.start=function(){if(this.started_)throw Error("start called twice");this.running_=this.started_=!0;this.schedulePoll_()};k.schedulePoll_=function(){var a=this;this.running_&&this.pollOnce_().then(function(){return pn(a.pollInterval_)}).then(function(){a.schedulePoll_()})};k.stop=function(){this.running_=!1;this.dispatchEvent(new K("STOP"))};
k.pollOnce_=function(){var a=this,b,c,d;return B(function(e){if(1==e.nextAddress)return y(e,2),!a.running_||HA()?e.return():u(e,a.getUsage_(),4);if(2!=e.nextAddress)return b=e.yieldResult,c=new SC(b),a.dispatchEvent(c),a.cachedUsage_=b,TC(a,b.ram,"ram"),TC(a,b.gpu,"gpu_memory"),TC(a,b.disk,"disk"),va(e,0);d=z(e);console.warn("pollOnce_: "+d);x(e)})};
var TC=function(a,b,c){var d=a.resources_.find(function(g){return g.type==c});if(b&&b.limit&&d){var e=b.usage/b.limit,f=d.threshold;!d.notified&&e>f&&(a.dispatchEvent(new UC(b,c)),d.notified=!0);e<f&&(d.notified=!1)}},QC=function(a){var b=a.threshold;this.type=a.type;this.threshold=b;this.notified=!1},UC=function(a,b){K.call(this,"THRESHOLD_EXCEEDED");this.usage=a;this.resourceType=b};t(UC,K);var SC=function(a){K.call(this,"UPDATE");this.usage=a};t(SC,K);var VC=function(a){Cy.call(this,"RuntimeManager: Bad HTTP status: "+a.status);this.response=a};t(VC,Cy);var WC=function(){return vA().replace(/-/g,"")};var XC=function(a,b){M.call(this);this.sessionId=WC();this.kernelSessionId=b;this.MessageType=a};t(XC,M);XC.prototype.stop=function(){};XC.prototype.send=function(){};XC.prototype.createMessage=function(){};
XC.prototype.resume=function(){var a=this,b=this.createMessage(this.getExecuteRequestMessageType(),{allow_stdin:!1,code:"",silent:!0,store_history:!1,user_expressions:{},user_variables:[]},{colab:{get_unacked:!0}}),c=b.header.msg_id;Gz("session: resume_: execute_request message "+c);var d=Tk(),e=nk(this,"execute_reply",function(h){h.parentMessageId==c&&(Gz("session resume: execute_request completed"),d.resolve())}),f=nk(this,"status",function(h){h.resumeParentId==c&&"busy"==h.status&&(Gz("session: resume_: synthesized BUSY message; its parent "+
("message ID: "+h.parentMessageId+" ")+("resume ID: "+h.resumeParentId+" ")+("resumeCellId: "+h.resumeCellId)),h.stopPropagation(),a.dispatchEvent(new YC({status:h})))}),g=nk(this,"output",function(h){h=h.content;"stream"==h.type&&"Buffered data was truncated after reaching the output size limit."===GC(h,[]).text&&(a.dispatchEvent(new ZC),vk(g))});this.send(b);return Wk(d.promise,function(){vk(e);vk(f);vk(g)})};var ZC=function(){K.call(this,"resume_overflowed")};t(ZC,K);
var $C=function(a,b){K.call(this,a);this.parentMessageId=b};t($C,K);var aD=function(a,b,c){$C.call(this,a,b);this.reply=c};t(aD,$C);var bD=function(a,b){aD.call(this,"execute_reply",a,b)};t(bD,aD);var cD=function(a,b){aD.call(this,"complete_reply",a,b)};t(cD,aD);var dD=function(a,b){aD.call(this,"kernel_info_reply",a,b)};t(dD,aD);var eD=function(a,b){aD.call(this,"object_info_reply",a,b)};t(eD,aD);
var fD=function(a){var b=a.prompt,c=a.password;$C.call(this,"stdin",a.parentMessageId);this.prompt=b;this.password=c};t(fD,$C);var gD=function(a){var b=a.outputItem;$C.call(this,"output",a.parentMessageId);this.content=b};t(gD,$C);var hD=function(a){var b=a.status,c=a.resumeParentId,d=a.resumeCellId,e=a.pendingCellIds;$C.call(this,"status",a.parentMessageId);this.status=b;this.resumeParentId=c;this.resumeCellId=d;this.pendingCellIds=e};t(hD,$C);
var YC=function(a){a=a.status;$C.call(this,"resumed_execution",a.parentMessageId);this.statusMessage=a};t(YC,$C);var iD=function(a){var b=a.wait,c=a.tags;$C.call(this,"clear_output",a.parentMessageId);this.wait=b;this.tags=c};t(iD,$C);var jD=function(a){var b=a.requestType,c=a.request,d=a.colabMsgId,e=a.isSameSession;$C.call(this,"colab_request",a.parentMessageId);this.requestType=b;this.request=c;this.colabMsgId=d;this.isSameSession=e};t(jD,$C);
var kD=function(a){var b=a.restart,c=a.status;$C.call(this,"shutdown_reply",a.parentMessageId);this.restart=b;this.status=c};t(kD,$C);var lD=function(a){var b=a.commId,c=a.targetName,d=a.data;$C.call(this,"comm_open",a.parentMessageId);this.commId=b;this.targetName=c;this.data=d};t(lD,$C);var mD=function(a){var b=a.commId,c=a.data;$C.call(this,"comm_msg",a.parentMessageId);this.commId=b;this.data=c};t(mD,$C);var nD=function(a){this.fileId=a.fileId;this.notebookId=a.notebookId;this.gpuUsage=a.gpuUsage;this.kernelId=a.kernelId;this.lastActivity=a.lastActivity;this.ramUsage=a.ramUsage;this.sessionId=a.sessionId;this.title=a.title},oD=function(a){K.call(this,"cell_executed");this.code=a};t(oD,K);var pD=function(a){K.call(this,"kernel_started_execution");this.cellId=a};t(pD,K);var qD=function(a,b,c){K.call(this,"kernel_resumed_execution");this.parentMessageId=a;this.cellId=b;this.pendingCellIds=c};t(qD,K);
var rD=function(a){K.call(this,"cell_execution_completed");this.error=a};t(rD,K);var sD=function(a,b){K.call(this,"kernel_selection");this.kernelName=a;this.connectionParams=b;this.selectionPromise_=null};t(sD,K);var tD=function(){K.call(this,"interrupted")};t(tD,K);var uD={BACKEND_PING:6E4,POLL_MEMORY_USAGE:6E4},vD=function(a){Cy.call(this,"Kernel: Bad HTTP status: "+a.status);this.response=a};t(vD,Cy);kb("colab.kernel.Kernel.intervals",uD);var wD=function(a,b,c){this.id_=a;this.layoutId_=void 0===b?null:b;this.layoutPosition_=void 0===c?null:c};wD.prototype.getId=function(){return this.id_};wD.prototype.toObject=function(){return this.layoutId_&&this.layoutPosition_?{id:this.id_,layoutId:this.layoutId_,layoutPosition:this.layoutPosition_}:{id:this.id_}};var xD=function(a,b,c){this.id_=a;this.type_=b;this.options_=c};xD.prototype.getId=function(){return this.id_};xD.prototype.getType=function(){return this.type_};xD.prototype.getOptions=function(){return this.options_};xD.prototype.toObject=function(){return{id:this.id_,type:this.type_,options:this.options_}};var yD=function(a,b,c,d){M.call(this);this.name_=a;this.cells_=b;this.hideCode_=c;this.layouts_=d};t(yD,M);var zD=function(a,b){var c=Fb(b.cells,function(e){return new wD(e.id,e.layoutId,e.layoutPosition)}),d=null;b.layouts&&(d=Fb(b.layouts,function(e){return new xD(e.id,e.type,e.options)}));return new yD(a,c,b.hide_code,d)};yD.prototype.getCells=function(){return this.cells_};yD.prototype.getName=function(){return this.name_};
yD.prototype.toObject=function(){var a=this.cells_.map(function(c){return c.toObject()});if(this.layouts_){var b=this.layouts_.map(function(c){return c.toObject()});return{cells:a,hide_code:this.hideCode_,layouts:b}}return{cells:a,hide_code:this.hideCode_}};var AD=WB("colabDriveRealtime","EventType");var CD=function(a){M.call(this);var b=this;this.views_=a;this.viewModels_=new Map;this.views_.keys().forEach(function(c){BD(b,c,b.views_.get(c))});this.views_.addEventListener(AD.VALUE_CHANGED,hb(this.onRealtimeViewsChanged_,this))};t(CD,M);CD.prototype.addView=function(a){this.views_.set(a.getName(),a.toObject())};var BD=function(a,b,c){c=zD(b,c);nk(c,"view_updated",hb(a.onViewUpdated_,a));a.viewModels_.set(b,c);a.dispatchEvent("view_map_updated")};
CD.prototype.onViewUpdated_=function(a){console.log(a);a=a.target;this.views_.has(a.getName())&&(this.views_.set(a.getName(),a.toObject()),this.dispatchEvent("view_map_updated"))};
CD.prototype.onRealtimeViewsChanged_=function(a){if(null!==a.oldValue){var b=a.property;if(this.viewModels_.has(b)){var c=this.viewModels_.get(b);if(c)if(ck(c))c.removeAllListeners(void 0);else if(c=qk(c)){var d=0,e;for(e in c.listeners)for(var f=c.listeners[e].concat(),g=0;g<f.length;++g)vk(f[g])&&++d}this.viewModels_.delete(b);this.dispatchEvent("view_map_updated")}}null===a.newValue||BD(this,a.property,a.newValue)};CD.prototype.getView=function(a){return this.viewModels_.get(a)};function DD(a){return a instanceof Object&&E(a.cells)&&E(a.hide_code)?a.cells.every(function(b){return E(b.id)}):!1}function ED(a){var b=a.get("type");a=a.get("text").getText().trim();if("code"===b&&"%%"!=a.slice(0,2)){b=a.split("\n");for(a=0;a<b.length;a++)"%"==b[a].trim().slice(0,1)&&(b[a]="# "+b[a]);b=b.join("\n")}else b=a.replace(/"""/g,"'''"),0<b.indexOf("\n")&&(b+="\n"),b='"""'+b+'"""';return b}function FD(a){return a.get("text").getText()}
var GD=function(a,b,c){b=b.getRoot().get("cells").asArray().map(ED);b.splice(0,0,'"""'+a+'"""','"""Automatically generated by Colaboratory.\n\nOriginal file is located at\n    '+c+'"""');a=b;c=[];b=!1;for(var d=0;d<a.length;d++){var e=a[d].trim(),f=e.slice(0,3),g=e.slice(3,-3).trim();f=f==e.slice(-3)&&'"""'==f&&0>g.indexOf('"""');f&&0==g.length||(f&&b?c[c.length-1]='"""'+[c[c.length-1].slice(3,-3).trim(),"",a[d].slice(3,-3).trim(),""].join("\n")+'"""':(b=f,c.push(e)))}return"# -*- coding: utf-8 -*-\n"+
c.join("\n\n")},ID=function(a){return{nbformat:4,nbformat_minor:0,metadata:{colab:{name:a,version:HD,views:{},default_view:{},provenance:[]}},cells:[]}},JD=function(a,b){return(void 0===b?0:b)?JSON.stringify(a,void 0,2):JSON.stringify(a)},KD=function(a,b,c,d){var e=a.createMap();e.set("text",a.createString(c));e.set("type",b);e.set("collaborators",a.createList());e.set("id",d||e.id);"code"==b&&(e.set("outputs",a.createMap()),b=a.createMap(),b.set("autoexec",a.createMap({startup:!1,wait_interval:0})),
e.set("colab",b));return e},LD=function(a,b,c){var d=b.metadata.colab||{};b=b.metadata;var e=d.collapsed_sections;e&&a.set("collapsed_sections",e);a.set("provenance",d.provenance||[]);a.set("private_outputs",!!d.private_outputs);d.toc_visible&&a.set("toc_visible",!0);d.include_colab_link&&a.set("include_colab_link",!0);(e=b.kernelspec)?a.set("kernelspec",e):a.delete("kernelspec");(e=d.last_runtime)?a.set("last_runtime",e):a.delete("last_runtime");(b=b.accelerator)?a.set("accelerator",b):a.delete("accelerator");
var f=c.createMap();a.set("views",f);hc(d.views||{},function(g,h){DD(g)&&f.set(h,g)})},HD="0.3.2";var MD=function(){};MD.prototype.getTitle=function(a,b){return b.title||a.getTitle()};MD.prototype.getIpynb4Notebook=function(a,b,c){var d=c.inlineEmbeddedOutputs;c=this.getTitle(a,b);d=ND(a,{inlineEmbeddedOutputs:d});d.metadata.colab.name=c;b.clone&&d.metadata.colab.provenance.unshift({file_id:a.getFileId().toString(),timestamp:Date.now()});return d};var OD=function(a,b,c){return JD(a.getIpynb4Notebook(b,c,{inlineEmbeddedOutputs:!0}),!0)};var PD=function(){};PD.prototype.showOpenNotebookDialog=function(){return B(function(a){x(a)})};PD.prototype.createFileIdFromPathParts=function(a,b,c){switch(c){case "drive":return 1==b.length&&b[0]?new $y(b[0],c):null;case "sidecar":return new $y(a,c);case "hosted_path":return new $y("/"+b.join("/"),c);default:throw Error("Unsupported fileId source "+c);}};
PD.prototype.getFileIdIcon=function(a){switch(a){case "drive":return Wc(Gc("colab:drive-logo"));case "bundled":return Wc(Gc("colab:colab-logo"));default:return Wc(Gc("help"))}};var QD=null,RD=null,SD=null,TD=null,Nz=null,UD=null,VD=null,WD=null,XD=null;function YD(a,b){b=void 0===b?{}:b;var c=void 0===b.startDelayMillis?500:b.startDelayMillis,d=void 0===b.maxDelayMillis?3E4:b.maxDelayMillis,e=void 0===b.maxRetryCount?7:b.maxRetryCount,f,g,h;return B(function(l){switch(l.nextAddress){case 1:qb(c),qb(d),qb(e),f=new xw(c,d),g=0;case 2:return y(l,4),u(l,a(g++),6);case 6:return l.return(l.yieldResult);case 4:h=z(l);if(h instanceof ZD)throw h.error;if(g>=e)throw h;case 5:return u(l,pn(f.getValue()),7);case 7:f.currBaseValue_=Math.min(f.maxValue_,f.currBaseValue_*
f.backoffFactor_),f.currValue_=Math.min(f.maxValue_,f.currBaseValue_+(f.randomFactor_?Math.round(f.randomFactor_*(Math.random()-.5)*2*f.currBaseValue_):0)),l.jumpTo(2)}})}var ZD=function(a){lb.call(this,a.message);this.error=a};t(ZD,lb);/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){if(rx&&!HTMLElement.es5Shimmed&&void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)};HTMLElement.prototype=a.prototype;HTMLElement.prototype.constructor=HTMLElement;HTMLElement.es5Shimmed=!0;Object.setPrototypeOf(HTMLElement,a)}})();var $D=function(){var a=HTMLElement.call(this)||this;my&&a.createdCallback();return a};t($D,HTMLElement);k=$D.prototype;k.createdCallback=function(){};k.attachedCallback=function(){};k.connectedCallback=function(){this.attachedCallback()};k.detachedCallback=function(){};k.disconnectedCallback=function(){this.detachedCallback()};var V=function(a){var b=a.description,c=void 0===a.disabled?null:a.disabled,d=void 0===a.constraint?[]:a.constraint,e=void 0===a.shortcut?"":a.shortcut,f=void 0===a.safeFromIframe?!1:a.safeFromIframe;this.id=a.id;this.description_=b;this.disabled_=c?c:function(){return!1};this.constraint=new Set(d);this.shortcut_=e;this.safeFromIframe=f;this.overriddenShortcut_=null},aE=function(a){return a.description_||""},bE=function(a){return null!=a.overriddenShortcut_?a.overriddenShortcut_:a.shortcut_};
V.prototype.isDisabled=function(){return Nz.isCommandDisabled(this.id)||this.disabled_()};var cE=Jf?"\u2318/":"",dE=Jf?"\u2318":"Ctrl",eE=cE+"Ctrl+Shift+Z",fE=cE+"Ctrl+Shift+Y",gE=dE+"+C",hE=dE+"+X",iE=function(a){switch(a){case 91:case 93:case 18:case 17:case 16:return"";case 189:return"-";case 222:return"'";case 219:return"[";case 221:return"]";case 44:return"print-screen";case 19:return"pause";case 59:return"ff-semicolon";case 61:return"ff-equals";case 92:return"win-key-right"}var b=ku[a];return b?Se(b):String.fromCharCode(a)},jE=function(a,b,c){(a=a.map(function(d){return"ctrl"==d?
cE+Se(d):Se(d)}).join("+"))&&(a+="+");a+=iE(b);c&&(a+=" "+jE([],c));return Se(a)},kE=function(a,b){b=b.keyCode;var c=document.activeElement;return c&&("SELECT"==c.tagName||"PAPER-ITEM"==c.tagName||"PAPER-LISTBOX"==c.tagName)&&0==a.length&&(13==b||32==b||27==b||37<=b&&40>=b||48<=b&&57>=b||65<=b&&90>=b)?!0:!1},lE=function(a){var b=[];(a.ctrlKey||a.metaKey)&&b.push("ctrl");a.altKey&&b.push("alt");a.shiftKey&&b.push("shift");return b},mE=function(a,b){if(b)return Se(b)+" "+jE([],a.keyCode);b=lE(a);return kE(b,
a)?"":jE(b,a.keyCode)},nE=function(a){return jE(["ctrl"],77,a)},oE=function(a){return jE(["ctrl"],a)},pE=function(a){return jE(["ctrl","shift"],a)},qE=nE(90),rE=nE(),sE="",tE=function(){sE=this.hotKeyPrefix_=""},uE=function(a,b){var c=mE(b,a.hotKeyPrefix_);sE=a.hotKeyPrefix_="";c==rE&&(sE=a.hotKeyPrefix_=rE,b.preventDefault(),b.stopPropagation());return c};tE.prototype.reset=function(){sE=this.hotKeyPrefix_=""};
var vE=new Set(["Alt+F4","Alt+Shift+T",rE,cE+"Ctrl+F4",cE+"Ctrl+R",cE+"Ctrl+N",cE+"Ctrl+T",cE+"Ctrl+W",cE+"Ctrl+Z",cE+"Ctrl+Y",cE+"Ctrl+C",cE+"Ctrl+X",cE+"Ctrl+V",cE+"Ctrl+Tab",cE+"Ctrl+Shift+Tab",cE+"Ctrl+Shift+T","Shift+Esc",qE]);var wE=new Map;function X(a){wE.set(a.id,a);return a}
var xE=function(){var a=new Map;wE.forEach(function(b){b.isDisabled()||a.set(b.id,b)});return a},yE=function(a){var b=wE.get(a);I(b,a+" is not a valid command.");return b},zE=function(a){return(a=a.getAttribute("command"))?yE(a):null},AE=X(new V({id:"add-code",description:"Add code cell",constraint:["editable"]})),BE=X(new V({id:"add-comment",description:"Add a comment",constraint:["cell-focused","not-scratch-cell-focused","commentable"],shortcut:"Ctrl+Alt+M",disabled:function(){return Lx}})),CE=
X(new V({id:"add-external-cell",description:"Add external cell",constraint:["editable"]})),DE=X(new V({id:"add-form",description:"Add a form",constraint:["editable","code-cell-focused","not-scratch-cell-focused","focused-code-cell-has-no-form"],disabled:function(){return Lx}})),EE=X(new V({id:"add-form-field",description:"Add a form field",constraint:["editable","code-cell-focused","not-scratch-cell-focused"],disabled:function(){return Lx}})),FE=X(new V({id:"add-text",description:"Add text cell",
constraint:["editable"]})),GE=X(new V({id:"add-section-header",description:"Add section header cell",constraint:["editable"]}));X(new V({id:"add-table-of-contents",description:"Add table of contents cell",constraint:["editable"]}));
var HE=X(new V({id:"ask-on-stackoverflow",description:"Ask on Stack Overflow"})),IE=X(new V({id:"clear-outputs",description:"Clear all outputs",constraint:["editable"]})),JE=X(new V({id:"clear-focused-or-selected-outputs",description:"Clear selected outputs",constraint:["editable"]})),KE=X(new V({id:"clone",description:"Save a copy in Drive"})),LE=X(new V({id:"collapse-sections",description:"Collapse all/selected sections",constraint:["selection-contains-collapsible-sections"],shortcut:oE(221),safeFromIframe:!0})),
ME=X(new V({id:"connect",description:"Connect to a runtime",constraint:["editable"]})),NE=X(new V({id:"connect-local",description:"Connect to a local runtime",constraint:["editable"],disabled:function(){return!Nz.DROPDOWN_CONNECT_BUTTON}})),OE=X(new V({id:"connect-local-troubleshoot",description:"",constraint:["editable","not-in-palette"],disabled:function(){return!Nz.DROPDOWN_CONNECT_BUTTON}}));
X(new V({id:"convert-to-code-cell",description:"Convert to code cell",constraint:["editable","text-cell-focused","not-scratch-cell-focused"],shortcut:nE(89)}));X(new V({id:"convert-to-markdown-cell",description:"Convert to text cell",constraint:["editable","code-cell-focused","not-scratch-cell-focused"],shortcut:nE(77)}));
var PE=X(new V({id:"copy",description:"Copy selection",constraint:["not-in-palette"]})),QE=X(new V({id:"copy-to-github",description:"Save a copy in GitHub"})),RE=X(new V({id:"copy-to-gist",description:"Save a copy as a GitHub Gist"})),SE=X(new V({id:"copy-to-piper",description:""})),TE=X(new V({id:"copy-to-scratch-cell",description:"Copy to scratch cell",constraint:["editable","code-cell-focused","not-scratch-cell-focused"],disabled:function(){return Lx}})),UE=X(new V({id:"create-view",description:"Create new read-only view",
constraint:["editable","saveable"],disabled:function(){return!Sx||!Nz.VIEWS}})),VE=X(new V({id:"cut",description:"Cut selection",constraint:["editable","not-in-palette"]}));X(new V({id:"cycle-form-view",description:"Cycle form view",constraint:["code-cell-focused","not-scratch-cell-focused"],shortcut:nE(70)}));
var WE=X(new V({id:"delete-cell-or-selection",description:"Delete cell/selection",constraint:["editable","cell-focused-or-selected","not-scratch-cell-focused"],shortcut:nE(68)})),XE=X(new V({id:"delete-selected-cells",description:"",constraint:["editable","not-editing","cells-selected"],shortcut:jE([],46)}));X(new V({id:"debugger-step",description:"Debugger step in",constraint:["debugging-mode"],shortcut:jE([],117),disabled:function(){return!Nz.ADVANCED_DEBUGGER||!Mx}}));
X(new V({id:"debugger-next",description:"Debugger next",constraint:["debugging-mode"],shortcut:jE([],118),disabled:function(){return!Nz.ADVANCED_DEBUGGER||!Mx}}));X(new V({id:"debugger-return",description:"Debugger return",constraint:["debugging-mode"],shortcut:jE([],119),disabled:function(){return!Nz.ADVANCED_DEBUGGER||!Mx}}));X(new V({id:"debugger-continue",description:"Debugger continue",constraint:["debugging-mode"],disabled:function(){return!Nz.ADVANCED_DEBUGGER||!Mx}}));
X(new V({id:"debugger-exit",description:"Debugger exit",constraint:["debugging-mode"],disabled:function(){return!Nz.ADVANCED_DEBUGGER||!Mx}}));
var YE=X(new V({id:"download-ipynb",description:"Download .ipynb",disabled:function(){return Lx}})),ZE=X(new V({id:"download-python",description:"Download .py",disabled:function(){return Lx}})),$E=X(new V({id:"select-or-edit-if-selected",description:"",constraint:["not-editing"],shortcut:jE([],13)})),aF=X(new V({id:"expand-sections",description:"Expand all/selected sections",constraint:["selection-contains-expandable-sections"],shortcut:oE(219),safeFromIframe:!0})),bF=X(new V({id:"find",description:"Global find/replace",
shortcut:oE(72)})),cF=X(new V({id:"find-next",description:"Global find next",shortcut:oE(71)})),dF=X(new V({id:"find-previous",description:"Global find previous",shortcut:pE(71)})),eF=X(new V({id:"format-cell",description:"Format selected cells",constraint:["editable","cell-focused-or-selected","not-scratch-cell-focused"],shortcut:cE+"Ctrl+Alt+F"})),fF=X(new V({id:"help",description:""})),gF=X(new V({id:"getting-started",description:""})),hF=X(new V({id:"colabtools-reference",description:""})),iF=
X(new V({id:"faq",description:"Open Colaboratory FAQ"})),jF=X(new V({id:"forms-reference",description:""})),kF=X(new V({id:"magic-reference",description:""})),lF=X(new V({id:"hide-code",description:"Hide code in selected cells",constraint:["cell-focused-or-selected","not-scratch-cell-focused"]})),mF=X(new V({id:"import-notebook",description:"Upload notebook...",disabled:function(){return Gx}}));
X(new V({id:"insert-cell-above",description:"Insert code cell above",constraint:["editable","cell-focused","not-scratch-cell-focused"],shortcut:nE(65)}));X(new V({id:"insert-cell-below",description:"Insert code cell below",constraint:["editable","cell-focused","not-scratch-cell-focused"],shortcut:nE(66)}));
var nF=X(new V({id:"interrupt",description:"Interrupt execution",constraint:["connected-to-runtime"],shortcut:nE(73)})),oF=X(new V({id:"lint-notebook",description:"Lint notebook",shortcut:nE(84)})),pF=X(new V({id:"locate-in-drive",description:"Locate in Drive",constraint:["is-drive"]})),qF=X(new V({id:"manage-sessions",description:"Manage sessions",constraint:["logged-in","connected-to-runtime-or-isolated"]})),rF=X(new V({id:"manage-views",description:"Manage read-only views",disabled:function(){return!Sx||
!Nz.VIEWS},constraint:["editable","saveable"]}));X(new V({id:"move-cell-down",description:"Move selected cells down",constraint:["editable","cell-focused-or-selected","not-scratch-cell-focused"],shortcut:nE(74)}));X(new V({id:"move-cell-up",description:"Move selected cells up",constraint:["editable","cell-focused-or-selected","not-scratch-cell-focused"],shortcut:nE(75)}));
var sF=X(new V({id:"new",description:"Create new notebook",disabled:function(){return VD.SUPPORTS_PYTHON_3}})),tF=X(new V({id:"new-python-2-notebook",description:sz(zz.display_name),disabled:function(){return!VD.SUPPORTS_PYTHON_3}})),uF=X(new V({id:"new-python-3-notebook",description:sz(Az.display_name),disabled:function(){return!VD.SUPPORTS_PYTHON_3}}));X(new V({id:"next-cell",description:"Next cell",constraint:["cell-focused","not-scratch-cell-focused"],shortcut:nE(78)}));
var vF=["editable"],wF=X(new V({id:"notebook-settings",description:"Open notebook settings",constraint:vF})),xF=X(new V({id:"change-runtime-type",description:"Change runtime type",constraint:vF,disabled:function(){return!VD.SUPPORTS_PYTHON_3}})),yF=X(new V({id:"open",description:"Open notebook",shortcut:oE(79),safeFromIframe:!0}));X(new V({id:"open-comments-thread",description:"Open comments pane",constraint:["commentable"]}));
var zF=X(new V({id:"open-in-playground",description:"Open in playground mode",constraint:["not-playground-mode"],disabled:function(){return Gx}}));X(new V({id:"open-runtime-logs",description:"",constraint:["connected-to-runtime","has-url"]}));X(new V({id:"open-runtime-manager-statusz",description:"",constraint:["connected-to-runtime","has-url"]}));
var AF=X(new V({id:"open-runtime-statusz",description:"",constraint:["connected-to-runtime","has-url"]})),BF=X(new V({id:"open-scratch-code-cell",description:"Open scratch code cell",shortcut:cE+"Ctrl+Alt+N",constraint:["editable"],disabled:function(){return Lx}})),CF=X(new V({id:"paste",description:"",constraint:["editable"],disabled:function(){return Lx}})),DF=X(new V({id:"powerwash",description:"Reset all runtimes"})),EF=X(new V({id:"preferences",description:"Open preferences"}));
X(new V({id:"prevent-navigation",description:"",constraint:["not-editing"],shortcut:jE([],8)}));X(new V({id:"previous-cell",description:"Previous cell",constraint:["cell-focused","not-scratch-cell-focused"],shortcut:nE(80)}));
var FF=X(new V({id:"print",description:"Print notebook",shortcut:oE(80)})),GF=X(new V({id:"redo",description:"Redo cell action",constraint:["redoable","editable","not-editing"],shortcut:pE(89),safeFromIframe:!0})),HF=X(new V({id:"rename",description:"Rename notebook",constraint:["editable","saveable"],disabled:function(){return Gx}})),IF=X(new V({id:"report-bug",description:"Report a bug"}));
X(new V({id:"reconnect-local",description:"Connect to a local runtime",constraint:["editable","not-in-palette"],disabled:function(){return!Nz.DROPDOWN_CONNECT_BUTTON}}));
var JF=X(new V({id:"restart",description:"Restart runtime",constraint:["connected-to-runtime"],shortcut:nE(190)})),KF=X(new V({id:"restart-and-run-all",description:"Restart runtime and run all cells in notebook",constraint:["connected-to-runtime"]})),LF=X(new V({id:"restart-from-interrupt",description:"Restart runtime",constraint:["connected-to-runtime","cell-focused","not-in-palette"]})),MF=X(new V({id:"runafter",description:"Run selected cell and all cells after",constraint:["cell-focused","not-scratch-cell-focused"],
shortcut:oE(121)})),NF=X(new V({id:"runall",description:"Run all cells in notebook",shortcut:oE(120)})),OF=X(new V({id:"runbefore",description:"Run cells before the current",constraint:["cell-focused","not-scratch-cell-focused"],shortcut:oE(119)}));X(new V({id:"run-cell-and-insert-new",description:"Run cell and insert new cell",constraint:["editable","cell-focused","not-scratch-cell-focused"],shortcut:jE(["alt"],13)}));
X(new V({id:"run-cell-and-select-next",description:"Run cell and select next cell",constraint:["editable","cell-focused"],shortcut:jE(["shift"],13)}));
var PF=X(new V({id:"runfocused",description:"Run the focused cell",constraint:["code-cell-focused"],shortcut:oE(13)})),QF=X(new V({id:"runselected",description:"Run selection",constraint:["cell-focused-or-selected"],shortcut:pE(13)})),RF=X(new V({id:"rundebug",description:"Run in debugger",constraint:["code-cell-focused"],shortcut:jE(["alt","shift"],13),disabled:function(){return!Nz.ADVANCED_DEBUGGER||!Mx}})),SF=X(new V({id:"save",description:"Save notebook",shortcut:oE(83),safeFromIframe:!0})),TF=
X(new V({id:"save-and-checkpoint",description:"Save and pin revision",constraint:["saveable"],shortcut:nE(83)})),UF=X(new V({id:"save-section-layout",description:"Save the collapsed section layout",constraint:["saveable"]})),VF=X(new V({id:"runscheduling",description:""})),WF=X(new V({id:"select-all",description:"Select all cells",constraint:["not-editing"],shortcut:pE(65),safeFromIframe:!0}));
X(new V({id:"select-next-cell",description:"",constraint:["not-editing-focused-cell","not-scratch-cell-focused"],shortcut:jE([],40)}));X(new V({id:"select-previous-cell",description:"",constraint:["not-editing-focused-cell","not-scratch-cell-focused"],shortcut:jE([],38)}));var XF=X(new V({id:"send-feedback",description:"Send feedback"})),YF=X(new V({id:"set-all-metadata",description:"",constraint:["editable"]}));X(new V({id:"edit-selected-test-annotations",description:"",constraint:["editable"]}));
var ZF=X(new V({id:"share",description:"Share notebook",constraint:["shareable"],disabled:function(){return Lx||Gx}})),$F=X(new V({id:"shortcuts",description:"Show keyboard shortcuts",shortcut:nE(72),disabled:function(){return Lx}})),aG=X(new V({id:"snippets",description:"Show code snippets pane",shortcut:cE+"Ctrl+Alt+P",safeFromIframe:!0})),bG=X(new V({id:"show-command-palette",description:"Show command palette",shortcut:pE(80),safeFromIframe:!0})),cG=X(new V({id:"show-executedcode",description:"Show executed code history"})),
dG=X(new V({id:"show-fileinfo",description:"Show notebook file information"})),eG=X(new V({id:"show-files",description:"Show file browser",safeFromIframe:!0})),fG=X(new V({id:"show-history",description:"Show revision history",constraint:["is-drive"]})),gG=X(new V({id:"show-status-bar",constraint:["editable"],description:"Show runtime status bar",disabled:function(){return"ENABLE"!=Nx}})),hG=X(new V({id:"show-toc-pane",description:"Show table of contents"}));
X(new V({id:"show-undo-help-message",description:"",constraint:["not-editing"],shortcut:oE(90)}));
var iG=X(new V({id:"slides-animation-concave",description:""})),jG=X(new V({id:"slides-animation-convex",description:""})),kG=X(new V({id:"slides-animation-fade",description:""})),lG=X(new V({id:"slides-animation-none",description:""})),mG=X(new V({id:"slides-animation-slide",description:""})),nG=X(new V({id:"slides-animation-zoom",description:""})),oG=X(new V({id:"slides-layout",description:""})),pG=X(new V({id:"slides-present",description:""}));
X(new V({id:"split-at-cursor",description:"Split at cursor",constraint:["editable","in-codemirror-editor"],shortcut:nE(189)}));X(new V({id:"merge-cell-above",description:"Merge focused cell with previous cell",constraint:["editable","in-codemirror-editor"]}));X(new V({id:"merge-cell-below",description:"Merge focused cell with next cell",constraint:["editable","in-codemirror-editor"]}));
var qG=X(new V({id:"merge-selected-cells",description:"Merge selected cells",constraint:["editable","multiple-cells-selected"]})),rG=X(new V({id:"switch-to-prod",description:"",constraint:["not-prod"]})),sG=X(new V({id:"toggle-header",description:"Toggle header visibility"}));X(new V({id:"toggle-line-numbers",description:"Toggle line numbers",shortcut:nE(76)}));
var tG=X(new V({id:"toggle-output",description:"Toggle output",constraint:["cell-focused","not-scratch-cell-focused"],shortcut:nE(79)})),uG=X(new V({id:"toggle-star",description:"Star/unstar notebook in Google Drive",constraint:["is-drive","logged-in"]})),vG=X(new V({id:"trash",description:"Move notebook to trash",constraint:["owned-by-me"],disabled:function(){return Gx}}));
X(new V({id:"toggle-section",description:"Toggle expand/collapse current section",constraint:["cell-focused","not-scratch-cell-focused"],shortcut:oE(222)}));
var wG=X(new V({id:"undo",description:"Undo last cell action",constraint:["undoable","editable","not-editing"],shortcut:pE(90),safeFromIframe:!0})),xG=X(new V({id:"unfocus-current-cell",description:"Unfocus current cell",constraint:["cell-focused"],shortcut:jE([],27),safeFromIframe:!0})),yG=X(new V({id:"update-external-cells",description:"Update external cells",constraint:["editable"]})),zG=X(new V({id:"update-preview",description:"Update Drive preview",constraint:["editable","is-drive"]})),AG=X(new V({id:"view-in-english",
description:"",disabled:function(){return"en"==tz}})),BG=X(new V({id:"view-notebook-source",description:"View notebook source",constraint:["has-url"]})),CG=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled,DG=X(new V({id:"view-output-fullscreen",description:"View output fullscreen",constraint:["code-cell-focused","not-scratch-cell-focused"],disabled:function(){return!CG}})),EG=X(new V({id:"view-runtime-logs",description:"View runtime logs",constraint:["connected-to-runtime"]}));
X(new V({id:"workspace-list-button",description:"",constraint:["is-piper"]}));var FG=function(a){a=U(F(a.helpUrl)||a.helpUrl instanceof N,"helpUrl",a.helpUrl,"!goog.soy.data.UnsanitizedText|string");a=U(F(a)||a instanceof N,"helpUrl",a,"!goog.soy.data.UnsanitizedText|string");var b="";a&&(b+="<a href='"+T(Do(a))+"' target='_blank'>",b+="More info</a>");a=Q(b);return Q("<div>This notebook is shared for writing with more than one user. Automatically running multiple cells is temporarily disabled due to possible insecure code modifications outside of this session. Run each cell of this notebook manually using Shift+Enter or the run button."+
(" "+a+"</div>"))};FG.soyTemplateName="colab.notification.templates.runListSecurityNotification";var GG=function(a){a=U(Pa(a.minutes),"minutes",a.minutes,"number");a="Automatic document saving has been pending for "+(R(a)+" minutes. Reloading may fix the problem.");return Q(a+' <a class="document_reload" href="#">Save and reload the page</a>.')};GG.soyTemplateName="colab.notification.templates.autoSaveFailureNotification";var HG=function(){return Q('<paper-toast id="message-area" text="" class=\'message-area hidden-if-exported-html\'><span class="paper-toast-extra"></span><paper-icon-button class="close" icon="icons:close"></paper-icon-button></paper-toast><paper-toast id="message-area-secondary" text="" class=\'message-area hidden-if-exported-html\'><span class="paper-toast-extra"></span><paper-icon-button class="close" icon="icons:close"></paper-icon-button></paper-toast>')};
HG.soyTemplateName="colab.notification.templates.notifications";var IG=function(a){var b=U(F(a.target)||a.target instanceof N,"target",a.target,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.url)||a.url instanceof N,"url",a.url,"!goog.soy.data.UnsanitizedText|string");b="Your URL should open in a new window. If it does not, make sure that pop ups are not blocked and "+('<a href="'+T(Do(a))+'" target="'+T(b)+'" style="color: #eeff41">reopen the link</a>.');return Q(b)};IG.soyTemplateName="colab.notification.templates.urlOpeningInNewWindow";
var JG=function(a){a=U(F(a.cellUrl)||a.cellUrl instanceof N,"cellUrl",a.cellUrl,"!goog.soy.data.UnsanitizedText|string");a="Lint warnings found; click to scroll to "+('<a href="'+T(Do(a))+'">first lint finding</a>');return Q(a)};JG.soyTemplateName="colab.notification.templates.lintWarnings";var KG=function(a){var b="";b=U(Oa(a.saving)||1===a.saving||0===a.saving,"saving",a.saving,"boolean")?b+"Saving notebook without code cell output... ":b+"Saved notebook without code cell output.";return Q(b+' <a command="notebook-settings" href="#">Notebook settings</a>')};
KG.soyTemplateName="colab.notification.templates.savingWithoutOutputs";var LG=!1,MG=null,NG=null,PG=function(a){var b=a.element,c=void 0===a.message?"":a.message,d=a.show,e=a.timeoutMillis;this.class_=void 0===a.className?"":a.className;this.showPrimary_=!1;d?OG(this,{message:c,element:b,timeoutMillis:e}):this.showPrimary_=!0},QG=function(){if(!LG){LG=!0;var a=nm(HG),b=a.querySelectorAll("paper-toast");document.body.appendChild(a);Polymer.dom.flush();a=function(c){c.querySelector(".close").onclick=function(){c.hide()}};MG=b[0];a(MG);NG=b[1];a(NG)}},OG=function(a,b){RG({message:b.message,
timeoutMillis:b.timeoutMillis,element:b.element,which:SG(a),class:a.class_});a.showPrimary_=!a.showPrimary_};PG.prototype.set=function(a){var b=a.message,c=a.timeoutMillis;a=a.element;this.showPrimary_=!this.showPrimary_;OG(this,{message:b,timeoutMillis:c,element:a})};var SG=function(a){QG();var b=NG;a.showPrimary_&&(b=MG);return b};PG.prototype.clear=function(){this.showPrimary_=!this.showPrimary_;SG(this).hide();this.showPrimary_=!this.showPrimary_};
var TG=function(a){return new PG({className:a.className,element:a.element,message:a.message,timeoutMillis:a.timeoutMillis,show:!0})},UG=function(){MG&&MG.hide()},Y=function(a){var b=a.className,c=a.element,d=void 0===a.message?"":a.message;a=a.timeoutMillis;QG();RG({className:b,element:c,message:d,timeoutMillis:a,which:MG})},RG=function(a){var b=a.message,c=a.which,d=void 0===a.timeoutMillis?0:a.timeoutMillis,e=void 0===a.className?"":a.className;a=void 0===a.element?null:a.element;console.log(b);
c.hide();c.text=b.toString();c.duration=d||3E3;b=c.querySelector(".paper-toast-extra");0<b.childElementCount&&b.firstElementChild.remove();a&&b.appendChild(a);c.colabOptClass_&&(c.classList.remove(c.colabOptClass_),delete c.colabOptClass_);e&&(c.classList.add(e),c.colabOptClass_=e);c.show()},VG=function(a,b){var c=lh("A",{href:"#",style:"color: #eeff41"});c.onclick=b;c.innerText=a;return c};var WG=function(){var a=pm(FG,{helpUrl:XD.RUN_ALL_SECURITY_HELP});Y({element:a,timeoutMillis:4E3})},XG=function(a){a=pm(JG,{cellUrl:a});Y({element:a,timeoutMillis:1E4})},YG=function(a,b,c){var d=a?-1:5E3;if(!b)return TG({message:a?"Saving...":"Saved successfully!",timeoutMillis:d});a=pm(KG,{saving:a});if(b=a.querySelector("a[command]")){var e=I(zE(b));b.addEventListener("click",function(){c(e)})}return TG({element:a,timeoutMillis:d})};var ZG=function(a,b,c){b=void 0===b?"_blank":b;var d=void 0===d?!0:d;a.startsWith("http://")||a.startsWith("https://")||a.startsWith("#")||a.startsWith("/")||""==a?(c=window.open(a,b,c))?d&&c.focus():(a=pm(IG,{target:b,url:a}),Y({element:a,timeoutMillis:45E3})):Y({message:"Failed to open page "+JSON.stringify(a),timeoutMillis:45E3})},$G=function(a){var b=void 0===b?3E5:b;var c="";return new Ik(function(d,e){var f=Math.round(b/100),g=window.setInterval(function(){f--;if(0>=f)window.clearInterval(g),
e();else if(a.closed)window.clearInterval(g),d(c);else try{c=a.location.href||c}catch(h){}},100)})},aH=function(a,b){b.ctrlKey||b.metaKey||(a.render(),Yw(a,new Fw(b.clientX,b.clientY),void 0),b.preventDefault(),b.stopPropagation())},bH=function(a,b){return my?(customElements.define(a,b),b):document.registerElement(a,b)},cH=function(a,b){b?a.setAttribute("disabled",!0):a.removeAttribute("disabled")},eH=function(a){var b=a.querySelector("input");a=a.getAttribute("aria-label");b&&(dH(b),a&&(b.removeAttribute("aria-labelledby"),
b.setAttribute("aria-label",a)))},dH=function(a){""===a.getAttribute("aria-describedby")&&a.removeAttribute("aria-describedby")},fH=function(){return"TEXTAREA INPUT PAPER-SLIDER PAPER-INPUT OVERLAY-HOST PAPER-DIALOG".split(" ").includes(document.activeElement.tagName)},gH=function(a){Jx&&(Polymer.dom.flush(),I(document.contains(a)))},hH=function(a){if("PAPER-DROPDOWN-MENU"==a.tagName){var b=a.querySelector("paper-input");b&&(a.removeAttribute("autofocus"),b.setAttribute("autofocus",""))}else a.setAttribute("autofocus",
"")},iH=function(a){if(my&&Gf&&a){var b=Polymer.dom(a.root);a=b.querySelector("#drive-logo-gradient-target");b=b.querySelector("#drive-logo-gradient");if(a&&b){var c=a.getAttribute("fill");a.setAttribute("fill",c.replace("drive-logo-gradient","drive-logo-gradient-modified"));b.id="drive-logo-gradient-modified"}}};var jH=function(){return $D.apply(this,arguments)||this};t(jH,$D);k=jH.prototype;k.createdCallback=function(){var a=this;this.impl_=document.createElement("paper-dialog");this.appendChild(this.impl_);this.addEventListener("iron-overlay-closed",function(b){b.target==a.impl_&&(a.opened=!1)});this.addEventListener("keydown",function(b){27==b.keyCode&&(b.preventDefault(),b.stopPropagation())});this.addEventListener("request_close",function(){a.close()})};
k.open=function(){var a=this.impl_;this.withBackdrop&&(a.withBackdrop=!0);a.open();this.opened=!0};k.close=function(){this.impl_.close()};k.fit=function(){this.impl_.fit()};k.attachedCallback=function(){for(var a=Polymer.dom(this.impl_),b=q(Array.from(this.children)),c=b.next();!c.done;c=b.next())c=c.value,c!=this.impl_&&a.appendChild(c);if(a=a.querySelector("paper-dialog-scrollable"))a.dialogElement=this.impl_;Polymer.dom.flush()};
var lH=function(a,b){b=void 0===b?!1:b;document.body.appendChild(a);gH(a);kH(a).then(function(){a.parentElement&&a.parentElement.removeChild(a)});a.impl_.modal=b;var c=a.impl_;a.open();return Fy(a.impl_,"opened-changed",function(d){return!d.detail.value}).then(function(){return c.closingReason})},kH=function(a){return Fy(a,"iron-overlay-closed",function(b){return b.target==a.impl_}).then(function(){return a.impl_.closingReason})};
ca.Object.defineProperties(jH.prototype,{polymerDialog:{configurable:!0,enumerable:!0,get:function(){return this.impl_}}});jH.prototype.opened=!1;jH.prototype.impl_=null;jH.prototype.withBackdrop=!0;var mH=bH("colab-dialog",jH);mH.createWithTemplate=function(a,b){var c=new mH;a=nm(a,b);c.appendChild(a);return c};mH.EventType={REQUEST_CLOSE:"request_close"};var nH=function(a){var b=U(F(a.exampleUrl)||a.exampleUrl instanceof N,"exampleUrl",a.exampleUrl,"!goog.soy.data.UnsanitizedText|string");a='<div class="content-area"><h2>Add external cell...</h2><div class="flex">To add a local copy of a cell from another notebook, focus the desired cell in that notebook and paste the URL in the browser address bar into the input below. Note that viewers of this notebook will be able to view the cell even if they don\'t have permission to view the notebook it came from.<paper-input id="external-cell-url-input" class="external-cell-url-input" autofocus label="';
b="Cell URL, such as "+T(b);a+=S(b);return Q(a+'" value=""></paper-input></div></div><div class="buttons"><paper-button id="Cancel" class="dismiss" dialog-dismiss>Cancel</paper-button><paper-button id="Ok" dialog-confirm>OK</paper-button></div>')};nH.soyTemplateName="colab.dialog.templates.externalCell";
var oH=function(a){var b=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.message)||a.message instanceof N,"message",a.message,"!goog.soy.data.UnsanitizedText|string"),d=U(null==a.htmlMessage||fm(a.htmlMessage),"htmlMessage",a.htmlMessage,"!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|null|string|undefined"),e=U(null==a.moreInfoUrl||F(a.moreInfoUrl)||a.moreInfoUrl instanceof N,"moreInfoUrl",
a.moreInfoUrl,"!goog.soy.data.UnsanitizedText|null|string|undefined"),f=U(null==a.yesText||F(a.yesText)||a.yesText instanceof N,"yesText",a.yesText,"!goog.soy.data.UnsanitizedText|null|string|undefined"),g=U(null==a.noText||F(a.noText)||a.noText instanceof N,"noText",a.noText,"!goog.soy.data.UnsanitizedText|null|string|undefined");a=U(F(a.msgMoreInfo)||a.msgMoreInfo instanceof N,"msgMoreInfo",a.msgMoreInfo,"!goog.soy.data.UnsanitizedText|string");b='<div class="content-area"><h2>'+R(b)+'</h2><div class="flex">'+
R(c)+(e?'<br><a href="'+T(Do(e))+'" target="_blank">'+R(a)+"</a>":"")+(d?"<div>"+R(to(d))+"</div>":"")+'</div></div><div class="buttons"><paper-button id="cancel"'+(g?"":' class="dismiss"')+" dialog-dismiss>";b=g?b+R(g):b+"Cancel";b+='</paper-button><paper-button id="ok" autofocus dialog-confirm>';b=f?b+R(f):b+"Ok";return Q(b+"</paper-button></div>")};oH.soyTemplateName="colab.dialog.templates.yesNoDialogContents";
var pH=function(a){var b=U(null==a.title||F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|null|string|undefined"),c=U(F(a.message)||a.message instanceof N,"message",a.message,"!goog.soy.data.UnsanitizedText|string"),d=U(null==a.moreInfoUrl||F(a.moreInfoUrl)||a.moreInfoUrl instanceof N,"moreInfoUrl",a.moreInfoUrl,"!goog.soy.data.UnsanitizedText|null|string|undefined"),e=U(null==a.confirmText||F(a.confirmText)||a.confirmText instanceof N,"confirmText",a.confirmText,
"!goog.soy.data.UnsanitizedText|null|string|undefined");a=U(F(a.msgMoreInfo)||a.msgMoreInfo instanceof N,"msgMoreInfo",a.msgMoreInfo,"!goog.soy.data.UnsanitizedText|string");b='<div class="content-area">'+(b?"<h2>"+R(b)+"</h2>":"")+'<div class="flex">'+R(c)+(d?'<br><a href="'+T(Do(d))+'" target="_blank">'+R(a)+"</a>":"")+'</div></div><div class="buttons"><paper-button id="ok" autofocus dialog-confirm>';b=e?b+R(e):b+"Ok";return Q(b+"</paper-button></div>")};pH.soyTemplateName="colab.dialog.templates.confirmDialogContents";
var qH=function(a){a=U(F(a.icon)||a.icon instanceof N,"icon",a.icon,"!goog.soy.data.UnsanitizedText|string");return Q('<iron-icon icon="'+T(Do(a))+'"></iron-icon>')},rH=function(a){var b=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.message)||a.message instanceof N,"message",a.message,"!goog.soy.data.UnsanitizedText|string"),d=U(fm(a.htmlMessage),"htmlMessage",a.htmlMessage,"!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string"),
e=U(F(a.details)||a.details instanceof N,"details",a.details,"!goog.soy.data.UnsanitizedText|string"),f=U(F(a.buttonText)||a.buttonText instanceof N,"buttonText",a.buttonText,"!goog.soy.data.UnsanitizedText|string");a=U(fm(a.contactSupport),"contactSupport",a.contactSupport,"!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string");b='<div class="content-area"><h2>'+R(b)+'</h2></div><paper-dialog-scrollable><div class="error-message">';c?(c=
R(c),d=String(c).replace(/(\r\n|\r|\n)/g,"<br>"),c=null!=c&&c.contentKind===Yl?Q(d,mo(c)):d):c="<div>"+R(to(d))+"</div>";a=b+c+"</div><div>"+R(to(a))+'</div><paper-button title="';a+=S("More details");a+='" toggles>';b=qH({icon:"expand-more"})+" Details";a=a+b+("</paper-button><iron-collapse><pre>"+R(e)+'</pre></iron-collapse></paper-dialog-scrollable><div class="buttons"><paper-button id="ok" autofocus dialog-confirm>'+R(f)+"</paper-button></div>");return Q(a)};rH.soyTemplateName="colab.dialog.templates.errorDialog";
var sH=function(a){a=U(bb(a.shortcut),"shortcut",a.shortcut,"{key: (!goog.soy.data.UnsanitizedText|string), label: (!goog.soy.data.UnsanitizedText|string), value: *,}");var b='<div class="shortcut-preference"><div class="shortcut-preference-keys">';a.key?(b+='<input type="text" id="pref_'+T(a.key)+'" placeholder="',b+=S("Set shortcut"),b+='" value="'+T(a.value)+'">'):(b=b+'<span title="'+S("Shortcut cannot be overridden"),b+='">'+R(a.value)+"</span>");b+='</div><div class="shortcut-preference-description">'+
R(a.label)+"</div></div>";return Q(b)},tH=function(a){var b=U(F(a.multiKeyEventShortcutPrefix)||a.multiKeyEventShortcutPrefix instanceof N,"multiKeyEventShortcutPrefix",a.multiKeyEventShortcutPrefix,"!goog.soy.data.UnsanitizedText|string"),c=U(Za(a.shortcuts),"shortcuts",a.shortcuts,"!Array<{key: (!goog.soy.data.UnsanitizedText|string), label: (!goog.soy.data.UnsanitizedText|string), value: *,}>"),d=U(Za(a.otherKeyPreferences),"otherKeyPreferences",a.otherKeyPreferences,"!Array<!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string>");
a='<div class="content-area"><h2>Keyboard preferences</h2></div><paper-dialog-scrollable class="dialog-main-content"><div>';for(var e=d.length,f=0;f<e;f++)a+=R(d[f]);a+="<h4>Shortcuts</h4>";b="To add or change a shortcut, click the key combination and then type the new keys. Note that "+(R(b)+" can be used as a prefix for multi-key-event shortcuts.");a=a+b+'<div class="shortcut-grid"><div class="shortcut-column">';b=Math.max(0,Math.ceil(Math.ceil(c.length/2)-0));for(d=0;d<b;d++)a+=sH({shortcut:c[1*
d]});a+='</div><div class="shortcut-column">';b=Math.ceil(c.length/2);d=Math.max(0,Math.ceil(c.length-b));for(e=0;e<d;e++)a+=sH({shortcut:c[b+1*e]});c=a+'</div></div></div></paper-dialog-scrollable><div class="buttons"><paper-button id="shortcuts-reset">Restore defaults';a=Q('<paper-button id="cancel" class="dismiss" dialog-dismiss>Cancel</paper-button>');a=c+("</paper-button>"+a+'<paper-button id="shortcuts-ok" dialog-confirm autofocus>')+"Save";a+="</paper-button></div>";return Q(a)};
tH.soyTemplateName="colab.dialog.templates.shortcuts";
var uH=function(a){var b=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.url)||a.url instanceof N,"url",a.url,"!goog.soy.data.UnsanitizedText|string"),d=U(Oa(a.isSaveable)||1===a.isSaveable||0===a.isSaveable,"isSaveable",a.isSaveable,"boolean"),e=U(Oa(a.isDriveSharing)||1===a.isDriveSharing||0===a.isDriveSharing,"isDriveSharing",a.isDriveSharing,"boolean"),f=U(Oa(a.showColabLink)||1===a.showColabLink||0===a.showColabLink,"showColabLink",a.showColabLink,
"boolean");a=U(Oa(a.showMimeTypeWarning)||1===a.showMimeTypeWarning||0===a.showMimeTypeWarning,"showMimeTypeWarning",a.showMimeTypeWarning,"boolean")?'<div class="share-warning">Warning: This notebook has been authored using the internal version of Colaboratory. The generated sharing links / emails will use internal Colab. If you would like to create an external version of this notebook, select <i>File\u2192Save a copy in Drive</i> and share that copy instead.</div>':"";f&&(a+='<div class="content-area"><div class="dialog-title">'+
R(b)+"</div>",d||(a+='<div class="dialog-warning">Warning: The following URL does not contain your edits or outputs. To include your edits, select <i>File\u2192Save a copy in Drive</i> and generate a link from the resulting copy.</div>'),a=a+'<paper-button class="copy-link" title="'+S("Copy the link"),a+='">',b="Copy "+qH({icon:"link"}),a=a+b+('</paper-button><paper-input value="'+T(c)+'" readonly no-label-float autofocus title="'),a+=S("Copy the link"),a+='"></paper-input></div>');c=a;var g;e?g=
'<div id="share-placeholder"></div>':g='<div class="buttons">'+Q('<paper-button id="ok" dialog-confirm>OK</paper-button>')+"</div>";return Q(c+g)};uH.soyTemplateName="colab.dialog.templates.sharingDialog";var wH=function(a,b,c){c=void 0===c?{}:c;var d=void 0===c.title?"Error":c.title,e=void 0===c.buttonText?"OK":c.buttonText;c=void 0===c.expandDetails?!1:c.expandDetails;var f=a instanceof em;f?console.warn("showErrorDialog: "+a.toString()):console.warn(a);console.warn(b);var g=$g(document,"error-dialog");if(g)return console.log("Skipping dialog display since another dialog is present. title: "+d),null;g=mH.createWithTemplate(rH,{title:d,buttonText:e,htmlMessage:f?a:"",message:f?"":a,details:vH(b),
contactSupport:WD.CONTACT_SUPPORT()});g.id="error-dialog";a=g.querySelector("paper-button");var h=a.querySelector("iron-icon"),l=g.querySelector("iron-collapse"),m=!0;b=function(){m=!m;h.setAttribute("icon",m?"expand-more":"expand-less");l.opened=!m};a.onclick=b;c&&b();lH(g,!0);return g},vH=function(a){return(a.message||String(a))+(a.stack?"\n"+String(a.stack):"")},xH=function(a){var b=new mH;b.classList.add("scrollable-dialog");Polymer.dom(b).appendChild(a.getPolymerElement());a.onAttached=function(){a.getPolymerElement().$["main-content"].dialogElement=
b.polymerDialog};return b},yH=function(a){a.msgMoreInfo="More info";a=mH.createWithTemplate(oH,a);a.classList.add("yes-no-dialog");return lH(a).then(function(b){return b.confirmed})},zH=function(a){a.msgMoreInfo="More info";var b=mH.createWithTemplate(pH,a);b.classList.add("confirm-dialog");return lH(b,!!a.modal).then(function(c){return c.confirmed})};var AH=function(a){Cy.call(this,a?a.message:void 0);this.error=a||null;this.name="GapiError"};t(AH,Cy);var BH=function(a){return a.error?a.error.code:null};var CH=function(){Cy.call(this,"User canceled")};t(CH,Cy);var DH={kind:"discovery#restDescription",name:"drive",version:"v2beta",rootUrl:"https://www.googleapis.com/",servicePath:"drive/v2beta/",batchPath:"batch/drive/v2beta",id:"drive:v2beta",parameters:{alt:{location:"query",required:!1},fields:{location:"query",required:!1},key:{location:"query",required:!1},oauth_token:{location:"query",required:!1},prettyPrint:{location:"query",required:!1},quotaUser:{location:"query",required:!1},userIp:{location:"query",required:!1}},resources:{about:{methods:{get:{id:"drive.about.get",
path:"about",httpMethod:"GET",parameters:{includeSubscribed:{location:"query",required:!1},maxChangeIdCount:{location:"query",required:!1},startChangeId:{location:"query",required:!1}}}}},admin:{methods:{},resources:{permissions:{methods:{delete_deprecated:{id:"drive.admin.permissions.delete_deprecated",path:"admin/teamdrives/{teamDriveId}/permissions/{permissionId}",httpMethod:"DELETE",parameters:{teamDriveId:{location:"path",required:!0},permissionId:{location:"path",required:!0}}},insert_deprecated:{id:"drive.admin.permissions.insert_deprecated",
path:"admin/teamdrives/{teamDriveId}/permissions",httpMethod:"POST",request:{$ref:"Permission"},parameters:{teamDriveId:{location:"path",required:!0},confirmed:{location:"query",required:!1},emailMessage:{location:"query",required:!1},languageCode:{location:"query",required:!1},sendNotificationEmails:{location:"query",required:!1}}},list_deprecated:{id:"drive.admin.permissions.list_deprecated",path:"admin/teamdrives/{teamDriveId}/permissions",httpMethod:"GET",parameters:{teamDriveId:{location:"path",
required:!0},maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1}}},update_deprecated:{id:"drive.admin.permissions.update_deprecated",path:"admin/teamdrives/{teamDriveId}/permissions/{permissionId}",httpMethod:"PUT",request:{$ref:"Permission"},parameters:{teamDriveId:{location:"path",required:!0},permissionId:{location:"path",required:!0}}}}},teamdrives:{methods:{get_deprecated:{id:"drive.admin.teamdrives.get_deprecated",path:"admin/teamdrives/{teamDriveId}",httpMethod:"GET",
parameters:{teamDriveId:{location:"path",required:!0}}},list_deprecated:{id:"drive.admin.teamdrives.list_deprecated",path:"admin/teamdrives",httpMethod:"GET",parameters:{maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1},q:{location:"query",required:!1}}}}}}},apps:{methods:{get:{id:"drive.apps.get",path:"apps/{appId}",httpMethod:"GET",parameters:{appId:{location:"path",required:!0}}},list:{id:"drive.apps.list",path:"apps",httpMethod:"GET",parameters:{appFilterExtensions:{location:"query",
required:!1},appFilterMimeTypes:{location:"query",required:!1},appQueryScope:{location:"query",required:!1},languageCode:{location:"query",required:!1}}}}},changes:{methods:{get:{id:"drive.changes.get",path:"changes/{changeId}",httpMethod:"GET",parameters:{changeId:{location:"path",required:!0},driveId:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},teamDriveId:{location:"query",required:!1}}},getStartPageToken:{id:"drive.changes.getStartPageToken",
path:"changes/startPageToken",httpMethod:"GET",parameters:{driveId:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},teamDriveId:{location:"query",required:!1}}},list:{id:"drive.changes.list",path:"changes",httpMethod:"GET",supportsSubscription:!0,parameters:{driveId:{location:"query",required:!1},includeCorpusRemovals:{location:"query",required:!1},includeDeleted:{location:"query",required:!1},includeEmbeddedItems:{location:"query",
required:!1},includeItemsFromAllDrives:{location:"query",required:!1},includeSubscribed:{location:"query",required:!1},includeTeamDriveItems:{location:"query",required:!1},maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1},spaces:{location:"query",required:!1},startChangeId:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},teamDriveId:{location:"query",required:!1}}},watch:{id:"drive.changes.watch",
path:"changes/watch",httpMethod:"POST",request:{$ref:"Channel",parameterName:"resource"},supportsSubscription:!0,parameters:{driveId:{location:"query",required:!1},includeCorpusRemovals:{location:"query",required:!1},includeDeleted:{location:"query",required:!1},includeEmbeddedItems:{location:"query",required:!1},includeItemsFromAllDrives:{location:"query",required:!1},includeSubscribed:{location:"query",required:!1},includeTeamDriveItems:{location:"query",required:!1},maxResults:{location:"query",
required:!1},pageToken:{location:"query",required:!1},spaces:{location:"query",required:!1},startChangeId:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},teamDriveId:{location:"query",required:!1}}}}},channels:{methods:{stop:{id:"drive.channels.stop",path:"channels/stop",httpMethod:"POST",request:{$ref:"Channel",parameterName:"resource"}}}},children:{methods:{"delete":{id:"drive.children.delete",path:"files/{folderId}/children/{childId}",
httpMethod:"DELETE",parameters:{folderId:{location:"path",required:!0},childId:{location:"path",required:!0}}},get:{id:"drive.children.get",path:"files/{folderId}/children/{childId}",httpMethod:"GET",parameters:{folderId:{location:"path",required:!0},childId:{location:"path",required:!0}}},insert:{id:"drive.children.insert",path:"files/{folderId}/children",httpMethod:"POST",request:{$ref:"ChildReference"},parameters:{folderId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},
supportsTeamDrives:{location:"query",required:!1}}},list:{id:"drive.children.list",path:"files/{folderId}/children",httpMethod:"GET",parameters:{folderId:{location:"path",required:!0},maxResults:{location:"query",required:!1},orderBy:{location:"query",required:!1},pageToken:{location:"query",required:!1},q:{location:"query",required:!1}}}}},comments:{methods:{"delete":{id:"drive.comments.delete",path:"files/{fileId}/comments/{commentId}",httpMethod:"DELETE",parameters:{fileId:{location:"path",required:!0},
commentId:{location:"path",required:!0}}},get:{id:"drive.comments.get",path:"files/{fileId}/comments/{commentId}",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0},includeDeleted:{location:"query",required:!1}}},insert:{id:"drive.comments.insert",path:"files/{fileId}/comments",httpMethod:"POST",request:{$ref:"Comment"},parameters:{fileId:{location:"path",required:!0}}},list:{id:"drive.comments.list",path:"files/{fileId}/comments",httpMethod:"GET",
parameters:{fileId:{location:"path",required:!0},includeDeleted:{location:"query",required:!1},maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1},updatedMin:{location:"query",required:!1}}},patch:{id:"drive.comments.patch",path:"files/{fileId}/comments/{commentId}",httpMethod:"PATCH",request:{$ref:"Comment"},parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0}}},update:{id:"drive.comments.update",path:"files/{fileId}/comments/{commentId}",
httpMethod:"PUT",request:{$ref:"Comment"},parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0}}}}},drives:{methods:{"delete":{id:"drive.drives.delete",path:"drives/{driveId}",httpMethod:"DELETE",parameters:{driveId:{location:"path",required:!0}}},get:{id:"drive.drives.get",path:"drives/{driveId}",httpMethod:"GET",parameters:{driveId:{location:"path",required:!0},useDomainAdminAccess:{location:"query",required:!1}}},hide:{id:"drive.drives.hide",path:"drives/{driveId}/hide",
httpMethod:"POST",parameters:{driveId:{location:"path",required:!0}}},insert:{id:"drive.drives.insert",path:"drives",httpMethod:"POST",request:{$ref:"Drive"},parameters:{requestId:{location:"query",required:!0}}},list:{id:"drive.drives.list",path:"drives",httpMethod:"GET",parameters:{maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1},q:{location:"query",required:!1},useDomainAdminAccess:{location:"query",required:!1}}},unhide:{id:"drive.drives.unhide",path:"drives/{driveId}/unhide",
httpMethod:"POST",parameters:{driveId:{location:"path",required:!0}}},update:{id:"drive.drives.update",path:"drives/{driveId}",httpMethod:"PUT",request:{$ref:"Drive"},parameters:{driveId:{location:"path",required:!0},useDomainAdminAccess:{location:"query",required:!1}}}}},files:{methods:{checkAccess:{id:"drive.files.checkAccess",path:"files:checkAccess",httpMethod:"POST",request:{$ref:"CheckAccessRequest"}},copy:{id:"drive.files.copy",path:"files/{fileId}/copy",httpMethod:"POST",request:{$ref:"File"},
parameters:{fileId:{location:"path",required:!0},convert:{location:"query",required:!1},copyComments:{location:"query",required:!1},ocr:{location:"query",required:!1},ocrLanguage:{location:"query",required:!1},pinned:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},timedTextLanguage:{location:"query",required:!1},timedTextTrackName:{location:"query",required:!1},visibility:{location:"query",required:!1}}},"delete":{id:"drive.files.delete",
path:"files/{fileId}",httpMethod:"DELETE",parameters:{fileId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1}}},emptyTrash:{id:"drive.files.emptyTrash",path:"files/trash",httpMethod:"DELETE"},"export":{id:"drive.files.export",path:"files/{fileId}/export",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},mimeType:{location:"query",required:!0}}},fixAccess:{id:"drive.files.fixAccess",path:"files:fixAccess",
httpMethod:"POST",request:{$ref:"FixAccessRequest"}},generateId:{id:"drive.files.generateId",path:"files/generateId",httpMethod:"POST",request:{$ref:"File"}},generateIds:{id:"drive.files.generateIds",path:"files/generateIds",httpMethod:"GET",parameters:{maxResults:{location:"query",required:!1},space:{location:"query",required:!1}}},get:{id:"drive.files.get",path:"files/{fileId}",httpMethod:"GET",supportsSubscription:!0,parameters:{fileId:{location:"path",required:!0},acknowledgeAbuse:{location:"query",
required:!1},projection:{location:"query",required:!1},revisionId:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},updateViewedDate:{location:"query",required:!1}}},insert:{id:"drive.files.insert",path:"files",httpMethod:"POST",request:{$ref:"File"},supportsSubscription:!0,parameters:{convert:{location:"query",required:!1},ocr:{location:"query",required:!1},ocrLanguage:{location:"query",required:!1},pinned:{location:"query",
required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},timedTextLanguage:{location:"query",required:!1},timedTextTrackName:{location:"query",required:!1},useContentAsIndexableText:{location:"query",required:!1},visibility:{location:"query",required:!1}}},list:{id:"drive.files.list",path:"files",httpMethod:"GET",parameters:{corpora:{location:"query",required:!1},corpus:{location:"query",required:!1},driveId:{location:"query",required:!1},includeEmbeddedItems:{location:"query",
required:!1},includeItemsFromAllDrives:{location:"query",required:!1},includeTeamDriveItems:{location:"query",required:!1},maxResults:{location:"query",required:!1},orderBy:{location:"query",required:!1},pageToken:{location:"query",required:!1},projection:{location:"query",required:!1},q:{location:"query",required:!1},spaces:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},teamDriveId:{location:"query",required:!1}}},
patch:{id:"drive.files.patch",path:"files/{fileId}",httpMethod:"PATCH",request:{$ref:"File"},parameters:{fileId:{location:"path",required:!0},addParents:{location:"query",required:!1},convert:{location:"query",required:!1},modifiedDateBehavior:{location:"query",required:!1},newRevision:{location:"query",required:!1},ocr:{location:"query",required:!1},ocrLanguage:{location:"query",required:!1},pinned:{location:"query",required:!1},removeParents:{location:"query",required:!1},setModifiedDate:{location:"query",
required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},timedTextLanguage:{location:"query",required:!1},timedTextTrackName:{location:"query",required:!1},updateViewedDate:{location:"query",required:!1},useContentAsIndexableText:{location:"query",required:!1}}},touch:{id:"drive.files.touch",path:"files/{fileId}/touch",httpMethod:"POST",parameters:{fileId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",
required:!1}}},trash:{id:"drive.files.trash",path:"files/{fileId}/trash",httpMethod:"POST",parameters:{fileId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1}}},untrash:{id:"drive.files.untrash",path:"files/{fileId}/untrash",httpMethod:"POST",parameters:{fileId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1}}},update:{id:"drive.files.update",
path:"files/{fileId}",httpMethod:"PUT",request:{$ref:"File"},parameters:{fileId:{location:"path",required:!0},addParents:{location:"query",required:!1},convert:{location:"query",required:!1},modifiedDateBehavior:{location:"query",required:!1},newRevision:{location:"query",required:!1},ocr:{location:"query",required:!1},ocrLanguage:{location:"query",required:!1},pinned:{location:"query",required:!1},removeParents:{location:"query",required:!1},setModifiedDate:{location:"query",required:!1},supportsAllDrives:{location:"query",
required:!1},supportsTeamDrives:{location:"query",required:!1},timedTextLanguage:{location:"query",required:!1},timedTextTrackName:{location:"query",required:!1},updateViewedDate:{location:"query",required:!1},useContentAsIndexableText:{location:"query",required:!1}}},watch:{id:"drive.files.watch",path:"files/{fileId}/watch",httpMethod:"POST",request:{$ref:"Channel",parameterName:"resource"},supportsSubscription:!0,parameters:{fileId:{location:"path",required:!0},acknowledgeAbuse:{location:"query",
required:!1},projection:{location:"query",required:!1},revisionId:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},updateViewedDate:{location:"query",required:!1}}}}},notifications:{methods:{get:{id:"drive.notifications.get",path:"notifications/{notificationId}",httpMethod:"GET",parameters:{notificationId:{location:"path",required:!0},locale:{location:"query",required:!1}}},watch:{id:"drive.notifications.watch",path:"notifications/watch",
httpMethod:"POST",request:{$ref:"Channel",parameterName:"resource"},supportsSubscription:!0}}},parents:{methods:{"delete":{id:"drive.parents.delete",path:"files/{fileId}/parents/{parentId}",httpMethod:"DELETE",parameters:{fileId:{location:"path",required:!0},parentId:{location:"path",required:!0}}},get:{id:"drive.parents.get",path:"files/{fileId}/parents/{parentId}",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},parentId:{location:"path",required:!0}}},insert:{id:"drive.parents.insert",
path:"files/{fileId}/parents",httpMethod:"POST",request:{$ref:"ParentReference"},parameters:{fileId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1}}},list:{id:"drive.parents.list",path:"files/{fileId}/parents",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0}}}}},permissions:{methods:{"delete":{id:"drive.permissions.delete",path:"files/{fileId}/permissions/{permissionId}",httpMethod:"DELETE",parameters:{fileId:{location:"path",
required:!0},permissionId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},useDomainAdminAccess:{location:"query",required:!1}}},get:{id:"drive.permissions.get",path:"files/{fileId}/permissions/{permissionId}",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},permissionId:{location:"path",required:!0},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},useDomainAdminAccess:{location:"query",
required:!1}}},getIdForEmail:{id:"drive.permissions.getIdForEmail",path:"permissionIds/{email}",httpMethod:"GET",parameters:{email:{location:"path",required:!0}}},insert:{id:"drive.permissions.insert",path:"files/{fileId}/permissions",httpMethod:"POST",request:{$ref:"Permission"},parameters:{fileId:{location:"path",required:!0},confirmed:{location:"query",required:!1},emailMessage:{location:"query",required:!1},languageCode:{location:"query",required:!1},sendNotificationEmails:{location:"query",required:!1},
supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},useDomainAdminAccess:{location:"query",required:!1}}},list:{id:"drive.permissions.list",path:"files/{fileId}/permissions",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},useDomainAdminAccess:{location:"query",
required:!1}}},patch:{id:"drive.permissions.patch",path:"files/{fileId}/permissions/{permissionId}",httpMethod:"PATCH",request:{$ref:"Permission"},parameters:{fileId:{location:"path",required:!0},permissionId:{location:"path",required:!0},removeExpiration:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},transferOwnership:{location:"query",required:!1},useDomainAdminAccess:{location:"query",required:!1}}},update:{id:"drive.permissions.update",
path:"files/{fileId}/permissions/{permissionId}",httpMethod:"PUT",request:{$ref:"Permission"},parameters:{fileId:{location:"path",required:!0},permissionId:{location:"path",required:!0},removeExpiration:{location:"query",required:!1},supportsAllDrives:{location:"query",required:!1},supportsTeamDrives:{location:"query",required:!1},transferOwnership:{location:"query",required:!1},useDomainAdminAccess:{location:"query",required:!1}}}}},properties:{methods:{"delete":{id:"drive.properties.delete",path:"files/{fileId}/properties/{propertyKey}",
httpMethod:"DELETE",parameters:{fileId:{location:"path",required:!0},propertyKey:{location:"path",required:!0},visibility:{location:"query",required:!1}}},get:{id:"drive.properties.get",path:"files/{fileId}/properties/{propertyKey}",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},propertyKey:{location:"path",required:!0},visibility:{location:"query",required:!1}}},insert:{id:"drive.properties.insert",path:"files/{fileId}/properties",httpMethod:"POST",request:{$ref:"Property"},parameters:{fileId:{location:"path",
required:!0}}},list:{id:"drive.properties.list",path:"files/{fileId}/properties",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0}}},patch:{id:"drive.properties.patch",path:"files/{fileId}/properties/{propertyKey}",httpMethod:"PATCH",request:{$ref:"Property"},parameters:{fileId:{location:"path",required:!0},propertyKey:{location:"path",required:!0},visibility:{location:"query",required:!1}}},update:{id:"drive.properties.update",path:"files/{fileId}/properties/{propertyKey}",httpMethod:"PUT",
request:{$ref:"Property"},parameters:{fileId:{location:"path",required:!0},propertyKey:{location:"path",required:!0},visibility:{location:"query",required:!1}}}}},realtime:{methods:{get:{id:"drive.realtime.get",path:"files/{fileId}/realtime",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},revision:{location:"query",required:!1}}},update:{id:"drive.realtime.update",path:"files/{fileId}/realtime",httpMethod:"PUT",parameters:{fileId:{location:"path",required:!0},baseRevision:{location:"query",
required:!1}}}}},replies:{methods:{"delete":{id:"drive.replies.delete",path:"files/{fileId}/comments/{commentId}/replies/{replyId}",httpMethod:"DELETE",parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0},replyId:{location:"path",required:!0}}},get:{id:"drive.replies.get",path:"files/{fileId}/comments/{commentId}/replies/{replyId}",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0},replyId:{location:"path",
required:!0},includeDeleted:{location:"query",required:!1}}},insert:{id:"drive.replies.insert",path:"files/{fileId}/comments/{commentId}/replies",httpMethod:"POST",request:{$ref:"CommentReply"},parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0}}},list:{id:"drive.replies.list",path:"files/{fileId}/comments/{commentId}/replies",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0},includeDeleted:{location:"query",
required:!1},maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1}}},patch:{id:"drive.replies.patch",path:"files/{fileId}/comments/{commentId}/replies/{replyId}",httpMethod:"PATCH",request:{$ref:"CommentReply"},parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0},replyId:{location:"path",required:!0}}},update:{id:"drive.replies.update",path:"files/{fileId}/comments/{commentId}/replies/{replyId}",httpMethod:"PUT",request:{$ref:"CommentReply"},
parameters:{fileId:{location:"path",required:!0},commentId:{location:"path",required:!0},replyId:{location:"path",required:!0}}}}},revisions:{methods:{"delete":{id:"drive.revisions.delete",path:"files/{fileId}/revisions/{revisionId}",httpMethod:"DELETE",parameters:{fileId:{location:"path",required:!0},revisionId:{location:"path",required:!0}}},get:{id:"drive.revisions.get",path:"files/{fileId}/revisions/{revisionId}",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},revisionId:{location:"path",
required:!0}}},list:{id:"drive.revisions.list",path:"files/{fileId}/revisions",httpMethod:"GET",parameters:{fileId:{location:"path",required:!0},maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1}}},patch:{id:"drive.revisions.patch",path:"files/{fileId}/revisions/{revisionId}",httpMethod:"PATCH",request:{$ref:"Revision"},parameters:{fileId:{location:"path",required:!0},revisionId:{location:"path",required:!0}}},update:{id:"drive.revisions.update",path:"files/{fileId}/revisions/{revisionId}",
httpMethod:"PUT",request:{$ref:"Revision"},parameters:{fileId:{location:"path",required:!0},revisionId:{location:"path",required:!0}}}}},settings:{methods:{"delete":{id:"drive.settings.delete",path:"settings/{keyname}",httpMethod:"DELETE",parameters:{keyname:{location:"path",required:!0}}},get:{id:"drive.settings.get",path:"settings/{keyname}",httpMethod:"GET",parameters:{keyname:{location:"path",required:!0}}},insert:{id:"drive.settings.insert",path:"settings",httpMethod:"POST",request:{$ref:"Setting"}},
list:{id:"drive.settings.list",path:"settings",httpMethod:"GET"},update:{id:"drive.settings.update",path:"settings/{keyname}",httpMethod:"PUT",request:{$ref:"Setting"},parameters:{keyname:{location:"path",required:!0}}}}},teamdrives:{methods:{"delete":{id:"drive.teamdrives.delete",path:"teamdrives/{teamDriveId}",httpMethod:"DELETE",parameters:{teamDriveId:{location:"path",required:!0}}},get:{id:"drive.teamdrives.get",path:"teamdrives/{teamDriveId}",httpMethod:"GET",parameters:{teamDriveId:{location:"path",
required:!0},useDomainAdminAccess:{location:"query",required:!1}}},insert:{id:"drive.teamdrives.insert",path:"teamdrives",httpMethod:"POST",request:{$ref:"TeamDrive"},parameters:{requestId:{location:"query",required:!0}}},list:{id:"drive.teamdrives.list",path:"teamdrives",httpMethod:"GET",parameters:{maxResults:{location:"query",required:!1},pageToken:{location:"query",required:!1},q:{location:"query",required:!1},useDomainAdminAccess:{location:"query",required:!1}}},update:{id:"drive.teamdrives.update",
path:"teamdrives/{teamDriveId}",httpMethod:"PUT",request:{$ref:"TeamDrive"},parameters:{teamDriveId:{location:"path",required:!0},useDomainAdminAccess:{location:"query",required:!1}}}}}},methods:{}};var EH=null,FH=function(a){var b=!0;b=void 0===b?!1:b;if(!EH){EH=(new Uint8Array(256)).fill(255);for(var c=0;65>c;++c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charCodeAt(c);61!=d&&(EH[d]=c)}}if(a.length%4)throw Error("Length of b64-encoded data must be zero mod four. Was: "+a.length);var e=a.length;c=0;61==a[e-2]?(c=2,e-=4):61==a[e-1]&&(c=1,e-=4);d=Math.ceil(3*a.length/4)-c;b=b?new Uint8Array(a.buffer,a.byteOffset,d):new Uint8Array(d);var f=0;for(d=0;f<e;){var g=
EH[a[f]],h=EH[a[f+1]],l=EH[a[f+2]],m=EH[a[f+3]];if(255==(g|h|l|m))throw Error('Invalid character in range "'+(String.fromCharCode(a[f])+String.fromCharCode(a[f+1])+String.fromCharCode(a[f+2])+String.fromCharCode(a[f+3]))+'"');f+=4;b[d]=g<<2|h>>4;b[d+1]=h<<4&240|l>>2;b[d+2]=l<<6&192|m;d+=3}e<a.length&&(g=EH[a[f++]],e=EH[a[f++]],b[d++]=g<<2|e>>4,1==c&&(a=EH[a[f++]],b[d++]=e<<4&240|a>>2));return b};var GH=function(a){Cy.call(this,a);this.name="InvalidJsonError"};t(GH,Cy);var HH=new function(){this.username_=this.accessToken_=""};
function IH(a){var b,c,d,e,f,g,h,l;return B(function(m){if(1==m.nextAddress)return a.startsWith("/")&&(a="https://api.github.com"+a),b=new Headers,HH.accessToken_&&b.append("Authorization","token "+HH.accessToken_),c={headers:b,referrerPolicy:"no-referrer"},u(m,fetch(qd(xd(a)),c),2);if(3!=m.nextAddress)return d=m.yieldResult,u(m,d.text(),3);e=m.yieldResult;if(!d.ok){if(e&&e.includes("rate limit"))throw new JH(e);throw new KH("Fetch for "+a+" failed: "+e);}f=JSON.parse(e);g=null;(h=d.headers?d.headers.get("Link"):
null)&&(l=h.match(/<(https:[^>]*)>; ?rel="next"/))&&(g=l[1]);return m.return({json:f,nextPageUrl:g})})}function LH(a){var b,c,d;return B(function(e){switch(e.nextAddress){case 1:b=[],c=0;case 2:if(!(20>c)){e.jumpTo(4);break}if(!a){e.jumpTo(4);break}return u(e,IH(a),5);case 5:d=e.yieldResult;if(!d.json){e.jumpTo(4);break}b.push(d.json);a=d.nextPageUrl;c++;e.jumpTo(2);break;case 4:return e.return(b)}})}
function MH(a){var b;return B(function(c){if(1==c.nextAddress)return u(c,IH(a),2);b=c.yieldResult;return c.return(b.json)})}function NH(a,b,c){c=void 0===c?{}:c;var d=void 0===c.patch?!1:c.patch,e,f;return B(function(g){I(HH.accessToken_);a.startsWith("/")&&(a="https://api.github.com"+a);e={};e.Authorization="token "+HH.accessToken_;f={headers:e};return d?g.return(qw("PATCH",a,b,f).then(function(h){return JSON.parse(h.responseText)})):g.return(tw(a,b,f))})}
var OH=function(a){var b,c,d,e,f;return B(function(g){if(1==g.nextAddress)return b=a.path.substring(a.path.lastIndexOf("/")+1),c=a.path.substring(0,a.path.lastIndexOf("/")),d="https://api.github.com/repos/"+Oy(a.org)+"/"+(Oy(a.repo)+"/contents/")+(Oy(c)+"?per_page=100&")+("ref="+Oy(a.branch)),u(g,MH(d),2);e=g.yieldResult;if(!Za(e)||0==e.length)throw new KH("No results for "+d);f=e.find(function(h){return h.name==b});if(!f)throw new KH("Could not find "+b+" in "+d);return g.return(f)})},PH=function(a){var b,
c,d,e;return B(function(f){if(1==f.nextAddress)return u(f,OH(a),2);if(3!=f.nextAddress){b=f.yieldResult;if(!b.git_url)throw new KH("Could not find git_url of "+a.path);return u(f,MH(b.git_url),3)}c=f.yieldResult;if(!c.content)throw new KH("Could not open notebook at "+b.git_url);return"base64"==c.encoding?(d=new TextDecoder("utf-8"),e=d.decode(ng(c.content)),f.return(JSON.parse(e))):f.return(JSON.parse(c.content))})},QH=function(a){var b,c;return B(function(d){if(1==d.nextAddress){y(d,2);var e=Cl("https://raw.githubusercontent.com/"+
Oy(a.org)+"/"+(Oy(a.repo)+"/")+(Oy(a.branch)+"/"+Oy(a.path)));b=xd(e);return u(d,MH(qd(b)),4)}if(2!=d.nextAddress)return c=d.yieldResult,d.return(c);z(d);return d.return(PH(a))})},RH=function(a){var b,c,d,e,f,g,h;return B(function(l){if(1==l.nextAddress)return b=Cl("/gists/"+Oy(a.id)),u(l,MH(b),2);c=l.yieldResult;if(a.username!=c.owner.login)throw new KH("Could not find Gist owned by "+a.username);d=null;e=q(Object.keys(c.files));for(f=e.next();!f.done;f=e.next()){g=f.value;h=c.files[g];if(a.fileHash){if(a.fileHash!=
Wy(g))continue}else if("Jupyter Notebook"!=h.language&&!h.filename.endsWith(".ipynb"))continue;d=h;break}if(!d)throw new KH("Could not find a notebook at "+b);return d.truncated?l.return(MH(d.raw_url)):l.return(JSON.parse(d.content))})},TH=function(a){var b,c,d,e;return B(function(f){switch(f.nextAddress){case 1:b=null;c=new Dl(a.fileId_);if("gist"==a.source)return e=Yy(c),u(f,RH(e),5);d=Sy(c);return u(f,QH(d),4);case 4:b=f.yieldResult;f.jumpTo(3);break;case 5:b=f.yieldResult;case 3:return SH(b),
f.return(b)}})},VH=function(a,b){var c,d,e,f;return B(function(g){if(1==g.nextAddress)return u(g,UH(a,b),2);if(3!=g.nextAddress){c=g.yieldResult;if(!c)return g.return([]);d=c.tree.sha;e="/repos/"+Oy(a.full_name)+"/git/trees/"+d+"?recursive=1&per_page=100";return u(g,MH(e),3)}return(f=g.yieldResult)&&f.tree?g.return(f.tree.filter(function(h){return h.path&&h.path.endsWith(".ipynb")})):g.return([])})},XH=function(){var a,b,c,d,e,f,g;return B(function(h){if(1==h.nextAddress)return a=[],u(h,LH("/user/repos?per_page=100"),
2);if(3!=h.nextAddress){b=h.yieldResult;c=q(b);for(d=c.next();!d.done;d=c.next())f=e=d.value,a.push.apply(a,ja(f));return u(h,WH(),3)}g=h.yieldResult;return h.return(a.sort(function(l,m){var n=l.full_name.startsWith(g),p=m.full_name.startsWith(g);return n&&!p?-1:!n&&p?1:Xb(l.full_name,m.full_name)}))})},YH=function(a){a=void 0===a?"":a;var b,c,d,e,f;return B(function(g){switch(g.nextAddress){case 1:if(b=!a){g.jumpTo(2);break}if(!(c=!!HH.accessToken_)){g.jumpTo(3);break}d=a;return u(g,WH(),4);case 4:c=
d==g.yieldResult;case 3:b=c;case 2:if(b)return g.return(XH());e="/search/repositories?sort=updated&per_page=100&order=desc&"+("q=user:"+Oy(a)+"+fork:true");return u(g,MH(e),5);case 5:return(f=g.yieldResult)?g.return(f.items||[]):g.return([])}})},ZH=function(a){var b,c,d,e,f,g,h;return B(function(l){if(1==l.nextAddress)return b="/repos/"+Oy(a.full_name)+"/branches?per_page=100",c=[],u(l,LH(b),2);d=l.yieldResult;e=q(d);for(f=e.next();!f.done;f=e.next())h=g=f.value,c.push.apply(c,ja(h));return l.return(c)})},
UH=function(a,b){var c,d;return B(function(e){if(1==e.nextAddress)return c="/repos/"+Oy(a.full_name)+"/git/commits/"+Oy(b.commit.sha),u(e,MH(c),2);d=e.yieldResult;if(!d||!d.tree)throw Error("Could not find GitHub tree for "+c);return e.return(d)})},$H=function(a,b,c,d){var e,f,g;return B(function(h){if(1==h.nextAddress)return e="/repos/"+Oy(c.full_name)+"/git/trees",f=JSON.stringify({base_tree:d.tree.sha,tree:[{path:a,mode:"100644",type:"blob",content:b}]}),u(h,NH(e,f),2);g=h.yieldResult;if(!g||!g.sha)throw Error("Failed to post an update to "+
e);return h.return(g)})},aI=function(a,b,c,d){var e,f,g;return B(function(h){if(1==h.nextAddress)return e="/repos/"+Oy(a.full_name)+"/git/commits",f=JSON.stringify({message:d,tree:c.sha,parents:[b.commit.sha]}),u(h,NH(e,f),2);g=h.yieldResult;if(!g||!g.sha)throw Error("Failed to post a commit to "+e);return h.return(g)})},bI=function(a,b,c){var d,e,f;return B(function(g){if(1==g.nextAddress)return d="/repos/"+Oy(a.full_name)+"/git/refs/heads/"+Oy(b.name),e=JSON.stringify({sha:c.sha,force:!0}),u(g,
NH(d,e),2);f=g.yieldResult;if(!f||!f.url)throw Error("Failed to update head reference on "+d);return g.return(f)})},dI=function(a,b,c){var d=c.path,e=c.data,f=c.commitMessage,g,h,l,m,n;return B(function(p){switch(p.nextAddress){case 1:return g=qd(xd("https://github.com"+Py({path:d,org:a.owner.login,repo:a.name,branch:b.name},!1))),y(p,2),u(p,UH(a,b),4);case 4:return h=p.yieldResult,u(p,$H(d,e,a,h),5);case 5:return l=p.yieldResult,u(p,aI(a,b,l,f),6);case 6:return m=p.yieldResult,u(p,bI(a,b,m),7);case 7:va(p,
3);break;case 2:throw n=z(p),console.log(n),new cI("Failed to save notebook to "+g);case 3:return p.return(g)}})},eI=function(a){var b=a.title,c=a.filename,d=a.contents,e,f,g;return B(function(h){if(1==h.nextAddress)return I(!!HH.accessToken_),e={},f=JSON.stringify({"public":!1,description:b,files:(e[c]={content:d},e)}),u(h,NH("/gists",f),2);g=h.yieldResult;if(!g||!g.id)throw Error("Failed to create a new Gist");return h.return(g)})},fI=function(a,b){var c=b.title,d=b.contents,e,f,g,h,l;return B(function(m){if(1==
m.nextAddress)return I(!!HH.accessToken_),I(a.filename),e="/gists/"+Oy(a.id),f={},g=JSON.stringify({description:c,files:(f[a.filename]={content:d},f)}),u(m,NH(e,g,{patch:!0}),2);h=m.yieldResult;if(!h||!h.id)throw l=qd(Zy(a)),Error("Failed to edit Gist "+l);return m.return(h)})},WH=function(){var a;return B(function(b){if(1==b.nextAddress)return I(!!HH.accessToken_),HH.username_?b.jumpTo(2):u(b,MH("/user"),3);2!=b.nextAddress&&(a=b.yieldResult)&&a.login&&(HH.username_=a.login);return b.return(HH.username_)})},
SH=function(a){a&&a.cells&&a.cells[0]&&a.cells[0].metadata&&"view-in-github"==a.cells[0].metadata.id&&(a.metadata.colab||(a.metadata.colab={}),a.metadata.colab.include_colab_link=!0,a.cells.shift())},gI=function(a,b){a.cells.splice(0,0,{cell_type:"markdown",metadata:{id:"view-in-github",colab_type:"text"},source:['<a href="'+b+'" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a>']});a.metadata.colab.include_colab_link=!0},cI=function(){lb.apply(this,
arguments)};t(cI,lb);var KH=function(){lb.apply(this,arguments)};t(KH,lb);var JH=function(){lb.apply(this,arguments)};t(JH,lb);var hI=function(a){Cy.call(this,a)};t(hI,Cy);var iI=function(a){Cy.call(this,"Redirecting to a different version control workspace.");this.fileId_=a};t(iI,hI);var kI=function(){this.tokenProvider_=jI;this.tokenPromise_=null};kI.prototype.load=function(a,b){b=void 0===b?null:b;return(az(a)?Mk(lI(this,dz(a),b)):"github"==a.source||"gist"==a.source?Mk(TH(a)):mI(a)).then(function(c){return eC(c)})};
var mI=function(a){var b,c=fz(a),d=D.hl||"en",e=D.location.search;"bundled"!=a.source||"en"==d&&!e.includes("hl=en")||Sl(c,"hl",d);"piper"==a.source&&e.includes("allowCreateClient=true")&&Sl(c,"allowCreateClient","true");return Mk(fetch(c.toString(),{mode:"no-cors",credentials:"include"})).then(function(f){b=f;return b.text()}).then(function(f){if(!b.ok){if(f.includes("valid JSON"))throw new GH(f);throw new sA(b,f);}var g=f=JSON.parse(wA(f));if(cz(a)){if("citc_workspace_id"in f)throw f=f.citc_workspace_id,
f=ez(a).copyWithNewWorkspace(f),f=new $y(f.toFileIdString(),"piper",f),new iI(f);if("citcSnapshotNumber"in f){if(!("ipynb"in f))throw Error("No notebook from "+a);g=f.ipynb;g.metadata.colab=g.metadata.colab||{};g.metadata.colab.citcSnapshotNumber=f.citcSnapshotNumber}else g=f,g.metadata=g.metadata||{},g.metadata.colab=g.metadata.colab||{},g.metadata.colab.citcSnapshotNumber=parseInt(b.headers.get("x-colab-citc-snapshot"),10)}return g})},lI=function(a,b,c){return nI(a).then(function(d){var e=c;e=void 0===
e?null:e;var f="https://"+(d.isFirstParty?"clients6.google.com":"www.googleapis.com")+"/drive/v2beta/files/"+b+"?alt=media";e&&(f+="&revisionId="+e);e=new Dl(f);Sl(e,"key",d.apiKey);return oI(a,e.toString(),1)})},nI=function(a){if(a.tokenPromise_)return a.tokenPromise_;a.tokenPromise_=a.tokenProvider_().then(function(b){return b},function(b){a.tokenPromise_=null;throw b;});return a.tokenPromise_},oI=function(a,b,c){var d,e,f,g,h,l,m,n,p,r,w,v,A,H,C,J;return B(function(L){switch(L.nextAddress){case 1:return u(L,
nI(a),2);case 2:return d=L.yieldResult,e=new Headers,d.authorizationHeader&&e.set("Authorization",d.authorizationHeader),f=void 0,d.isFirstParty&&(f="include",d.xGoogAuthUser&&e.set("X-Goog-AuthUser",d.xGoogAuthUser)),d.base64EncodeDriveRequests&&e.set("X-Goog-Encode-Response-If-Executable","base64"),y(L,3),u(L,fetch(b,{headers:e,credentials:f}),5);case 5:g=L.yieldResult;va(L,4);break;case 3:throw h=z(L),new Cy("Could not fetch Drive notebook.",h);case 4:l=g.ok;l||(401==g.status?a.tokenPromise_=null:
console.warn("Drive API error "+g.status+" from "+b));m=null;if(204==g.status){w=g.headers.get("location");if(!w){L.jumpTo(7);break}return u(L,fetch(w),13)}return"base64"==g.headers.get("x-goog-safety-encoding")?u(L,g.arrayBuffer(),11):u(L,g.json(),10);case 10:m=L.yieldResult;L.jumpTo(7);break;case 11:n=L.yieldResult;p=FH(new Uint8Array(n));r=(new TextDecoder("utf-8")).decode(p);n=p=null;m=JSON.parse(r);L.jumpTo(7);break;case 13:return g=L.yieldResult,l=g.ok,u(L,g.json(),14);case 14:m=L.yieldResult;
case 7:if(403==g.status&&c&&(v=m.error||{},A=v.errors||[],H=A.some(function(W){return"abuse"==W.reason})))return C=new URL(b),C.searchParams.set("acknowledgeAbuse","true"),L.return(oI(a,C.toString(),c-1));if(!l){console.warn("Drive API error from "+b+": ",m);if(0<c)return console.warn("Drive API failed, retrying."),L.return(oI(a,b,c-1));J=String(m);try{J=m.error.errors[0].message}catch(W){}throw new sA(g,J);}return L.return(m)}})};var pI=function(a,b,c,d,e){this.params_=a||Mz();this.queryData_=c?c.clone():new Ll;this.fileId_=b;this.fileIdParseError_=d;this.sourcePath_=e},rI=function(a,b){if((void 0===b?0:b)&&a.hostname!=(new URL(XD.ABSOLUTE_PROD_URL)).hostname)throw Error("URL hostname: expected "+XD.ABSOLUTE_PROD_URL+", got "+a.hostname);b=a.pathname;var c=UD,d=hz(b),e=d.source;d=d.parts;b=e&&d.length?c.createFileIdFromPathParts(b,d,e):null;a=Mz(a);!b&&a.fileId&&(b=qI(a.fileId));return b},sI=function(a){var b=(new Dl(a.toString())).queryData_,
c=Mz(a),d=null,e=null;try{d=rI(a,!1)}catch(f){e=f}return new pI(c,d,b,e,a.pathname)},tI=function(){return sI(new URL(window.location.toString()))},uI=function(a){return new Tz(a.params_,a.fileId_,a.queryData_)},vI=function(a,b){if((a.fileId_?a.fileId_.fileId_:"")!=(b.fileId_?b.fileId_.fileId_:""))return!0;var c=b.params_,d=a.params_;return!!Iz.find(function(e){return c[e]!=d[e]})};pI.prototype.getFileId=function(){return this.fileId_};
var wI=function(a){a=hz(a.sourcePath_);if("github"!=a.source)return null;a=Ty(a.parts);return a.error?null:a.path},xI=function(a){return!!a.fileId_&&az(a.fileId_)&&!a.params_.inlineDoc},zI=function(a){return a.params_.sandboxMode||!a.fileId_||yI(a)?!1:"gist"==a.fileId_.source||xI(a)&&!a.params_.sandboxMode?!0:cz(a.fileId_)?ez(a.fileId_).isEditable():!1},AI=function(a){return a.params_.forceEdit?!0:a.params_.readonly||a.params_.view||a.params_.inlineDoc||!a.fileId_||bz(a.fileId_)?!1:!0},BI=function(a){return a.params_.scrollTo||
null};pI.prototype.getLine=function(){return this.params_.line||null};pI.prototype.getView=function(){return this.params_.view||null};pI.prototype.getTemplateParams=function(){return this.params_.templateParams||null};var CI=function(a){return a.params_.datalabBackendUrl?new URL(a.params_.datalabBackendUrl):null},yI=function(a){return a.fileId_&&az(a.fileId_)?a.params_.revisionId||null:null},DI=function(a){return a.queryData_.get("authuser","0")};var EI=new Set,FI=function(){this.tracesAfter=new Set;this.completedTraces=new Set;EI.add(this)};FI.prototype.finish=function(){EI.delete(this);return[].concat(ja(this.completedTraces))};
var GI=function(a,b){b=void 0===b?{}:b;if(void 0===b.capture?0:b.capture){b=q(EI);for(var c=b.next();!c.done;c=b.next())c.value.tracesAfter.add(a)}window.performance.mark(a+"_start")},HI=function(a){window.performance.mark(a+"_end");window.performance.measure(a,a+"_start",a+"_end");for(var b=q(EI),c=b.next();!c.done;c=b.next())c=c.value,c.tracesAfter.has(a)&&c.completedTraces.add(a)},II=function(a,b){var c=b.eventId,d=void 0===b.capture?!1:b.capture,e;return B(function(f){switch(f.nextAddress){case 1:return GI(c,
{capture:d}),ua(f),u(f,a,4);case 4:e=f.yieldResult;case 2:wa(f);HI(c);xa(f,3);break;case 3:return f.return(e)}})};var JI=null,KI=function(){this.title_=this.fileId_=null;this.isProber_=void 0;this.connectionParams_=null},LI=function(){JI||(JI=new KI);return JI};KI.prototype.setFileId=function(a){this.fileId_=a};KI.prototype.setTitle=function(a){this.title_=a};
var MI=function(a){void 0==a.isProber_&&(a.isProber_=!!Kx);return a.isProber_},NI=function(a,b,c,d){MI(a)||ga(b,c,d)},OI=function(a,b){var c={notebook_name:a.title_||"",notebook_id:a.fileId_?a.fileId_.toString():"",colab_version_tag:window.colabVersionTag};if(a.connectionParams_){c.backend_info={};switch(a.connectionParams_.kind){case "local":c.backend_info.type=3;break;case "private":c.backend_info.type=1;break;case "shared":c.backend_info.type=2;break;case "gce":c.backend_info.type=4;var d=(new URL(a.connectionParams_.hostport)).pathname;
d.startsWith("/tun/")&&(d=d.substr(4));c.backend_info.tunnel_url=d}a.connectionParams_.routingToken&&(c.backend_info.bns_address=a.connectionParams_.routingToken)}for(var e in b)c[e]=b[e];return c},PI=function(a,b){if(b.error||!MI(a))a=OI(a,b),b=tI(),!a.notebook_id&&b.getFileId()&&(a.notebook_id=b.getFileId().toString()),Xk(sw("/analytics?authuser="+DI(b),JSON.stringify(a)),function(c){console.error("Analytics logging failed: "+c)})},ZI=function(a,b){var c=a?a.getDocument():null,d;if(a&&c&&!c.isClosed){var e=
{realtime_size_bytes:c.getModel().bytesUsed,cells:QI(a),provenance:a.getMetadata().get("provenance")||[]};RI(a)&&(e.private_outputs=!0);0<a.jsonBytesWhenLoaded_&&(e.json_size_bytes=a.jsonBytesWhenLoaded_);(c=SI(a))&&c.name&&(e.kernel_name=c.name);(c=TI(a))&&(d=c.isEditable()?3:c.isCommentable()?2:1)}c=a?a.getTraits():null;var f;c&&(f=yI(c)||void 0);var g;b&&(g=UI(b));a={drive_permissions:d,snapshot:e,error:g,mimeType:a?a.mimeType_:void 0,driveRevisionId:f};f=void 0===a?{}:a;a=void 0===f.drive_permissions?
void 0:f.drive_permissions;b=void 0===f.snapshot?void 0:f.snapshot;e=void 0===f.mimeType?void 0:f.mimeType;d=void 0===f.driveRevisionId?void 0:f.driveRevisionId;f={error:void 0===f.error?void 0:f.error,timing_event:VI(["drive_api_ready","load_drive_metadata","load_drive_doc"])};f.load_event={drive_permissions:a,snapshot:b,mime_type:e,drive_revision_id:d};f.load_event.load_timings={navigation_start_to_json_transfer_ms:WI(),json_transfer_ms:XI("notebook_load"),notebook_layout_ms:XI("notebook_layout")};
YI(f);a=LI();NI(a,"set",{title:a.title_?a.title_:"/no-notebook-loaded/"})},QI=function(a){return a.getCells().map(function(b){var c=b.getText(),d=b.originalMetadata_;return{id:b.getId(),type:$I(b.getType()),lines:c.split("\n").length,characters:c.length,has_nbgrader_metadata:"nbgrader"in d}})},$I=function(a){switch(a){case "code":return 1;case "text":return 2;case "toc":return 3;case "raw":return 4}},UI=function(a){var b=JSON.stringify(a.stack)||"";b=b.replace(/https:..colab(-\w+)?.corp.google.com.v2.js/g,
"");b={name:a.type,msg:(a.message||"").slice(0,1E3),content:b.slice(0,1500)};b.name||(b.name=a.name||"unknown_type");return b},YI=function(a){PI(LI(),a)},aJ=function(a){var b=UI(a);YI({error:b});a=a.message||"";NI(LI(),"send",{hitType:"exception",exDescription:a,nonInteraction:1})},bJ=function(a){a instanceof Error?aJ(a):aJ(Error(String(a)))},cJ=function(){var a=LI();NI(a,"create",QD.ANALYTICS_ID,{siteSpeedSampleRate:50});NI(a,"set","referrer",document.referrer.split("?")[0]);NI(a,"set","location",
window.location.href.split("?")[0]);NI(a,"set","checkProtocolTask",null);NI(a,"send","pageview");window.addEventListener("error",function(b){console.error("Uncaught error:",b);b.error&&!b.error.xhr&&aJ(b.error)})},dJ=function(a,b,c,d,e){a={hitType:"event",eventCategory:a,eventAction:b,eventLabel:c,eventValue:void 0===d?1:d};void 0!==e&&(a.nonInteraction=e?1:0);NI(LI(),"send",a)},eJ=function(a,b,c,d){a={user_action:{action:b,source:a,event_message:c,isolation_enabled:Nz.ISOLATED_NOTEBOOKS},timing_event:VI(d)};
YI(a)},fJ=function(a,b){a={kernel_event:{event_type:a,namespace:1}};b&&(a.error=b.error,a.kernel_event.kernel_language=b.kernelLanguage,a.kernel_event.kernel_name=b.kernelName,a.kernel_event.requested_kernel_name=b.requestedKernelName);YI(a)},gJ=function(a,b){YI({kernel_event:{event_type:14,namespace:1,cell_contents:a},timing_event:[{action:b.action,elapsed_ms:b.elapsedMs}]})},VI=function(a){if(a&&(a=a.map(function(b){return{action:b,elapsed_ms:XI(b)}}).filter(function(b){return null!=b.elapsed_ms}),
a.length))return a},XI=function(a){a=window.performance.getEntriesByName(a).filter(function(b){return"measure"==b.entryType});if(0!=a.length)return Math.round(a[a.length-1].duration)},WI=function(){var a=window.performance.getEntriesByName("notebook_load").filter(function(b){return"measure"==b.entryType});if(0!=a.length)return Math.round(a[0].startTime)},hJ=function(a,b,c,d){d=void 0===d?{}:d;YI({drive_api_event:{resource:a,method:b,status:c,response_code:d.responseCode,msg:d.message,response_id:d.responseId,
reason:d.reason}})},iJ=function(a){var b=a.autoCompletions,c=a.keyBindings,d=a.customSnippets,e=a.theme,f=a.powerMode;a=a.corgiMode;YI({preferences:{auto_completions:null===b?void 0:b,key_bindings:null===c?void 0:c,custom_snippets:null===d?void 0:d,site_theme:null===e?void 0:e,power_mode:null===f?void 0:f,corgi_mode:null===a?void 0:a}})};var jJ=null,kJ="",lJ=function(){var a=this;this.driveApiReady_=this.pendingImmediateApiLoad_=this.apiLoaded_=this.pendingImmediateAuthorization_=null;this.startTokenRefresh_=fc(function(){window.setInterval(function(){a.authorize({immediate:!0}).catch(function(b){console.warn("failed to obtain OAuth token");b instanceof Error||(b&&b instanceof AH?(console.warn("Drive API error: ",b),b=Error(b.error)):(console.warn("Unhandled drive authorize error type: ",b),b=Error("unhandled drive authorization error type")));
aJ(b)})},24E5)})},mJ=function(){jJ||(jJ=new lJ);return jJ},oJ=function(a){if(!a.apiLoaded_){if(Ux)return a.apiLoaded_=nJ(),a.apiLoaded_;if(colab_gapi_loader)a.apiLoaded_=Promise.resolve(colab_gapi_loader.load()).then(function(){return new Promise(function(b){gapi.client.load(DH,"v2",b)})}),Ey(a.apiLoaded_,9E4,"Timed out waiting for GAPI load").catch(function(b){bJ(b)});else return Promise.reject(Error("GAPI loader is not available."))}return a.apiLoaded_},qJ=function(a,b){b=void 0===b?{}:b;var c=
void 0===b.prompt?!0:b.prompt,d=void 0===b.allowAnonymous?!1:b.allowAnonymous,e=void 0===b.allowCancel?!0:b.allowCancel;if(Ux)return pJ({prompt:c,allowAnonymous:d,allowCancel:e});var f=!c;return a.driveApiReady_?a.driveApiReady_:f&&a.pendingImmediateApiLoad_?a.pendingImmediateApiLoad_:oJ(a).then(function(){return a.authorize({immediate:f,allowCancel:e})}).then(function(){return a.startTokenRefresh_()}).then(function(){f&&(a.pendingImmediateApiLoad_=null);a.driveApiReady_=Promise.resolve()})};
lJ.prototype.authorize=function(a){var b=this;a=void 0===a?{}:a;var c=void 0===a.immediate?!1:a.immediate,d=void 0===a.allowCancel?!0:a.allowCancel;return c&&null!=this.pendingImmediateAuthorization_?this.pendingImmediateAuthorization_:this.pendingImmediateAuthorization_=a=rJ(!0).then(function(){var e=gapi.auth.getToken();return e?e.access_token:null}).catch(function(e){if(c)throw e;return sJ({allowCancel:d}).then(function(f){if(f)return rJ(!1);throw new CH;})}).finally(function(){b.pendingImmediateAuthorization_=
null})};
var sJ=function(a){a=void 0===a?{}:a;var b=WD.DRIVE_AUTHORIZATION_FAILED;return void 0===a.allowCancel||a.allowCancel?yH({title:"Drive authorization required",message:b,yesText:"Authorize",noText:"Cancel"}):zH({title:"Drive authorization required",message:b,yesText:"Authorize",modal:!0})},jI=function(){return Ux?nJ().then(function(){var a=gapi.config.get("googleapis.config/sessionIndex");return{apiKey:kJ,isFirstParty:!tJ(),authorizationHeader:gapi.auth.getAuthHeaderValueForFirstParty([]),xGoogAuthUser:a,
base64EncodeDriveRequests:ty}}):mJ().authorize().then(function(a){return{apiKey:kJ,isFirstParty:!1,authorizationHeader:"Bearer "+a,xGoogAuthUser:null}})},uJ=function(a,b,c,d){var e=d.allowAnonymous,f,g,h,l,m,n,p,r,w,v;return B(function(A){switch(A.nextAddress){case 1:return u(A,qJ(mJ(),{allowAnonymous:e}),2);case 2:return f=!1,g=nn(function(){f||hJ(b,c,3)},3E5),y(A,3),u(A,a,5);case 5:return h=A.yieldResult,f=!0,on(g),l=h.result||{},m=l.id,hJ(b,c,1,{responseId:m}),A.return(l);case 3:throw n=z(A),Ix&&
console.warn("API error: "+b+"."+c+" "+("error: "+String(n.body))),f=!0,on(g),p=BA(n.result,["error","code"]),r=BA(n.result,["error","message"]),w=BA(n.result,["error","errors"],[]),v=void 0,w.length&&(v=BA(w[0],["reason"])),hJ(b,c,2,{responseCode:p,message:r,reason:v}),new AH(n.result?n.result.error:null);}})},wJ=function(a,b,c,d){var e=void 0===d?{}:d;d=void 0===e.timeout?null:e.timeout;var f=void 0===e.allowAnonymous?!1:e.allowAnonymous;if(void 0===e.retry?0:e.retry)return vJ(a,b,c,{allowAnonymous:f,
timeout:d});a=uJ(a,b,c,{allowAnonymous:f});return d?Ey(a,d,"gapi.request timeout"):a},vJ=function(a,b,c,d){var e=d.allowAnonymous,f=d.timeout;return Promise.resolve(YD(function(){var g;return B(function(h){if(1==h.nextAddress)return y(h,2),u(h,wJ(a,b,c,{allowAnonymous:e,timeout:f}),4);if(2!=h.nextAddress)return h.return(h.yieldResult);g=z(h);if(!(g instanceof AH))throw new ZD(g);if(403==BH(g)||500==BH(g))throw g;throw new ZD(g);})}))},rJ=function(a){var b,c,d,e,f;return B(function(g){switch(g.nextAddress){case 1:if(!Ux){g.jumpTo(2);
break}return u(g,nJ(),3);case 3:return g.return({});case 2:return u(g,colab_gapi_loader.load(),4);case 4:return b={client_id:TD.CLIENT_ID,scope:TD.DEFAULT_SCOPES,immediate:a,response_type:"code token id_token"},(c=Ua("colab.drive.install.DISABLE_DOMAIN_RESTRICTION")?null:TD.DOMAIN_RESTRICTION)&&(b.hd=c),kJ=TD.API_KEY,gapi.client.setApiKey(kJ),gapi.config.update("client/cors",!0),(d=Kx)?(e={access_token:d},gapi.auth.setToken(e),g.return(Promise.resolve(e))):u(g,Ey(new Promise(function(h,l){gapi.auth.authorize(b,
function(m){null!=m.error?l(m):h(m)})}),3E5,"Timed out waiting for authorization"),5);case 5:return f=g.yieldResult,g.return(f)}})},nJ=function(){return xJ?xJ:xJ=function(){var a;return B(function(b){if(1==b.nextAddress)return GI("gapi_loader_load"),u(b,colab_gapi_loader.load(),2);if(3!=b.nextAddress)return HI("gapi_loader_load"),gapi.auth.getAuthHeaderValueForFirstParty()?(gapi.config.update("client/cors",!0),gapi.config.update("googleapis.config/auth/useFirstPartyAuth",!0),gapi.config.update("googleapis.config/auth/useFirstPartyAuthV2",
!0),a=DI(tI()),gapi.config.update("googleapis.config/sessionIndex",a),kJ=TD.API_KEY):kJ=TD.ANONYMOUS_API_KEY,gapi.client.setApiKey(kJ),GI("v2betaRest"),u(b,new Promise(function(c){gapi.client.load(DH,"v2",c)}),3);HI("v2betaRest");x(b)})}()},pJ=function(a){var b=a.prompt,c=a.allowAnonymous,d=a.allowCancel,e;return B(function(f){switch(f.nextAddress){case 1:if(tJ()&&!c){f.jumpTo(2);break}return u(f,nJ(),3);case 3:return f.return();case 2:if(!b)throw Error("Drive API disabled: anonymous view mode");
var g={allowCancel:d};g=void 0===g?{}:g;g=void 0===g.allowCancel||g.allowCancel?yH({title:"Google sign-in required",message:"You must be logged in to a Google account to continue.",yesText:"Sign in",noText:"Cancel"}):zH({title:"Google sign-in required",message:"You must be logged in to a Google account to continue.",yesText:"Sign in",modal:!0});return u(f,g,4);case 4:e=f.yieldResult;if(!e)throw new CH;return f.return(yJ())}})},yJ=function(){var a=new Dl("https://accounts.google.com/ServiceLogin");
a.queryData_.set("continue",window.location.toString());var b=DI(tI());a.queryData_.set("authuser",b);a.queryData_.set("hl",tz);ye(window.location,a.toString());return(new Promise(function(c){setTimeout(c,1E3)})).then(function(){throw new CH;})},tJ=function(){return Ux&&"anonymous"==window.colabUserEmail},zJ=function(a){var b=a.prompt,c;return B(function(d){if(1==d.nextAddress){if(tJ())return d.return(!1);y(d,2);return u(d,qJ(mJ(),{prompt:b}),4)}if(2!=d.nextAddress)return d.return(!0);c=z(d);if(c instanceof
CH||c instanceof Dy||c&&"immediate_failed"==c.error)return d.return(!1);console.error(c);return d.return(!1)})},xJ=null;var AJ=null,CJ=function(){return B(function(a){AJ||(AJ=oJ(mJ()).then(function(){var b=gapi.client.drive.about.get(BJ({fields:"user"}));return wJ(b,1,1)}).then(function(b){return b.user}));return a.return(AJ)})},DJ=function(){var a;return B(function(b){if(1==b.nextAddress)return u(b,CJ(),2);a=b.yieldResult;return b.return(a.permissionId)})},EJ=void 0;function BJ(a){a=a||{};void 0===EJ&&(EJ=FJ());EJ&&zc(a,EJ);a.supportsTeamDrives="true";return a}
function FJ(){var a=tI().params_.driveDebug||null;if(!a)return null;if(a.startsWith("email:"))return{trace:a,"trace.deb":"genoa:3:all,driveService:3:all"};try{return JSON.parse(a)}catch(b){return console.error("Unable to parse driveDebug from params:",a),null}}
var GJ=function(a){var b=a.data,c=void 0===a.fileId?null:a.fileId,d=void 0===a.pinned?!1:a.pinned,e=void 0===a.retry?!1:a.retry,f=void 0===a.apiVersion?"v2beta":a.apiVersion,g=void 0===a.resourceFields?"alternateLink,capabilities/canReadRevisions,downloadUrl,fileSize,id,labels,mimeType,originalFilename,owners,parents,properties,shared,teamDriveId,title,userPermission,headRevisionId":a.resourceFields,h=void 0===a.headRevisionId?"":a.headRevisionId;a="\r\n---------314159265358979323846\r\nContent-Type: application/json\r\n\r\n"+
JSON.stringify(a.metadata)+"\r\n---------314159265358979323846\r\nContent-Type: application/json\r\n\r\n"+b+"\r\n---------314159265358979323846--";b="/upload/drive/"+f+"/files";var l="POST";f=2;c&&(b+="/"+c,l="PUT",f=5);c={uploadType:"multipart",fields:g};d&&(c.pinned=!0);h&&(c.precondition="headRevisionId='"+h+"'");d=gapi.client.request({path:b,method:l,params:BJ(c),headers:{"Content-Type":'multipart/mixed; boundary="-------314159265358979323846"'},body:a});return wJ(d,3,f,{retry:e}).then(function(m){return m})},
HJ=function(a,b,c){c=void 0===c?{}:c;var d=void 0===c.retry?!1:c.retry,e,f;return B(function(g){e=0;d&&(e=7);f=new kI;return g.return(YD(function(){return B(function(h){try{return h.return(lI(f,a,b||null))}catch(l){if(l instanceof sA&&(403==l.status||500==l.status))throw l;throw new ZD(l);}})},{maxRetryCount:e}))})},IJ=function(a){var b,c;return B(function(d){b={fileId:a};c=gapi.client.drive.files.delete(BJ(b));return u(d,wJ(c,3,6,{retry:!0}),0)})},JJ=function(a){a=void 0===a?"root":a;a=gapi.client.drive.files.list(BJ({maxResults:1E3,
folderId:a,q:"title contains 'Untitled' and '"+a+"' in parents and trashed = false",fields:"items(title)"}));return wJ(a,3,3).then(function(b){b=(b.items||[]).map(function(e){return e.title});for(var c=0;c<=b.length;c++){var d="Untitled"+c+".ipynb";if(-1==b.indexOf(d))return d}return"Untitled.ipynb"}).catch(function(){return"Untitled.ipynb"})},KJ=function(){var a,b,c,d;return B(function(e){switch(e.nextAddress){case 1:return u(e,qJ(mJ()),2);case 2:return a=gapi.client.drive.files.list(BJ({maxResults:1,
q:"title = 'Colab Notebooks' and trashed = false and hidden = false and 'root' in parents and mimeType = 'application/vnd.google-apps.folder'",fields:"items(id)"})),u(e,wJ(a,3,3),3);case 3:return b=e.yieldResult,c=b.items||[],c.length?e.return(c[0].id):u(e,GJ({data:"",metadata:{title:"Colab Notebooks",mimeType:"application/vnd.google-apps.folder",folderColorRgb:"#fad165"},resourceFields:"id"}),4);case 4:return d=e.yieldResult,e.return(d.id)}})},LJ=function(a,b){var c=b.prompt,d,e,f;return B(function(g){if(1==
g.nextAddress)return u(g,qJ(mJ(),{prompt:c}),2);if(3!=g.nextAddress)return d=gapi.client.request({path:"/drive/v3/files",params:{q:"name = '"+a+"'",spaces:"appDataFolder",maxResults:1,orderBy:"quotaBytesUsed desc"}}),u(g,wJ(d,3,3),3);e=g.yieldResult;f=e.files||[];return f.length?g.return(f[0].id):g.return(null)})},MJ=function(a,b){b=void 0===b?{}:b;var c=void 0===b.prompt?!0:b.prompt,d=void 0===b.create?!0:b.create,e,f;return B(function(g){if(1==g.nextAddress)return u(g,LJ(a,{prompt:wb(c)}),2);if(3!=
g.nextAddress)return(e=g.yieldResult)||!d?g.return(e):u(g,GJ({data:"",metadata:{name:a,mimeType:"application/json",parents:["appDataFolder"]},retry:!0,apiVersion:"v3",resourceFields:"id"}),3);f=g.yieldResult;return g.return(f.id)})},NJ=function(a,b,c){var d=c.withPrivateOutputs,e=c.language,f,g,h,l,m;return B(function(n){f=[];a&&f.push({id:a});if(null==b){g=ID("Untitled");h={cell_type:"code",execution_count:0,metadata:{},outputs:[],source:[""]};g.cells=[h];if(l=Dz(e))g.metadata.kernelspec=l;d&&(g.metadata.colab.private_outputs=
!0);b=JD(g)}m={parents:f,title:"Untitled",description:"Colaboratory notebook",mimeType:TD.DEFAULT_MIME_TYPE};return n.return(GJ({data:b,metadata:m,retry:!0}))})},OJ=function(a,b){b=void 0===b?"alternateLink,capabilities/canReadRevisions,downloadUrl,fileSize,id,labels,mimeType,originalFilename,owners,parents,properties,shared,teamDriveId,title,userPermission,headRevisionId":b;return qJ(mJ(),{allowAnonymous:!0}).then(function(){var c=BJ({fileId:a,fields:b,path:"/v2internal/files"});c=gapi.client.drive.files.get(c);
return wJ(c,3,1,{allowAnonymous:!0,retry:!0,timeout:3E4})}).catch(function(c){404===BH(c)&&console.warn("Failed to load metadata because of a 404 Drive API Error. Either the file could not be found or user does not have sufficient permission to access it.");throw c;})},PJ=function(a,b){a=gapi.client.drive.comments.insert(BJ(a),b);return wJ(a,2,2).then(function(c){return c})},QJ=function(a){a=gapi.client.drive.comments.delete(BJ(a));return wJ(a,2,6)},RJ=function(a,b){a=gapi.client.drive.replies.insert(BJ(a),
b);return wJ(a,5,2).then(function(c){return c})},SJ=function(a,b){a=gapi.client.drive.replies.update(BJ(a),b);return wJ(a,5,5).then(function(c){return c})},TJ=function(a){a=gapi.client.drive.replies.delete(BJ(a));return wJ(a,5,6)},UJ=function(a){a=gapi.client.drive.comments.list(BJ(a));return wJ(a,2,3).then(function(b){return b})},VJ=function(a,b){a=gapi.client.drive.comments.update(BJ(a),b);return wJ(a,2,5).then(function(c){return c})},WJ=function(a){a=BJ(a);a=gapi.client.drive.files.patch(a);return wJ(a,
3,4)},XJ=function(a){a=gapi.client.drive.revisions.list(BJ(a));return wJ(a,6,3,{allowAnonymous:!0})},YJ=function(a){a=gapi.client.drive.revisions.update(BJ(a));return wJ(a,6,5)},ZJ=function(a){var b={fileId:a};return qJ(mJ()).then(function(){var c=gapi.client.drive.permissions.list(BJ(b));return wJ(c,4,3)})},$J=function(){return"owner:me ("+TD.SEARCH_MIMETYPES.map(function(a){return"type:"+a}).join(" || ")+")"},aK=function(a){var b,c;return B(function(d){if(1==d.nextAddress)return b=gapi.client.drive.files.list(BJ({includeEmbeddedItems:!0,
q:'embeddingParent="'+a+'"',fields:"items(id)"})),u(d,wJ(b,3,3),2);c=d.yieldResult;return d.return(c.items.map(function(e){return e.id}))})},bK=function(){var a=void 0===a?!1:a;var b,c,d,e,f,g,h;return B(function(l){if(1==l.nextAddress)return b=TD.SEARCH_MIMETYPES.map(function(m){return'mimeType="'+m+'"'}),c=b.join(" or "),d=a?' and "me" in owners':"",e=1<b.length&&d?"("+c+") "+d:c+" "+d,f=gapi.client.drive.files.list(BJ({q:e,fields:"items(title,ownerNames,id,lastViewedByMeDate,modifiedDate)",orderBy:"modifiedDate desc",
maxResults:1E3})),u(l,wJ(f,3,3),2);g=l.yieldResult;h=function(m,n){return m[n]?new Date(Date.parse(m[n])):null};return l.return(g.items.map(function(m){return{ownerNames:m.ownerNames||[],id:m.id,lastViewedByMeDate:h(m,"lastViewedByMeDate"),modifiedDate:h(m,"modifiedDate"),title:m.title}}))})},cK=function(){var a,b;return B(function(c){if(1==c.nextAddress)return a=gapi.client.drive.apps.get(BJ({appId:"self"})),u(c,wJ(a,7,1),2);b=c.yieldResult;return c.return(b.installed)})},dK=function(){var a;return B(function(b){a=
gapi.client.request(BJ({method:"POST",path:"/drive/v2internal/apps"}));return u(b,wJ(a,7,2),0)})};var eK=function(a,b){K.call(this,a);this.error=b};t(eK,K);var fK=function(a){Cy.call(this,a)};t(fK,Cy);var gK=Ox,hK=gK-524288;kb("colab.model.constants.setRealtimeLimitForTests",function(a){gK=a;hK=a-524288});var iK=["application/vnd.google.colaboratory","application/vnd.google.colaboratory.corp"];var jK=function(){};t(jK,MD);jK.prototype.save=function(a,b){var c=this;return B(function(d){I(b.clone);return u(d,kK(c,a,null,b),0)})};jK.prototype.clone=function(a,b){var c=this,d;return B(function(e){if(1==e.nextAddress)return u(e,kK(c,a,null,{clone:!0,title:b}),2);d=e.yieldResult;return e.return(qI(d.metadata.id))})};
var kK=function(a,b,c,d){var e,f,g,h,l,m,n,p,r,w,v,A,H,C,J,L,W,Ha,Ya,tb;return B(function(ma){switch(ma.nextAddress){case 1:d=d||{};e=b.getDocument();f=e.getModel();g=!!d.clone;h=!!d.pinned;l=a.getIpynb4Notebook(b,d,{inlineEmbeddedOutputs:g||h});m=JSON.stringify(l);n=a.getTitle(b,d);p=g?void 0:b.getFileId().toString();r=[];w=0;if(!g){v=f.getRoot().get("metadata");v.has("revisionCounter")&&(w=parseInt(v.get("revisionCounter"),10));lK(b)?w=f.serverRevision+1:++w;v.set("revisionCounter",w+"");ma.jumpTo(2);
break}return u(ma,KJ(),3);case 3:A=ma.yieldResult,r.push({id:A});case 2:H=[{key:"revisionCounter",value:w+"",visibility:"PUBLIC"}];H.push({key:"disableRealtime",value:"1",visibility:"PUBLIC"});var Jb=g?TD.DEFAULT_MIME_TYPE:(Jb=b.mimeType_)?Jb:"application/vnd.google.colab";var Tc=f.getRoot().get("cells").asArray().map(FD);Tc=(n+"\n"+Tc.join("\n")).substr(0,1E5);C={title:n,description:"Colaboratory notebook",mimeType:Jb,parents:r,indexableText:{text:Tc},properties:H};(J=b.thumbnail_)&&(C.thumbnail=
{image:J,mimeType:"image/jpeg"});L="";W="v2beta";c&&(W="v2internal",d.force||(L=c,Ix&&console.log("drive_saver: saveToDrive: revision: "+c)));y(ma,4);return u(ma,GJ({data:m,metadata:C,fileId:p,pinned:h,apiVersion:W,retry:!0,headRevisionId:L}),6);case 6:Ha=ma.yieldResult;va(ma,5);break;case 4:Ya=z(ma);if(!Ix){ma.jumpTo(7);break}return u(ma,OJ(dz(b.getFileId())),8);case 8:tb=ma.yieldResult,console.log("drive_saver: after conflict: latest revision: "+tb.headRevisionId);case 7:ma=Ya;if(!(ma instanceof
AH))throw ma;if(412==BH(ma))throw new fK;throw ma;case 5:return ma.return(new mK(Ha,l))}})};jK.prototype.saveTitle=function(a){var b;return B(function(c){b={fileId:dz(a.getFileId()),resource:{title:a.getTitle()}};return u(c,WJ(b),0)})};var mK=function(a,b){this.metadata=a;this.notebook=b};var nK=function(){rA.apply(this,arguments)};t(nK,rA);nK.prototype.refresh=function(){var a=this;return pn(0).then(function(){a.dispatchEvent("change")})};nK.prototype.getRevision=function(){return B(function(a){return a.return({})})};nK.prototype.setRevisionPinned=function(){};var oK=function(a){this.executors_=a;this.promises_=[]};oK.prototype.run=function(){var a=this;return 0==this.executors_.length?Mk([]):pK(this,this.executors_.shift()).then(function(){return Rk(a.promises_)})};
var pK=function(a,b){var c=new Promise(function(d){d(b())});a.promises_.push(c);return c.then(function(d){return 0==a.executors_.length?d:pK(a,a.executors_.shift())})},qK=function(){this.running_=null;this.pending_=0},rK=function(a,b){var c=new oK(b);0==a.pending_&&(I(!a.running_),a.running_=Mk());a.pending_++;a.running_=Wk(Xk(a.running_,function(){return Promise.resolve()}).then(function(){return c.run()}),function(){a.pending_--;0==a.pending_&&(a.running_=null)});return Promise.resolve(a.running_)};
qK.prototype.length=function(){return this.pending_};qK.prototype.enqueue=function(a){return rK(this,[a]).then(function(b){return b[0].value})};var sK=function(){this.timeoutMilliseconds_=36E4;this.timeoutMessage_="NotebookModel.saveQueue timeout";this.queue_=new qK};sK.prototype.enqueue=function(a){var b=this;return this.queue_.enqueue(function(){var c=a();return Promise.resolve(Ey(c,b.timeoutMilliseconds_,b.timeoutMessage_))})};sK.prototype.length=function(){return this.queue_.length()};var tK=WB("colabDriveRealtime","CollaborationStatus");WB("colabDriveRealtime","Error");var uK=WB("colabDriveRealtime","ErrorType");var vK=function(a){Cy.call(this,a)};t(vK,Cy);var wK=WB("colabDriveRealtime","Loader");var xK=function(a,b){var c=b.intervalMillis;b=void 0===b.initialRevision?0:b.initialRevision;lj.call(this);this.action_=a;this.intervalMillis_=c;this.completedRevision_=this.currentRevision_=b;this.actionTimer_=null;this.actionPromise_=Promise.resolve()};t(xK,lj);xK.prototype.disposeInternal=function(){null!=this.actionTimer_&&on(this.actionTimer_)};var zK=function(a,b){++a.currentRevision_;(void 0===b||b)&&yK(a)};xK.prototype.hasPendingAction=function(){return this.currentRevision_!=this.completedRevision_};
xK.prototype.flush=function(){if(!this.hasPendingAction())return Promise.resolve();null!=this.actionTimer_&&(on(this.actionTimer_),this.actionTimer_=null);return AK(this)};
var yK=function(a){a.hasPendingAction()&&null==a.actionTimer_&&(a.actionTimer_=nn(function(){a.actionTimer_=null;AK(a)},a.intervalMillis_))},AK=function(a){a.actionPromise_=a.actionPromise_.then(function(){var b;return B(function(c){if(1==c.nextAddress){if(!a.hasPendingAction())return c.return();b=a.currentRevision_;y(c,2);return u(c,a.action_(),4)}if(2!=c.nextAddress)return a.completedRevision_=b,va(c,0);z(c);x(c)})});return a.actionPromise_};var BK=/\r|\033\[1A\033\[K/;var CK=function(a,b){M.call(this);this.rendered_=!1;this.startTime_=jb();this.tags_=new Ki;this.tagList_=[];this.realtimeModel_=b;this.realtimeOutput_=a;this.localContent_=!1;this.id_=this.realtimeOutput_.get("id");this.totalNumOutputItems_=0};t(CK,M);CK.prototype.hasItems=function(){var a=this.outputItems_;return 0<(a.length?a.length:0)};CK.prototype.getItem=function(a){return this.outputItems_[a]};CK.prototype.getId=function(){return this.id_};CK.prototype.deleteResources=function(){return Promise.resolve()};
var EK=function(a,b){var c=new Ki(b||[]);DK(a,function(d){d=BA(d,["metadata","tags"])||[];return Mi(c,d)})};CK.prototype.disposeInternal=function(){this.realtimeOutput_.removeAllEventListeners();this.clear();M.prototype.disposeInternal.call(this)};CK.prototype.clear=function(){var a=this.realtimeOutput_,b=this.realtimeModel_;b&&a&&YB(a,b)};CK.prototype.handleKernelDone=function(){this.flush()};
var HK=function(a,b){for(var c=a.outputItems_,d=[],e=new Map,f=new Map,g=0;g<b.length;g++){var h=b[g];if(h instanceof IC&&h.displayId){for(var l=!1,m=0;m<c.length;m++)if(c[m].display_id==h.displayId){l=GC(h,a.tagList_);f.set(m,l);l=!0;break}l||(e.has(h.displayId)?(m=e.get(h.displayId),d[m]=h):(d.push(h),e.set(h.displayId,d.length-1)))}else d.push(h)}b=q(f.entries());for(c=b.next();!c.done;c=b.next())e=q(c.value),c=e.next().value,e=e.next().value,FK(a,e),GK(a,c,e);return d};
CK.prototype.handleKernelOutputMessages=function(a){var b=this,c=this.outputItems_;a=HK(this,a);var d=[c.length?c[c.length-1]:null],e=hb(this.tryMerge_,this,!1),f=hb(this.tryMerge_,this,!0),g=!1,h=!0;a.forEach(function(l){var m;if(m=l instanceof IC)l instanceof IC&&l.control?(m=l.control,m.add_tags&&(b.tags_.addAll(m.add_tags),b.tagList_=b.tags_.getValues().sort()),m.remove_tags&&(b.tags_.removeAll(m.remove_tags),b.tagList_=b.tags_.getValues().sort()),m=!!m.nodisplay):m=!1;m||(l=GC(l,b.tagList_),
m=d.length-1,(h?f:e)(d[m],l)?(h&&(g=!0),d[m]=l):d.push(l),h=!1)});g&&null!=d[0]&&(FK(this,d[0]),GK(this,c.length-1,d[0]));for(a=1;a<d.length;a++)FK(this,d[a]),this.outputItems_.push(d[a]),this.dispatchEvent(new IK({index:this.outputItems_.length-1,isLocal:!0,length:1,removedItems:null,outputId:this.getId(),type:"item_added"})),JK(this);this.dispatchEvent("batch_handled")};var KK=function(a){a=a.realtimeOutput_.get("base_uri");return null==a?null:new URL(String(a))};k=CK.prototype;
k.setBaseUri=function(a){this.realtimeOutput_.set("base_uri",a)};k.getHeight=function(){var a=this.realtimeOutput_.get("height");return null==a?null:Number(a)};k.setHeight=function(a){this.realtimeOutput_.set("height",a)};k.setRendered=function(a){this.rendered_=a};k.getEmbeddedPackageId=function(){return null};k.isLargeEmbeddedFile=function(){return!1};k.loaded=function(){return Promise.resolve()};
k.tryMerge_=function(a,b,c){var d;if(!(d=!b)){if(b&&!b.output_type!=c.output_type){d=BA(b.metadata,["tags"])||[];var e=BA(c.metadata,["tags"])||[];d=Wb(d,e)?!0:!1}else d=!1;d=!d}if(d)return!1;d=BA(c,["application/javascript"]);if("display_data"==c.output_type&&d){e=["application/javascript","ephemeral"];if(!BA(b.metadata,e)||!BA(c.metadata,e))return!1;if(a&&this.rendered_)return!0;b=[BA(b,["application/javascript"]),d].join(";\n");c["application/javascript"]=b;return!0}if("stream"!=c.output_type||
"stream"!=b.output_type||b.stream!=c.stream)return!1;b.text||(b.text="");d=c.text||"";a=fC(b.text);d=fC(d);if(d.match(BK)){e=a.lastIndexOf("\n",a.lastIndexOf("\n")-1);d=a.substr(e+1)+d;a=a.substr(0,e+1);d=d.replace(/\r+\n/gm,"\n");e=d=d.replace(/^.*\r+/gm,"");do d=e,e=d.replace(/^[^\n]*\n\033\[1A\033\[K/gm,"");while(e!=d);a+=e}else a+=d;b=a.length+(b.totalSize||b.text.length);c.text=a;c.totalSize=b;return!0};
var FK=function(a,b){a.totalNumOutputItems_++;b.item_id=String(a.totalNumOutputItems_)},LK=function(a){a.realtimeOutput_.addEventListener(AD.VALUE_CHANGED,function(b){a.localContent_=a.localContent_&&b.isLocal;"info"==b.property&&b.newValue&&a.dispatchEvent("info_updated")})};CK.prototype.toJson=function(){for(var a=[],b=q(this.outputItems_),c=b.next();!c.done;c=b.next())c=Object.assign({},c.value),delete c.totalSize,delete c.item_id,a.push(c);return a.map(bC)};CK.prototype.isSaveRequired=function(){return!1};
CK.prototype.save=function(){return Promise.resolve()};
var QK=function(a,b,c,d){var e,f,g,h;return B(function(l){if(1==l.nextAddress){e=c.headers.get("x-colab-notebook-cache-control");if((f=d.get("x-colab-notebook-cache-control"))&&"no-cache"!=f||e&&"no-cache"!=e)return l.return(new Response('Only "no-cache" is supported for "x-colab-notebook-cache-control" header.',{status:501,statusText:"Unsupported header value"}));g=e||f;if("no-cache"==g)l=l.return(c);else{var m=new Headers;for(var n=q(c.headers.entries()),p=n.next();!p.done;p=n.next())p=p.value,
MK.includes(p[0])&&m.set(p[0],p[1]);m=window.ReadableStream?Promise.resolve(NK(c,m)):OK(c,m);l=u(l,m,2)}return l}h=l.yieldResult;PK(a,b,h[0]);return l.return(h[1])})},MK=["content-length","content-type","access-control-allow-headers","x-colab-notebook-cache-control"],IK=function(a){var b=a.index,c=a.isLocal,d=a.length,e=a.outputId,f=void 0===a.removedItems?null:a.removedItems;K.call(this,a.type);this.index=b;this.isLocal=c;this.length=d;this.outputId=e;this.removedItems=f};t(IK,K);
var RK=function(a){var b=a.outputId,c=a.isLocal,d=void 0===a.data?null:a.data;K.call(this,a.type);this.outputId=b;this.isLocal=c;this.data=d};t(RK,K);
function NK(a,b){for(var c=[],d=[],e=0;2>e;++e){var f=new ReadableStream({start:function(g){d.push(g)}});f=new Response(f,{status:a.status,statusText:a.statusText,headers:b});c.push(f)}(function(g){var h,l,m,n,p;return B(function(r){switch(r.nextAddress){case 1:return h=g.getReader(),u(r,h.read(),2);case 2:l=r.yieldResult;case 3:if(l.done){r.jumpTo(0);break}m=q(d);for(n=m.next();!n.done;n=m.next())p=n.value,p.enqueue(l.value);return u(r,h.read(),5);case 5:l=r.yieldResult,r.jumpTo(3)}})})(a.body).then(function(){for(var g=
q(d),h=g.next();!h.done;h=g.next())h.value.close()});return c}function OK(a,b){var c,d,e,f;return B(function(g){if(1==g.nextAddress)return u(g,a.arrayBuffer(),2);c=g.yieldResult;d=[];for(e=0;2>e;++e)f=new Response(c,{status:a.status,statusText:a.statusText,headers:b}),d.push(f);return g.return(d)})};var XK=function(a,b,c){c=void 0===c?null:c;CK.call(this,a,b);var d=this;this.outputItems_=[];this.parentFileId_=c;this.resources_={};this.loadingPromise_=SK(this);this.saveDebouncer_=new xK(function(){if(d.parentFileId_&&az(d.parentFileId_)&&d.isSaveRequired()){var e=JSON.stringify({outputs:d.outputItems_,resources:d.resources_});d.getEmbeddedPackageId()||e.length>TK?e=UK(d,e):(VK(d,e),d.realtimeOutput_.set("revision",d.saveDebouncer_.currentRevision_),e=Promise.resolve())}else e=Promise.resolve();
return e},{intervalMillis:WK,initialRevision:this.realtimeOutput_.get("revision")});this.flushed_=!1;this.parentFileId_?zK(this.saveDebouncer_,!1):(a=new Om,nj(this,a),a.listen(this.realtimeOutput_,AD.VALUE_CHANGED,function(e){e=e.event_.property;"drive_id"==e?d.loadingPromise_=SK(d):"revision"==e&&SK(d)}))};t(XK,CK);XK.prototype.disposeInternal=function(){this.saveDebouncer_.dispose();var a=this.getEmbeddedPackageId();a&&IJ(a).then(function(){},function(b){bJ(b)});CK.prototype.disposeInternal.call(this)};
XK.prototype.deleteResources=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return VK(a,null),(b=a.getEmbeddedPackageId())?u(c,IJ(b),3):c.jumpTo(0);a.getEmbeddedPackageId()==b&&a.realtimeOutput_.set("drive_id",null);x(c)})};XK.prototype.hasItems=function(){return CK.prototype.hasItems.call(this)||!!this.getEmbeddedPackageId()||!!this.outputItems_.length};
var DK=function(a,b){for(var c=a.outputItems_.length-1;0<=c;--c){var d=a.outputItems_[c];b(d)&&(a.outputItems_.splice(c,1),a.dispatchEvent(new IK({index:c,isLocal:!1,length:1,outputId:a.getId(),removedItems:[d.item_id],type:"item_removed"})))}JK(a)},GK=function(a,b,c){var d=a.outputItems_[b];a.outputItems_[b]=c;a.dispatchEvent(new IK({index:b,isLocal:!0,length:1,outputId:a.getId(),removedItems:[d.item_id],type:"item_changed"}));JK(a)};XK.prototype.flush=function(){this.flushed_=!0;return this.saveDebouncer_.flush()};
XK.prototype.getEmbeddedPackageId=function(){return this.realtimeOutput_.get("drive_id")};var VK=function(a,b){var c=a.realtimeOutput_.get("realtime_outputs");!b&&c?(c.setText(""),a.realtimeOutput_.delete("realtime_outputs")):b&&(c||(c=a.realtimeModel_.createString(),a.realtimeOutput_.set("realtime_outputs",c)),c.setText(b))},JK=function(a){zK(a.saveDebouncer_,a.flushed_);a.parentFileId_&&az(a.parentFileId_)||a.realtimeOutput_.set("current_revision",a.saveDebouncer_.currentRevision_)};
XK.prototype.isSaveRequired=function(){return this.isDisposed()||!this.saveDebouncer_.hasPendingAction()?!1:!!this.parentFileId_&&az(this.parentFileId_)};XK.prototype.save=function(){return this.saveDebouncer_.flush()};XK.prototype.isLargeEmbeddedFile=function(){return null==this.getEmbeddedPackageId()?!1:JSON.stringify({outputs:this.outputItems_,resources:this.resources_}).length>YK};
var UK=function(a,b){var c=a.getEmbeddedPackageId(),d={title:a.getId()};c||(d.embeddingParent=dz(a.parentFileId_));var e=a.saveDebouncer_.currentRevision_;b=GJ({data:b,metadata:d,fileId:c,retry:!0});return Ey(b,18E4,"Timed out waiting for save").then(function(f){VK(a,null);a.realtimeOutput_.set("revision",e);a.realtimeOutput_.set("drive_id",f.id)}).catch(function(f){bJ(f);throw f;})},SK=function(a){var b,c,d,e,f,g;return B(function(h){if(1==h.nextAddress){b=a.getEmbeddedPackageId();c=null;if(!b){a:{var l=
a.realtimeOutput_.get("realtime_outputs");if(l)try{c=JSON.parse(l.getText());break a}catch(m){bJ(m)}c=null}return h.jumpTo(2)}return u(h,ZK(b),3)}2!=h.nextAddress&&(c=h.yieldResult);$K(a);a.resources_={};if(!c)return h.return();d=a.outputItems_;e=q(c.outputs);for(f=e.next();!f.done;f=e.next())g=f.value,d.push(g);a.resources_=c.resources;a.dispatchEvent(new IK({index:0,isLocal:!1,length:a.outputItems_.length,outputId:a.getId(),removedItems:null,type:"item_added"}));x(h)})},ZK=function(a){var b;return B(function(c){if(1==
c.nextAddress)return y(c,2),u(c,HJ(a,void 0,{retry:!0}),4);if(2!=c.nextAddress)return c.return(c.yieldResult);b=z(c);aJ(b);return c.return(null)})};XK.prototype.handleKernelOutputMessage=function(a){CK.prototype.handleKernelOutputMessages.call(this,[a])};XK.prototype.clear=function(){$K(this);this.deleteResources();CK.prototype.clear.call(this)};
var $K=function(a){var b=a.outputItems_.map(function(c){return c.item_id});a.outputItems_=[];a.dispatchEvent(new IK({isLocal:!0,index:0,length:b.length,outputId:a.getId(),removedItems:b,type:"item_removed"}))};
XK.prototype.fillFromJson=function(a,b){this.localContent_=!1;I(0==this.outputItems_.length);a=q(a);for(var c=a.next();!c.done;c=a.next())this.outputItems_.push($B(c.value));b&&(this.resources_=b);this.dispatchEvent(new IK({index:0,isLocal:!0,length:this.outputItems_.length,removedItems:null,outputId:this.getId(),type:"item_added"}))};
var PK=function(a,b,c){var d;B(function(e){if(1==e.nextAddress)return u(e,c.arrayBuffer(),2);d=e.yieldResult;if(a.isDisposed())return e.return();var f=a.resources_;var g=[];for(var h=q(c.headers.entries()),l=h.next();!l.done;l=h.next())l=l.value,MK.includes(l[0])&&g.push(l);g={data:lg(new Uint8Array(d)),ok:c.ok,headers:g,status:c.status,status_text:c.statusText};f[b]=g;JK(a);x(e)})},aL=function(a,b){(a=a.resources_[b])?(b=ng(a.data),a=new Response(b,{headers:new Headers(a.headers),status:a.status,
statusText:a.status_text})):a=null;return a};XK.prototype.loaded=function(){return this.loadingPromise_};var WK=1E4,TK=10240,YK=2097152;kb("colab.model.PackagedOutput.setMaxRealtimeSizeForTests",function(a){YK=TK=a});kb("colab.model.PackagedOutput.setSaveIntervalForTests",function(a){WK=a});var bL=null,dL=function(a,b,c){c=void 0===c?null:c;M.call(this);this.realtimeOutputs_=a;this.realtimeModel_=b;this.fileId_=c;this.outputs_={};this.currentBaseUri_=this.currentUseLocal_=this.currentOutput_=null;a=hb(this.outputsChanged_,this);this.realtimeOutputs_.addEventListener(AD.VALUE_CHANGED,a);a=q(this.realtimeOutputs_.values());for(b=a.next();!b.done;b=a.next())cL(this,b.value)};t(dL,M);
dL.prototype.hasOutput=function(){for(var a=!1,b=q(mc(this.outputs_)),c=b.next();!c.done;c=b.next())c.value.hasItems()&&(a=!0);return a};var fL=function(a,b){b.setParentEventTarget(a);a.listen("batch_handled",function(c){c.stopPropagation();c.target==a.currentOutput_&&eL(a)},!1)};
dL.prototype.newOutput=function(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;b||(b=vA());var e=this.realtimeModel_;d=d?null:this.fileId_;var f=c,g={};f=e.createMap((g.id=b,g.info=null,g.data=e.createList(),g.base_uri=f?f.toString():null,g.packaged=!0,g.revision=0,g));e=new XK(f,e,d);e.localContent_=!0;this.currentOutput_=e;this.currentOutput_.localContent_=a;this.outputs_[b]=this.currentOutput_;fL(this,this.currentOutput_);this.currentUseLocal_=a;this.currentBaseUri_=c;return this.currentOutput_};
var gL=function(a,b){a.flush();a.currentOutput_?EK(a.currentOutput_,b):console.log("No current output present in the current cell.")},cL=function(a,b){var c=b.get("id");if(!c)return aJ(Error("Tried to create SingleOutput from realtime output with null id")),null;b=new XK(b,a.realtimeModel_);fL(a,b);a.outputs_[c]=b;LK(b);return b},eL=function(a){var b=a.currentOutput_.getId();a.realtimeOutputs_.get(b)||(a.realtimeOutputs_.set(b,a.currentOutput_.realtimeOutput_),LK(a.currentOutput_))},iL=function(a){var b=
mc(a.outputs_).map(function(c){return c.deleteResources()});return Promise.all(b).then(function(){for(var c=q(Object.keys(a.outputs_)),d=c.next();!d.done;d=c.next())hL(a,d.value)})};dL.prototype.clearAllOutputs=function(){this.flush();for(var a=q(Object.keys(this.outputs_)),b=a.next();!b.done;b=a.next())hL(this,b.value)};var hL=function(a,b){var c=a.outputs_[b];c&&(c.clear(),a.realtimeOutputs_.delete(b))};dL.prototype.handleKernelOutputMessage=function(a){jL(this);this.currentOutput_&&this.currentOutput_.handleKernelOutputMessage(a)};
dL.prototype.flush=function(){this.currentOutput_&&(this.currentOutput_.flush(),eL(this))};dL.prototype.handleKernelDone=function(){this.currentOutput_&&this.currentOutput_.handleKernelDone()};var jL=function(a){a.currentOutput_||null!=a.currentUseLocal_&&a.newOutput(a.currentUseLocal_,null,a.currentBaseUri_)};
dL.prototype.handleExecuteReply=function(a,b){jL(this);if(this.currentOutput_){var c={displayName:"",photoUrl:"",userId:""};b&&(c={displayName:b.displayName,photoUrl:b.picture?b.picture.url:"",userId:b.permissionId});var d=new Ds;b=a.status;var e=d.getTime();d=d.getTimezoneOffset();var f=this.currentOutput_;f=Math.max(0,jb()-f.startTime_);this.currentOutput_.realtimeOutput_.set("info",{status:b,timestamp:e,user_tz:d,elapsed:f,user:c,execution_count:a.executionCount});eL(this)}};
dL.prototype.outputsChanged_=function(a){var b=a.property,c=new RK({data:null,isLocal:a.isLocal,outputId:b,type:"output_changed"}),d=this.outputs_[b];if(a.newValue){if(a.oldValue)d.localContent_=d.localContent_&&a.isLocal;else if(c.type="output_added",!a.isLocal||!this.currentOutput_)if(d=cL(this,a.newValue),!d)return;c.data=d}else{c.type="output_removed";if(!d){console.log("Output "+b+" is no longer present");return}d==this.currentOutput_&&(this.currentOutput_=null);d.dispose();delete this.outputs_[b]}this.dispatchEvent(c)};
dL.prototype.setRendered=function(a,b){this.outputs_[a].setRendered(b)};var kL=function(a,b,c,d){d=void 0===d?null:d;gC.call(this,a,b);(this.privateOutputs_=c)?(bL||(bL=wK.newInMemoryDocument()),a=bL.getModel(),a=new dL(a.createMap(),a,null)):a=new dL(a.get("outputs"),b,d);this.outputs_=a;nj(this,this.outputs_)};t(kL,gC);kL.prototype.clearOutputs=function(){return iL(this.outputs_)};kL.prototype.makeOffline=function(){gC.prototype.makeOffline.call(this);iL(this.outputs_)};
kL.prototype.toJson=function(a){a=void 0===a?{inlineEmbeddedOutputs:!0}:a;var b=gC.prototype.toJson.call(this,a);if(!this.realtimeCell_.get("colab"))throw Error("Realtime model is missing 'colab' field for a code cell.");var c=this.realtimeCell_.get("colab").get("autoexec"),d=c.get("startup");c=parseInt(c.get("wait_interval"),10);b.metadata.colab={};if(d||0!=c)b.metadata.colab.autoexec={startup:d,wait_interval:c};this.realtimeCell_.get("collapsed")?b.metadata.collapsed=!0:delete b.metadata.collapsed;
(d=this.realtimeCell_.get("cellView"))?b.metadata.cellView=d:delete b.metadata.cellView;if(c=this.realtimeCell_.get("colab").get("test"))d={},c.get("skip")&&(d.skip=!0),c.get("output")&&(d.output=c.get("output")),c.has("timeout")&&(c=parseInt(c.get("timeout"),10),45!=c&&(d.timeout=c)),b.metadata.colab.test=d;b.execution_count=0;if(!this.outputs_.hasOutput()||this.privateOutputs_)b.outputs=[],delete b.metadata.outputId,delete b.metadata.executionInfo;else{d=mc(this.outputs_.outputs_)[0];b.metadata.outputId=
d.getId();c=d.resources_;Object.keys(c).length&&(b.metadata.colab.resources=c);if(c=KK(d))b.metadata.colab.base_uri=c.toString();c=d.getHeight();null!=c&&(b.metadata.colab.height=c);if(c=d.realtimeOutput_.get("info")){var e={};Object.assign(e,c);delete e.execution_count;b.metadata.executionInfo=e;c.execution_count&&(b.execution_count=c.execution_count)}!a.inlineEmbeddedOutputs&&d.isLargeEmbeddedFile()?(b.metadata.colab.output_embedded_package_id=d.getEmbeddedPackageId(),b.outputs=[{output_type:"display_data",
data:{"text/plain":"Output hidden; open in https://colab.research.google.com to view."},metadata:{}}]):b.outputs=d.toJson()}return b};var lL=function(a,b,c){a=jC(a,b,c);a.set("outputs",c.createMap());b=c.createMap();b.set("autoexec",c.createMap({startup:!1,wait_interval:0}));a.set("colab",b);return a};
kL.prototype.fillFromJson=function(a,b){var c=b.includeOutputs,d=b.isReadOnly;gC.prototype.fillFromJson.call(this,a,{includeOutputs:c,isReadOnly:d});b=this.realtimeCell_;var e=this.getModel(),f=b.get("outputs");YB(f,e);f=a.metadata;var g=f.colab||{},h=null;if(((a=a.outputs)&&a.length||g.output_embedded_package_id)&&!this.privateOutputs_&&c){if(f)var l=f.outputId;h=this.outputs_.newOutput(!1,l,null,d);g.base_uri&&h.setBaseUri(g.base_uri);g.height&&h.setHeight(g.height);g.output_embedded_package_id?
(c=h,l=g.output_embedded_package_id,g=g.resources,c.localContent_=!1,I(0==c.outputItems_.length),g&&(c.resources_=g),c.realtimeOutput_.set("drive_id",l),SK(c)):h.fillFromJson(I(a),g.resources);this.outputs_.flush()}f&&(c=e.createMap(),g=f.colab||{},l=g.autoexec||{},c.set("autoexec",e.createMap({startup:l.startup||!1,wait_interval:l.wait_interval||0})),e=g.test||{},g=!1,l=this.getModel().createMap(),e.output&&(l.set("output",e.output),g=!0),e.skip&&(l.set("skip",e.skip),g=!0),e.timeout&&(l.set("timeout",
parseInt(e.timeout,10)),g=!0),g&&c.set("test",l),b.set("colab",c),f.collapsed&&b.set("collapsed",f.collapsed),f.cellView&&b.set("cellView",f.cellView),h&&f.executionInfo&&h.realtimeOutput_.set("info",f.executionInfo))};var mL=function(a,b,c){var d=c.privateOutputs;c=c.fileId;return"code"==a.get("type")?new kL(a,b,d,c):new gC(a,b)},nL=function(a,b,c){var d=c.privateOutputs,e=c.fileId,f=void 0===c.includeOutputs?!0:c.includeOutputs;c=void 0===c.isReadOnly?!0:c.isReadOnly;var g=a.cell_type;"markdown"==g&&(g="text");a.metadata&&a.metadata.colab_type&&(g=a.metadata.colab_type);var h=a.metadata,l=null;h&&h.id&&(l=h.id);g="code"==g?lL(l,g,b):jC(l,g,b);b=mL(g,b,{privateOutputs:d,fileId:e});b.fillFromJson(a,{includeOutputs:f,
isReadOnly:c});return b};var oL=function(a,b,c){var d=void 0===c?{}:c;c=void 0===d.pollIntervalMsNoComments?cy:d.pollIntervalMsNoComments;d=void 0===d.pollIntervalMsWithComments?by:d.pollIntervalMsWithComments;M.call(this);this.fileId_=a;this.updatedMinMs_=b;this.started_=this.running_=!1;this.pollIntervalMsNoComments_=c;this.pollIntervalMsWithComments_=d;this.pollInterval_=this.pollIntervalMsNoComments_};t(oL,M);k=oL.prototype;k.dispose=function(){M.prototype.dispose.call(this);this.stop()};
k.start=function(){I(!this.started_,"programming error: start called twice");this.running_=this.started_=!0;this.schedulePoll_()};k.stop=function(){this.running_=!1};k.schedulePoll_=function(){var a=this;this.running_&&this.pollOnce_().then(function(){return pn(a.pollInterval_)}).then(function(){a.schedulePoll_()})};
k.pollOnce_=function(){var a=this,b,c,d,e;return B(function(f){if(1==f.nextAddress){y(f,2);if(!a.running_)return f.return();b=Fs(Es(a.updatedMinMs_+1));return u(f,UJ({fileId:a.fileId_,updatedMin:b,includeDeleted:!0,maxResults:100}),4)}if(2!=f.nextAddress){c=f.yieldResult;if(!c.items||!c.items.length)return Gz("comment_list_poller: no new comments"),f.return();a.pollInterval_=a.pollIntervalMsWithComments_;d=a.updatedMinMs_;a.updatedMinMs_=Math.max.apply(Math,[].concat(ja(c.items.map(function(g){return Date.parse(g.modifiedDate)})),
[a.updatedMinMs_]));Gz("comment_list_poller: new comments: previous: "+Fs(Es(d))+" current: "+Fs(Es(a.updatedMinMs_)));a.dispatchEvent(new pL);return va(f,0)}e=z(f);console.warn("comment list poller: pollOnce_: "+e);x(f)})};var pL=function(){K.call(this,"comment_list_change_notification")};t(pL,K);var qL=function(a){var b=a.authorName,c=a.authorPictureUrl;a=a.fileId;M.call(this);this.authorName_=b;this.authorPictureUrl_=c;this.fileId_=a;this.pendingAction_=null;this.inputText_=""};t(qL,M);qL.prototype.getFileId=function(){return this.fileId_};var rL=function(a,b){if(b&&a.pendingAction_)throw Error("Cannot queue pending action while an action is pending");if(b||a.pendingAction_)a.pendingAction_=b,a.dispatchEvent("pending_action_changed")};qL.prototype.hasPendingAction=function(){return!!this.pendingAction_};
var sL=function(a,b){var c=b.onSuccess,d=b.op,e=b.params;b=void 0===b.body?void 0:b.body;if(a.hasPendingAction())throw Error("Cannot queue pending action while an action is pending");d=d(e,b).then(function(f){c(f)},function(f){a.dispatchEvent(new eK("action_error",f))}).finally(function(){rL(a,null)});rL(a,d);return d};var tL=function(a,b,c){qL.call(this,{fileId:c,authorName:a.author.displayName,authorPictureUrl:a.author.picture.url});this.reply_=a;this.commentId_=b};t(tL,qL);k=tL.prototype;k.update=function(a){a&&(this.reply_=a,this.dispatchEvent("reply_updated"))};k.delete=function(){var a=this;return sL(this,{onSuccess:function(){a.dispatchEvent("reply_deleted")},op:TJ,params:{commentId:this.commentId_,fileId:this.getFileId(),replyId:this.reply_.replyId}})};
k.updateInDrive=function(){var a=this,b=Object.assign({},this.reply_);b.content=this.inputText_;sL(this,{body:b,params:{commentId:this.commentId_,fileId:this.getFileId(),replyId:this.reply_.replyId},onSuccess:function(c){a.update(c);a.dispatchEvent("edit_success")},op:SJ})};k.getCreatedTime=function(){return this.reply_.createdDate?Gs(this.reply_.createdDate)||new Ds:new Ds};k.getModifiedTime=function(){return this.reply_.modifiedDate?Gs(this.reply_.modifiedDate)||new Ds:new Ds};
k.getSafeHtmlContent=function(){return this.reply_.htmlContent?$v(this.reply_.htmlContent):je};k.getUnsafeContent=function(){return this.reply_.content||""};k.getByCurrentUser=function(){return this.reply_.author?this.reply_.author.isAuthenticatedUser:!1};var uL=function(a){var b=a.cellId;qL.call(this,{authorName:a.authorName,authorPictureUrl:a.authorPictureUrl,fileId:a.fileId});this.cellId_=b;this.replyMap_=new Map;this.replies_=[];this.comment_=null;this.focused_=this.resolved_=!1;this.listen("reply_deleted",this.onReplyDeleted_)};t(uL,qL);uL.prototype.getFocused=function(){return this.focused_};
uL.prototype.setFocused=function(a){a!=this.focused_&&(this.focused_=a,this.dispatchEvent("focus_changed"),this.isDriveBacked()||a||""!=this.inputText_||this.cancel())};
uL.prototype.update=function(a){var b=this;if(!this.isDriveBacked()||this.comment_.modifiedDate!=a.modifiedDate){var c=(this.isDriveBacked()?this.comment_.htmlContent:null)!=a.htmlContent;this.comment_=a;vL(this,"resolved"===a.status);var d=[],e=[];a.replies.forEach(function(f){var g=b.replyMap_.get(f.replyId),h=!!g,l=f.deleted;h&&l?d.push(g):h||l?h&&!l&&g.update(f):e.push(f);b.replyMap_.has(f.replyId)},this);d.forEach(function(f){Ob(b.replies_,f);b.replyMap_.delete(f.reply_.replyId)});a=e.map(function(f){return wL(b,
f)});(c||a.length||d.length)&&this.dispatchEvent(new xL(a,d))}};var wL=function(a,b){b=I(b);var c=new tL(b,a.getCommentId(),a.getFileId());c.setParentEventTarget(a);a.replies_.push(c);a.replyMap_.set(b.replyId,c);return c};k=uL.prototype;k.onReplyDeleted_=function(a){a=zb(a.target,tL);Ob(this.replies_,a);this.replyMap_.delete(a.reply_.replyId);this.dispatchEvent(new xL([],[a]))};k.isDriveBacked=function(){return!!this.comment_};
k.getCommentId=function(){return this.isDriveBacked()?this.comment_.commentId||"":"currently-adding-comment"};k.getCreatedTime=function(){return(this.isDriveBacked()&&this.comment_.createdDate?Gs(this.comment_.createdDate):null)||new Ds};k.getModifiedTime=function(){return(this.isDriveBacked()&&this.comment_.modifiedDate?Gs(this.comment_.modifiedDate):null)||new Ds};var yL=function(a){var b=a.getModifiedTime();a.replies_.forEach(function(c){c=c.getModifiedTime();b=b>c?b:c});return b};
uL.prototype.getSafeHtmlContent=function(){return this.isDriveBacked()&&this.comment_.htmlContent?$v(this.comment_.htmlContent):je};uL.prototype.getUnsafeContent=function(){return this.isDriveBacked()?this.comment_.content||"":""};uL.prototype.getByCurrentUser=function(){return this.isDriveBacked()&&this.comment_.author?this.comment_.author.isAuthenticatedUser:!0};var vL=function(a,b){b!=a.resolved_&&(a.resolved_=b,a.dispatchEvent("comment_action"))};uL.prototype.getCellId=function(){return this.cellId_};
uL.prototype.updateInDrive=function(){this.isDriveBacked()?zL(this):AL(this)};
var zL=function(a){I(a.isDriveBacked());var b=Object.assign({},a.comment_);b.content=a.inputText_;var c={commentId:a.getCommentId(),fileId:a.getFileId()};sL(a,{body:b,params:c,onSuccess:function(d){a.update(d);a.dispatchEvent("edit_success")},op:VJ})},AL=function(a){I(!a.isDriveBacked());var b={};b.fileId=a.getFileId();b.scrollTo=a.getCellId();b=Rz(!0,b,null);sL(a,{body:{content:a.inputText_,context:{type:"text/plain",value:b}},params:{fileId:a.getFileId()},onSuccess:function(c){a.update(c);a.setFocused(!1);
a.dispatchEvent("submit_success")},op:PJ})},CL=function(a,b){var c=void 0===b.text?"":b.text,d=void 0===b.resolve?null:b.resolve;I(a.isDriveBacked());b=null;if(null!=d){if(a.resolved_==d)throw Error("Tried to resolve/re-open already resolved/open comment");b=d?"resolve":"reopen"}c=BL(a,c,b);return sL(a,{body:c.body,onSuccess:function(e){null!=d&&vL(a,d);e=wL(a,e);a.dispatchEvent(new xL([e],[]))},op:RJ,params:c.params})},BL=function(a,b,c){a={fileId:a.getFileId(),commentId:a.getCommentId()};var d=
{};b&&(d.content=b);c&&(d.verb=c);return{body:d,params:a}};uL.prototype.delete=function(){var a=this;I(this.isDriveBacked());var b={fileId:this.getFileId(),commentId:this.getCommentId()};return sL(this,{onSuccess:function(){a.dispatchEvent("comment_deleted")},op:QJ,params:b})};uL.prototype.cancel=function(){I(!this.isDriveBacked());this.dispatchEvent("cancel_comment");this.dispose()};var xL=function(a,b){K.call(this,"comment_updated");this.added=a;this.removed=b};t(xL,K);var EL=function(a,b){M.call(this);var c=this;this.driveComments_=[];this.focusedComment_=this.addComment_=null;this.permissions_=b;b=new oL(a,0,{pollIntervalMsNoComments:cy,pollIntervalMsWithComments:by});b.listen("comment_list_change_notification",function(){Gz("comments_list: updating from poll");DL(c)});b.start();nj(this,b);this.fileId_=a;this.listen("submit_success",this.onCommentSubmitSuccess_);this.listen("cancel_comment",this.handleCancelComment_);this.listen("comment_deleted",this.onCommentDeleted_);
this.listen("focus_changed",this.onFocusChanged_,!0);this.userInfo_=null;CJ().then(function(d){c.userInfo_=d}).catch(function(){})};t(EL,M);EL.prototype.handleCancelComment_=function(a){I(a.target==this.addComment_);this.addComment_=null};
var FL=function(a,b){var c="Current User",d="";a.userInfo_&&(a.userInfo_.displayName&&(c=a.userInfo_.displayName),a.userInfo_.picture&&a.userInfo_.picture.url&&(d=a.userInfo_.picture.url));b=new uL({fileId:a.fileId_,authorName:c,authorPictureUrl:d,cellId:b});b.setParentEventTarget(a);a.addComment_&&a.addComment_.cancel();return a.addComment_=b};EL.prototype.onCommentSubmitSuccess_=function(a){a=zb(a.target,uL);GL(this,a);this.addComment_=null;this.dispatchEvent("comment_added")};
EL.prototype.onCommentDeleted_=function(a){a=zb(a.target,uL);I(a.isDriveBacked());Ob(this.driveComments_,a);a.dispose();this.dispatchEvent(new HL([],[a]))};
var DL=function(a){var b,c,d,e,f,g;B(function(h){switch(h.nextAddress){case 1:b=[],y(h,2),c=!0,d="";case 4:if(!c){va(h,3);break}e={fileId:a.fileId_,maxResults:100};d&&(e.pageToken=d);return u(h,UJ(e),6);case 6:f=h.yieldResult;b.push.apply(b,ja(I(f.items)));d=f.nextPageToken;c=!!d;h.jumpTo(4);break;case 2:g=z(h),a.dispatchEvent(g),console.error("Unable to list comments: ",g);case 3:IL(a,b),x(h)}})},JL=function(a,b){return a.driveComments_.find(function(c){return b===c.getCommentId()})||null},GL=function(a,
b){I(b.isDriveBacked());a.driveComments_.push(b);b.setParentEventTarget(a);return b},IL=function(a,b){var c=[],d=[];b.forEach(function(e){var f=JL(a,e.commentId),g=null!==f,h=e.deleted;if(g&&h)c.push(f);else if(g||h)g&&!h&&f.update(e);else{f=a.fileId_;g=e.author.displayName;h=e.author.picture.url;var l;if((l=e.context)&&(new Dl(l.value)).scheme_){var m=l.value;"text/html"===l.type&&(l=m,m=jd(l,"&")?"document"in D?Ge(l):He(l):l);l=BI(sI(new URL(m,window.location.toString())))||""}else l=l?l.value:
"";f=new uL({authorName:g,authorPictureUrl:h,cellId:l,fileId:f});f.update(e);d.push(GL(a,f))}});c.forEach(function(e){I(e.isDriveBacked());Ob(a.driveComments_,e);e.dispose()});(d.length||c.length)&&a.dispatchEvent(new HL(d,c))};EL.prototype.onFocusChanged_=function(a){var b=zb(a.target,uL);b.getFocused()?(a=this.driveComments_,this.addComment_&&(a=a.concat(this.addComment_)),a.forEach(function(c){c!=b&&c.setFocused(!1)}),this.focusedComment_=b):this.focusedComment_==b&&(this.focusedComment_=null)};
var HL=function(a,b){K.call(this,"comment_list_updated");this.added=a;this.removed=b};t(HL,K);var KL=function(){var a=void 0===a?{}:a;this.store={};for(var b in a)this.store[b]=a[b]};KL.prototype.get=function(a,b){Aj(ib(b,this.store[a]))};KL.prototype.set=function(a,b,c){this.store[a]=b;c&&Aj(c)};var OL=function(a,b){M.call(this);var c=this;this.realtimeList_=a;this.array_=[];this.generator_=b;a=q(this.realtimeList_.asArray());for(var d=a.next();!d.done;d=a.next())this.array_.push(b(d.value));b=new Om;nj(this,b);a=this.realtimeList_;b.listen(a,AD.VALUES_ADDED,function(e){return LL(c,e.event_)});b.listen(a,AD.VALUES_REMOVED,function(e){e=e.event_;e.movedToList!=c.realtimeList_&&(e=c.array_.splice(e.index,e.values.length),c.dispatchEvent(new ML(e)))});b.listen(a,AD.VALUES_SET,function(e){return NL(c,
e.event_)})};t(OL,M);
var LL=function(a,b){if(b.movedFromList==a.realtimeList_){var c=a.array_.splice(b.movedFromIndex,b.values.length),d=b.index;d>b.movedFromIndex&&--d;Array.prototype.splice.apply(a.array_,[d,0].concat(ja(c)))}else Array.prototype.splice.apply(a.array_,[b.index,0].concat(ja(b.values.map(function(e){return a.generator_(e)}))))},NL=function(a,b){b=Array.prototype.splice.apply(a.array_,[b.index,b.newValues.length].concat(ja(b.newValues.map(function(c){return a.generator_(c)}))));a.dispatchEvent(new ML(b))},ML=
function(a){K.call(this,"values_removed");this.removed=a};t(ML,K);var PL=function(){this.kernel_=null};PL.prototype.getKernel=function(){return I(this.kernel_)};var QL=/('([\w-]+)'|([\w-]+)|"([\w-]+)")\s*:/g,RL=/^(.*[^ ])?\s*#\s*@(\w+)(\s+(.*))?$/,SL=function(a){for(var b=a=a.trimRight(),c=a[a.length-1],d={},e={"]":!1,"}":!1};("]"==c||"}"==c)&&!e[c];){e[c]=!0;c="]"==c?"[":"{";for(var f=a.length,g=null;0<=f;){f=a.lastIndexOf(c,f);var h=a.substr(f);a:{if("["==h[0]&&"]"==h.slice(-1)[0])try{g=JSON.parse(h);break a}catch(m){}try{var l=h.replace(/([^\\](\\\\)*)'/g,'$1"');l=l.replace(/\\/g,"\\\\");l.startsWith("{")&&(l=l.replace(QL,'"$2$3$4": '));g=JSON.parse(l)}catch(m){g=
null}}if(g)break;else d.unparsedParams||(d.unparsedParams=h);--f}if(g)d.unparsedParams=b.substr(f),d.params=d.params||{},Array.isArray(g)?d.params.values=g:zc(d.params,g),a=a.substr(0,f).trimRight();else break;c=a[a.length-1]}a=RL.exec(a);if(!a)return null;d.prefix=a[1];if(d.prefix&&d.prefix.trim().startsWith("#"))return null;d.kind=a[2];d.description=(a[4]||"").trim();return d};var pc={BOOLEAN:"boolean",DATE:"date",INTEGER:"integer",NUMBER:"number",RAW:"raw",STRING:"string"},oz={VERTICAL_OUTPUT:"vertical-output",RUN:"run",OUTPUT_HEIGHT:"output-height",FORM_WIDTH:"form-width",VIEW_TYPE:"display-mode"};var TL=function(a){var b=U(F(a.year)||a.year instanceof N,"year",a.year,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.month)||a.month instanceof N,"month",a.month,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.day)||a.day instanceof N,"day",a.day,"!goog.soy.data.UnsanitizedText|string");b='<paper-input type="number" value="'+T(b)+'" class="datepicker-year" no-label-float error-message="';b+=S("Invalid date");b=b+'" aria-label="'+S("Year");b+='"></paper-input><div>/</div><paper-input type="number" value="'+
T(c)+'" class="datepicker-month" no-label-float aria-label="';b+=S("Month");b+='"></paper-input><div>/</div><paper-input type="number" value="'+T(a)+'" class="datepicker-day" no-label-float aria-label="';b+=S("Day of the month");b=b+'"></paper-input><div class="calendar-icon"><iron-icon icon="icons:today"></iron-icon><input class="input-datepicker-placeholder" type="date" aria-label="'+S("Open date selector");return Q(b+'"/></div>')};TL.soyTemplateName="colab.components.datePicker.templates.datePicker";function UL(a){var b=[String(Number(a[0].value)).padStart(4,"0"),String(Number(a[1].value)).padStart(2,"0"),String(Number(a[2].value)).padStart(2,"0")].join("/"),c=Date.parse(b);c=new Date(c);b=VL(c,"/")!=b;a[0].invalid=b;a[1].invalid=b;return(a[2].invalid=b)?null:c}var WL=function(){return $D.apply(this,arguments)||this};t(WL,$D);
WL.prototype.attachedCallback=function(){var a=(this.hasAttribute("value")?(this.getAttribute("value")||"").replace(/\//g,"-"):VL(new Date(Date.now()))).split("-");sh(this);a=nm(TL,{year:a[0]||"",month:a[1]||"",day:a[2]||""});this.appendChild(a);this.classList.add("layout","horizontal");gH(this);var b=this.querySelectorAll('paper-input[type="number"]'),c=q(b);for(a=c.next();!a.done;a=c.next())eH(a.value);var d=this.querySelector('input[type="date"]');if(a=UL(b))d.value=VL(a);d.addEventListener("change",
function(){var f=Date.parse(d.value.replace(/\-/g,"/"));isNaN(f)&&(f=Date.now());f=new Date(f);b[0].value=String(f.getFullYear());b[1].value=String(1+f.getMonth());b[2].value=String(f.getDate());UL(b);b[0].value=String(f.getFullYear());b[1].value=String(1+f.getMonth());b[2].value=String(f.getDate())});c=function(f){var g=UL(b);null!=g&&(d.value=VL(g),d.dispatchEvent(new Event("change")),f.stopPropagation())};var e=q(b);for(a=e.next();!a.done;a=e.next())a=a.value,a.addEventListener("change",c),a.addEventListener("input",
c)};var VL=function(a,b){return[String(a.getFullYear()).padStart(4,"0"),String(a.getMonth()+1).padStart(2,"0"),String(a.getDate()).padStart(2,"0")].join(void 0===b?"-":b)};bH("colab-date-picker",WL);function XL(a,b){a=Number(a[b]);return isNaN(a)?null:a}function YL(a,b,c){a=String(a);c=c?function(d){var e=Le(d);return d.includes("'")||d.includes('"')?e:e.replace(/"/g,"'")}:Le;switch(b){case "string":return c(a);case "date":return c(a);case "boolean":if("true"===a)return"True";if("false"===a)return"False";default:return String(a)}}
var ZL=function(a,b,c){this.name_=a;this.dataType_=c;this.preferSingleQuotes_=!!b&&"'"==b[0]&&"'"==b[b.length-1];a:{if("string"===c||"date"===c)try{var d=String(JSON.parse('"'+Ie(String(b),"\"'")+'"'));break a}catch(e){}d=b}this.value_=d};ZL.prototype.getName=function(){return this.name_};var $L=function(a){switch(a.dataType_){case "date":var b=new Date(String(a.value_).replace(/\-/g,"/"));return isNaN(b.getFullYear())?String(a.value_):VL(b);default:return String(a.value_)}};
ZL.prototype.getValue=function(){return YL(this.value_,this.dataType_,this.preferSingleQuotes_)};ZL.prototype.setValue=function(a){this.value_=a};ZL.prototype.validateType=function(){var a=String(this.value_);switch(this.dataType_){case "number":return a&&isNaN(Qe(a))?!1:!0;case "integer":return a&&(isNaN(Qe(a))||a.includes(".")||a.includes("e"))?!1:!0;case "boolean":return"True"==a||"False"==a;case "date":return!isNaN(Date.parse(a));default:return!0}};
ZL.prototype.equals=function(a){return uc(this,a)};var aM=function(a,b,c){ZL.call(this,a,b,void 0===c?"raw":c)};t(aM,ZL);aM.prototype.updateFromConfig=function(){};var bM="boolean date integer number raw string".split(" "),cM=function(a,b,c){ZL.call(this,a,b,"number");this.domain_=c};t(cM,ZL);cM.prototype.getDomain=function(){return this.domain_};
cM.prototype.updateFromConfig=function(a){var b=XL(a,"max"),c=XL(a,"min");a=XL(a,"step");this.domain_.step=null!=a?a:this.domain_.step;this.domain_.min=null!=c?c:this.domain_.min;this.domain_.max=null!=b?b:this.domain_.max;this.domain_.min>this.domain_.max&&(b=this.domain_.max,this.domain_.max=this.domain_.min,this.domain_.min=b)};
var eM=function(a,b){a=[a.domain_.min,a.domain_.max,a.domain_.step].map(function(c){return dM(c)});a=Math.max.apply(Math,ja(a));return Number(b.toFixed(a))},dM=function(a){return isNaN(a)?NaN:Number.isInteger(a)?0:a.toString().includes("e")?(a=a.toString().split("-"),a[1]?parseInt(a[1],10):0):a.toString().length-a.toFixed().length-1},fM=["number"],gM=function(a,b,c,d,e){e=void 0===e?null:e;ZL.call(this,a,b,void 0==e?"string":e);this.allowsInput_=d;this.domain_=[];this.updateFromConfig(c)};t(gM,ZL);
gM.prototype.getDomain=function(){return this.domain_};gM.prototype.updateFromConfig=function(a){if(a instanceof Array){this.domain_=[];a=q(a);for(var b=a.next();!b.done;b=a.next())b=b.value,"string"!=typeof b&&(b=String(b)),this.domain_.push(b)}};var hM=function(a){return a.domain_.indexOf(Ie(String(a.value_),"\"`'"))},iM=["raw","string"];var jM={},kM=(jM.run=["auto","none"],jM["output-height"]=function(a){return"unlimited"===a||Pa(a)?!0:!1},jM["form-width"]=function(a){return Pa(a)?!0:F(a)&&(a.endsWith("px")||a.endsWith("%"))?!!parseInt(a,10):!1},jM["vertical-output"]=[!0,!1],jM["display-mode"]=uz,jM),lM=function(){this.assignmentOperator_=null},mM=function(a,b){if(null==b)return null;b=/(\s*)(.*?)(=|<-)(.*)/.exec(b);if(null==b)return null;var c=b[2].trim(),d=b[4].trim();if(!c||!d)return null;a.assignmentOperator_=b[3];return{name:c,
value:d,prefix:b[1]}},nM=function(a,b,c,d,e,f){f=void 0===f?"":f;if(void 0===a[b])return c;if(!ab(d)){var g=Array.isArray(d)?d:mc(d);d=function(h){return g.includes(h)};f=f||"Allowed values are: "+g.join(", ")}return d(a[b])?a[b]:(e.push('"'+(a[b]+('" is not an allowed value for "'+(b+'".')))+(" "+f)),c)},oM=function(a,b){a=SL(a);if(!a||"title"!=a.kind)return null;var c=[],d=a.params||{},e=function(h,l,m){return nM(d,h,l,kM[h],c,void 0===m?"":m)},f=e("form-width",void 0,'Use width specification such as "100px", or "20%"'),
g=e("output-height",void 0,'Use pixel values such as 100 or "unlimited"');a={run:e("run","button"),titleText:a.description,verticalOutput:e("vertical-output",!1),viewType:e("display-mode",void 0),formWidth:f,outputHeight:g};b={lineNumber:b,kind:"title",model:a};a=q(nc(d));for(e=a.next();!e.done;e=a.next())if(e=e.value,!oc(oz,e)){c.push(pz(e));break}0<c.length&&(b.error=c[0]);return b},pM=function(a,b,c){var d=SL(b);if(!d||"param"!==d.kind)return null;var e=d.params,f=void 0;e&&void 0!=e.type&&(f=
qc(function(v){return v==e.type}));a=mM(a,d.prefix);if(null==a)return{lineNumber:c,error:'Could not parse variable and value from "'+((d.prefix?d.prefix:b)+'". Expected the line to start with a variable assignment.'),model:null,kind:"input"};b=a.name;a=a.value;if(e&&Za(e.values)){d=[];var g=!0===nM(e,"allow-input",!1,function(v){return!0===v||!1===v},d,"allow-input must be either true or false");e.type&&!f?d.push(qz(e.type)):f&&"string"!=f&&"raw"!=f&&d.push("Data type "+(f+" is not supported for dropdown menus"));
return{model:new gM(b,a,e.values,g,f),lineNumber:c,error:d.length?d[0]:void 0,kind:"dropdown"}}if(e&&("slider"===e.type||"dropdown"===e.type)){var h=[],l=function(v){return!isNaN(Qe(v))},m=function(v,A){return parseFloat(nM(e,v,A,l,h,"Use valid numbers."))};g=m("max",100);var n=m("min",0);m=m("step",1);var p=parseFloat(a);if(n>=g)if(h.push("The min must be less than the max."),n>g){var r=g;g=n;n=r}else g=n+1;(!isFinite(a)||p<n||p>g)&&h.push("The value '"+(a+("' is not valid. Expected a floating point number between "+
(n+(" and "+(g+"."))))));r=null;switch(e.type){case "slider":r=new cM(b,p,{min:n,max:g,step:m});break;case "dropdown":r=Math.max((m.toString().split(".")[1]||[]).length,(n.toString().split(".")[1]||[]).length);for(var w=[];n<=g;n+=m)w.push(n.toFixed(r));r=new gM(b,p,w,!1,"number")}if(r)return{model:r,lineNumber:c,kind:e.type,error:h.length?h[0]:void 0}}g=void 0;null==e&&d.unparsedParams?g="Failed to parse invalid JSON"+(' "'+d.unparsedParams+'"'):e&&e.type&&!f&&(g=qz(e.type));return{error:g,lineNumber:c,
model:new aM(b,a,f),kind:"input"}},qM=function(a,b){var c=[];b=fw(b);if(0===b.length)return c;for(var d=0;d<b.length;d++){var e=b[d].trim(),f=oM(e,d);if(f){c.push(f);break}if(!e.startsWith("#"))break}b.forEach(function(g,h){var l;(l=(l=SL(g))&&"markdown"==l.kind?{lineNumber:h,kind:"markdown",model:{markdown:l.description}}:null)?c.push(l):(g=pM(a,g,h))&&c.push(g)});return c};var rM=function(a,b,c,d,e){e=void 0===e?!1:e;var f=a.getRoot().get("cells"),g=function(h){var l;var m=new lM;(l=SL(h))&&"param"===l.kind&&l.params&&l.params.isTemplate?(m=mM(m,l.prefix),l=null==m?null:{variableName:m.name,paramString:l.unparsedParams,prefix:m.prefix}):l=null;if(l){m=l.variableName;var n=c[m];if(void 0!==n){if("number"===typeof n)n=n.toString();else if("string"===typeof n){for(var p="",r=!1,w=0;w<n.length;w++)if(128<=n.charCodeAt(w))r=!0;else{var v=n.charAt(w);p="\n"===v?p+"\\n":"\\"===
v?p+"\\\\":"'"===v?p+"\\'":p+v}r&&console.log("Warning: stripped non-ascii character from string:"+n);n="'"+p+"'"}else n=void 0;h=(l.prefix||"")+m+" = "+n+" # @param "+l.paramString+(h.endsWith("\n")?"\n":"")}}return h};b.cells.forEach(function(h,l){"code"===h.cell_type&&h.source&&(h.source=h.source.map(g),e&&f.get(l).get("text").setText(h.source.join("")))});b.metadata.colab.provenance.unshift({file_id:d.toString(),timestamp:Date.now()});e&&a.getRoot().get("metadata").set("provenance",b.metadata.colab.provenance);
return JD(b)};var sM=function(a,b){M.call(this);this.commId_=a;this.state_=Object.assign({},b)};t(sM,M);sM.prototype.updateState=function(a){this.state_=Object.assign(this.state_,a)};sM.prototype.getState=function(){return this.state_};var tM=function(a,b,c){sM.call(this,a,b);this.outputSource_=c;this.currentCapture_=null;this.currentOutputs_=[]};t(tM,sM);tM.prototype.updateState=function(a){sM.prototype.updateState.call(this,a);a=a.msg_id;void 0!==a&&(this.currentCapture_&&this.currentCapture_.release(),a&&this.outputSource_&&(this.currentCapture_=uM(this.outputSource_,a,new vM(this,a))))};
tM.prototype.clearOutputs=function(a){this.currentOutputs_=[];var b={outputs:this.currentOutputs_};this.updateState(b);wM(this.outputSource_,a,this.commId_,{state:b,method:"update"})};var vM=function(a,b){this.outputModel_=a;this.messageId_=b};t(vM,HC);vM.prototype.onClearOutput=function(){this.outputModel_.clearOutputs(this.messageId_);return!0};
vM.prototype.onOutput=function(a){var b=this.outputModel_,c=GC(a,[]);a=this.messageId_;b.currentOutputs_.push(c);c={outputs:b.currentOutputs_};b.updateState(c);wM(b.outputSource_,a,b.commId_,{state:c,method:"update"});return!0};var yM=function(){this.models_=new Map;this.outputSource_=null};yM.prototype.onCommOpen=function(a,b){b=b.state||{};var c=b._model_name,d;"@jupyter-widgets/output"==b._model_module&&"OutputModel"==c?d=new tM(a,b,this.outputSource_):d=new sM(a,b);this.models_.set(a,d)};yM.prototype.onCommMessage=function(a,b){(a=this.models_.get(a))&&a.updateState(b.state||{})};yM.prototype.reset=function(){this.models_.clear()};yM.prototype.getModel=function(a){return this.models_.get(a)||null};var CM=function(a,b,c){c=void 0===c?null:c;M.call(this);var d=this;this.autoSaver_=null;this.saveQueue_=new sK;this.fileId_=I(b.fileId_);this.traits_=b;this.document_=a;this.suppressInvalidationsCount_=this.lastSavedRevision_=this.currentChangeRevision_=0;this.isLoadingFromJson_=!1;this.lastModifiedTime_=(new Date).getTime();this.isClosed_=this.isClosing_=!1;this.mimeType_=this.offlineTitle_="";this.commentList_=null;this.title_="";new KL;this.resourceManager_=new PL;this.isShared_=!0;this.viewMap_=
null;this.thumbnail_="";c||(c=new kC({editable:!1,commentable:!1}));this.permissions_=c;this.cells_=this.realtimeCellsSync_=null;this.runtimes_=new qA;this.offlineCells_=new Map;this.jsonBytesWhenLoaded_=0;this.pollTimer_=null;this.hasMergeConflict_=!1;this.lastReportedMergeConflict_=0;this.widgets_=new yM;this.originalMetadata_={};this.realtimeTitleChangeListener_=function(e){AM(d,e.target.getText());d.dispatchEvent(new BM(d.title_))}};t(CM,M);
CM.prototype.initialize=function(){DM(this);this.finalizeLoading();this.saveable()&&(EM(this),FM(this))};CM.prototype.disposeInternal=function(){null!==this.pollTimer_&&(clearTimeout(this.pollTimer_),this.pollTimer_=null);null!==this.autoSaver_&&(clearTimeout(this.autoSaver_),this.autoSaver_=null);M.prototype.disposeInternal.call(this)};CM.prototype.getMetadata=function(){if(!this.document_)throw Error("Error: Attempt to get data from uninitialized realtime document");return this.document_.getModel().getRoot().get("metadata")};
CM.prototype.getCells_=function(){return this.document_.getModel().getRoot().get("cells")};var GM=function(a){var b=[];a=q(a.getCells());for(var c=a.next();!c.done;c=a.next())if(c=c.value,c instanceof kL){c=q(mc(c.outputs_.outputs_));for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};CM.prototype.getRuntimes=function(){return this.runtimes_};CM.prototype.bytesUsed=function(){return this.getDocument().getModel().bytesUsed};
var EM=function(a){HM(a)&&null==a.autoSaver_&&!a.isDisposed()&&(a.autoSaver_=nn(function(){IM(a)},JM().autosaveIntervalMs))},HM=function(a){return!a.saveable()||a.isReadOnly()||"gist"==a.fileId_.source?!1:!0},IM=function(a){a.autoSaver_=null;!KM(a)||0<a.saveQueue_.length()?(EM(a),Mk()):a.save({flushPackagedOutputs:!1}).then(function(){EM(a)},function(b){console.warn("auto save failed:",b);b instanceof fK&&LM(a,!0);EM(a)})},NM=function(){var a=MM().notebookModel;null!=a.autoSaver_&&(on(a.autoSaver_),
a.autoSaver_=null)},LM=function(a,b){b!=a.hasMergeConflict_&&(a.hasMergeConflict_=b,a.dispatchEvent("merge_conflict_change"));b&&3E5<jb()-a.lastReportedMergeConflict_&&(a.lastReportedMergeConflict_=jb(),Y({message:"This file was updated remotely or in another tab. To force a save, overwriting the last update, select Save from the File menu",timeoutMillis:-1}))},OM=function(a){if(a.isClosed_)return"notebook-python";var b=SI(a);return!b||!b.name||b&&b.name&&b.name.startsWith("python")?"notebook-python":
b.name==Bz.name?"r":(a=a.originalMetadata_.language_info)?"python"==a.name?"notebook-python":"R"==a.name?"r":a.name:b.name};CM.prototype.getFileId=function(){return this.fileId_};CM.prototype.getDocument=function(){return this.document_};CM.prototype.getModel=function(){var a=this.document_.getModel();I(a,"Expected model to be set.");return a};var TI=function(a){a=a.permissions_;I(a,"Can not call getPermissions before notebook permissions are set.");return a};CM.prototype.getTraits=function(){return this.traits_};
CM.prototype.getCells=function(){I(this.cells_);return this.cells_};var PM=function(a,b){return a.cells_.find(function(c){return c.getId()==b})||null},QM=function(a,b){b=b.get("id");a=PM(a,b);I(a,"Expected valid cell from realtime");return a};CM.prototype.getRevisionList=function(){return new nK};var RM=function(a){null==a.commentList_&&(a.commentList_=new EL(dz(a.getFileId()),TI(a),a.getUserInfo()));return a.commentList_};k=CM.prototype;k.getUserInfo=function(){return null};k.hasOtherWriters=function(){return Mk(!0)};
k.getView=function(a){return null===this.viewMap_?null:this.viewMap_.getView(a)};k.isReadOnly=function(){return!AI(this.getTraits())||this.document_.getModel().isReadOnly};k.saveable=function(){var a=this.getTraits();return zI(a)&&(this.permissions_.isEditable()||!!a.getView())};
var lK=function(a){return a.document_?a.document_.isInGoogleDrive:!1},RI=function(a){return(a=a.document_.getModel().getRoot().get("metadata"))?!!a.get("private_outputs"):!1},TM=function(a,b){SM(a);a.document_.getModel().getRoot().get("metadata").set("private_outputs",b);a.dispatchEvent("private_outputs_changed")};CM.prototype.isShareable=function(){return xI(this.getTraits())};
var UM=function(a){var b=a.document_.getModel().getRoot();b.addEventListener(AD.OBJECT_CHANGED,function(c){var d=c.target==b.get("metadata")||c.target==b.get("title");c.isLocal&&!d&&(SM(a),a.lastModifiedTime_=(new Date).getTime())})},KM=function(a){return a.lastSavedRevision_!=a.currentChangeRevision_},SM=function(a){if(!a.suppressInvalidationsCount_){var b=KM(a);++a.currentChangeRevision_;b||a.dispatchEvent("invalidated")}},VM=function(a){--a.suppressInvalidationsCount_;I(0<=a.suppressInvalidationsCount_)},
WM=function(a,b){a.saveable()||(a.lastSavedRevision_=b,a.dispatchEvent("saved"))};
CM.prototype.clearAllOutputs=function(){var a=this,b,c,d,e,f,g;return B(function(h){if(1==h.nextAddress){b=[];c=q(a.getCells());for(d=c.next();!d.done;d=c.next())e=d.value,e instanceof kL&&b.push(e.clearOutputs());return u(h,Qk(b),2)}if(4!=h.nextAddress)return f=a.getFileId(),az(f)?u(h,aK(a.getFileId().toString()),4):h.jumpTo(0);g=h.yieldResult;if(!g.length)return h.jumpTo(0);aJ(Error("Clear outputs with "+g.length+" unclaimed packages."));return u(h,Qk(g.map(function(l){return IJ(l)})),0)})};
var XM=function(a){++a.suppressInvalidationsCount_;try{var b=a.document_.getModel(),c=b.getRoot().get("title");c&&c.getText?b.isReadOnly||c.setText(a.offlineTitle_):(c=b.createString(a.offlineTitle_),b.getRoot().set("title",c));var d=a.title_;AM(a,a.offlineTitle_);LI().setTitle(a.title_);c.addEventListener(AD.OBJECT_CHANGED,a.realtimeTitleChangeListener_);d!=a.title_&&a.dispatchEvent(new BM(a.title_))}finally{VM(a)}};
CM.prototype.setTitle=function(a){var b=this.document_.getModel();if(b.isReadOnly)return Mk();b=b.getRoot().get("title");if(!b)return Mk();b.setText(a);return this.saveTitle()};CM.prototype.getTitle=function(){return this.title_};var YM=function(a){var b;B(function(c){if(1==c.nextAddress)return I(az(a.getFileId())),u(c,JJ(a.getTraits().params_.folderId||void 0),2);b=c.yieldResult;"Untitled"==a.getTitle()&&a.setTitle(b);x(c)})};CM.prototype.isOwnedByMe=function(){return!1};
CM.prototype.getOwnerEmails=function(){return""};CM.prototype.getTrashed=function(){return!1};CM.prototype.trashNotebook=function(){};
var ND=function(a,b){b=void 0===b?{}:b;var c=void 0===b.inlineEmbeddedOutputs?!0:b.inlineEmbeddedOutputs,d=ID(a.getTitle());d.metadata.language_info=a.originalMetadata_.language_info;d.metadata.authors=a.originalMetadata_.authors;b=a.getCells();var e=b.length;b=b.filter(function(h){return!!h.getTextModel()});e>b.length&&aJ(Error("Save with "+(e-b.length)+" invalid cell models."));var f="";"github"==a.fileId_.source&&(f=I(XD.getNonColabUrl(a.fileId_,DI(a.getTraits()))));d.cells=b.map(function(h){return h.toJson({basePathForRelativeUrls:f,
inlineEmbeddedOutputs:c})});RI(a)&&(d.metadata.colab.private_outputs=!0);var g=a.getMetadata().get("views")||null;g&&0<g.size?g.keys().forEach(function(h){d.metadata.colab.views[h]=g.get(h)}):delete d.metadata.colab.views;delete d.metadata.colab.default_view;d.metadata.colab.provenance=(a.getMetadata().get("provenance")||[]).slice();if(b=ZM(a))d.metadata.colab.collapsed_sections=b;if(b=a.getMetadata().get("last_runtime")||null)d.metadata.colab.last_runtime=b;$M(a)&&(d.metadata.colab.toc_visible=!0);
if(b=SI(a))d.metadata.kernelspec=b;if(a=a.getAccelerator())d.metadata.accelerator=a;return d};CM.prototype.untrashNotebook=function(){};CM.prototype.getStarred=function(){return!1};CM.prototype.setStarred=function(){};var aN=function(a,b){a.jsonBytesWhenLoaded_=b},AM=function(a,b){a.title_=b;a.offlineTitle_=b;LI().setTitle(a.title_)};CM.prototype.initializeViews_=function(){var a=this.getMetadata().get("views")||null;this.viewMap_=a?new CD(a):null};
CM.prototype.finalizeLoading=function(){this.getMetadata()||this.getModel().getRoot().set("metadata",this.getModel().createMap());bN(this);XM(this);this.initializeViews_();UM(this)};CM.prototype.thumbnailSupported=function(){return!1};
var cN=function(a,b){var c=b.withPrivateOutputs,d,e,f,g,h,l,m,n,p,r,w,v;return B(function(A){switch(A.nextAddress){case 1:if(!Nz.TEMPLATES)return A.return(null);d=a.getModel();e=a.getTraits();f=e.getTemplateParams();if(!f)return A.return(null);g=!lK(a);if(!e.params_.create&&!g)return A.return(null);try{h=JSON.parse(f)}catch(J){return wH("Failed to parse invalid JSON",f),A.return(null)}l="";++a.suppressInvalidationsCount_;try{l=rM(d,ND(a),h,a.getFileId(),g)}finally{VM(a)}if(!e.params_.create){A.jumpTo(2);
break}m=eA(iA(Uz(a.getFileId())),!1);n=a.getTitle();var H=m.toString();var C=n;H=U(F(H)||H instanceof N,"url",H,"!goog.soy.data.UnsanitizedText|string");C=U(F(C)||C instanceof N,"title",C,"!goog.soy.data.UnsanitizedText|string");C="Would you like to save a copy of "+('<a href="'+T(Do(H))+'" target="_blank">'+(R(C)+"</a> in Google Drive?"));C=Q(C);return u(A,yH({title:"Save a copy in Drive",message:"",htmlMessage:C}),3);case 3:return(p=A.yieldResult)?u(A,qJ(mJ()),4):A.return(null);case 4:if(r=e.params_.folderId||
null){A.jumpTo(5);break}return u(A,KJ(),6);case 6:r=A.yieldResult;case 5:return w=r,u(A,NJ(w,l,{withPrivateOutputs:c,language:null}),7);case 7:return v=A.yieldResult,A.return(v.id);case 2:return A.return(null)}})},bN=function(a){var b=a.getCells_();b||(a.getModel().getRoot().set("cells",a.getModel().createList()),b=a.getCells_());a.realtimeCellsSync_=new OL(b,function(c){var d=c.get("id"),e=a.offlineCells_.get(d);return e?(a.offlineCells_.delete(d),e):mL(c,a.getModel(),{permissions:TI(a),privateOutputs:RI(a),
fileId:a.saveable()?a.getFileId():null})});a.cells_=a.realtimeCellsSync_.array_;nj(a,a.realtimeCellsSync_)},ZM=function(a){return a.getMetadata().get("collapsed_sections")||void 0},SI=function(a){return a.getMetadata().get("kernelspec")||null};CM.prototype.getAccelerator=function(){return this.getMetadata().get("accelerator")||""};
CM.prototype.setRuntime=function(a,b){null===a&&(a=SI(this));null===b&&(b=this.getAccelerator());if(!Object.values(yz).find(function(e){return e.name==b}))throw Error("Unknown accelerator: "+b);var c=this.getAccelerator(),d=SI(this);Ez(d,a)&&c==b||(SM(this),Ez(d,a)||delete this.originalMetadata_.language_info);this.getMetadata().set("accelerator",b);this.getMetadata().set("kernelspec",a);this.dispatchEvent("runtime-setting-changed")};
var dN=function(a,b){Lx||$M(a)!=b&&(a.isReadOnly()||a.getMetadata().set("toc_visible",b))},$M=function(a){return Lx?!1:!!a.getMetadata().get("toc_visible")};CM.prototype.includeColabLink=function(){return!!this.getMetadata().get("include_colab_link")};
CM.prototype.save=function(a){var b=this;a=void 0===a?{}:a;var c=void 0===a.pinned?!1:a.pinned,d=void 0===a.force?!1:a.force,e=void 0===a.flushPackagedOutputs?!0:a.flushPackagedOutputs;return this.isClosed_?Mk():this.saveQueue_.enqueue(function(){return Ey(function(){var f,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:y(n,2);if(!e){n.jumpTo(4);break}f=[];g=q(GM(b));for(h=g.next();!h.done;h=g.next())l=h.value,l.isSaveRequired()&&f.push(l.save());return u(n,Qk(f),4);case 4:return u(n,eN(b,
{pinned:!!c,force:wb(d)}),6);case 6:va(n,0);break;case 2:throw m=z(n),m instanceof fK&&LM(b,!0),m;}})}(),18E4,"Timed out waiting for save")})};var eN=function(a,b){var c,d;return B(function(e){if(1==e.nextAddress){if(!KM(a)&&!b)return e.return();c=a.getSaver();if(!c)throw new vK("No saver registered for file type.");d=a.currentChangeRevision_;return u(e,a.performSave(b),2)}LM(a,!1);a.lastSavedRevision_=d;a.dispatchEvent("saved");EM(a);FM(a);x(e)})};
CM.prototype.performSave=function(a){return this.getSaver().save(this,a)};CM.prototype.saveTitle=function(){var a=this,b=this.getSaver();return this.saveable()&&b?b.saveTitle(this).then(function(){},function(c){null==c||a.isClosedOrClosing_()||bJ(c);console.error("Unable to save title: ",c)}):Mk()};
CM.prototype.cloneToDrive=function(){var a=this,b,c,d;return B(function(e){if(1==e.nextAddress)return b=new jK,c=a.currentChangeRevision_,u(e,b.clone(a,"Copy of "+a.getTitle()),2);d=e.yieldResult;WM(a,c);return e.return(d)})};CM.prototype.isClosedOrClosing_=function(){return this.isDisposed()||this.isClosed_||this.isClosing_};
var FM=function(a){if(a.supportsPollingForChanges()&&null===a.pollTimer_){a.pollTimer_=setTimeout(function(){a.saveQueue_.enqueue(function(){return Ey(a.pollForChanges(),18E4,"poll for changes timeout.")}).catch(function(c){a.isDisposed()||a.isClosed_||a.isClosing_||bJ(c)}).then(function(){I(a.pollTimer_==b);a.pollTimer_=null;FM(a)},function(){I(a.pollTimer_==b);a.pollTimer_=null;FM(a)})},JM().pollIntervalMs);var b=a.pollTimer_}};CM.prototype.supportsPollingForChanges=function(){return!1};
CM.prototype.pollForChanges=function(){return Mk()};var fN=function(a,b,c){if(!KM(a))return a.fillFromJson(c),!0;LM(a,!0);aJ(Error("merge conflict"));return!1};
CM.prototype.close=function(a,b){var c=this;if(!this.isClosing_){Y({message:'Closing "'+(this.offlineTitle_+'"'),timeoutMillis:-1});this.isClosing_=!0;var d=function(e){e&&e.error&&console.log(e);c.document_&&c.document_.close();UG();c.isClosed_=!0;c.isClosing_=!1;b&&b();c.dispose()};null!=this.autoSaver_&&(clearInterval(this.autoSaver_),this.autoSaver_=null);this.document_&&!this.isClosed_&&a?this.save().then(d,d):d(null)}};
CM.prototype.fillFromJson=function(a){this.isLoadingFromJson_=!0;++this.suppressInvalidationsCount_;try{var b=this.getModel(),c=this.getMetadata();LD(c,a,b);this.originalMetadata_=a.metadata;this.initializeViews_();gN(this,a.cells)}finally{VM(this),this.isLoadingFromJson_=!1}};
var gN=function(a,b){var c=a.getCells_(),d=a.getModel();YB(c,d);if(a.bytesUsed()>.5*hK&&(d=new Cy("Accumulated realtime memory leaks necessitate reload."),aJ(d),iy))throw a.dispatchEvent(new eK("too_much_garbage",d)),d;a=hN(a,b,!1).map(function(e){return e.realtimeCell_});c.pushAll(a)},hN=function(a,b,c){var d=[];b=q(b);for(var e=b.next();!e.done;e=b.next()){e=e.value;var f=e.metadata.id||"";if(PM(a,f)||a.offlineCells_.has(f))if(c)delete e.metadata.id;else{e="Cell "+f+" already exists, ignoring.";
aJ(Error(e));console.error(e);continue}e=nL(e,a.getModel(),{privateOutputs:RI(a),fileId:a.saveable()?a.getFileId():null,includeOutputs:!0,isReadOnly:!0});a.offlineCells_.set(e.getId(),e);d.push(e)}return d},DM=function(a){a.document_.collaborationStatus==tK.SUSPENDED_TOO_MANY_COLLABORATORS&&a.dispatchEvent(new eK("realtime_too_busy",new Cy(a.document_.collaborationStatus)));a.document_.addEventListener(AD.COLLABORATION_STATUS_CHANGED,function(b){b.status==tK.SUSPENDED_TOO_MANY_COLLABORATORS&&a.dispatchEvent(new eK("realtime_too_busy",
new Cy(b.status)))})},JM=function(){return Object.assign({},iN,Ua("colab.model.notebookModelSettings"))},BM=function(a){K.call(this,"title_changed");this.title=a};t(BM,K);var iN={pollIntervalMs:dy,autosaveIntervalMs:3E4};var jN=function(a){rA.call(this);this.fileId_=a};t(jN,rA);
jN.prototype.refresh=function(){var a=this,b,c;return B(function(d){if(1==d.nextAddress)return y(d,2),u(d,XJ({fileId:a.fileId_}),4);if(2!=d.nextAddress)return b=d.yieldResult,a.lastUpdated=new Date,a.entries=Fb(b.items,function(e){return{pinned:e.pinned,modifiedDate:e.modifiedDate,lastModifyingUserName:e.lastModifyingUserName,fileSize:e.fileSize,name:e.name,id:e.id}}),a.dispatchEvent("change"),va(d,0);c=z(d);a.dispatchEvent(new eK("error",c));x(d)})};
jN.prototype.getRevision=function(a){return HJ(this.fileId_,a.id)};jN.prototype.setRevisionPinned=function(a,b){var c=this;a.pinned===b?this.dispatchEvent(new eK("error",new Cy("Error: revision "+a.id+" is already "+(b?"":"unpinned.")))):YJ({fileId:this.fileId_,revisionId:a.id,pinned:b}).then(function(){a.pinned=b;c.dispatchEvent(new K("revision_pinned_change",a))}).catch(function(d){c.dispatchEvent(new eK("error",d))})};var kN=function(a,b){var c=this;this.hasOtherWriters_=null;b?(this.hasOtherWriters_=!0,a=Promise.resolve()):a=this.initialize_(a);this.initialized=a.then(function(){return c.hasOtherWriters_})};kN.prototype.initialize_=function(a){var b=this;return oJ(mJ()).then(function(){return ZJ(dz(a))}).then(function(c){b.handleResponse_(c)}).catch(function(c){console.error(c)})};
kN.prototype.handleResponse_=function(a){var b=this,c,d;B(function(e){if(1==e.nextAddress)return u(e,DJ(),2);c=e.yieldResult;d=!!a.items.find(function(f){return"reader"!=f.role&&f.id!=c});b.hasOtherWriters_=d;x(e)})};kN.prototype.hasOtherWriters=function(){return this.initialized};function lN(a,b){3==a.nodeType&&b(a);for(a=a.firstChild;a;){var c=a.nextSibling;lN(a,b);a=c}}
var pN=function(a,b,c){lN(a,function(d){var e=d.textContent.split(mN);if(1!=e.length){for(var f=0;f<e.length;++f){var g=e[f];if(0==f%2)e[0]&&d.parentNode.insertBefore(document.createTextNode(g),d);else{var h=Number(g);if(0<=h&&h<=b.length){g=void 0;h=b[h];var l=c,m=!1;h.startsWith("$$")?(m=!0,h=h.substr(2,h.length-4)):h.startsWith("$")&&(h=h.substr(1,h.length-2));try{var n=katex.renderToString(h);nN||(nN=Jv(Nv(new Cv,oN)).build());g=Zv(nN,n)}catch(p){l(p),g=oh("PRE"),g.style.display="inline-block",
g.textContent=h}m&&(g.style.display="block",g.style.textAlign="center");d.parentNode.insertBefore(g,d)}else d.parentNode.insertBefore(document.createTextNode("@@"+g+"@"),d)}}d.parentNode.removeChild(d)}})},mN=/@@([\d]+)@@/i,nN=null;function oN(a,b){return!b||"class"!=b.attributeName&&"style"!=b.attributeName?null:a};var qN=function(a,b,c,d,e){d=void 0===d?null:d;e=void 0===e?null:e;var f,g,h,l,m,n,p,r,w,v,A,H,C,J;return B(function(L){if(1==L.nextAddress)return f=Ly(b),b=f.text,g=f.math,h=void 0,"github"==I(c.fileId_).source&&(h=I(XD.getNonColabUrl(I(c.fileId_),DI(c)))),l=uI(c),u(L,SB(b,function(W){return Oz(W,l.params_,h)},d),2);m=L.yieldResult;h&&TB(new Dl(h),m);0<g.length&&(ey?pN(m,g,function(W){bJ(W)}):My(m,g));a.textContent="";a.appendChild(m);if(0<g.length&&m.isConnected&&(ey||Ny(m),e)){n=q(e.getAllMarks());
for(p=n.next();!p.done;p=n.next())r=p.value,r.clear();for(v=w=0;v<g.length;v++)A="@@"+v+"@@",H=f.text.indexOf(A)+w,w+=f.math[v].length-A.length,C=e.findPosH({line:0,ch:0},H,"char",!1),J={className:"markdown-mathjax",inclusiveLeft:!0,inclusiveRight:!0},e.markText(C,e.findPosH(C,f.math[v].length,"char",!0),J)}return L.return({element:m,hasMath:0<g.length})})};var rN=function(a,b,c){b=c||b;c=U(Za(a.cells),"cells",a.cells,"!Array<!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string>");a=U(F(a.msgClickOpen)||a.msgClickOpen instanceof N,"msgClickOpen",a.msgClickOpen,"!goog.soy.data.UnsanitizedText|string");b=b&&b.csp_nonce;b='<div><svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><foreignObject width="100%" height="100%"><style'+(b?' nonce="'+T(b)+'"':"")+">";var d=no("\n    .content {\n      background-color: white;\n      font-family: arial, sans-serif;\n    }\n\n    .code,.text {\n      margin: 8px;\n      overflow: hidden;\n      padding: 8px 12px;\n    }\n\n    .code {\n      background-color: #f7f7f7;\n      font-family: monospace;\n      white-space: nowrap;\n    }\n\n    .MathJax_Preview {\n      font-family: MathJax_Main, Times, serif;\n    }\n\n    .click-to-open {\n      background-color: #00005c;\n      color: white;\n      opacity: 0.6;\n      padding: 8px;\n    }\n\n    .katex-mathml {\n      display: none;\n    }\n  ");
a=b+d+'</style><div xmlns="http://www.w3.org/1999/xhtml"><div class="content"><div class="click-to-open">'+R(a)+"</div>";b=c.length;for(d=0;d<b;d++)a+=R(c[d]);return Q(a+"</div></div></foreignObject></svg></div>")};rN.soyTemplateName="colab.model.thumbnailerTemplates.svg";var sN=function(a){a=U(fm(a.text),"text",a.text,"!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string");return Q('<div class="text">'+R(a)+"</div>")};var tN=null;function uN(a,b){return b&&"class"==b.attributeName?a:null}function vN(a){tN||(tN=Nv(Jv(new Cv),uN).build());return tN.sanitize(a)}
function wN(a,b){var c=/\{.*display\-mode: ?['"]form['"].*\}$/;if(a instanceof kL&&b.startsWith("#@title ")){var d=b.replace("#@title ","").split("\n")[0].trim();if("form"==a.realtimeCell_.get("cellView")||d.match(c))return a=d=d.replace(c,""),a=U(F(a)||a instanceof N,"text",a,"!goog.soy.data.UnsanitizedText|string"),Q('<div class="text"><h3>'+R(a)+"</h3></div>")}a=b.split("\n");a=U(Za(a),"lines",a,"!Array<!goog.soy.data.UnsanitizedText|string>");b='<div class="code">';c=a.length;for(d=0;d<c;d++)b+=
"<div>"+R(a[d])+"</div>";return Q(b+"</div>")}
function xN(a){var b,c,d,e,f,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:b=document.createElement("div"),b.style.display="hidden",document.body.appendChild(b),c=[],d=a.getTraits(),e=a.getCells(),f=0;case 2:if(!(f<Math.min(5,e.length))){n.jumpTo(4);break}g=e[f];if((h=document.querySelector("#cell-"+g.getId()))&&"none"==h.style.display){n.jumpTo(3);break}l=g.getTextModel().getText();if(g instanceof kL){c.push(wN(g,l));n.jumpTo(3);break}return u(n,qN(b,l,d),6);case 6:m=n.yieldResult;if(!m.hasMath){n.jumpTo(7);
break}return u(n,new Promise(function(p){MathJax.Hub.Queue([p])}),7);case 7:c.push(sN({text:vN(m.element.innerHTML)}));case 3:f++;n.jumpTo(2);break;case 4:return b.remove(),n.return(c)}})}
var yN=function(a){var b,c,d,e,f,g,h,l,m;return B(function(n){if(1==n.nextAddress)return u(n,xN(a),2);if(3!=n.nextAddress)return b=n.yieldResult,c=pm(rN,{cells:b,msgClickOpen:'Click "Open" above this image'}),d=c.innerHTML.replace(/&nbsp;/g,"\u00a0"),e=new Image,f=new TextEncoder("utf-8"),g=lg(f.encode(d)),u(n,new Promise(function(p){e.onload=function(){p()};e.src="data:image/svg+xml;base64,"+g}),3);h=document.createElement("canvas");h.width=400;h.height=300;l=h.getContext("2d");l.fillStyle="#ffffff";
l.fillRect(0,0,h.width,h.height);l.drawImage(e,0,0);m=h.toDataURL("image/png");m=m.replace("data:image/png;base64,","");m=m.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return n.return(m)})};var zN=function(a,b,c,d,e){CM.call(this,a,b,void 0===e?null:e);this.userInfo_=d;this.metadata_=c;this.saver_=new jK;this.sharingState_=new kN(this.getFileId(),!!b.params_.offline||tJ());this.canReadRevisions_=!1;this.revisionList_=new nK;this.teamDriveId_="";this.isStarred_=!1;this.owners_=null;this.parents_=[];this.isTrashed_=!1;this.lastPreviewTime_=this.lastModifiedTime_-1;this.driveSnapshotJson_=this.headRevisionId_=this.updateThumbnailInterval_=null};t(zN,CM);k=zN.prototype;
k.disposeInternal=function(){CM.prototype.disposeInternal.call(this);this.updateThumbnailInterval_&&clearInterval(this.updateThumbnailInterval_)};k.initialize=function(){AN(this,this.metadata_);CM.prototype.initialize.call(this)};k.hasOtherWriters=function(){return this.sharingState_.hasOtherWriters()};
k.finalizeLoading=function(){CM.prototype.finalizeLoading.call(this);this.canReadRevisions_&&(this.revisionList_=new jN(dz(this.getFileId())));this.thumbnailSupported()&&(this.updateThumbnailInterval_=window.setInterval(hb(this.maybeUpdateThumbnail_,this),6E5))};k.getSaver=function(){return this.saver_};k.getUserInfo=function(){return this.userInfo_};k.isOwnedByMe=function(){return this.owners_?this.owners_.some(function(a){return a.isAuthenticatedUser}):!1};
k.getOwnerEmails=function(){return this.owners_?this.owners_.map(function(a){return a.emailAddress}).join(", "):""};k.getRevisionList=function(){return this.revisionList_};var BN=function(a,b){return a.revisionList_.getRevision(b).then(function(c){c=eC(c);a.fillFromJson(c)})};k=zN.prototype;k.getStarred=function(){return this.isStarred_};
k.setStarred=function(a){var b=this;a!==this.getStarred()&&WJ({fileId:this.getFileId().toString(),resource:{labels:{starred:a}}}).then(function(){b.isStarred_=a;b.dispatchEvent("star_changed")}).catch(function(c){b.dispatchEvent(new eK("star_error",c));aJ(c);console.error("Unable to star notebook: ",c)})};k.getTrashed=function(){return this.isTrashed_};
k.trashNotebook=function(){var a=this,b={fileId:dz(this.getFileId()),resource:{labels:{trashed:!0}}};this.isTrashed_=!0;WJ(b).then(function(){return a.dispatchEvent("trashed")}).catch(function(c){a.isTrashed_=!1;wH("Failed to trash or untrash notebook.",c)})};k.untrashNotebook=function(){var a=this,b={fileId:dz(this.getFileId()),resource:{labels:{trashed:!1}}};this.isTrashed_=!1;WJ(b).catch(function(c){a.isTrashed_=!0;wH("Failed to trash or untrash notebook.",c)})};
k.performSave=function(a){var b=this,c,d,e,f;return B(function(g){if(1==g.nextAddress)return a=a||{},c=b.getTitle(),d=b.offlineTitle_,e=d!=c,u(g,kK(b.saver_,b,b.headRevisionId_,a),2);if(3!=g.nextAddress){f=g.yieldResult;b.headRevisionId_=f.metadata.headRevisionId;b.driveSnapshotJson_=f.notebook;if(b.isDisposed())return g.return();AN(b,f.metadata);return b.offlineTitle_==d||e?g.jumpTo(3):u(g,b.setTitle(d),3)}setTimeout(function(){b.isDisposed()||b.getRevisionList().refresh()},1E3);x(g)})};
k.fillFromJson=function(a){CM.prototype.fillFromJson.call(this,a);this.driveSnapshotJson_=a};
var AN=function(a,b){a.offlineTitle_=b.title||b.originalFilename||"";a.isShared_=0!=b.shared;b.labels&&(a.isStarred_=!!b.labels.starred,a.isTrashed_=!!b.labels.trashed);a.parents_=b.parents||[];a.owners_=b.owners;a.canReadRevisions_=!!(b.capabilities||{}).canReadRevisions;a.mimeType_=b.mimeType;a.teamDriveId_=b.teamDriveId;a.jsonBytesWhenLoaded_=parseInt(b.fileSize||"0",10);var c=b.headRevisionId;Ix&&console.log("updateDocumentMetadata_: headRevisionId: "+c);I(c);a.headRevisionId_=c;(b=(b.properties||
[]).find(function(d){return"revisionCounter"===d.key}))&&a.getMetadata().set("revisionCounter",b.value);XM(a)};zN.prototype.supportsPollingForChanges=function(){return!0};zN.prototype.pollForChanges=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,OJ(dz(a.getFileId()),"headRevisionId"),2);b=c.yieldResult;return a.isDisposed()?c.return():b.headRevisionId==a.headRevisionId_?(FM(a),c.return()):u(c,CN(a,b.headRevisionId),0)})};
var CN=function(a,b){var c,d;return B(function(e){switch(e.nextAddress){case 1:return y(e,2),d=new kI,u(e,YD(function(){return d.load(a.getFileId(),b)}),4);case 4:c=e.yieldResult;if(a.isDisposed())return e.return(!1);va(e,3);break;case 2:return z(e),FM(a),e.return(!1);case 3:return fN(a,I(a.driveSnapshotJson_),c)?(a.headRevisionId_=b,FM(a),e.return(!0)):e.return(!1)}})};
zN.prototype.maybeUpdateThumbnail_=function(){var a=(new Date).getTime();this.lastModifiedTime_+36E5>a||this.lastPreviewTime_>this.lastModifiedTime_||(DN(this),this.lastPreviewTime_=a)};
var DN=function(a,b){var c;B(function(d){switch(d.nextAddress){case 1:return a.thumbnailSupported()?u(d,EN(a),2):d.return();case 2:c=d.yieldResult;a.thumbnail_=c;if(!b)return d.return();y(d,3);return u(d,a.save({force:!0}),5);case 5:Y({message:"Drive preview updated.",timeoutMillis:5E3});va(d,0);break;case 3:z(d),Y({message:"Failed to update Drive preview.",timeoutMillis:5E3}),x(d)}})},EN=function(a){var b,c,d;return B(function(e){if(1==e.nextAddress)return Y({message:"Updating preview...",timeoutMillis:1E4}),
b=(new Date).getTime(),u(e,yN(a),2);c=e.yieldResult;if(!c)return aJ(Error("Thumbnail generation failed (notebook not available)")),e.return(null);d=(new Date).getTime();var f={hitType:"timing",timingCategory:"preview thumbnail",timingVar:"created",timingValue:d-b};NI(LI(),"send",f);UG();return e.return(c)})};zN.prototype.thumbnailSupported=function(){return!this.isReadOnly()&&this.saveable()};var FN=function(a,b,c){CM.call(this,a,b,void 0===c?null:c)};t(FN,CM);FN.prototype.getSaver=function(){return null};var GN=function(a){K.call(this,"navigate_to_line");this.line=a};t(GN,K);var HN=function(a){a=void 0===a?{}:a;var b=void 0===a.editorPosition?"nochange":a.editorPosition,c=void 0===a.outputSelected?!1:a.outputSelected,d=void 0===a.blurActiveFocus?!0:a.blurActiveFocus;this.scroll=void 0===a.scroll?1:a.scroll;this.editorPosition=b;this.outputSelected=c;this.blurActiveFocus=d},IN=function(a,b){a=new HN(a);zc(a,b);return a},JN=new HN({scroll:3}),KN=new HN({scroll:3,outputSelected:!0,blurActiveFocus:!1}),LN=new HN,MN=new HN({scroll:2,editorPosition:"nochange"}),NN=new HN({scroll:2,
editorPosition:"begin"}),ON=new HN({scroll:2,editorPosition:"end"}),PN=new HN({scroll:4});var RN=function(a,b,c){this.editor_=a;this.query_=b;this.caseSensitive_=c;this.matchCount_=this.editor_.getMatchCount(this.query_);this.overlay_=QN(this);this.codeMirror_=this.editor_.tryGetCodeEditor();this.findReverse_=this.overlayAdded_=!1;this.codeMirror_&&(this.codeMirror_.addOverlay(this.overlay_),this.overlayAdded_=!0)};RN.prototype.remove=function(){this.codeMirror_&&(this.codeMirror_.removeOverlay(this.overlay_),this.overlayAdded_=!1,this.editor_.restore())};
var QN=function(a){return{token:function(b){a.query_.lastIndex=b.pos;var c=a.query_.exec(b.string);if(c&&c.index==b.pos)return b.pos+=c[0].length||1,"searching";c?b.pos=c.index:b.skipToEnd()}}};
RN.prototype.matches=function SN(){var b=this,c,d,e,f;return Da(SN,function(g){if(1==g.nextAddress){if(!b.matchCount)return g.jumpTo(0);b.codeMirror_=b.editor_.open();b.overlayAdded_||(b.codeMirror_.addOverlay(b.overlay_),b.overlayAdded_=!0);c=b.codeMirror_;if(!c)return g.return();d=c;e=null;b.findReverse_&&(e=new CodeMirror.Pos(d.lastLine()));f=b.codeMirror_.getSearchCursor(b.query_,e,!b.caseSensitive_)}if(4!=g.nextAddress)return f.find(b.findReverse_)?u(g,new TN(d,f,b),3):g.jumpTo(4);b.editor_.restore();
x(g)})};ca.Object.defineProperties(RN.prototype,{matchCount:{configurable:!0,enumerable:!0,get:function(){return this.matchCount_}}});var TN=function(a,b,c){this.codeMirror_=a;this.cursor_=b;this.overlay_=c};
TN.prototype.select=function(){var a=this,b=this.cursor_.from(),c=this.cursor_.to();this.codeMirror_.setSelection(b,c);this.codeMirror_.scrollIntoView(b);pn(0).then(function(){var d=a.codeMirror_.getWrapperElement().querySelector(".cm-overlay.cm-searching.CodeMirror-selectedtext");d&&(d.scrollIntoViewIfNeeded?d.scrollIntoViewIfNeeded():d.scrollIntoView())})};TN.prototype.replaceSelection=function(a){this.cursor_.replace(a);a=this.overlay_;a.matchCount_=a.editor_.getMatchCount(a.query_)};var WN=function(a,b){var c=this;this.powerLevel=a;this.wrapperElement=b;this.maxEffectThreshold=this.minEffectThreshold=-1;this.comboResetTimerId=this.comboCounter=0;this.lastInputBeforeKeyup=void 0;this.animateFrameHandler=function(d){UN(c,d)};this.canvasContext=this.canvas=void 0;this.particles=[];this.previousFrameTimestamp=0;this.comboLabel=void 0;VN(this,"No power",a)},VN=function(a,b,c){switch(c){case "Some power":a.minEffectThreshold=30;a.maxEffectThreshold=100;break;case "Many power (use with caution)":a.minEffectThreshold=
0,a.maxEffectThreshold=0}b!==c&&("No power"===b?a.canvas||(a.canvas=document.createElement("canvas"),a.canvas.classList.add("power-overlay"),a.canvasContext=a.canvas.getContext("2d"),b=a.wrapperElement.parentElement,a.canvas.width=b.offsetWidth,a.canvas.height=b.offsetHeight,b.appendChild(a.canvas),document.body.classList.add("power-mode-enabled")):"No power"===c&&(a.canvas&&(a.canvas.parentElement.removeChild(a.canvas),a.canvasContext=void 0,a.canvas=void 0),a.particles=[],document.body.classList.remove("power-mode-enabled")))},
ZN=function(a,b,c){a.comboResetTimerId&&clearTimeout(a.comboResetTimerId);a.comboResetTimerId=setTimeout(function(){a.wrapperElement.style.transform="";a.comboLabel&&(XN(a,400,2),a.comboLabel.parentElement.removeChild(a.comboLabel),a.comboLabel=void 0);a.comboCounter=0;a.comboResetTimerId=0},2500);var d=!1;b&&b[0]&&b[0].text!==a.lastInputBeforeKeyup&&(a.lastInputBeforeKeyup=b[0].text,a.comboCounter++,d=!0);a.comboCounter>=a.minEffectThreshold&&YN(a,b,a.comboCounter>=a.maxEffectThreshold?1:(a.comboCounter-
a.minEffectThreshold)/(a.maxEffectThreshold-a.minEffectThreshold),d,c)};WN.prototype.onKeyUp=function(){this.lastInputBeforeKeyup=void 0};
var YN=function(a,b,c,d,e){a.wrapperElement.getClientRects();if(e=e.getClientRects()[0]){var f=Math.round(4+6*c),g=[];b=q(b);for(var h=b.next();!h.done;h=b.next()){h=h.value;for(var l=0;l<f;l++){var m=1E3*(2*Math.random()-1),n=1E3*(2*Math.random()-1);g.push({x:h.left+e.left+10*(2*Math.random()-1)+.03*m,y:h.top+e.top+10*(2*Math.random()-1)+.03*n,vx:m,vy:n,intensity:.25+.75*c*Math.random()})}}0===a.particles.length&&(a.previousFrameTimestamp=performance.now(),requestAnimationFrame(a.animateFrameHandler));
a.particles.splice.apply(a.particles,[0,0].concat(ja(g)));a.particles.splice(500)}0<a.comboCounter&&$N(a,a.wrapperElement.parentElement,d)},UN=function(a,b){if(a.canvas){var c=a.canvasContext;c.clearRect(0,0,a.canvas.width,a.canvas.height);if(0!==a.particles.length){var d=(b-a.previousFrameTimestamp)/1E3;a.previousFrameTimestamp=b;b=q(a.particles);for(var e=b.next();!e.done;e=b.next()){e=e.value;c.beginPath();c.moveTo(e.x,e.y);e.x+=e.vx*d;e.y+=e.vy*d;c.lineTo(e.x,e.y);e.vy+=980*d;e.y>a.canvas.height&&
0<e.vy&&(e.vy*=-.3,e.y=a.canvas.height);if(0>e.x&&0>e.vx||e.x>a.canvas.width&&0<e.vx)e.vx*=-.3,e.x=0>e.x?0:a.canvas.width;var f="rgba(255, 175, 70, "+(.5+.5*e.intensity)+")";c.strokeStyle=f;c.shadowColor=f;c.shadowBlur=3;c.lineCap="round";c.stroke();e.intensity-=.1*d}a.particles=a.particles.filter(function(g){return 0<g.intensity&&(10<Math.abs(g.vy)||g.y<a.canvas.height-3)});requestAnimationFrame(a.animateFrameHandler)}}},$N=function(a,b,c){a.comboLabel||(a.comboLabel=document.createElement("div"),
a.comboLabel.classList.add("power-label"),b.appendChild(a.comboLabel));a.comboLabel.textContent="COMBO: "+a.comboCounter;a.comboLabel.style.transition="";a.comboLabel.style.backgroundSize="100% 100%";c&&a.comboLabel&&0===a.comboCounter%10&&XN(a,100,.5);requestAnimationFrame(function(){a.comboLabel&&(a.comboLabel.style.transition="background-size 2.5s linear",a.comboLabel.style.backgroundSize="0 100%")})},XN=function(a,b,c){var d=document.createElement("div");d.classList.add("power-label-clone");d.classList.add("power-label");
d.textContent=a.comboLabel.textContent;d.style.transitionDuration=c+"s";var e=a.comboLabel.parentElement;e.appendChild(d);setTimeout(function(){return e.removeChild(d)},1E3*c);requestAnimationFrame(function(){d.style.opacity="0";d.style.marginBottom=b+"px"})};Polymer({is:"colab-bottompane",hostAttributes:{role:"complementary"},properties:{selected:{type:Number,value:0},tabTitles:{type:Array,value:function(){return[]}},currentRenderedTabNames:{type:Array,value:function(){return[]}},isOpen_:{type:Boolean,value:!1,reflectToAttribute:!0},closeButtonLabel:{type:String,value:"Close bottom pane"},resizeLabel:{type:String,value:"Bottom pane resize handle"},isMobile_:{type:Boolean,value:function(){return!!Lx},reflectToAttribute:!0},dragging_:{type:Boolean,value:!1,
reflectToAttribute:!0},lastHeight_:{type:Number,value:0},statusBarEnabled_:{type:Boolean,value:function(){return"ENABLE"==Nx},reflectToAttribute:!0}},observers:["updateUi_(isOpen_, selected)"],created:function(){this.handler_=new Om(this)},attached:function(){var a=this;this.contents_=this.$["resize-contents"];this.dragger_=new Um(this.contents_,this.$.resizer);this.handler_.listen(this.$.close,"tap",function(){return a.close()});this.handler_.listen(this,"focus",function(){return a.onFocus_()});
this.handler_.listen(this,"request_close",this.close);this.handler_.listen(this.dragger_,"drag",function(b){return a.handleDrag_(b)});this.handler_.listen(this.dragger_,"end",function(b){return a.handleDragEnd_(b)});this.statusBarEnabled_||(this.oldDragger_=new Um(this.$["resizer-thumb"]),this.handler_.listen(this.oldDragger_,"drag",function(b){return a.handleDrag_(b)}),this.handler_.listen(this.oldDragger_,"end",function(b){return a.handleDragEnd_(b)}),this.handler_.listen(this.$["resizer-thumb"],
"dblclick",function(){return a.onDoubleClick_()}))},detached:function(){this.handler_.removeAll()},handleDrag_:function(a){this.dragging_=!0;this.open({setHeight:!1});var b=this.getBoundingClientRect(),c=this.parentElement.getBoundingClientRect();a=c.height-(c.bottom-b.bottom)-a.top;b=this.$["bottompane-header"].getBoundingClientRect().height;this.contents_.style.height=a+"px";this.$$("colab-shaded-scroller").style.height=a-b+"px"},handleDragEnd_:function(){this.dragging_=!1;50>this.contents_.getBoundingClientRect().height&&
this.close()},addTab:function(a){this.currentRenderedTabNames&&(this.currentRenderedTabNames.includes(a)?(a=this.getSlottedElement_(this.currentRenderedTabNames.indexOf(a)))&&Polymer.dom(Polymer.dom(a).parentNode).removeChild(a):(this.push("currentRenderedTabNames",a),this.push("tabTitles",aO[a])))},updateUi_:function(a,b){a&&this.currentRenderedTabNames&&this.currentRenderedTabNames.length&&b<this.currentRenderedTabNames.length&&(a=this.getSlottedElement_(b))&&a.show&&a.show()},getSlottedElement_:function(a){if(my&&
ny){if((a=this.$$("#"+this.currentRenderedTabNames[a]))&&a.assignedNodes().length)return a.assignedNodes()[0]}else if(a=this.getContentChildren("#"+this.currentRenderedTabNames[a]),a.length)return a[0]},open:function(a){var b=void 0===a?{}:a,c=void 0===b.tabName?null:b.tabName;a=void 0===b.setHeight?!0:b.setHeight;b=void 0===b.recalculateHeight?!0:b.recalculateHeight;c&&(this.selected=this.tabTitles.indexOf(c));if(!this.isOpen_){c=this.lastHeight_;var d=this.parentElement.getBoundingClientRect().height;
if(0<=this.selected){var e=this.$.pages;if(!c||b)(b=e.getBoundingClientRect().height)?c=this.$["bottompane-header"].offsetHeight+b:c=d/4,c>d/2&&(c=d/2)}20>c&&(c=d/4);this.isOpen_=!0;a&&(this.contents_.style.height=c+"px")}},close:function(){this.isOpen_&&(this.lastHeight_=this.contents_.getBoundingClientRect().height,this.contents_.style.height="",this.isOpen_=!1,this.dispatchEvent(new Event("closed")))},isOpen:function(){return this.isOpen_},onFocus_:function(){this.isOpen_||this.open()},onDoubleClick_:function(){this.isOpen_?
this.close():this.open({recalculateHeight:!1})}});var aO={FIND:"Find/Replace",HELP:"Help",HISTORY:"History",RUNTIME:"Runtime"};var bO=function(a,b,c){var d=c.label,e=c.validator;c=c.options;M.call(this);this.key=a;this.label=d;this.value_=this.defaultValue_=b;this.validator=e;this.options=c?c:null;this.isEnabled_=!0};t(bO,M);bO.prototype.setValue=function(a){this.value_=a};bO.prototype.getValue=function(){return this.isDisabled()?this.defaultValue_:this.value_};var cO=function(a){return a.isDisabled()?null:a.value_};bO.prototype.setEnabled=function(a){this.isEnabled_=a};
bO.prototype.isDisabled=function(){return!this.isEnabled_||Nz.isPreferenceDisabled(this.key)};bO.prototype.set=function(a){var b=null;try{b=this.validator?this.validator(this,a):a}catch(c){console.log("Received invalid value: ",a);return}this.getValue()!=b&&(a=this.getValue(),this.value_=b,this.triggerUpdate(a))};bO.prototype.triggerUpdate=function(a){null!=a&&this.dispatchEvent(new dO(this.key,a,this.getValue()))};
var eO=function(a,b){a=a.options||[];b=Pa(a[0])?Number(b):String(b);if(-1==a.indexOf(b))throw Error("Invalid value");return b},fO=function(a,b){if(void 0==b)throw Error("Invalid value");var c=document.createElement("span");c.style.fontSize="inherit";c.style.fontSize=String(b);if("inherit"==c.style.fontSize)throw Error("Invalid value");return c.style.fontSize||String(a.defaultValue_)},gO=function(a,b){if(!1===b||!0===b)return b;throw Error("Invalid value");},hO=function(a,b){if(String(Math.round(Number(b)))===
String(b))return Number(b);throw Error("Invalid value");},iO=function(a,b){if("string"===typeof b)return b.split(/\s+/).filter(function(c){return c}).map(function(c){return(new URL(c)).toString()}).join("\n");throw Error("Invalid value");},jO=function(a,b){b=String(b);b=b.trim();b=b.replace(/^\/*/,"");return b=b.replace(/\/*$/,"")},dO=function(a,b,c){K.call(this,"change");this.key=a;this.oldValue=b;this.newValue=c};t(dO,K);
var kO=function(a){bO.call(this,"shortcut_"+Re(a.id),a.shortcut_,{label:aE(a),validator:function(b,c){return String(c)}});this.command=a;this.triggerUpdate(null)};t(kO,bO);
kO.prototype.triggerUpdate=function(a){var b=this.command;var c=String(this.getValue());c=c==this.command.shortcut_?c:Jf&&c.startsWith("Ctrl")?"\u2318/"+c:!Jf&&c.startsWith("\u2318")?c.replace("\u2318/Ctrl","Ctrl").replace("\u2318","Ctrl"):c;b.shortcut_==c?b.overriddenShortcut_=null:b.overriddenShortcut_=c;bO.prototype.triggerUpdate.call(this,a)};var lO=function(a,b){M.call(this);var c=this;this.preference_=a;this.powerMode_=b;this.listenKey_=a.listen("change",function(d){return c.prefsChanged(d)})};t(lO,M);lO.prototype.prefsChanged=function(){};lO.prototype.disposeInternal=function(){ik(this.preference_.eventTargetListeners_,this.listenKey_);M.prototype.disposeInternal.call(this)};lO.prototype.handleKeyUp=function(){this.powerMode_.onKeyUp()};
var mO=function(a,b,c){lO.call(this,b,c);this.monacoKeyUpListener_=this.monacoContentChangeListener_=null;this.monaco_=a;this.prefsChanged(new dO(b.key,"No power",c.powerLevel))};t(mO,lO);
mO.prototype.prefsChanged=function(a){var b=this;a.newValue!=a.oldValue&&(lO.prototype.prefsChanged.call(this,a),"No power"==a.oldValue?(this.monacoContentChangeListener_=this.monaco_.onDidChangeModelContent(function(c){if(!c.isUndoing&&!c.isRedoing){var d=[];c=q(c.changes);for(var e=c.next();!e.done;e=c.next())if(e=e.value,e.text.length){var f=b.monaco_.getScrolledVisiblePosition(new monaco.Position(e.range.endLineNumber,e.range.endColumn));d.push({text:e.text,left:f.left,top:f.top})}ZN(b.powerMode_,
d,b.monaco_.getDomNode())}}),this.monacoKeyUpListener_=this.monaco_.onKeyUp(function(){b.handleKeyUp()})):"No power"==a.newValue&&nO(this))};mO.prototype.disposeInternal=function(){nO(this);lO.prototype.disposeInternal.call(this)};
var nO=function(a){a.monacoContentChangeListener_&&(a.monacoContentChangeListener_.dispose(),a.monacoContentChangeListener_=null);a.monacoKeyUpListener_&&(a.monacoKeyUpListener_.dispose(),a.monacoKeyUpListener_=null)},oO=function(a,b,c){lO.call(this,b,c);this.boundHandleCodeMirrorEditorChanges_=this.handleCodeMirrorEditorChanges_.bind(this);this.boundHandleKeyUp_=this.handleKeyUp.bind(this);this.codeMirror_=a;this.prefsChanged(new dO(b.key,"No power",c.powerLevel))};t(oO,lO);
oO.prototype.prefsChanged=function(a){a.newValue!=a.oldValue&&(lO.prototype.prefsChanged.call(this,a),"No power"==a.oldValue?(this.codeMirror_.on("changes",this.boundHandleCodeMirrorEditorChanges_),this.codeMirror_.on("keyup",this.boundHandleKeyUp_)):"No power"==a.newValue&&(this.codeMirror_.off("changes",this.boundHandleCodeMirrorEditorChanges_),this.codeMirror_.off("keyup",this.boundHandleKeyUp_)))};
oO.prototype.handleCodeMirrorEditorChanges_=function(a,b){var c=this,d=[];b.filter(function(e){return"+input"===e.origin}).forEach(function(e){var f=c.codeMirror_.cursorCoords(e.to,"window");d.push({text:e.text,left:f.left+(f.right-f.left)/2,top:f.top+(f.bottom-f.top)/2})});ZN(this.powerMode_,d,document.body)};var pO={AUTOCOLLAPSE_MAX_CELLS:"autocollapseMaxCells",AUTOCOLLAPSE_MAX_CODE_CELLS:"autocollapseMaxCodeCells",AUTOCOLLAPSE_SHOW_FIRST_N_CELLS:"autocollapseShowFirstNCells",AUTO_CLOSE_BRACKETS:"autoCloseBrackets",COLLAPSIBLE_SECTIONS_PERSIST_ON_SAVE:"collapsibleSectionsPersistOnSave",CONNECT_LOCAL_DEFAULT_PORT:"connectLocalDefaultPort",CORGI_MODE:"corgiMode",CUSTOM_SNIPPET_URLS:"customSnippetURLs",EDITOR_FONT_SIZE:"editorFontSize",EDITOR_KEY_MAP:"editorKeyMap",EDITOR_LINE_HEIGHT:"editorLineHeight",
EDITOR_AUTO_TRIGGER_COMPLETIONS:"editorAutoTriggerCompletions",HEADER_VISIBLE:"headerVisible",INDENT_NUM_SPACES:"indentNumSpaces",MARKDOWN_PREVIEW_BELOW:"markdownPreviewBelow",MARKDOWN_PREVIEW_VISIBLE:"markdownPreviewVisible",MULTICURSOR_ENABLED:"multicursorEnabled",PIPER_DEFAULT_SAVE_DIRECTORY:"piperDefaultSaveDirectory",POWER_LEVEL:"powerLevel",PROMPTED_FOR_DRIVE_INSTALL:"promptedForDriveInstall",PRIVATE_OUTPUTS_ENABLED_BY_DEFAULT:"privateOutputsEnabledByDefault",RUN_BEFORE_INCLUSIVE:"runBeforeInclusive",
SHOW_LINE_NUMBERS:"showLineNumbers",SHOW_RULER_AT:"showRulerAt",SLIDES_ANIMATION:"slidesAnimation",SURVEY_LAST_SHOW:"surveyLastShow",SURVEY_LAST_INTERACTION:"surveyLastInteraction",THEME:"siteTheme",GITHUB_REQUEST_FULL_OAUTH_SCOPE:"gitHubRequestFullOAuthScope",OBSOLETE_MARKDOWN_FONT_SIZE:"markdownFontSize"};var tO=function(){M.call(this);var a=this;this.properties=new Map;this.generalSettings=[];this.fontSizeSettings=[];this.keyboardShortcuts=[];this.localStorage_=new Iw(qO());this.driveSaveDebouncer_=new xK(function(){return a.saveToDrive_()},{intervalMillis:100});this.isClosed_=!1;this.preferencesFileId_=null;this.AUTOCOLLAPSE_MAX_CELLS=new bO("autocollapseMaxCells",60,{label:"Collapse sections if number of cells exceeds",validator:hO});rO(this,this.AUTOCOLLAPSE_MAX_CELLS);this.CONNECT_LOCAL_DEFAULT_PORT=
new bO("connectLocalDefaultPort",8888,{label:"",validator:hO});rO(this,this.CONNECT_LOCAL_DEFAULT_PORT);this.AUTOCOLLAPSE_MAX_CODE_CELLS=new bO("autocollapseMaxCodeCells",30,{label:"Collapse sections if number of code cells exceeds",validator:hO});rO(this,this.AUTOCOLLAPSE_MAX_CODE_CELLS);this.AUTOCOLLAPSE_SHOW_FIRST_N_CELLS=new bO("autocollapseShowFirstNCells",15,{label:"Number of cells on the top to keep expanded",validator:hO});rO(this,this.AUTOCOLLAPSE_SHOW_FIRST_N_CELLS);this.EDITOR_FONT_SIZE=
new bO("editorFontSize","13px",{label:"Code & editor",validator:fO});rO(this,this.EDITOR_FONT_SIZE,this.fontSizeSettings);var b=["light","dark"];if(window.matchMedia("(prefers-color-scheme: dark)").matches||window.matchMedia("(prefers-color-scheme: light)").matches)b.push("adaptive"),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){a.dispatchEvent(new Event("change"))}),window.matchMedia("(prefers-color-scheme: light)").addListener(function(){a.dispatchEvent(new Event("change"))});
this.SITE_THEME=new bO("siteTheme","light",{label:"Theme",validator:eO,options:b});rO(this,this.SITE_THEME,this.generalSettings);b=["default"];Zx&&ky&&b.push("vim");Zx&&ly&&b.push("emacs");Zx||(b.push("emacs"),b.push("sublime"),b.push("vim"));this.EDITOR_KEY_MAP=new bO("editorKeyMap","default",{label:"Editor key bindings",validator:eO,options:b});this.EDITOR_KEY_MAP.setEnabled(!Zx||ky||ly);rO(this,this.EDITOR_KEY_MAP,this.generalSettings);this.INDENT_NUM_SPACES=new bO("indentNumSpaces",2,{label:"Indentation width in spaces",
validator:eO,options:[2,4]});rO(this,this.INDENT_NUM_SPACES,this.generalSettings);this.EDITOR_LINE_HEIGHT=new bO("editorLineHeight","108%",{label:"Line Height",validator:fO});rO(this,this.EDITOR_LINE_HEIGHT,this.generalSettings);this.SHOW_LINE_NUMBERS=new bO("showLineNumbers",!1,{label:"Show line numbers",validator:gO});rO(this,this.SHOW_LINE_NUMBERS,this.generalSettings);this.EDITOR_AUTO_TRIGGER_COMPLETIONS=new bO("editorAutoTriggerCompletions",!0,{label:"Automatically trigger code completions",
validator:gO});this.EDITOR_AUTO_TRIGGER_COMPLETIONS.setEnabled(Zx);rO(this,this.EDITOR_AUTO_TRIGGER_COMPLETIONS,this.generalSettings);this.AUTO_CLOSE_BRACKETS=new bO("autoCloseBrackets",!0,{label:"Automatically close brackets and quotes in code cells",validator:gO});rO(this,this.AUTO_CLOSE_BRACKETS,this.generalSettings);this.MULTICURSOR_ENABLED=new bO("multicursorEnabled",!1,{label:"Enable CodeMirror Multicursor",validator:gO});rO(this,this.MULTICURSOR_ENABLED,this.generalSettings);this.SHOW_RULER_AT=
new bO("showRulerAt",80,{label:"Vertical ruler column",validator:hO});rO(this,this.SHOW_RULER_AT,this.generalSettings);this.HEADER_VISIBLE=new bO("headerVisible",!0,{label:"Show header",validator:gO});rO(this,this.HEADER_VISIBLE);this.MARKDOWN_PREVIEW_BELOW=new bO("markdownPreviewBelow",!1,{label:"Show Markdown preview below editor (defaults to beside)",validator:gO});rO(this,this.MARKDOWN_PREVIEW_BELOW);this.MARKDOWN_PREVIEW_VISIBLE=new bO("markdownPreviewVisible",!0,{label:"Markdown Preview Visible",
validator:gO});rO(this,this.MARKDOWN_PREVIEW_VISIBLE);this.RUN_BEFORE_INCLUSIVE=new bO("runBeforeInclusive",!1,{label:"Run Before is inclusive",validator:gO});rO(this,this.RUN_BEFORE_INCLUSIVE,this.generalSettings);this.PRIVATE_OUTPUTS_ENABLED_BY_DEFAULT=new bO("privateOutputsEnabledByDefault",!1,{label:"New notebooks use private outputs (omit outputs when saving)",validator:gO});rO(this,this.PRIVATE_OUTPUTS_ENABLED_BY_DEFAULT,this.generalSettings);this.COLLAPSIBLE_SECTIONS_PERSIST_ON_SAVE=new bO("collapsibleSectionsPersistOnSave",
!0,{label:"Persist collapsible section state when saving notebook",validator:gO});rO(this,this.COLLAPSIBLE_SECTIONS_PERSIST_ON_SAVE,this.generalSettings);this.GITHUB_REQUEST_FULL_OAUTH_SCOPE=new bO("gitHubRequestFullOAuthScope",!1,{label:"Request GitHub access to view and edit private repositories and organizations",validator:gO});rO(this,this.GITHUB_REQUEST_FULL_OAUTH_SCOPE,this.generalSettings);this.PIPER_DEFAULT_SAVE_DIRECTORY=new bO("piperDefaultSaveDirectory","google3/experimental/users/"+(RD.getUsername()||
"someuser"),{label:"Piper Directory",validator:jO});rO(this,this.PIPER_DEFAULT_SAVE_DIRECTORY);this.SLIDES_ANIMATION=new bO("slidesAnimation","slide",{label:"",validator:eO,options:"slide fade zoom convex concave none".split(" ")});rO(this,this.SLIDES_ANIMATION);this.PROMPTED_FOR_DRIVE_INSTALL=new bO("promptedForDriveInstall",!1,{label:"",validator:gO});rO(this,this.PROMPTED_FOR_DRIVE_INSTALL);this.CUSTOM_SNIPPET_URLS=new bO("customSnippetURLs","",{label:"Custom snippet notebook URL",validator:iO});
rO(this,this.CUSTOM_SNIPPET_URLS,this.generalSettings);this.SURVEY_LAST_SHOW=new bO("surveyLastShow",-1,{label:"",validator:hO});rO(this,this.SURVEY_LAST_SHOW);this.POWER_LEVEL=new bO("powerLevel","No power",{label:"Power Level",validator:eO,options:["No power","Some power","Many power (use with caution)"]});rO(this,this.POWER_LEVEL,this.generalSettings);this.CORGI_MODE=new bO("corgiMode",!1,{label:"Corgi Mode",validator:gO});rO(this,this.CORGI_MODE,this.generalSettings);this.SURVEY_LAST_INTERACTION=
new bO("surveyLastInteraction",-1,{label:"",validator:hO});rO(this,this.SURVEY_LAST_INTERACTION);wE.forEach(function(c){c=new kO(c);rO(a,c);a.keyboardShortcuts.push(c)});sO(this);this.properties.forEach(function(c){c.addEventListener("change",function(d){a.save_(c);a.dispatchEvent(d)})})};t(tO,M);var qO=function(){try{return window.localStorage}catch(a){return null}};
tO.prototype.load=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,uO(a),2);if(b=c.yieldResult)return vO(a),c.return();x(c)})};
var vO=function(a){var b=cO(a.EDITOR_AUTO_TRIGGER_COMPLETIONS),c=wO(a),d=xO(a),e=a.CUSTOM_SNIPPET_URLS.isDisabled()?null:!!a.CUSTOM_SNIPPET_URLS.getValue();a:switch(cO(a.POWER_LEVEL)){case "Some power":var f=1;break a;case "Many power (use with caution)":f=2;break a;default:f=null}a=cO(a.CORGI_MODE);b={autoCompletions:b,keyBindings:c,customSnippets:e,theme:d,powerMode:f,corgiMode:a};Object.values(b).some(function(g){return null!==g})&&iJ(b)},wO=function(a){switch(cO(a.EDITOR_KEY_MAP)){case "default":return 1;
case "emacs":return 2;case "sublime":return 3;case "vim":return 4;default:return null}},xO=function(a){switch(cO(a.SITE_THEME)){case "adaptive":return 3;case "dark":return 2;case "light":return 1;default:return 0}},yO=function(a){return"adaptive"==a.SITE_THEME.getValue()?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a.SITE_THEME.getValue()},rO=function(a,b,c){a.properties.set(b.key,b);c&&c.push(b)};tO.prototype.save_=function(){zO(this);zK(this.driveSaveDebouncer_)};
var AO=function(a){var b={};a.properties.forEach(function(c){c.getValue()!=c.defaultValue_&&(b[c.key]=c.getValue())});return b},BO=function(a,b){a.properties.forEach(function(c){var d=c.key;void 0!=b[d]?c.set(b[d]):c.set(c.getValue())})},zO=function(a){if(Jw(a.localStorage_)){var b=AO(a);b=JSON.stringify(b);a.localStorage_.set(RD.StorageKey.PREFS,b)}};tO.prototype.close=function(){this.isClosed_=!0};
tO.prototype.saveToDrive_=function(){var a=this,b,c,d,e;return B(function(f){switch(f.nextAddress){case 1:if(a.isDisposed()||a.isClosed_||tJ())return f.return();y(f,2);if(a.preferencesFileId_){f.jumpTo(4);break}b=a;return u(f,MJ("preferences.json",{prompt:!0,create:!0}),5);case 5:b.preferencesFileId_=f.yieldResult;case 4:return c=AO(a),d=JSON.stringify(c),u(f,GJ({data:d,metadata:{name:"preferences.json"},fileId:a.preferencesFileId_,retry:!0}),6);case 6:va(f,0);break;case 2:e=z(f);console.warn("Saving preferences to app data failed",
e);if(a.isDisposed()||a.isClosed_)return f.return();bJ(e);throw e;}})};
var uO=function(a){var b,c,d;return B(function(e){switch(e.nextAddress){case 1:y(e,2);if(a.preferencesFileId_){e.jumpTo(4);break}b=a;return u(e,MJ("preferences.json",{prompt:!1,create:!1}),5);case 5:b.preferencesFileId_=e.yieldResult;case 4:return a.preferencesFileId_?u(e,HJ(a.preferencesFileId_,void 0,{retry:!0}),6):e.return(!1);case 6:c=e.yieldResult;if(!c)return e.return(!1);BO(a,c);return e.return(!0);case 2:return d=z(e),console.warn("Error loading preferences from Drive: "+d),e.return(!1)}})},
sO=function(a){var b=CO(RD.StorageKey.PREFS);BO(a,b);zO(a)},CO=function(a){var b=new Iw(qO());if(Jw(b)&&(a=b.get(a)))try{return JSON.parse(a)}catch(c){}return{}},DO=function(a,b){var c=new Iw(qO());if(Jw(c)){var d=RD.StorageKey.LOCAL_STORE,e=CO(d);e[a]=b;c.set(d,JSON.stringify(e))}},EO=function(){var a=CO(RD.StorageKey.LOCAL_STORE).terminated_sessions;return Za(a)?a:[]},FO=function(a){var b=jb();a={sessionId:a,terminated:b};try{var c=EO().filter(function(d){return 864E5>b-d.terminated});c.push(a);
DO("terminated_sessions",c)}catch(d){bJ(d),DO("terminated_sessions",[a])}},GO=function(a){try{return-1!=EO().findIndex(function(b){return b.sessionId==a})}catch(b){return bJ(b),!1}};var HO=function(a,b,c){this.cells_=a;this.model_=b;this.undoStack_=[];this.redoStack_=[];this.removalHandler_=(void 0===c?null:c)||{conserve:function(d){return d},restore:function(d){return d}}},IO=function(a,b){var c=a.removalHandler_.conserve(b);a.cells_.removeValue(b);return c},JO=function(a,b,c){c=a.removalHandler_.restore(c);a.cells_.insert(b,c);return c},KO=function(a,b){return 0===b?null:a.cells_.get(b-1)},MO=function(a){if(0!=a.undoStack_.length)return LO(a.undoStack_[a.undoStack_.length-
1])},OO=function(a){if(0!=a.redoStack_.length)return NO(a.redoStack_[a.redoStack_.length-1])},QO=function(a,b,c,d,e){var f=d;e=e||0;var g=null;switch(b){case "insert":JO(a,e,d);g=KO(a,e);break;case "delete":g=KO(a,a.cells_.indexOf(d));f=IO(a,d);break;case "move":g=KO(a,a.cells_.indexOf(d)),d=a.cells_.indexOf(d),a.cells_.move(d,e>d?e+1:e)}a.redoStack_=[];a.undoStack_.push(new PO(b,f,g,c))},SO=function(a,b,c){var d=c.length;d&&(a.model_.beginCompoundOperation("move cells",!1),(a.cells_.indexOf(c[0])<
b?Cb:Db)(c,function(e){QO(a,"move","move cells",e,b)}),RO(a,d),a.model_.endCompoundOperation())},TO=function(a,b,c){a.model_.beginCompoundOperation("insert cells",!1);var d=c.length;Db(c,function(e){QO(a,"insert","insert cells",e,b)});RO(a,d);a.model_.endCompoundOperation()},UO=function(a,b){a.model_.beginCompoundOperation("delete cells",!1);var c=b.length;b=q(b);for(var d=b.next();!d.done;d=b.next())QO(a,"delete","delete cells",d.value);RO(a,c);a.model_.endCompoundOperation()},RO=function(a,b){b>
a.undoStack_.length&&(b=a.undoStack_.length);for(var c=a.undoStack_.length-b;c<a.undoStack_.length;c++)a.undoStack_[c].numCompounded=b},VO=function(a,b,c,d){d=void 0===d?!1:d;var e=b.pop();if(e)if(1<e.numCompounded&&!d)for(b.push(e),d=0;d<e.numCompounded;d++)VO(a,b,c,!0);else{b=e.type;d=e.anchor;if("move"===e.type){if(!e.cell||-1===a.cells_.indexOf(e.cell)){Y({message:"Cannot undo/redo the last action because of remote notebook modifications."});return}if(e.anchor&&-1===a.cells_.indexOf(e.anchor)){Y({message:"Cannot undo/redo the last action because of remote notebook modifications."});
return}var f=a.cells_.indexOf(e.cell);d=a.cells_.indexOf(e.anchor);var g=0<=d?f<=d?d:d+1:0;d=KO(a,f);a.cells_.move(f,g>f?g+1:g)}else b="insert"===e.type?"delete":"insert","delete"===b?e.cell=IO(a,e.cell):"insert"==b?(f=e.anchor?a.cells_.indexOf(e.anchor)+1:0,e.cell=JO(a,f,e.cell)):(f=e.anchor?a.cells_.indexOf(e.anchor)+1:0,JO(a,f,e.cell));c.push(new PO(b,e.cell,d,e.description,e.numCompounded))}};
HO.prototype.undo=function(){this.model_.beginCompoundOperation("undo",!1);VO(this,this.undoStack_,this.redoStack_);this.model_.endCompoundOperation()};HO.prototype.redo=function(){this.model_.beginCompoundOperation("redo",!1);VO(this,this.redoStack_,this.undoStack_);this.model_.endCompoundOperation()};
var PO=function(a,b,c,d,e){this.type=a;this.cell=b;this.anchor=c;this.numCompounded=void 0===e?0:e;this.description=d},LO=function(a){switch(a.description){case "delete":return"Undo delete cell";case "delete cells":return"Undo delete "+(a.numCompounded+" cells");case "move":return"Undo move cell";case "move cells":return"Undo move "+(a.numCompounded+" cells");case "cell conversion":return"Undo cell conversion";case "insert":return"Undo insert cell";case "insert cells":return"Undo insert "+(a.numCompounded+
" cells");case "split cell":return"Undo split cell";case "merge cell":return"Undo merge cell";default:return"Undo"}},NO=function(a){switch(a.description){case "delete":return"Redo delete cell";case "delete cells":return"Redo delete "+(a.numCompounded+" cells");case "move":return"Redo move cell";case "move cells":return"Redo move "+(a.numCompounded+" cells");case "cell conversion":return"Redo cell conversion";case "insert":return"Redo insert cell";case "insert cells":return"Redo insert "+(a.numCompounded+
" cells");case "split cell":return"Redo split cell";case "merge cell":return"Redo merge cell";default:return"Redo"}};var XO=function(a){var b=this;this.context_=new WO;this.port_=a;this.port_.onmessage=function(c){b.handleMessage_(c.data)};this.requests_=new Map;this.nextRequestId_=1};XO.prototype.invoke=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];d=this.nextRequestId_++;var e=Tk();this.requests_.set(d,e);this.port_.postMessage({id:d,method:a,args:c,action:"invoke"});return e.promise};
XO.prototype.handleMessage_=function(a){switch(a.action){case "invoke":YO(this,a);break;case "result":this.handleResponse_(a);break;default:throw Error("Unknown message action: "+a.action);}};
var YO=function(a,b){(new Ik(function(c){var d=a.context_[b.method];if(!d)throw Error("Invoke cannot find '"+b.method+"'");c(d.apply(a.context_,b.args))})).then(function(c){a.port_.postMessage({result:c,action:"result",id:b.id})},function(c){try{a.port_.postMessage({action:"result",id:b.id,error:c})}catch(d){a.port_.postMessage({action:"result",id:b.id,error:String(c)})}c?console.warn("handleInvoke_: error name: "+(c.name||"")+" "+("type: "+(c.type||"")+" msg: "+(c.message||"")+" stack: "+(c.stack||
"").slice(1500))):console.warn("handleInvoke_: rejected with no no rejectionReason")})};XO.prototype.handleResponse_=function(a){var b=this.requests_.get(a.id);if(!b)throw Error("Response for unknown request: "+a.id);this.requests_.delete(a.id);a.error?b.reject(a.error):b.resolve(a.result)};XO.prototype.clear=function(a){for(var b=q(this.requests_.values()),c=b.next();!c.done;c=b.next())c.value.reject(a);this.requests_.clear()};var WO=function(){};WO.prototype.getDriveAuthComponents=function(){return jI()};WO.prototype.getDriveAuthComponents=WO.prototype.getDriveAuthComponents;var ZO=function(){M.call(this);this.worker_=new Worker(XD.WORKER_BINARY_PATH);this.messageChannel_=new MessageChannel;this.worker_.postMessage("configure",[this.messageChannel_.port2]);this.protocol_=new XO(this.messageChannel_.port1);this.worker_.addEventListener("error",function(a){return pj(a)})};t(ZO,M);ZO.prototype.loadSnippets=function(a,b){var c=this;b=void 0===b?{}:b;return this.protocol_.invoke("loadSnippets",a.toString(),a.source,b).then(function(d){c.dispatchEvent("snippets_changed");return d})};
var $O=function(a,b){b=b.map(function(c){return{id:c.toString(),source:c.source}});return a.protocol_.invoke("loadSnippetsSequentially",b).then(function(c){a.dispatchEvent("snippets_changed");return c})};ZO.prototype.terminate=function(){this.protocol_.clear(Error("worker terminated"));this.worker_.terminate()};ZO.prototype.filterSnippets=function(a){return this.protocol_.invoke("filterSnippets",a)};var aP=null,bP=function(){this.notebookModel=this.notebook=null},MM=function(){aP||(aP=new bP);return aP};bP.prototype.close=function(a,b){this.notebook&&(this.notebook.dispose(),this.notebook=null);this.notebookModel?this.notebookModel.close(a,b):b&&b()};var cP=function(){MM().close(!0,function(){window.location.reload()})};kb("reloadNotebook",cP);kb("colab.realtimeJSON_",function(){return JSON.stringify(MM().notebookModel.getModel().toJson())});kb("colab.global",MM());var dP=function(a,b,c){var d=c.triggerCharacters,e=c.signatureHelpTriggerCharacters;c=c.signatureHelpRetriggerCharacters;this.kernel=a;this.executionQueue=b;this.triggerCharacters=d;this.signatureHelpTriggerCharacters=e;this.signatureHelpRetriggerCharacters=c;this.autoTriggerCompletions_=!0},eP=function(a,b,c){return a.executionQueue.enqueue(function(){return B(function(d){if(b.isCancellationRequested)throw new CH;if(!a.kernel.isConnected())throw new lC("Not connected.");return d.return(c())})})};var fP=function(){this.triggerCharacters=[]};fP.prototype.provideCompletionItems=function(a,b){var c,d,e,f;return B(function(g){c=a.getWordAtPosition(b);if(!c)return g.return({incomplete:!1,suggestions:[],dispose:function(){}});d=c.word;e=gP.filter(function(h){return h.startsWith(d)});f=e.map(function(h){return{label:h,kind:monaco.languages.CompletionItemKind.Keyword,insertText:h}});return g.return({incomplete:!0,suggestions:f,dispose:function(){}})})};
fP.prototype.resolveCompletionItem=function(a,b,c){return B(function(d){return d.return(c)})};var gP="ALL;AND;ANY;APPLY;ARRAY;AS;ASC;ASSERT_ROWS_MODIFIED;AT;BETWEEN;BY;CASE;CAST;CLUSTER BY;COLLATE;CONTAINS;CREATE OR REPLACE TABLE;CREATE OR REPLACE VIEW;CREATE TABLE IF NOT EXISTS;CREATE TABLE;CREATE TEMP FUNCTION;CREATE TEMPORARY FUNCTION;CREATE VIEW IF NOT EXISTS;CREATE VIEW;CREATE;CROSS;CUBE;CURRENT;DEFAULT;DEFINE;DELETE;DESC;DISTINCT;DROP TABLE IF EXISTS;DROP TABLE;DROP VIEW;ELSE;END;ENUM;ESCAPE;EXCEPT;EXCLUDE;EXISTS;EXTRACT;FALSE;FETCH;FOLLOWING;FOR;FROM;FULL;FUNCTION;GROUP BY;GROUPING;GROUPS;HASH;HAVING;IF;IGNORE;IN;INNER;INSERT;INTERSECT;INTERVAL;INTO;IS;JOIN;LANGUAGE;LATERAL;LEFT;LIKE;LIMIT;LOOKUP;MATCHED;MERGE;NATURAL;NEW;NO;NOT;NULL;NULLS;OF;OFFSET;ON;OPTIONS;OR;ORDER;OUTER;OVER;PARTITION BY;PIVOT;PRECEDING;PROTO;RANGE;RECURSIVE;RESPECT;RETURNS;RIGHT;ROLLUP;ROWS;SELECT;SET;SOME;STRUCT;TABLESAMPLE;TEMPORARY;THEN;TO;TREAT;TRUE;UNBOUNDED;UNION;UNNEST;UNPIVOT;UPDATE;USING;VALUES;WHEN;WHERE;WINDOW;WITH;WITHIN".split(";");
gP.push.apply(gP,gP.map(function(a){return a.toLowerCase()}));var hP=function(){this.autoFormatTriggerCharacters=[];this.providers_=new Map};hP.prototype.add=function(a){for(var b=q(a.autoFormatTriggerCharacters),c=b.next();!c.done;c=b.next())c=c.value,this.autoFormatTriggerCharacters.push(c),this.providers_.set(c,a)};hP.prototype.provideOnTypeFormattingEdits=function(a,b,c,d,e){var f=this.providers_.get(c);if(f)return f.provideOnTypeFormattingEdits(a,b,c,d,e)};var iP=function(){this.autoFormatTriggerCharacters=["\u201c","\u201d","\u2018","\u2019"]};iP.prototype.provideOnTypeFormattingEdits=function(a,b,c){return[{range:{startLineNumber:b.lineNumber,startColumn:b.column-1,endLineNumber:b.lineNumber,endColumn:b.column},text:0<="\u201c\u201d".indexOf(c)?'"':"'"}]};var jP=function(){this.autoFormatTriggerCharacters=["\n"]};
jP.prototype.provideOnTypeFormattingEdits=function(a,b){var c=a.getLineContent(b.lineNumber-1).trim();if(c.endsWith(",")){a=a.getLineContent(b.lineNumber-1);c=-1;for(var d=0,e=a.length-1;0<=e;--e){var f=a[e];if(")"==f)++d;else if("("==f&&(--d,0>d)){c=e;break}}-1!=c?(a=Array(c-(b.column-1)+1).fill(" ").join(""),b=[{range:monaco.Range.fromPositions(b,b),text:a}]):b=void 0;return b}if(c.endsWith(")")){a:{if(c=a.findPreviousMatch(")",b,!1,!0,null,!1))if(c=a.matchBracket(c.range.getStartPosition())){c=
a.getLineFirstNonWhitespaceColumn(c[1].startLineNumber);a=a.normalizeIndentation(Array(c-1).fill(" ").join(""));b=[{range:monaco.Range.fromPositions({column:1,lineNumber:b.lineNumber},b),text:a}];break a}b=void 0}return b}if(c.endsWith("(")||c.endsWith("{"))return a=a.normalizeIndentation("    "),[{range:monaco.Range.fromPositions(b,b),text:a}]};/*

 The MIT License (MIT)

 Copyright (c) Microsoft Corporation

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
var kP={comments:{lineComment:"#",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},lP={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},
{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:"ALL;AND;ANY;ARRAY;AS;ASC;ASSERT_ROWS_MODIFIED;AT;BETWEEN;BY;CASE;CAST;COLLATE;CREATE;CUBE;CURRENT;DEFAULT;DEFINE;DESC;DISTINCT;ELSE;END;ENUM;ESCAPE;EXCEPT;EXCLUDE;EXISTS;EXTRACT;FALSE;FETCH;FOLLOWING;FOR;FUNCTION;GROUPING;GROUPS;HASH;IF;IGNORE;IN;INTERSECT;INTERVAL;INTO;IS;LANGUAGE;LATERAL;LIKE;LOOKUP;MERGE;NATURAL;NEW;NOT;NULL;NO;NULLS;OF;OR;ORDER;OVER;PRECEDING;PROTO;RANGE;RECURSIVE;RESPECT;RETURNS;ROLLUP;ROWS;SET;SOME;STRUCT;TABLESAMPLE;TEMPORARY;THEN;TO;TREAT;TRUE;UNBOUNDED;UNION;UNNEST;WHEN;WITHIN;SELECT;FROM;JOIN;ON;USING;WHERE;HAVING;LIMIT;OFFSET;WITH;WINDOW;DELETE;INSERT;UPDATE;MERGE;SET;VALUES;CLUSTER BY;OPTIONS".split(";"),
operators:"ALL AND ANY BETWEEN EXISTS IN LIKE NOT OR SOME EXCEPT INTERSECT UNION APPLY CROSS FULL INNER JOIN LEFT OUTER RIGHT CONTAINS FREETEXT IS PIVOT UNPIVOT MATCHED".split(" "),builtinVariables:"@@DATEFIRST @@DBTS @@LANGID @@LANGUAGE @@LOCK_TIMEOUT @@MAX_CONNECTIONS @@MAX_PRECISION @@NESTLEVEL @@OPTIONS @@REMSERVER @@SERVERNAME @@SERVICENAME @@SPID @@TEXTSIZE @@VERSION @@CURSOR_ROWS @@FETCH_STATUS @@DATEFIRST @@PROCID @@ERROR @@IDENTITY @@ROWCOUNT @@TRANCOUNT @@CONNECTIONS @@CPU_BUSY @@IDLE @@IO_BUSY @@PACKET_ERRORS @@PACK_RECEIVED @@PACK_SENT @@TIMETICKS @@TOTAL_ERRORS @@TOTAL_READ @@TOTAL_WRITE".split(" "),
pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],variableFollows:["as","with"],escapes:/\\(?:[abfnrtv\\"'?]|[0-9]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/INNER JOIN/,"keyword"],[/CROSS JOIN/,"keyword"],[/FULL OUTER JOIN/,"keyword"],[/FULL JOIN/,"keyword"],
[/LEFT OUTER JOIN/,"keyword"],[/LEFT JOIN/,"keyword"],[/RIGHT OUTER JOIN/,"keyword"],[/RIGHT JOIN/,"keyword"],[/GROUP BY/,"keyword"],[/ORDER BY/,"keyword"],[/UNION ALL/,"keyword"],[/UNION DISTINCT/,"keyword"],[/PARTITION BY/,"keyword"],[/CREATE TEMPORARY FUNCTION/,"keyword"],[/CREATE TEMP FUNCTION/,"keyword"],[/INSERT INTO/,"keyword"],[/MERGE INTO/,"keyword"],[/WHEN MATCHED/,"keyword"],[/WHEN NOT MATCHED BY TARGET/,"keyword"],[/WHEN NOT MATCHED BY SOURCE/,"keyword"],[/WHEN NOT MATCHED/,"keyword"],
[/CREATE TABLE IF NOT EXISTS/,"keyword"],[/CREATE OR REPLACE TABLE/,"keyword"],[/CREATE TABLE/,"keyword"],[/CREATE VIEW IF NOT EXISTS/,"keyword"],[/CREATE OR REPLACE VIEW/,"keyword"],[/CREATE VIEW/,"keyword"],[/DROP TABLE IF EXISTS/,"keyword"],[/DROP TABLE/,"keyword"],[/DROP VIEW/,"keyword"],[/CLUSTER BY/,"keyword"],[/([a-zA-Z_]*)(\()/,["type","@brackets"]],[/[\w@#$]+/,{cases:{"@variableFollows":{token:"keyword.$0",next:"@variable"},"@operators":"operator","@keywords":"keyword","@builtinVariables":"predefined",
"@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"],[/'''/,{token:"string.escape",next:"@endMultilineString"}],[/"""/,{token:"string.escape",next:"@endDblMultilineString"}]],endMultilineString:[[/\\'/,"string"],[/(.*)(''')/,["string",{token:"string.escape",next:"@popall"}]],[/.*$/,"string"]],endDblMultilineString:[[/\\"/,"string"],[/(.*)(""")/,["string",{token:"string.escape",next:"@popall"}]],[/.*$/,"string"]],comments:[[/--+.*/,"comment"],[/(^#.*$)/,"comment"],
[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'$/,"string.escape","@popall"],[/'/,"string.escape",
"@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"],[/[rb]{1,2}'/,{token:"string.escape",next:"@stringBody"}],[/[rb]{1,2}"/,{token:"string.escape",next:"@dblStringBody"}]],stringBody:[[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string.escape","@popall"],[/.(?=.*')/,"string"],[/.*\\$/,"string"],[/.*$/,"string","@popall"]],dblStringBody:[[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string.escape","@popall"],[/.(?=.*")/,
"string"],[/.*\\$/,"string"],[/.*$/,"string","@popall"]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],
[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]],variable:[{include:"@whitespace"},[/[A-Za-z]\w*/,{token:"variable",next:"@pop"}],["","","@pop"]]}};var mP={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},nP={tokenPostfix:".shell",keywords:"do done elif else esac exit export fi for function if in local set then unset until while".split(" "),operators:"= > < ! ~ ? : == <= >= != && || ++ -- + - * / & | ^ % << >>".split(" "),
comparisons:"eq ge gt le lt ne".split(" "),brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"'?]|[0-9]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@numbers"},{include:"@strings"},{include:"@whitespace"},[/(\$)([\w]+)/,["operator","identifier"]],[/(\$)({)([\w]+)(})/,["operator","@brackets","identifier","@brackets"]],
[/(\$)(\()([a-zA-Z_-]+)/,["operator","@brackets","keyword"]],[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":"keyword","@comparisons":"operator","@default":"identifier"}}],[/[{}()\[\]]/,"@brackets"],[/[](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/[;,.]/,"delimiter"]],command:[[/\)/,{token:"@brackets",next:"@pop"}],{include:"@root"}],expression:[[/}/,{token:"@brackets",next:"@pop"}],[/.*\\$/,"identifier"]],comments:[[/(^#.*$)/,"comment"]],strings:[[/'/,"string.escape",
"@stringBody"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string.escape","@pop"],[/(\$)(\()([a-zA-Z_-]+)/,["operator","@brackets",{token:"keyword",next:"@command"}]],[/(\$)({)/,["operator",{token:"@brackets",next:"@expression"}]],[/.(?=.*')/,"string"],[/.*\\$/,"string"],[/.*$/,"string","@pop"]],dblStringBody:[[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string.escape","@pop"],[/(\$)(\()([a-zA-Z_-]+)/,
["operator","@brackets",{token:"keyword",next:"@command"}]],[/(\$)({)/,["operator",{token:"@brackets",next:"@expression"}]],[/.(?=.*")/,"string"],[/.*\\$/,"string"],[/.*$/,"string","@pop"]],whitespace:[[/[ \t\r\n]+/,"white"],[/(^#.*$)/,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number.hex"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]]}};var oP=new Map,pP=new Map,rP=function(){var a,b,c,d,e,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:a=new iP,b={},c=q(oP.keys()),d=c.next();case 2:if(d.done){m.jumpTo(4);break}e=d.value;b.$jscomp$loop$prop$language$300=oP.get(e);return u(m,new Promise(function(n){return function(p){window.require([n.$jscomp$loop$prop$language$300.basedOn],p)}}(b)),5);case 5:f=m.yieldResult;qP(e,b.$jscomp$loop$prop$language$300,f.language);g=Object.assign({},f.conf,b.$jscomp$loop$prop$language$300.configuration);
monaco.languages.setLanguageConfiguration(e,g);monaco.languages.registerOnTypeFormattingEditProvider(e,a);b={$jscomp$loop$prop$language$300:b.$jscomp$loop$prop$language$300};d=c.next();m.jumpTo(2);break;case 4:monaco.languages.register({id:"googlesql"}),monaco.languages.setLanguageConfiguration("googlesql",kP),monaco.languages.setMonarchTokensProvider("googlesql",lP),monaco.languages.register({id:"colab-shell"}),monaco.languages.setLanguageConfiguration("colab-shell",mP),monaco.languages.setMonarchTokensProvider("colab-shell",
nP),h=new fP,monaco.languages.registerCompletionItemProvider("googlesql",h),pP.set("googlesql",h),zy&&(l=new hP,l.add(a),l.add(new jP),monaco.languages.registerOnTypeFormattingEditProvider("notebook-python",l)),x(m)}})},sP=function(a){return pP.get(a)};
function qP(a,b,c){c=Object.assign({},c);c.tokenizer=Object.assign({},c.tokenizer);c.tokenizer.root=c.tokenizer.root.slice(0);var d=c.tokenizer,e=d.root;d.nestedFunctionMultilineStringEnd=[[/'''/,{token:"string",next:"@pop",nextEmbedded:"@pop"}]];d.nestedFunctionMultilineStringEndDbl=[[/"""/,{token:"string",next:"@pop",nextEmbedded:"@pop"}]];d.nestedFunctionStringEnd=[[/'/,{token:"string",next:"@pop",nextEmbedded:"@pop"}]];d.nestedFunctionStringEndDbl=[[/"/,{token:"string",next:"@pop",nextEmbedded:"@pop"}]];
d.cellMagicEmbedded=[[/^%%endcell\s*$/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]];for(var f=0,g=q(b.multilineFunctions),h=g.next();!h.done;h=g.next())h=h.value,d.root.unshift([new RegExp("("+h.name+")(\\()"),["",{token:"delimiter.parenthesis",next:"@nestedFunction"+f+"Arguments"}]]),d["nestedFunction"+f+"Arguments"]=[[/'''/,{token:"string",next:"@nestedFunctionMultilineStringEnd",nextEmbedded:h.language}],[/"""/,{token:"string",next:"@nestedFunctionMultilineStringEndDbl",nextEmbedded:h.language}],
[/'/,{token:"string",next:"@nestedFunctionStringEnd",nextEmbedded:h.language}],[/"/,{token:"string",next:"@nestedFunctionStringEndDbl",nextEmbedded:h.language}],[/\)/,{token:"delimiter.parenthesis",next:"@popall"}]],++f;b=q(b.cellMagics);for(d=b.next();!d.done;d=b.next())d=d.value,e.push({regex:new RegExp("%%"+d.name+"$"),action:{token:"keyword.magic",next:"@cellMagicEmbedded",nextEmbedded:d.language}}),e.push({regex:new RegExp("%%"+d.name+" .*$"),action:{token:"keyword.magic",next:"@cellMagicEmbedded",
nextEmbedded:d.language}});monaco.languages.register({id:a});monaco.languages.setMonarchTokensProvider(a,c)};var tP=/^\d*;?\d*[ABCDEFGJKSTi]/,uP=/^[\x3C-\x3F][\x30-\x3F]*[\x20-\x2F]*[\x40-\x7E]/,vP=/^(\d*(?:;\d+)*)m/,wP=/^m$/,yP=function(a){var b=document.createDocumentFragment();xP(a,{text:function(c){b.appendChild(document.createTextNode(c))},richText:function(c){(c=c.toElement())&&b.appendChild(c)}});return b},zP=function(a){var b="";xP(a,{text:function(c){b+=c},richText:function(c){b+=c.toString()}});return b};
function xP(a,b){a=AP(a);var c=BP();a.split("\u001b[").forEach(function(d,e){if(d.length)if(0===e)b.text(d);else if(e=d.match(tP),null!==e)b.text(d.substring(e[0].length));else if(e=d.match(uP),null!==e)b.text(d.substring(e[0].length));else{try{var f=CP(d,c)}catch(g){f=new DP(d,c)}d=f;d.toString().length&&b.richText(d)}})}
function AP(a){for(var b;-1!=(b=a.indexOf("\u001b]"));){var c=a.indexOf("\u0007",b),d=a.indexOf("\u009c",b);if(-1==c&&-1==d)return a.substring(0,b);a=a.substring(0,b)+a.substring((-1!=d&&d<c?d:c)+1)}return a}function CP(a,b){var c=a.match(vP);if(!c)return a.match(wP)?(a=new EP,a.reset(),new DP("",a)):new DP(a,null);c=c[0];var d=c.split(";").map(function(f){return parseInt(f,10)});for(d.length||d.push(0);d.length;){var e=FP(d.shift(),d);GP(b,e)}return new DP(a.substring(c.length),b)}
function FP(a,b){var c=new EP;0==a?c.reset():1==a?c.bold=!0:3==a?c.italic=!0:4==a?c.underline=!0:21==a?c.bold=!1:22==a?c.bright=!1:23==a?c.italic=!1:24==a?c.underline=!1:30<=a&&37>=a?(c.foregroundColor=HP[a-30],c.bright=!1):38==a?c=IP(b,!1):39==a?(c.bright=!1,c.foregroundColor=""):40<=a&&47>=a?(c.bright=!1,c.backgroundColor=HP[a-40]):48==a?c=IP(b,!0):49==a?(c.bright=!1,c.backgroundColor=""):90<=a&&97>=a?(c.bright=!0,c.foregroundColor=JP[a-90]):100<=a&&107>=a&&(c.bright=!0,c.backgroundColor=JP[a-100]);
return c}
function IP(a,b){var c=new EP;if(0==a.length)return c;var d=a.shift();if(2==d){if(3>a.length)return c;var e=new KP(a.shift(),a.shift(),a.shift())}if(5==d){if(1>a.length)return c;a=a.shift();if(7>=a){e=HP[a];var f=!1}else 15>=a?(e=JP[a-8],f=!0):231>=a?(a-=16,e=new KP(Math.floor(a/36),Math.floor(a%36/6),a%6)):(a-=232,0==a?e=new KP(0,0,0):23<=a?e=new KP(255,255,255):(a=Math.floor(10.625*a),e=new KP(a,a,a)))}void 0!=f&&(c.bright=f);void 0!=e&&(b?c.backgroundColor=e:c.foregroundColor=e);return c}
var EP=function(){this.foregroundColor=this.backgroundColor=null},GP=function(a,b){null!=b.bold&&(a.bold=b.bold);null!=b.italic&&(a.italic=b.italic);null!=b.underline&&(a.underline=b.underline);null!=b.bright&&(a.bright=b.bright);null!=b.foregroundColor&&(a.foregroundColor=b.foregroundColor);null!=b.backgroundColor&&(a.backgroundColor=b.backgroundColor)};EP.prototype.reset=function(){GP(this,BP())};
var BP=function(){var a=new EP;a.bold=!1;a.italic=!1;a.underline=!1;a.bright=!1;a.backgroundColor="";a.foregroundColor="";return a},DP=function(a,b){this.stringWithAnsiSequence_=a;this.graphicMode=b};
DP.prototype.toElement=function(){if(!this.stringWithAnsiSequence_)return null;var a=oh("SPAN"),b=this.graphicMode;b&&(b.bold&&(a.style.fontWeight="bold"),b.italic&&(a.style.fontStyle="italic"),b.underline&&(a.style.textDecoration="underline"),b.foregroundColor&&(a.style.color=b.foregroundColor.toString()),b.backgroundColor&&(a.style.backgroundColor=b.backgroundColor.toString()));a.textContent=this.stringWithAnsiSequence_;return a};DP.prototype.toString=function(){return this.stringWithAnsiSequence_};
var KP=function(a,b,c){this.red=a;this.green=b;this.blue=c};KP.prototype.toString=function(){return"rgb("+this.red+","+this.green+","+this.blue+")"};var HP="var(--ansi-black) var(--ansi-red) var(--ansi-green) var(--ansi-yellow) var(--ansi-blue) var(--ansi-magenta) var(--ansi-cyan) var(--ansi-gray)".split(" "),JP="var(--ansi-bright-black) var(--ansi-bright-red) var(--ansi-bright-green) var(--ansi-bright-yellow) var(--ansi-bright-blue) var(--ansi-bright-magenta) var(--ansi-bright-cyan) var(--ansi-bright-gray)".split(" ");/*


 Copyright (c) Microsoft Corporation. All rights reserved.

 MIT License

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
function LP(a){return 32>=a||8203===a};var MP=function(){this.state=0;this.md=[]},SP=function(a){var b=new MP;a=a.split(/\r?\n/);for(var c=0;c<a.length;c+=1){var d=a[c];if(0!==b.md.length||0!==d.length)switch(b.state){case 0:c+=NP(b,a,c);break;case 1:d=c;var e=b;c=a[c];if(OP(c))c=0;else if(0<c.length&&!LP(c.charCodeAt(0))&&!PP(c))QP(e),c=-1;else{var f=0<e.md.length?e.md[e.md.length-1]:void 0;if(0!==c.length||!f||0!==f.length&&!f.startsWith("```"))c=c.replace(/</g," ").replace(/>/g," "),c=c.replace(/``/g,"`"),e.md.push(c+"  ");c=0}c=d+
c;break;case 2:if(e=b,f=0<e.md.length?e.md[e.md.length-1]:void 0,0!==d.length||!f||0!==f.length&&!f.startsWith("```"))d.startsWith("```")?RP(e):e.md.push(d)}}RP(b);QP(b);a=b.md.join("\n").trim();b.state=0;b.md=[];return a},NP=function(a,b,c){var d=b[c];if(d.startsWith("```"))return TP(a),a.md.push("```python"),a.state=2,0;var e;(e=d.startsWith("===")||d.startsWith("---"))||(d.endsWith("::")?(2<d.length&&!d.startsWith("..")&&a.md.push(d.substring(0,d.length-1)),UP(a),e=!0):e=!1);if(e||OP(d))return 0;
e=b[c];c<b.length-1&&b[c+1].startsWith("===")?(a.md.push("### "+a.cleanup(e)),e=!0):c<b.length-1&&b[c+1].startsWith("---")?(a.md.push("#### "+a.cleanup(e)),e=!0):e=!1;if(e)return 1;b=b[c];0===c||0===b.trim().length||!LP(b.charCodeAt(0))&&!PP(b)?c=0:(UP(a),c=-1);if(0!==a.state)return c;d=a.cleanup(d);d=d.replace(/``/g,"`");d=d.replace(/#/g,"\\#").replace(/\*/g,"\\*").replace(/ _/g," \\_").replace(/^_/,"\\_");a.md.push(d);return 0},OP=function(a){if(0<=a.indexOf("generated/"))return!0;a=a.trim();return a.startsWith("..")&&
0<a.indexOf("::")?!0:!1},UP=function(a){TP(a);a.md.push("```html");a.state=1},QP=function(a){1===a.state&&(TP(a),a.md.push("```"),a.state=0)},RP=function(a){2===a.state&&(TP(a),a.md.push("```"),a.state=0)},TP=function(a){for(;0<a.md.length&&0===a.md[a.md.length-1].trim().length;)a.md.pop()},PP=function(a){a=a.trim();a=0<a.length?a.charCodeAt(0):0;return 42===a||45===a||48<=a&&57>=a||95===a};MP.prototype.cleanup=function(a){return a.replace(/:mod:/g,"module:")};var VP=function(a,b,c,d){dP.call(this,a,b,{triggerCharacters:[".","%","["],signatureHelpTriggerCharacters:["(",","," "],signatureHelpRetriggerCharacters:null});this.language_=c;this.completionItemProviderLookup_=d;this.pythonTypeToCompletionKind_=new Map([["type",monaco.languages.CompletionItemKind.Class],["module",monaco.languages.CompletionItemKind.Module],["function",monaco.languages.CompletionItemKind.Function],["instancemethod",monaco.languages.CompletionItemKind.Method],["Magic function",monaco.languages.CompletionItemKind.Function],
["ABCMeta",monaco.languages.CompletionItemKind.Class],["_DeprecatedModule",monaco.languages.CompletionItemKind.Module]])};t(VP,dP);
VP.prototype.provideCompletionItems=function(a,b,c,d){var e=this,f,g,h,l,m,n,p,r,w,v,A,H,C,J,L,W,Ha,Ya,tb,ma,Jb,Tc,Bf,ic,xM,Nn;return B(function(Ld){switch(Ld.nextAddress){case 1:if(!e.kernel.isRunning()||e.kernel.isDebugging_)return Ld.return({incomplete:!0,suggestions:[],dispose:function(){}});f={incomplete:!1,suggestions:[],dispose:function(){}};if(c.triggerKind==monaco.languages.CompletionTriggerKind.TriggerCharacter&&!e.autoTriggerCompletions_)return Ld.return(f);g=WP(a,b);if(g!=e.language_)return g&&
(h=e.completionItemProviderLookup_(g))?Ld.return(h.provideCompletionItems(a,b,c,d)):Ld.return(f);l=a.getValue();m=a.getOffsetAt(b);if(c.triggerKind==monaco.languages.CompletionTriggerKind.TriggerCharacter&&2==XP(a,b,m)||1==XP(a,b,m))return Ld.return(f);y(Ld,2);return u(Ld,eP(e,d,function(){return YP(e.kernel,l,m,{autocomplete_new_declarations:Ay,include_colab_metadata:e.kernel.supportsRichCompletions_})}),4);case 4:n=Ld.yieldResult;va(Ld,3);break;case 2:return p=z(Ld),ZP(e,p,l),Ld.return(f);case 3:if(!n.isSuccess()||
!n.matches)return Ld.return(f);r="";v=w=void 0;-1!=n.cursorStart&&-1!=n.cursorEnd?(A=n.cursorEnd,H=n.cursorStart,v=l.substring(H,A),C=v.lastIndexOf("."),J=v.includes("/"),-1==C||J||(H+=C+1,v=l.substring(H,A),r=l.substring(n.cursorStart,H)),w=monaco.Range.fromPositions(a.getPositionAt(H),a.getPositionAt(A))):(L=n.matchedText.lastIndexOf("."),W=n.matchedText.includes("/"),-1==L||W||(r=n.matchedText.substring(0,L+1)));Ha=n.matches.map(function(zM){var dh=zM,Vy=v;r&&dh.startsWith(r)?dh=dh.substring(r.length):
w||(w=monaco.Range.fromPositions(a.getPositionAt(m-n.matchedText.length),b));void 0!=v&&dh.startsWith(v)?Vy=void 0:!dh.startsWith("%")||n.matchedText.startsWith("%")||v||(Vy=dh.replace(/^%+/g,""));return{label:dh,range:w,insertText:dh,filterText:Vy,documentationLabel:zM}});if(n.typeMetadata)for(Ya=0;Ya<n.typeMetadata.length;++Ya){tb=n.typeMetadata[Ya];if(ma=e.pythonTypeToCompletionKind_.get(tb.typeName))Ha[Ya].kind=ma;tb.definition?Ha[Ya].detail=zP(tb.definition):Ha[Ya].detail=tb.typeName}Jb=a.getLineContent(b.lineNumber).substr(0,
b.column-1);if(Jb.startsWith("import "))for(Tc=q($P),Bf=Tc.next();!Bf.done;Bf=Tc.next())ic=Bf.value,Ha.push({label:ic,range:monaco.Range.fromPositions(a.getPositionAt(m-(Jb.length-7)),b),kind:monaco.languages.CompletionItemKind.Module,insertText:ic});xM=String(Ha.length).length;for(Nn=0;Nn<Ha.length;++Nn)Ha[Nn].sortText=Oe(Nn,xM);return Ld.return({incomplete:"%"==n.matchedText||n.matchesIncomplete,suggestions:Ha,dispose:function(){}})}})};
VP.prototype.resolveCompletionItem=function(a,b,c,d){var e=this,f,g,h;return B(function(l){switch(l.nextAddress){case 1:f=c.documentationLabel;if(!f||!e.kernel.isRunning()||!e.kernel.supportsRichCompletions_||e.kernel.isDebugging_)return l.return(c);y(l,2);return u(l,eP(e,d,function(){return e.kernel.getObjectInfo(I(f))}),4);case 4:g=l.yieldResult;va(l,3);break;case 2:return h=z(l),ZP(e,h,f),l.return(c);case 3:if(!g.isSuccess())return l.return(c);g.docstring&&"<no docstring>"!=g.docstring&&(c.documentation=
{value:SP(g.docstring)});return l.return(c)}})};
VP.prototype.provideSignatureHelp=function(a,b,c,d){var e=this,f,g,h,l,m,n,p,r,w,v,A,H,C,J,L;return B(function(W){switch(W.nextAddress){case 1:if(!e.kernel.isRunning()||!e.kernel.supportsRichCompletions_||e.kernel.isDebugging_||d.triggerKind==monaco.languages.SignatureHelpTriggerKind.TriggerCharacter&&!e.autoTriggerCompletions_||WP(a,b)!=e.language_)return W.return(null);f=a.getValue();g=a.getWordUntilPosition(b);if(!g)return W.return(null);h=a.getOffsetAt({lineNumber:b.lineNumber,column:g.endColumn});
if(2==XP(a,b,h))return W.return(null);l=f.substring(0,h);m=aQ(l);if(!m)return W.return(null);y(W,2);return u(W,eP(e,c,function(){return e.kernel.getObjectInfo(m.text)}),4);case 4:n=W.yieldResult;va(W,3);break;case 2:return p=z(W),ZP(e,p,m.text),W.return(null);case 3:if(!n.isSuccess())return W.return(null);if(!n.argSpec){if(!n.docstring)return W.return(null);r={label:n.name,documentation:n.docstring,parameters:[]};return W.return({signatures:[r],activeSignature:0,activeParameter:0})}w=n.definition||
n.initDefinition||n.name;v=zP(w).trim();A=n.argSpec.args||[];H=A.map(function(Ha){return{label:Ha}});C=null;"<no docstring>"!=n.docstring&&(C={value:SP(n.docstring)});J=m.parameterIndex;0<H.length&&"self"==H[0].label&&++J;L={label:v,documentation:C,parameters:H};return W.return({signatures:[L],activeSignature:0,activeParameter:J})}})};
VP.prototype.provideHover=function(a,b,c){var d=this,e,f,g,h,l,m,n,p,r,w;return B(function(v){switch(v.nextAddress){case 1:if(!d.kernel.isRunning()||!d.kernel.supportsRichCompletions_||d.kernel.isDebugging_)return v.return(null);e=a.getValue();f=a.getWordAtPosition(b);if(!f)return v.return(null);g=a.getOffsetAt({lineNumber:b.lineNumber,column:f.endColumn});h=e.substring(0,g);l=bQ(h);if(!l)return v.return(null);m=[];y(v,2);return u(v,eP(d,c,function(){return d.kernel.getObjectInfo(l)}),4);case 4:n=
v.yieldResult;va(v,3);break;case 2:return p=z(v),ZP(d,p,l),v.return(null);case 3:return n.isSuccess()&&((r=n.definition||n.initDefinition||n.name)?(w=zP(r).trim(),m.push({value:n.typeName+": "+w,isTrusted:!1})):n.typeName?m.push({value:n.typeName+": "+n.name,isTrusted:!1}):(n.argSpec||n.docstring||n.stringForm)&&m.push({value:n.name,isTrusted:!1}),!n.argSpec&&"module"!=n.typeName||"<no docstring>"==n.docstring?n.stringForm&&m.push({value:"`"+n.stringForm+"`",isTrusted:!1}):m.push({value:SP(n.docstring),
isTrusted:!1})),v.return({contents:m,range:monaco.Range.fromPositions(a.getPositionAt(g-l.length),a.getPositionAt(g))})}})};
var aQ=function(a){var b=" "==a.substr(-1);a=a.trim();if(b&&(b=a.search(/%%?[_a-zA-Z0-9.]*$/),0<=b))return{text:a.substr(b),parameterIndex:0};if(-1==a.search(/.$/))return null;var c=a.length-1,d=1;for(b=0;0<=c;){")"==a.charAt(c)&&d++;"("==a.charAt(c)&&d--;","==a.charAt(c)&&1==d&&++b;if(0==d)break;c--}0>c&&(c=a.length);a=a.substr(0,c).trim();c=a.search(/[_a-zA-Z0-9.]+$/);return 0>c?null:{text:a.substr(c),parameterIndex:b}},bQ=function(a){for(var b=/[a-zA-Z0-9_.\[\]"']/,c="",d=a.length-1;0<=d;--d){var e=
a[d];if(b.test(e))c=e+c;else break}return c},ZP=function(a,b,c){a.kernel&&a.kernel.supportsRichCompletions_&&b instanceof Dy&&(console.warn("Disabling rich completions after slow completion for:",c),a.kernel.supportsRichCompletions_=!1)};function WP(a,b){a=a.getLanguageIdAtPosition(b.lineNumber,b.column)-1;return-1==a?null:monaco.languages.getLanguages()[a].id}function XP(a,b,c){a=a.getLineTokens(b.lineNumber);c=a.findTokenIndexAtOffset(c);return a.getStandardTokenType(c)}
var $P=["matplotlib.pyplot as plt\n","numpy as np\n","pandas as pd\n","tensorflow as tf\n"];var cQ=function(a,b){dP.call(this,a,b,{triggerCharacters:["."],signatureHelpTriggerCharacters:null,signatureHelpRetriggerCharacters:null})};t(cQ,dP);
cQ.prototype.provideCompletionItems=function(a,b,c,d){var e=this,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:if(!e.kernel.isRunning())return m.return({incomplete:!0,suggestions:[],dispose:function(){}});f=a.getValue();g=a.getOffsetAt(b);y(m,2);return u(m,eP(e,d,function(){return YP(e.kernel,f,g)}),4);case 4:h=m.yieldResult;va(m,3);break;case 2:return z(m),m.return({incomplete:!1,suggestions:[],dispose:function(){}});case 3:if(!h.isSuccess()||!h.matches)return m.return({incomplete:!1,
suggestions:[],dispose:function(){}});l=h.matches.map(function(n){return{label:n,insertText:n}});return m.return({incomplete:h.matchesIncomplete,suggestions:l,dispose:function(){}})}})};cQ.prototype.resolveCompletionItem=function(a,b,c){return B(function(d){return d.return(c)})};cQ.prototype.provideSignatureHelp=function(){return B(function(a){return a.return(null)})};cQ.prototype.provideHover=function(){return B(function(a){return a.return(null)})};var dQ={},eQ=!0,fQ=function(a){eQ=a;for(var b=q(Object.values(dQ)),c=b.next();!c.done;c=b.next())c.value.autoTriggerCompletions_=a},hQ=function(a){var b;return B(function(c){if(1==c.nextAddress){if("undefined"!=typeof window.monaco)return c.return(Promise.resolve());b=void 0;window.colabVersionTag&&(b="vrz="+window.colabVersionTag);require.config({baseUrl:XD.MONACO_BASE_PATH,urlArgs:b});return u(c,new Promise(function(d,e){require(["vs/editor/editor.main"],d,e)}),2)}return u(c,gQ(a),0)})},iQ=null,
jQ=null,kQ=function(a,b){return B(function(c){if(1==c.nextAddress)return!ky||iQ?c.jumpTo(2):u(c,new Promise(function(d,e){require(["monaco-vim"],d,e)}),3);2!=c.nextAddress&&(iQ=c.yieldResult);return iQ?c.return(iQ.initVimMode(a,b)):c.return(null)})},lQ=function(a,b){var c;return B(function(d){if(1==d.nextAddress)return!ly||jQ?d.jumpTo(2):u(d,new Promise(function(e,f){require(["monaco-emacs"],e,f)}),3);2!=d.nextAddress&&(jQ=d.yieldResult);return jQ?(c=new jQ.EmacsExtension(a),c.onDidMarkChange(function(e){b.textContent=
e?"Mark Set!":"Mark Unset"}),c.onDidChangeKey(function(e){b.textContent=e}),c.start(),d.return(c)):d.return(null)})},gQ=function(a){return B(function(b){monaco.editor.defineTheme("colab",{base:"vs",inherit:!0,rules:[{}],colors:{"editorLineNumber.foreground":"#999","editor.background":"#f7f7f7","editorOverviewRuler.selectionHighlightForeground":"#00000000","string.sql":"#a31515"}});monaco.editor.setTheme(oB(a));return u(b,rP(),0)})};function mQ(){var a="/auth/github"+(nQ&&nQ.getValue()?"?requestFullOAuthScope=1":"");return(a=ze(a,window,Gc("_blank"),"width=850, height=650"))?$G(a):zH({title:"Error",message:"Colaboratory could not open a new browser window. Make sure that pop-up windows are not blocked.",confirmText:"Retry"}).then(mQ)}
var nQ=null,pQ=function(a){return B(function(b){if(1==b.nextAddress){if(!nQ)return b.jumpTo(2);nQ.set(a);return u(b,oQ(),3)}return 2!=b.nextAddress?b.return(b.yieldResult):b.return(!1)})},qQ=function(){var a,b,c,d,e,f,g,h,l;return B(function(m){if(1==m.nextAddress)return a=new Headers,a.append("Accept","application/json"),b={credentials:"include",mode:"no-cors",headers:a},c=nQ?nQ.getValue():!1,d="/auth/github"+(c?"?requestFullOAuthScope=1":""),u(m,fetch(d,b),2);if(3!=m.nextAddress)return e=m.yieldResult,
u(m,e.text(),3);f=m.yieldResult;if(!e.ok)throw new sA(e,f);g=JSON.parse(f);if(!g.access_token)return Ix&&console.warn("fetchAuth_: response missing access_token"),m.return(!1);HH.accessToken_=g.access_token;if(!c)return m.return(!0);h=(g.scope||"").split(",");l=h.includes("repo");!l&&Ix&&console.warn("GitHub does not have the required scopes. Forcing reauthentication by opening a login window. ");return m.return(l)})},oQ=function(){var a,b,c,d,e,f;return B(function(g){switch(g.nextAddress){case 1:return a=
mH.createWithTemplate(pH,{title:"Colaboratory is waiting for authorization from GitHub",message:"",confirmText:"Cancel",msgMoreInfo:"More info"}),b=lH(a),c=!1,y(g,2),u(g,qQ(),4);case 4:c=g.yieldResult;va(g,3);break;case 2:z(g);case 3:if(c||!a.isConnected){g.jumpTo(5);break}return u(g,mQ(),6);case 6:if(d=g.yieldResult)if(e=new Dl(d),f=Tl(e,"access_token"))HH.accessToken_=f,c=!0;case 5:if(c||!a.isConnected){g.jumpTo(7);break}y(g,8);return u(g,qQ(),10);case 10:c=g.yieldResult;va(g,7);break;case 8:z(g);
case 7:return a.close(),u(g,b,11);case 11:return g.return(c)}})};var sQ=function(a,b){var c=b.traits,d;return B(function(e){if(1==e.nextAddress){if(!xI(c))return e.jumpTo(2);GI("drive_api_ready");return u(e,qJ(mJ(),{prompt:!0,allowAnonymous:!0}),3)}2!=e.nextAddress&&HI("drive_api_ready");wK.setClientModelByteLimit(gK);d=Promise.resolve(null);xI(c)&&(d=OJ(dz(I(c.fileId_))));return e.return(rQ(a,{driveMetadataPromise:d,traits:c,document:null}))})},rQ=function(a,b){var c=b.document,d=b.driveMetadataPromise,e=b.traits,f,g,h,l,m,n,p,r,w,v,A,H,C,J,L;return B(function(W){if(1==
W.nextAddress){if(!c||c.getModel().isReadOnly)c=wK.newInMemoryDocument();f=I(e.fileId_);g=yI(e);h=new kI;Gz("Loading from JSON");GI("load_drive_doc");l=h.load(f,g);Wk(l,function(){HI("load_drive_doc")});return u(W,tJ(),2)}if(3!=W.nextAddress)return m=W.yieldResult,n=Promise.resolve(null),!m&&xI(e)&&(n=CJ().catch(function(){return null})),u(W,Promise.all([l,d,n]),3);p=W.yieldResult;r=q(p);w=r.next().value;v=r.next().value;A=r.next().value;Gz("Got JSON and metadata");H=eC(w);v&&!v.title&&$x&&(C=Object.entries(v).map(function(Ha){var Ya=
q(Ha);Ha=Ya.next().value;Ya=Ya.next().value;return Ha+": "+Ya}).join(";"),aJ(Error("JSON load. Metadata with empty title (b/80298050). Entries: "+C)),v.result&&(J=Object.entries(v.result).map(function(Ha){var Ya=q(Ha);Ha=Ya.next().value;Ya=Ya.next().value;return Ha+": "+Ya}).join(";"),aJ(Error("JSON load. Malformed response (b/80298050). Result object entries: "+J))),v=null);L=tQ(a,{driveMetadata:v,traits:e,userInfo:A,document:c,json:H});aN(L,JSON.stringify(w).length);return W.return(L)})},tQ=function(a,
b){var c=b.document,d=b.driveMetadata,e=b.json,f=b.traits;b=b.userInfo;var g=AI(f)&&!c.getModel().isReadOnly;var h=!1,l=!1;d&&d.userPermission&&(l=d.userPermission,h="reader"!==l.role,g=g&&h,l=!(!l.additionalRoles||!l.additionalRoles.includes("commenter")));var m=!!f.params_.forceEdit||!!f.params_.sandboxMode;!c.isInGoogleDrive&&m&&(g=!0);m=az(I(f.fileId_));g=new kC({editable:g,commentable:!tJ()&&m&&(h||l)&&AI(f)&&xI(f)&&!f.params_.sandboxMode});h=c.getModel();l=h.getRoot();l.set("collaboratorCells",
h.createMap());m=h.createMap();m.set("views",h.createMap());l.set("metadata",m);l.set("cells",h.createList());a=a({document:c,driveMetadata:d,permissions:g,traits:f,userInfo:b});a.initialize();f=I(f.fileId_);(c=(e.metadata.colab||{}).name)?f=c:az(f)?f="Untitled":(f=f.toString(),f=decodeURIComponent(f.slice(f.lastIndexOf("/")+1)));f||(aJ(Error("Notebook content has empty title (b/78011412)")),f="");a.fillFromJson(e);d||(a.isShared_=!1,a.getTitle()||AM(a,f));return a};var uQ=function(a){this.preferences_=a},vQ=function(a){return B(function(b){return b.return({lastInteraction:a.preferences_.SURVEY_LAST_INTERACTION.getValue(),lastShow:a.preferences_.SURVEY_LAST_SHOW.getValue()})})},xQ=function(a,b,c){var d;B(function(e){d={id:b,timestamp:jb(),type:c};var f=wQ([d]),g=a.preferences_.SURVEY_LAST_SHOW.getValue();f.lastShow>g&&a.preferences_.SURVEY_LAST_SHOW.set(f.lastShow);g=a.preferences_.SURVEY_LAST_INTERACTION.getValue();f.lastInteraction>g&&a.preferences_.SURVEY_LAST_INTERACTION.set(f.lastInteraction);
x(e)})},wQ=function(a){var b=-1,c=-1;a.forEach(function(d){1==d.type?d.timestamp>b&&(b=d.timestamp):d.timestamp>c&&(c=d.timestamp)});return{lastInteraction:c,lastShow:b}};var yQ=Gc("//www.google.com/insights/consumersurveys/async_survey?site=%{site}"),zQ={MIN_TIME_BETWEEN_INTERACTION_AND_SHOW:78624E5,MIN_TIME_BETWEEN_SHOWS:3456E5,NUM_BUCKETS:Qx,SITE_ID:Rx,TRIGGER_PROBABILITY:Px};kb("colab.hats.config",zQ);var AQ=null,BQ=function(){this.history_=null},CQ=function(){AQ||(AQ=new BQ);return AQ};BQ.prototype.setHistory=function(a){this.history_=a};
var EQ=function(){var a=CQ();DQ(a).then(function(b){var c=zQ.SITE_ID;if(b){var d=RD.getUsername();if(!d||tJ())b=!1;else{b=EA(d)%zQ.NUM_BUCKETS;var e=Math.floor(jb()/6048E5),f=e%zQ.NUM_BUCKETS;d=EA(d,e)/4294967295;b=b==f&&d<zQ.TRIGGER_PROBABILITY}}return b&&c?(Cw(Uc(yQ,{site:c})),!0):!1})},DQ=function(a){return a.history_?Mk(vQ(a.history_)).then(function(b){var c=jb(),d=c-b.lastInteraction;return c-b.lastShow>zQ.MIN_TIME_BETWEEN_SHOWS&&d>zQ.MIN_TIME_BETWEEN_INTERACTION_AND_SHOW}):Mk(!1)};
kb("colab.hatsResponse",function(a){var b=new Ll(a);var c=b.get("t");b="sv"==c?1:"pa"==c?3:"a"==c?4:"o"==c&&"close"==b.get("m.sh")?2:5;c=BA(window,["_402","params","svyid"],null);var d=BA(window,["_402","params","srvsrsid"],null);YI({hats_event:{event_type:b,survey_id:c||void 0,series_id:d||void 0,response:a}});xQ(I(CQ().history_),c||"",b)});var GQ=function(a,b,c){a.sort(FQ);b=ow(b.toLowerCase(),!0," ")[0]||[""];var d=[];a=q(a);for(var e=a.next();!e.done&&!(e=e.value,FA(b,e.title,e.id)&&(d.push(e),d.length>=c));e=a.next());return d.map(function(f){try{return{fileId:qI(f.id),title:f.title,firstAccessed:f.firstAccessed,lastAccessed:f.lastAccessed,size:0}}catch(g){return null}}).filter(function(f){return!!f})},FQ=function(a,b){return b.lastAccessed-a.lastAccessed},HQ=function(a,b){if(!b)return!1;var c=!1,d={};b=q(b);for(var e=b.next();!e.done;d=
{$jscomp$loop$prop$id$302:d.$jscomp$loop$prop$id$302},e=b.next()){e=e.value;d.$jscomp$loop$prop$id$302=e.fileId.fileId_;var f=a.find(function(g){return function(h){return h.id==g.$jscomp$loop$prop$id$302}}(d));f?f.title==e.title&&3E4>Math.abs(f.lastAccessed-e.lastAccessed)&&3E4>Math.abs(f.firstAccessed-e.firstAccessed)||(f.title=e.title,f.lastAccessed=Math.max(f.lastAccessed,e.lastAccessed),f.firstAccessed=Math.min(f.firstAccessed,e.firstAccessed),c=!0):(f={id:d.$jscomp$loop$prop$id$302,title:e.title,
lastAccessed:e.lastAccessed,firstAccessed:e.firstAccessed},a.push(f),c=!0)}if(!c)return!1;2E3<a.length&&(a.length=1800);a.sort(FQ);return!0};var IQ=function(){M.call(this);this.handler_=new Om;nj(this,this.handler_);this.lastAccessHistory_=null;this.lastAccessHistoryLoadedTime_=0;this.savingPromise_=Promise.resolve();this.loadingPromise_=null;this.isClosed_=!1};t(IQ,M);var JQ=function(a){if(a.accessHistoryFileIdPromise_)return a.accessHistoryFileIdPromise_;if(tJ())return a.accessHistoryFileIdPromise_=Promise.resolve(null),a.accessHistoryFileIdPromise_;a.accessHistoryFileIdPromise_=MJ("access_history.json",{prompt:!1,create:!0});return a.accessHistoryFileIdPromise_};
k=IQ.prototype;k.close=function(){this.isClosed_=!0};k.isClosedOrClosing_=function(){return this.isDisposed()||this.isClosed_};k.whenReady=function(a){var b=a.canPromptUser,c=this;return B(function(d){return 1==d.nextAddress?null!=c.lastAccessHistory_||tJ()?d.return(Promise.resolve()):b?u(d,qJ(mJ(),{prompt:b}),2):d.jumpTo(2):u(d,KQ(c),0)})};
k.addEntries=function(a){var b=this;this.loadingPromise_=function(){var c,d;return B(function(e){if(1==e.nextAddress)return u(e,KQ(b),2);if(3!=e.nextAddress){(c=e.yieldResult)||(c={notebooks:[]});d=HQ(c.notebooks,a);if(!d)return e.jumpTo(3);c.notebooks.sort(FQ);b.setHistory_(c);return u(e,b.saveToDrive_(c),3)}return e.return(c)})}();return this.loadingPromise_.then(function(){})};
k.getAllEntries=function(){return this.lastAccessHistory_?this.lastAccessHistory_.notebooks.map(function(a){try{return{fileId:qI(a.id),title:a.title,firstAccessed:a.firstAccessed,lastAccessed:a.lastAccessed,size:0}}catch(b){return null}}).filter(function(a){return!!a}):[]};
var KQ=function(a){return B(function(b){if(a.loadingPromise_)return b.return(a.loadingPromise_);if(2E4>jb()-a.lastAccessHistoryLoadedTime_)return b.return(Promise.resolve(a.lastAccessHistory_));a.loadingPromise_=function(){var c,d,e;return B(function(f){switch(f.nextAddress){case 1:return y(f,2,3),u(f,JQ(a),5);case 5:return(c=f.yieldResult)?u(f,HJ(c,void 0,{retry:!0}),6):f.return(null);case 6:d=f.yieldResult;if(!d)return f.return(null);a.setHistory_(d);return f.return(a.lastAccessHistory_);case 3:wa(f);
a.loadingPromise_=null;xa(f,0);break;case 2:return e=z(f),console.warn("Error loading notebook history: "+e),f.return(null)}})}();return b.return(a.loadingPromise_)})};k=IQ.prototype;
k.recordNotebookLoad=function(a){var b=this,c,d,e,f,g;return B(function(h){switch(h.nextAddress){case 1:if(tJ())return h.return();y(h,2);return u(h,KQ(b),4);case 4:return(c=h.yieldResult)||(c={notebooks:[]}),d=a.getFileId().fileId_,e=jb(),(f=c.notebooks.find(function(l){return l.id==d}))?(f.title=a.getTitle(),f.lastAccessed=e):(f={title:a.getTitle(),lastAccessed:e,firstAccessed:e,id:d},c.notebooks.unshift(f)),c.notebooks.sort(FQ),2E3<c.notebooks.length&&(c.notebooks.length=1800),b.setHistory_(c),
u(h,b.saveToDrive_(c),5);case 5:va(h,0);break;case 2:g=z(h),console.warn("Error updating notebook history: "+g),x(h)}})};k.setHistory_=function(a){this.lastAccessHistory_=a;this.lastAccessHistoryLoadedTime_=jb();this.dispatchEvent("changed")};
k.saveToDrive_=function(a){var b=this,c,d;return B(function(e){if(1==e.nextAddress)return u(e,JQ(b),2);if(3!=e.nextAddress){c=e.yieldResult;if(!c)return e.return();d=JSON.stringify(a);b.savingPromise_=b.savingPromise_.then(function(){return GJ({data:d,metadata:{name:"access_history.json"},fileId:c,retry:!0})});return u(e,b.savingPromise_,3)}return e.return(e.yieldResult)})};
k.updateNotebookInfo=function(a){var b=this,c,d,e,f;return B(function(g){switch(g.nextAddress){case 1:return y(g,2),u(g,KQ(b),4);case 4:c=g.yieldResult;if(!c)return g.return();d=a.getFileId().fileId_;e=c.notebooks.find(function(h){return h.id==d});if(!e){g.jumpTo(5);break}e.title=a.getTitle();return u(g,b.saveToDrive_(c),5);case 5:b.setHistory_(c);va(g,0);break;case 2:f=z(g);if(b.isClosedOrClosing_())return g.return();bJ(f);x(g)}})};
k.search=function(a,b){KQ(this);return this.lastAccessHistory_?GQ(this.lastAccessHistory_.notebooks,a,b):(console.log("User preferences are not available"),null)};var LQ=function(){M.call(this);this.handler_=new Om;nj(this,this.handler_);this.localStorage_=new Iw(window.localStorage);this.storageKey_=RD.StorageKey.ACCESS_HISTORY+"_"+RD.getUsername()};t(LQ,M);LQ.prototype.whenReady=function(){return Mk()};var MQ=function(a){return!!a.localStorage_.get(a.storageKey_)};LQ.prototype.addEntries=function(a){var b=NQ(this);HQ(b.notebooks,a)&&this.setHistory_(b)};
LQ.prototype.getAllEntries=function(){return NQ(this).notebooks.map(function(a){try{return{fileId:qI(a.id),title:a.title,firstAccessed:a.firstAccessed,lastAccessed:a.lastAccessed,size:0}}catch(b){return null}}).filter(function(a){return!!a})};var NQ=function(a){try{var b=a.localStorage_.get(a.storageKey_);if(!b)return{notebooks:[]};var c=JSON.parse(b);if(c&&c.notebooks&&Array.isArray(c.notebooks))return c}catch(d){bJ(d)}return{notebooks:[]}};
LQ.prototype.recordNotebookLoad=function(a){var b=jb();this.addEntries([{title:a.getTitle(),lastAccessed:b,firstAccessed:b,fileId:a.getFileId()}]);return Mk()};LQ.prototype.setHistory_=function(a){this.localStorage_.set(this.storageKey_,JSON.stringify(a));this.dispatchEvent("changed")};LQ.prototype.updateNotebookInfo=function(a){var b=NQ(this),c=a.getFileId().fileId_,d=b.notebooks.find(function(e){return e.id==c});d&&d.title!=a.getTitle()&&(d.title=a.getTitle(),this.setHistory_(b));return Mk()};
LQ.prototype.search=function(a,b){var c=NQ(this);return GQ(c.notebooks,a,b)};var OQ=function(){M.call(this);var a=this;this.handler_=new Om;nj(this,this.handler_);this.driveAccessHistory_=new IQ;nj(this,this.driveAccessHistory_);this.handler_.listen(this.driveAccessHistory_,"changed",function(){a.dispatchEvent("changed")});this.localAccessHistory_=new LQ;nj(this,this.localAccessHistory_);this.handler_.listen(this.localAccessHistory_,"changed",function(){a.dispatchEvent("changed")})};t(OQ,M);k=OQ.prototype;k.close=function(){this.driveAccessHistory_.close()};
k.whenReady=function(a){var b=this;a=a.canPromptUser;var c=[this.driveAccessHistory_.whenReady({canPromptUser:a})];MQ(this.localAccessHistory_)&&c.push(this.localAccessHistory_.whenReady({canPromptUser:a}));this.driveAccessHistory_.whenReady({canPromptUser:a}).then(function(){var d=b.driveAccessHistory_.getAllEntries(),e=b.localAccessHistory_.getAllEntries();b.localAccessHistory_.addEntries(d);return b.driveAccessHistory_.addEntries(e)}).catch(function(d){bJ(d)});return Pk(c).then(function(){})};
k.recordNotebookLoad=function(a){a=[this.driveAccessHistory_.recordNotebookLoad(a),this.localAccessHistory_.recordNotebookLoad(a)];return Qk(a).then(function(){})};k.updateNotebookInfo=function(a){a=[this.driveAccessHistory_.updateNotebookInfo(a),this.localAccessHistory_.updateNotebookInfo(a)];return Qk(a).then(function(){})};
k.search=function(a,b){var c=null,d=this.driveAccessHistory_.search(a,b);d&&(c=[],HQ(c,d));MQ(this.localAccessHistory_)&&(a=this.localAccessHistory_.search(a,b))&&(c||(c=[]),HQ(c,a));if(!c)return null;c.length>b&&(c.length=b);return c.map(function(e){return{fileId:qI(e.id),title:e.title,firstAccessed:e.firstAccessed,lastAccessed:e.lastAccessed,size:0}})};var PQ=function(a){this.notebook_=a};PQ.prototype.install=function(){nk(window,"paste",this.paste_,!0,this);nk(window,"copy",this.copy_,!1,this);nk(window,"cut",this.cut_,!1,this)};PQ.prototype.remove=function(){uk(window,"paste",this.paste_,!1,this);uk(window,"copy",this.copy_,!1,this);uk(window,"cut",this.cut_,!1,this)};var RQ=function(a){return QQ(a.notebook_).map(function(b){return b.getModel().toJson()})},SQ=function(a){return QQ(a.notebook_).map(function(b){return b.getModel().getText()}).join("\n\n")};
PQ.prototype.copy_=function(a){a=a.event_;var b=RQ(this);b.length&&(Y({message:mz(b.length)}),a.clipboardData.setData("application/ipynb",JSON.stringify(b)),a.clipboardData.setData("text/plain",SQ(this)),a.preventDefault())};
PQ.prototype.cut_=function(a){a=a.event_;var b=RQ(this);b.length&&(a.clipboardData.setData("application/ipynb",JSON.stringify(b)),a.preventDefault(),this.notebook_.isEditable()?(Y({message:"Cut "+(b.length+" cells. You can now paste them in this or a different notebook.")}),a=this.notebook_,TQ(a,UQ(a))):Y({message:"Unable to cut cells because the notebook is not editable. "+mz(b.length)}))};
PQ.prototype.paste_=function(a){var b=a.event_.clipboardData.getData("application/ipynb");b&&(this.notebook_.isEditable()?(VQ(this.notebook_,JSON.parse(b)),a.preventDefault(),a.stopPropagation()):Y({message:"Unable to paste cells because the notebook is not editable."}))};var YQ=function(a,b,c,d){d=void 0===d?"":d;var e=MM();e.notebookModel=a;var f=new tO,g=c({notebookModel:a,preferences:f,accessHistory:null,embeddedMode:!0});e.notebook=g;d&&WQ(g,d);c=g.getComponent();c.createDom();c.getElement().classList.add("embedded");c.render(b);return g.completelyLoaded().then(function(){d&&a.getTraits().params_.editView&&XQ(g);return g})};var aR=function(a,b,c,d){d=void 0===d?null:d;Om.call(this);var e=this;this.hashChangeListener_=function(f){ZQ(e,f.event_)};this.listen(window,"hashchange",this.hashChangeListener_);this.historyChangeListener_=function(){$Q(e)};this.listen(lz,"statechange",this.historyChangeListener_);this.traits_=a;this.deferredNotebookFactory_=b;this.notebookFactory_=null;this.isAnonymous_=tJ();this.notebookModelFactory_=c;this.accessHistory_=new OQ;nj(this,this.accessHistory_);this.recentDialogOpened_=!1;this.copyPaste_=
null;this.closeRecent_=Promise.resolve();this.preferences_=d||new tO;nj(this,this.preferences_);this.isAnonymous_||this.preferences_.load();nQ=this.preferences_.GITHUB_REQUEST_FULL_OAUTH_SCOPE;a=new uQ(this.preferences_);CQ().setHistory(a);this.localRedirectOnInitialize_=!0;this.showingUnsavedChangesPrompt_=!1};t(aR,Om);aR.prototype.close=function(){this.preferences_.close();this.accessHistory_.close()};
var ZQ=function(a,b){var c=new URL(b.newURL),d=sI(c);if(d.getFileId()||d.params_.create?0:a.traits_.getFileId())d=uI(d),d.setFileId(a.traits_.getFileId()),hA(d);else if(vI(a.traits_,d)){var e=bR();e?a.showingUnsavedChangesPrompt_||cR(a,e).then(function(f){f?(a.traits_=sI(c),dR(a)):window.location.hash=(new URL(b.oldURL)).hash}):(a.traits_=d,dR(a))}else eR(a,d)||fR(d)},fR=function(a){a.params_.preferences&&(a=MM(),a.notebook&&a.notebook.commandHandler_.execute(EF,20))},$Q=function(a){var b=tI();if(vI(a.traits_,
b)){var c=bR();c?a.showingUnsavedChangesPrompt_||cR(a,c).then(function(d){d?(a.traits_=b,dR(a)):hA(uI(a.traits_))}):(a.traits_=b,dR(a))}else eR(a,b)},cR=function(a,b){a.showingUnsavedChangesPrompt_=!0;return Wk(yH({title:"Unsaved changes",message:b,yesText:"Yes",noText:"No"}).then(function(c){return c}),function(){a.showingUnsavedChangesPrompt_=!1})},dR=function(a){Gz("Unloading notebook");var b=MM();b.notebook&&(b.notebook.getComponent().exitDocument(),b.notebook.getComponent().dispose(),b.notebook=
null);b.notebookModel&&(b.notebookModel.close(!1),b.notebookModel=null);a.copyPaste_&&a.copyPaste_.remove();gR(a,a.traits_)},eR=function(a,b){!b.params_.recent||a.recentDialogOpened_||b.params_.snippetQuery||a.isAnonymous_||(a.closeRecent_=UD.showOpenNotebookDialog(a.accessHistory_,b,{showNewNotebookButton:!0,canPrompt:!1}),a.closeRecent_.then(function(){a.recentDialogOpened_=!1;var c=tI();c.params_.recent&&(c=uI(c),c=Wz(c,"recent",!1),hA(c))}),a.recentDialogOpened_=!0)};
aR.prototype.initialize=function(){if(this.localRedirectOnInitialize_&&!this.traits_.params_.inlineDoc&&null==wI(this.traits_)){hA(uI(this.traits_),{replace:!0});var a=this.traits_;if(a.fileId_&&a.params_.fileId){a=tI();var b=a.getFileId();if(b){var c=LI();a.fileId_&&a.params_.fileId?NI(c,"set",{page:"/hashparam_notebook"+b.fileId_}):NI(c,"set",{page:window.location.pathname});NI(c,"send","pageview")}}}gR(this,this.traits_)};
var gR=function(a,b){var c=WD.ANNOUNCEMENTS,d=null;c.length&&(c=c[Math.floor(Math.random()*c.length)],d=lh("A",{target:"_blank","class":"moreinfo"},c.text),c.href&&ve(d,c.href));var e=TG({message:"Loading...",className:"startup",timeoutMillis:-1,element:d});if(!a.traits_.getTemplateParams()||a.traits_.params_.offline&&a.traits_.params_.sandboxMode){var f=a.traits_.getFileId();f?(eR(a,a.traits_),hR(a,f,function(){e.set({message:"Laying out notebook...",timeoutMillis:-1,element:d});return pn(1)}).then(function(g){e.clear();
f.toString()==XD.WELCOME_NOTEBOOK&&a.closeRecent_.then(function(){var l;return B(function(m){if(1==m.nextAddress){if(!g||!VD.AUTOCONNECT_ON_WELCOME_NOTEBOOK)return m.return();y(m,2);return u(m,g.getKernel().connectToDefault(),4)}if(2!=m.nextAddress)return va(m,0);l=z(m);if(l instanceof CH)return m.return();console.warn("notebook_manager: autoconnect: ${error}");x(m)})});if(g&&Vx){var h=g.getNotebookModel();az(h.getFileId())&&h.isOwnedByMe()&&g.installIfNeeded()}}).then(function(){},function(g){e.clear();
var h;g instanceof eK?h=g.error:h=g;iR(a,b,f,h)})):a.traits_.params_.create?jR(a.traits_,{withPrivateOutputs:a.preferences_.PRIVATE_OUTPUTS_ENABLED_BY_DEFAULT.getValue()}).catch(function(g){bJ(g);wH("Unable to load Colaboratory.",g)}):a.traits_.params_.fileIds?(hA(Uz(qI((a.traits_.params_.fileIds||null).split(",")[0]))),window.location.reload()):Kz(window.location.search.slice(1)).state?window.location.pathname="/v2/drive"+window.location.search:null!=wI(a.traits_)?UD.showOpenNotebookDialog(a.accessHistory_,
a.traits_,{focus:"github",canCancel:!1}):(c=a.traits_.fileIdParseError_)?(kR(a,{source:null,externalUrl:"",error:c}),bJ(c)):(c=uI(a.traits_).setFileId(qI(XD.WELCOME_NOTEBOOK)),a.isAnonymous_||Wz(c,"recent",!0),hA(c,{replace:!0}))}else hA(Wz(Xz(uI(a.traits_),!0),"sandboxMode",!0),{replace:!0})},iR=function(a,b,c,d){var e,f,g,h,l;B(function(m){switch(m.nextAddress){case 1:if(!(d instanceof CH)){m.jumpTo(2);break}return u(m,zH({title:"Drive authorization required",message:"Google Drive authorization is required to interact with Colaboratory notebooks stored in Google Drive.",
confirmText:"Reload"}),3);case 3:return window.location.reload(),m.return();case 2:if(d instanceof hI)return hA(uI(b).setFileId(d.fileId_),{replace:!0}),m.return();if(!az(c)||!tJ()){m.jumpTo(4);break}y(m,5);return u(m,yJ(),7);case 7:return m.return();case 5:z(m);case 4:e=d instanceof sA&&404==d.status;f=d instanceof AH&&!(!d.error||404!=d.error.code);if(az(c)&&(e||f))return g=DI(b),TD.DOMAIN_RESTRICTION?ye(window.location,"https://drive.google.com/a/"+(TD.DOMAIN_RESTRICTION+"/file/d/")+(b.getFileId()+
"?authuser="+g)):ye(window.location,"https://drive.google.com/file/d/"+b.getFileId()+("?authuser="+g)),m.return();h=XD.getNonColabUrl(c,DI(a.traits_))||"";l=c.source;kR(a,{source:l,externalUrl:h,error:d});ZI(null,d);x(m)}})},kR=function(a,b){var c=b.source,d=b.externalUrl;b=b.error;var e=b instanceof AH?BH(b):b.status,f=404==e||b.type===uK.NOT_FOUND||b instanceof KH,g="OK",h=null,l="github"==c?"github":void 0,m=function(){UD.showOpenNotebookDialog(a.accessHistory_,a.traits_,{showNewNotebookButton:!0,
canPrompt:!0,canCancel:!1,focus:l})},n=!f&&b.message?b.message:"",p=vH(b);f&&"piper"==c?(g="Select Workspace",m=function(){}):(b instanceof KH||b instanceof JH)&&!HH.accessToken_&&(g="Authorize with GitHub",n=b instanceof JH?"The GitHub API is responding with a rate limit exceeded error. Authorize Colaboratory to use the GitHub API to get a higher limit.":"Ensure that you have permission to view this notebook in GitHub and authorize Colaboratory to use the GitHub API.",m=function(){oQ().then(function(){dR(a)})},
a.preferences_.GITHUB_REQUEST_FULL_OAUTH_SCOPE.getValue()&&oQ().then(function(r){r&&h&&h.isConnected&&h.close()}));c=WD.NOTEBOOK_LOADING_ERROR({errorDetails:p,externalUrl:d,description:n,source:c||""});f||console.log("Error loading "+window.location.toString()+": status: "+e+" "+("externalUrl: "+d));try{(h=wH(c,b,{buttonText:g,title:f?"Notebook not found":"Notebook loading error"}))&&kH(h).then(function(){null!=m&&m()})}catch(r){console.warn("showLoadingError_: error in showErrorDialog")}},hR=function(a,
b,c){var d,e,f;return B(function(g){switch(g.nextAddress){case 1:return GI("notebook_load"),console.log("Loading notebook. "+b),LI().setFileId(b),d=sQ(a.notebookModelFactory_,{traits:a.traits_}),a.notebookFactory_=a.deferredNotebookFactory_(),u(g,d,2);case 2:e=g.yieldResult;Gz("Notebook model loaded.");HI("notebook_load");a.accessHistory_.recordNotebookLoad(e);if(!c){g.jumpTo(3);break}return u(g,c(),3);case 3:return u(g,lR(a,e),5);case 5:return f=g.yieldResult,g.return(f)}})},jR=function(a,b){var c=
b.withPrivateOutputs;console.log("Creating new notebook in Google Drive.");return qJ(mJ(),{allowCancel:!1}).then(function(){return a.params_.folderId?a.params_.folderId||null:KJ()}).then(function(d){return NJ(d,null,{withPrivateOutputs:c,language:a.params_.language||VD.DEFAULT_LANGUAGE&&VD.DEFAULT_LANGUAGE.name})}).then(function(d){var e=qI(d.id),f=$z(aA(Yz(uI(a),!1),null).setFileId(e),!0);d.parents.length&&Zz(f,d.parents[0].id);hA(f,{replace:!0});return e})},lR=function(a,b){var c,d,e,f,g,h,l,m;
return B(function(n){switch(n.nextAddress){case 1:GI("notebook_layout");if(!Zx){n.jumpTo(2);break}return u(n,hQ(yO(a.preferences_)),2);case 2:c=function(p){document.title=p+" - "+WD.DOCUMENT_TITLE};c(b.getTitle(),"notebook load");if(!a.traits_.getView()){n.jumpTo(4);break}return u(n,a.deferredNotebookFactory_(),5);case 5:return d=n.yieldResult,n.return(YQ(b,document.body,d,a.traits_.getView()).then(function(p){return p}));case 4:return e=MM(),e.notebookModel=b,b.listen("title_changed",function(p){c(p.title,
"realtime update");a.accessHistory_.updateNotebookInfo(b)},!1),b.listen("fatal_realtime_error",function(p){mR({title:"Failed: Realtime API",reason:p.error});bJ(p.error);console.log(p.error.message)},!1),b.listen("too_much_garbage",function(p){mR({title:"Failed to merge remote changes.",reason:p.error})},!1),y(n,6),u(n,cN(b,{withPrivateOutputs:a.preferences_.PRIVATE_OUTPUTS_ENABLED_BY_DEFAULT.getValue()}),8);case 8:f=n.yieldResult;if(a.traits_.params_.create)return g=Yz(uI(a.traits_),!1),f&&$z(Wz(g,
"templateParams",null).setFileId(qI(f)),!0),hA(g,{replace:!0}),n.return(new Promise(function(){}));va(n,7);break;case 6:throw h=z(n),console.log("Error applying template: ",h),new Cy("Error while rendering a form in the notebook using form template arguments supplied in the URL. Please reopen the notebook.\n"+h);case 7:return u(n,nR(b),9);case 9:l=n.yieldResult;if(!l)return n.return(null);a.traits_.params_.updateTitle&&az(b.getFileId())&&(YM(b),hA(Zz($z(uI(a.traits_),!1),null),{replace:!0}));return u(n,
oR(a,b),10);case 10:return m=n.yieldResult,pR(a,m),n.return(m)}})},pR=function(a,b){if(b){var c=a.traits_.params_.snippetFileIds||null;Xk(Mk().then(function(){if(c){var d=c.split(",").map(function(e){return qI(e)});return b.loadSnippets(d)}}).then(function(){var d=a.traits_.params_.snippetQuery||null;d&&qR(b,d)}),function(d){wH("Unable to open snippets",d);bJ(d)});b.loadSnippets(Nz.DEFAULT_SNIPPETS);rR(b)}},oR=function(a,b){var c,d,e,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:d=c=null;
e=MM();y(m,2);f=!1;var n=TI(b).isEditable()?f=!0:!1;g=n;return u(m,a.notebookFactory_,4);case 4:h=m.yieldResult;d=h({notebookModel:b,embeddedMode:!1,accessHistory:a.accessHistory_,preferences:a.preferences_});e.notebook=d;g&&d.attemptAutoconnect({skipCreation:f}).then(function(){},function(){});e.notebook.getComponent().render();a.copyPaste_=new PQ(e.notebook);a.copyPaste_.install();va(m,3);break;case 2:c=l=z(m),wH("Unable to load Colaboratory.",l),console.log(l);case 3:if(c)throw ZI(b,c),c;return u(m,
pn(0),5);case 5:return HI("notebook_layout"),ZI(b),EQ(),m.return(d)}})},nR=function(a){return 0<hK-a.bytesUsed()||!TI(a).isEditable()?Mk(!0):yH({title:"Notebook too large",message:"The notebook is larger than the supported limit. The notebook can either be opened in read-only mode or the code execution outputs can be cleared to decrease the size of the notebook.",yesText:"Clear all outputs",noText:"Open read-only"}).then(function(b){var c;return B(function(d){return 1==d.nextAddress?b?u(d,a.clearAllOutputs(),
3):(c=uI(a.getTraits()),c.setReadOnly(!0),gA(c),d.return(!1)):d.return(!0)})})},mR=function(a){var b=a.title;a=a.reason;NM();kH(wH("An error occurred that requires the notebook to be reloaded.\n"+b,a,{buttonText:"Reload"})).then(function(){cP()})},bR=function(){var a=MM().notebook;if(!a)return null;if(sR(a))return console.log("getUnsavedChangesPrompt: execution in progress"),"This notebook is currently executing. Outputs from running and pending cells will be lost. Are you sure you want to navigate away from this page?";
a=a.getNotebookModel();var b;if(b=a)a:{b=q(GM(a));for(var c=b.next();!c.done;c=b.next())if(c.value.isSaveRequired()){b=!0;break a}b=KM(a)}return b?"This notebook has unsaved changes, are you sure you want to navigate away from this page?":null};var tR=new Map,uR=function(a,b,c){var d=tR.get(a);return d?Mk().then(function(){return d(b,c)}):Mk({error:{type:"NO_HANDLER_ERROR",description:"No handler was provided for the given request type"}})};var vR=function(a,b,c,d){this.category=a;this.action=b;this.label=c||"";this.value=d||1};
function wR(a){var b=!1,c=a.request_type||"";switch(c){case "event":a=a.event_params;a=a.category&&a.action?new vR(a.category,a.action,a.label,a.value):void 0;if(!a){console.error("Invalid event params");break}dJ(a.category,a.action,a.label,a.value);b=!0;if(a.label&&1==a.value){var d=a.category,e=a.action;c="";"colabtools library"==d&&"import"==e?c="module_import":"colabtools library"==d&&"invocation"==e?c="library_invocation":"colabtools magic"==d&&"invocation"==e&&(c="magic_invocation");c&&(d={},
YI({colabtools_event:(d[c]=a.label,d),timing_event:[]}))}break;default:console.error("Unsupported analytics event type: "+c)}return Mk(b)};function xR(a){var b=a.path;a=a.url;if(b&&a)throw Error("Both path and url specified");if(!b&&!a)throw Error("No path or url specified");a=b?qI(b):I(sI(new URL(a||"")).fileId_);return MM().notebook.getWorker().loadSnippets(a,{ignoreCache:!0}).then(function(c){eJ(15,"Load Snippets",b);return{total_snippet_count:c.totalSnippetCount,warnings:c.warnings}})};var yR=function(){};yR=Polymer({is:"colab-service-dialog",properties:{buttonNames:Array,clicked:String,content:String,contentClass:String,input:{type:String,value:""},inputPresent:Boolean,title:String,onAttached:Object},attached:function(){if(this.onAttached)this.onAttached()},getPolymerElement:function(){return this},buttonClicked:function(a){this.clicked=a.target.getAttribute("name");this.dispatchEvent(new CustomEvent(mH.EventType.REQUEST_CLOSE,{bubbles:!0,componsed:!0}))}});
var zR=function(a){var b=a.title,c=a.content,d=void 0===a.cancelButton?-1:a.cancelButton,e=void 0===a.buttons?["yes","no","cancel"]:a.buttons,f=void 0===a.inputPrompt?!1:a.inputPrompt,g=void 0===a.defaultButton?0:a.defaultButton;a=void 0===a.contentCssClass?"":a.contentCssClass;var h=new yR,l=e[d]?d:e.findIndex(function(p){return"cancel"==p}),m=e[g]?g:-1;h.buttonNames=e;h.content=c;h.contentClass=a;h.title=b;h.inputPresent=f;var n=xH(h);n.withBackdrop=!1;n.polymerDialog.noCancelOnOutsideClick=!0;
n.polymerDialog.noCancelOnEscKey=!0;n.addEventListener("keydown",function(p){27==p.keyCode&&(0<=l&&(h.clicked=e[l]),n.close())});0<=m&&n.addEventListener("keydown",function(p){13==p.keyCode&&(h.clicked=e[m],n.close())});return lH(n).then(function(){if(!h.clicked)return null;var p={button:h.clicked};f&&(p.input_prompt=h.input);return p})};function AR(a){return zR({buttons:a.buttons,cancelButton:a.cancel_button,content:a.content,contentCssClass:a.content_css_class,defaultButton:a.default_button,inputPrompt:a.input_prompt,title:a.title})};var CR=function(a){var b=MM(),c={};if(F(a))c.ipynb=ND(b.notebookModel);else if(void 0!=a.cells){var d=[];c.cells=d;a.cells.forEach(function(e){e=BR(b.notebook,e);d.push(JD(e.getModel().toJson(),!1))})}return Mk(c)};function DR(a){MM().notebook.updateListeners(a.listenerId,a.payload);return Mk(!0)};function ER(){var a=MM().notebookModel;return Mk({bytes_used:a.bytesUsed(),bytes_available:hK-a.bytesUsed()})}function FR(){var a=MM().notebookModel;return Mk(a.getTitle())};function GR(a){var b=a.target;b&&b.startsWith("_")&&(b="_blank");ZG(a.url,b,a.specs);return Mk(!0)};function HR(a){var b=a.text||"";if(a.link){var c=lh("A",{target:"_blank","class":"moreinfo"},a.link_text||"MISSING_LINK_TEXT");ve(c,a.link)}a=parseInt(a.timeout,10)||3E3;0>a&&(console.log("Ignoring negative timeout: "+a),a=3E3);Y({message:b,timeoutMillis:a,element:c,className:"kernel"});return Mk(!0)};function IR(a){function b(){h.stop()}var c,d,e,f,g,h,l;return B(function(m){if(1==m.nextAddress)return c=a.audio||!1,d=a.video||!1,e=a.duration||-1,f=d?"video/webm":"audio/webm",u(m,navigator.mediaDevices.getUserMedia({audio:c,video:d}),2);if(3!=m.nextAddress)return g=m.yieldResult,h=new MediaRecorder(g,{mimeType:f}),h.start(),Number.isFinite(e)&&0<e?setTimeout(b,1E3*e):zH({title:"Recording",message:"Press stop to finish recording",opt_confirmText:"Stop"}).then(b),u(m,new Ik(function(n,p){var r=[];
h.ondataavailable=function(w){r.push(w.data)};h.onerror=p;h.onstop=function(){var w=new Blob(r,{type:f}),v=new FileReader;v.onload=function(A){g.getAudioTracks().forEach(function(H){H.stop()});g.getVideoTracks().forEach(function(H){H.stop()});n(A.target.result)};v.readAsDataURL(w)}}),3);l=m.yieldResult;return m.return(l)})};var LR=function(a){lj.call(this);var b=this;this.notebookManager_=null;du||(du=new cu);D.location&&-1!=D.location.href.indexOf("Debug=true")&&eu();cJ();JR();tR.set("get_ipynb",CR);tR.set("analytics",wR);tR.set("register_snippets",xR);tR.set("dialog",AR);tR.set("cell_message",DR);tR.set("get_notebook_size",ER);tR.set("get_notebook_name",FR);tR.set("open_url",GR);tR.set("toast",HR);tR.set("user_media",IR);window.addEventListener("beforeunload",function(d){var e=bR();e&&(d.returnValue=e)});window.addEventListener("unload",
function(){KR(b)});RD.init();var c=function(){var d=function(){var e;return B(function(f){if(1==f.nextAddress)return QG(),Jx?u(f,pn(0),2):f.jumpTo(2);b.customizeCodeMirror();ey||!MathJax||Iy||(MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},AssistiveMML:{disabled:!0},displayAlign:"center","HTML-CSS":{styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0},imageFont:null},messageStyle:"none",
elements:[]}),MathJax.Hub.Configured(),Iy=!0);e=tI();b.notebookManager_=new aR(e,a,b.createNotebookModel.bind(b));b.notebookManager_.initialize();nj(b,b.notebookManager_);x(f)})};Polymer.RenderStatus.beforeNextRender?Polymer.RenderStatus.beforeNextRender(window,d):Polymer.RenderStatus.whenReady(d)};Jx?Fy(window,"WebComponentsReady").then(c):c()};t(LR,lj);
var KR=function(a){MM().close(!0,function(){a.dispose()});a.notebookManager_&&(a.notebookManager_.close(),a.notebookManager_=null)},JR=function(){if(Gx){var a=D.document.referrer;if(D===D.parent||!a||(new URL(a)).origin!=Gx)throw ye(window.location,yd),Error("Unsupported IFrame parent.");}};LR.prototype.customizeCodeMirror=function(){CodeMirror.commands.save=function(){MM().notebook.saveNotebook(!1)};CodeMirror.Vim.defineEx("quit","q",function(a){a.getInputField().blur()})};
LR.prototype.createNotebookModel=function(a){var b=a.document,c=a.driveMetadata,d=a.permissions,e=a.traits;a=a.userInfo;return az(I(e.fileId_))?new zN(b,e,I(c),a,d):new FN(b,e,d)};function MR(a,b){if(a.separator)return new Op;var c=a.name||"",d=a.children?new cx(c):new Kp(c);a.shortcut&&(d.createDom(),d.getElement().childNodes[0].appendChild(lh("SPAN","goog-menuitem-accel",a.shortcut)),a.isDisabled&&a.isDisabled()&&d.setEnabled(!1));a.callback&&b&&b.listen(d,"action",function(){a.callback(d)});d instanceof cx&&a.children&&a.children.forEach(function(e){d.addItem(MR(e,b))});return d}
var NR=function(a,b,c){var d=void 0===c?{}:c;c=void 0===d.before?!1:d.before;d=void 0===d.noCleanupOnHide?!1:d.noCleanupOnHide;var e=new Xw;a=a.filter(function(l){return null==l.command||!l.command.isDisabled()});c&&a.reverse();for(var f=[],g=0;g<a.length;g++){var h=a[g];if(h.separator){if(0==f.length)continue;if(!a[g+1]||a[g+1].separator)continue}f.push(MR(h,b))}c?f.forEach(function(l){e.addChildAt(l,0,!0)}):f.forEach(function(l){e.addChild(l,!0)});d||b.listen(e,"hide",function(){e.dispose()});e.getElement().id=
"context-menu";return e};var OR=function(){return $D.apply(this,arguments)||this};t(OR,$D);OR.prototype.createdCallback=function(){var a=this,b=this.querySelector(".colab-assist-result-insert");b&&(b.addEventListener("click",function(){return PR(a)}),this.addEventListener("dblclick",function(){return PR(a)}));this.handler_=new Om(this);this.handler_.listen(this,"contextmenu",function(c){a.openContextMenu_(c)})};var PR=function(a){a.dispatchEvent(new Event("insert",{bubbles:!0}))};
OR.prototype.openContextMenu_=function(a){var b=this,c=NR([{name:"Copy link to snippet",callback:function(){var d=Rz(!1,{snippetFileIds:b.model.fileId,snippetQuery:b.model.title},null),e=document.createElement("INPUT".toString());document.body.appendChild(e);e.value=d;e.select();document.execCommand("copy");e.remove();TG({message:"Link copied to clipboard."})}}],this.handler_);aH(c,a)};OR.prototype.model=null;OR.prototype.handler_=null;bH("colab-assist-pane-result",OR);var QR=function(a,b,c){M.call(this);var d=this;this.template_=b;this.destination_=a;(c||a).addEventListener("keydown",function(e){return d.handleKeyDown_(e)});this.items_=[];this.selectedIndex_=-1};t(QR,M);QR.prototype.handleKeyDown_=function(a){40==a.keyCode?(this.selectedIndex=this.selectedIndex_<this.items_.length-1?this.selectedIndex+1:0,a.preventDefault()):38==a.keyCode&&(this.selectedIndex=0<this.selectedIndex?this.selectedIndex-1:this.items_.length-1,a.preventDefault())};
var RR=function(a,b,c){a.selectedIndex=-1;sh(a.destination_);a.items_=b;b=q(a.items_);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=pm(a.template_,{isNotebookEditable:c,title:d.title});e.addEventListener("click",function(f){a.selectedElement=f.currentTarget});e.model=d;a.destination_.appendChild(e)}};
ca.Object.defineProperties(QR.prototype,{selectedIndex:{configurable:!0,enumerable:!0,set:function(a){a!=this.selectedIndex_&&(0<=this.selectedIndex_&&this.selectedIndex_<this.destination_.children.length&&this.destination_.children[this.selectedIndex_].classList.toggle("selected",!1),this.selectedIndex_=a,-1!=a&&a<this.items_.length&&(a=this.destination_.children[a],a.classList.toggle("selected",!0),a.scrollIntoViewIfNeeded?a.scrollIntoViewIfNeeded():a.scrollIntoView()),this.dispatchEvent("selection_changed"))},
get:function(){return this.selectedIndex_}},selectedItem:{configurable:!0,enumerable:!0,get:function(){return 0<=this.selectedIndex_&&this.selectedIndex_<this.items_.length?this.items_[this.selectedIndex_]:null}},selectedElement:{configurable:!0,enumerable:!0,set:function(a){this.selectedIndex=Array.from(this.destination_.children).indexOf(a)}}});var SR=function(){return Q("<paper-input class=\"colab-assist-pane-input\" type='text' label=\"Filter code snippets\" no-label-float><iron-icon prefix slot=\"prefix\" icon=\"filter-list\"></iron-icon></paper-input><paper-progress class=\"colab-assist-progress\" indeterminate></paper-progress><colab-shaded-scroller class='colab-assist-pane-results' shade-bottom></colab-shaded-scroller><colab-shaded-scroller class='colab-assist-pane-details'><div class='colab-assist-pane-documentation'><div class='colab-assist-pane-doc-header'><div class='colab-assist-pane-doc-title'></div><paper-button class='colab-assist-pane-doc-insert'>Insert</paper-button></div></div><div class='colab-assist-pane-cells'></div><paper-button class='colab-assist-pane-view-source'>View source notebook</paper-button></colab-shaded-scroller>")};
SR.soyTemplateName="colab.assist.templates.assistPane";var TR=function(a){var b=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string");a=U(Oa(a.isNotebookEditable)||1===a.isNotebookEditable||0===a.isNotebookEditable,"isNotebookEditable",a.isNotebookEditable,"boolean");return Q("<colab-assist-pane-result><div class='colab-assist-pane-result-text'>"+R(b)+"</div>"+(a?"<iron-icon class='colab-assist-result-insert' icon=\"arrow-forward\"></iron-icon>":"")+"</colab-assist-pane-result>")};
TR.soyTemplateName="colab.assist.templates.assistPaneResultItem";var UR=function(a){this.worker_=a};UR.prototype.filterSnippets=function(a){return this.worker_.filterSnippets(a)};var VR=function(){return $D.apply(this,arguments)||this};t(VR,$D);var WR=function(a){var b=document.createElement("div");b.classList.add("resizer-thumb");a.classList.contains("we-resize")?a.insertBefore(b,a.firstChild):a.appendChild(b);return b};k=VR.prototype;
k.attachedCallback=function(){var a=this,b=WR(this);this.dragger_=new Um(b);this.dragger_.listen("start",function(c){a.startWidth_=(new Wg(a.offsetWidth,a.offsetHeight)).width;a.startHeight_=(new Wg(a.offsetWidth,a.offsetHeight)).height;a.startClientX_=c.clientX;a.startClientY_=c.clientY});this.dragger_.listen("drag",function(c){return a.handleDrag_(c)})};k.detachedCallback=function(){this.dragger_&&(this.dragger_.target.remove(),this.dragger_.dispose())};
k.handleDrag_=function(a){if(this.classList.contains("ew-resize")||this.classList.contains("we-resize")){a=a.clientX-this.startClientX_;a=this.classList.contains("ew-resize")?this.startWidth_+a:this.startWidth_-a;var b=parseInt(Yh(this,"min-width"),10),c=parseInt(Yh(this,"max-width"),10);Pa(b)&&a<b||Pa(c)&&a>c||(this.style.width=a+"px")}else this.classList.contains("ns-resize")&&(a=this.startHeight_+a.clientY-this.startClientY_,b=parseInt(Yh(this,"min-height"),10),c=parseInt(Yh(this,"max-height"),
10),Pa(b)&&a<b||Pa(c)&&a>c||(this.style.height=a+"px"))};k.startWidth_=0;k.startHeight_=0;k.startClientX_=0;k.startClientY_=0;k.dragger_=null;bH("colab-resizer",VR);var YR=function(){return $D.apply(this,arguments)||this};t(YR,$D);YR.prototype.createdCallback=function(){var a=this;this.shadeBottom_=null!=this.getAttribute("shade-bottom");this.boundStyleFn_=this.refreshStyle_.bind(this);this.addEventListener("scroll",this.boundStyleFn_,{passive:!0});this.domObserver_=new MutationObserver(function(){a.refreshStyle_()});this.domObserver_.observe(this,{childList:!0,subtree:!0})};
var ZR=function(a){a.domObserver_&&(a.domObserver_.disconnect(),a.domObserver_=null,a.removeEventListener("scroll",a.boundStyleFn_,{passive:!0}))};k=YR.prototype;k.attachedCallback=function(){var a=this;pn(0).then(function(){a.refreshStyle_()})};
k.refreshStyle_=function(){var a="inset 0 4px 4px "+(-7+Math.min(this.scrollTop,20)/4)+"px rgba(0,0,0,0.15)";this.shadeBottom_&&(a=a+", "+("inset 0 -4px 4px "+(-7+Math.min(this.scrollHeight-this.scrollTop-this.clientHeight,20)/4)+"px rgba(0,0,0,0.15)"));this.style.boxShadow=a};k.shadeBottom_=!1;k.boundStyleFn_=null;k.domObserver_=null;bH("colab-shaded-scroller",YR);var $R=function(){return $D.apply(this,arguments)||this};t($R,$D);k=$R.prototype;
k.createdCallback=function(){var a=this,b=nm(SR);this.appendChild(b);this.addEventListener("keypress",function(c){13==c.keyCode&&aS(a)});this.querySelector(".colab-assist-pane-input").addEventListener("input",function(c){return a.updateSearch_(c.target.value)});b=this.querySelector(".colab-assist-pane-results");this.items_=new QR(b,TR,this);this.items_.listen("selection_changed",function(){bS(a,a.items_.selectedItem)});b.addEventListener("insert",function(c){a.items_.selectedElement=c.target;aS(a)});
this.querySelector(".colab-assist-pane-doc-insert").addEventListener("click",function(){aS(a)});this.querySelector(".colab-assist-pane-view-source").addEventListener("click",function(){var c=a.items_.selectedItem;if(c){var d=qI(c.fileId);ze(eA(Vz(Uz(d),c.cellId),!1).toString())}});this.docTitle_=this.querySelector(".colab-assist-pane-doc-title");this.cells_=this.querySelector(".colab-assist-pane-cells");this.progress_=this.querySelector(".colab-assist-progress")};k.isInitialized=function(){return!!this.provider_};
k.focus=function(){var a=this.querySelector(".colab-assist-pane-input");my?a.focus():a.inputElement.focus()};k.init=function(a,b,c){var d=this;this.provider_=a;this.isNotebookEditable_=b;a=this.querySelector(".colab-assist-pane-doc-insert");!b&&a&&a.remove();bS(this,null);this.updateSearch_("");this.preferences_=c;this.preferences_.listen("change",function(){d.updateTheme_()});this.codeSnippet_=null};k.setQuery=function(a){this.querySelector(".colab-assist-pane-input").value=a;this.updateSearch_(a)};
k.updateSearch_=function(a){var b=this;--this.inProgressSearches_;this.progress_.classList.toggle("searching",!0);Wk(this.provider_.filterSnippets(a).then(function(c){RR(b.items_,c,b.isNotebookEditable_);b.items_.selectedIndex=0;b.dispatchEvent(new Event("results_updated"))}),function(){++b.inProgressSearches_;b.progress_.classList.toggle("searching",!!b.inProgressSearches_)})};
var bS=function(a,b){var c,d,e,f,g,h,l;B(function(m){switch(m.nextAddress){case 1:sh(a.cells_);if(!b)return a.docTitle_.textContent="",a.classList.toggle("colab-assist-pane-no-selection",!0),m.return();a.classList.toggle("colab-assist-pane-no-selection",!1);a.docTitle_.textContent=b.title;c=Uz(qI(b.fileId));d=q(b.cells);e=d.next();case 2:if(e.done){m.jumpTo(0);break}f=e.value;if("text"!=f.type){"code"==f.type&&(g=document.createElement("DIV".toString()),g.classList.add("colab-assist-pane-code"),a.cells_.appendChild(g),
a.codeSnippet_=new CodeMirror(g,cS),a.updateTheme_(),a.codeSnippet_.setValue(f.contents),a.codeSnippet_.setOption("mode",f.codeLanguage));m.jumpTo(3);break}return u(m,SB(f.contents||"",function(n){return Oz(n,c.params_,void 0)},null),6);case 6:h=m.yieldResult,(l=h.querySelector("h1,h2,h3,h4,h5,h6"))&&l.remove(),[].concat(ja(h.querySelectorAll("a[href]"))).forEach(function(n){return n.setAttribute("target","_blank")}),h.classList.add("colab-assist-pane-documentation"),a.cells_.appendChild(h);case 3:e=
d.next(),m.jumpTo(2)}})};$R.prototype.updateTheme_=function(){this.codeSnippet_&&this.codeSnippet_.setOption("theme","dark"==yO(this.preferences_)?"monokai":"default")};var aS=function(a){var b=a.items_.selectedItem;if(b){for(var c=[],d=q(b.cells),e=d.next();!e.done;e=d.next())e=e.value,"code"==e.type&&c.push(e);b=new CustomEvent("insert_snippet",{detail:{cells:c,fileId:b.fileId}});a.dispatchEvent(b)}};k=$R.prototype;k.provider_=null;k.items_=null;k.docTitle_=null;k.cells_=null;
k.inProgressSearches_=0;k.progress_=null;k.isNotebookEditable_=!0;var cS={scrollbarStyle:"simple",lineNumbers:!1,lineWrapping:!1,viewportMargin:10,tabSize:2,readOnly:!0},dS=bH("colab-assist-pane",$R);dS.EventType={INSERT_SNIPPET:"insert_snippet",RESULTS_UPDATED:"results_updated"};var eS=function(){return Q('<div class="codecell-input-output"><div class="inputarea horizontal layout"><div class="cell-gutter">\x3c!-- Bounding range for vertical scrolling of icons --\x3e<div class="cell-execution-container">\x3c!-- Content which is being vertically positioned --\x3e<div class="cell-execution"><div class="execution-count"></div><div class="cell-execution-indicator"><div class=\'cell-spinner\'></div><paper-icon-button icon=\'av:av:play-circle-filled\' noink></paper-icon-button></div></div></div></div></div></div>')};
eS.soyTemplateName="colab.cell.templates.inputarea";
var fS=function(a){var b=U(F(a.addCodeCellTitle)||a.addCodeCellTitle instanceof N,"addCodeCellTitle",a.addCodeCellTitle,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.addTextCellTitle)||a.addTextCellTitle instanceof N,"addTextCellTitle",a.addTextCellTitle,"!goog.soy.data.UnsanitizedText|string");b='<div class="add-cell"><div class="add-cell-buttons"><colab-toolbar-button class="add-code add-button" icon="add-box" title="'+T(b)+'">';b=b+"code"+('</colab-toolbar-button><colab-toolbar-button class="add-text add-button" icon="add-box" title="'+
T(a)+'">');return Q(b+"text</colab-toolbar-button></div><hr/></div>")};fS.soyTemplateName="colab.cell.templates.addCell";
var gS=function(a){var b=U(F(a.url)||a.url instanceof N,"url",a.url,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string");return Q("<a href='"+T(Do(b))+"' target='_blank'>"+R(a)+"</a>")},hS=function(a){var b=U(Oa(a.pending)||1===a.pending||0===a.pending,"pending",a.pending,"boolean"),c=U(F(a.url)||a.url instanceof N,"url",a.url,"!goog.soy.data.UnsanitizedText|string"),d=U(F(a.title)||a.title instanceof N,"title",a.title,
"!goog.soy.data.UnsanitizedText|string"),e=U(Oa(a.locallyModified)||1===a.locallyModified||0===a.locallyModified,"locallyModified",a.locallyModified,"boolean"),f=U(Oa(a.editable)||1===a.editable||0===a.editable,"editable",a.editable,"boolean");a=U(F(a.msgSyncButton)||a.msgSyncButton instanceof N,"msgSyncButton",a.msgSyncButton,"!goog.soy.data.UnsanitizedText|string");var g="<div class='imported-from-banner'>";b?(c='Loading cell from "'+(gS({url:c,title:d})+'"...'),g+=c):(c='From <i>"'+(gS({url:c,
title:d})+'"</i>'),g+=c);e&&(g=g+" <span title='"+S("This cell has been modified. It will be overwritten if synced"),g+="'><b>(*)</b></span>");g+=(f?'<paper-icon-button icon="icons:cloud-download"'+(b?" disabled":"")+' title="'+T(a)+'" class="sync-imported-cell"></paper-icon-button>':"")+"</div>";return Q(g)};hS.soyTemplateName="colab.cell.templates.importedFrom";
var iS=function(a){a=a||{};a=U(null==a.selectedIndex||Pa(a.selectedIndex),"selectedIndex",a.selectedIndex,"null|number|undefined");return Q('<div class="cell-slides-toolbar"><paper-dropdown-menu no-label-float><paper-listbox class="dropdown-content" slot="dropdown-content" valueattr="label" selected="'+T(a)+'"><paper-item label="slide">Slide</paper-item><paper-item label="-">Content</paper-item><paper-item label="skip">Skip</paper-item><paper-item label="fragment">Fade In</paper-item></paper-listbox></paper-dropdown-menu></div>')};
iS.soyTemplateName="colab.cell.templates.slidesToolbar";var jS=function(){return Q('<div class="cell-execution-schedule-toolbar"><button class="schedule-toggle">Unscheduled</button><iron-collapse closed class="schedule-collapse"><div class="content"><paper-checkbox class="schedule-checkbox">Run on startup</paper-checkbox><paper-input class="schedule-interval" label="Execution interval (30s, 5m, 12h, 7d, ...)" auto-validate pattern="^$|[0-9]+[smhd]" error-message="Unrecognized interval format"></paper-input></div></iron-collapse><br/></div>')};
jS.soyTemplateName="colab.cell.templates.executionScheduleToolbar";var kS=function(){return Q('<div class="output"><div class="output-header"></div><div class="output-content"><div class="output-info"></div><div class="output-iframe-container"><div class="output-iframe-sizer"></div></div></div></div>')};kS.soyTemplateName="colab.cell.templates.outputArea";var lS=function(){return Q('<div class="output-icon"><iron-icon class="collaborator"></iron-icon><iron-icon command="clear-focused-or-selected-outputs" icon="icons:cancel"></iron-icon></div>')};
lS.soyTemplateName="colab.cell.templates.outputIcon";var mS=function(){return Q('<paper-button class="output-show-output">Show hidden output</paper-button>')};mS.soyTemplateName="colab.cell.templates.hiddenOutputWarning";
var nS=function(a){a=U(Oa(a.previewBelow)||1===a.previewBelow||0===a.previewBelow,"previewBelow",a.previewBelow,"boolean");var b='<div class="markdown-toolbar"><paper-icon-button title="'+S("Toggle heading");b=b+'" icon="editor:format-size"></paper-icon-button><paper-icon-button title="'+S("Bold");b=b+'" icon="editor:format-bold"></paper-icon-button><paper-icon-button title="'+S("Italicize");b=b+'" icon="editor:format-italic"></paper-icon-button><paper-icon-button title="'+S("Format as code");b=b+
'" icon="icons:code"></paper-icon-button><paper-icon-button title="'+S("Insert link");b=b+'" icon="editor:insert-link"></paper-icon-button><paper-icon-button title="'+S("Insert image");b=b+'" icon="editor:insert-photo"></paper-icon-button><paper-icon-button title="'+S("Indent");b=b+'" icon="editor:format-indent-increase"></paper-icon-button><paper-icon-button title="'+S("Add numbered list");b=b+'" icon="editor:format-list-numbered"></paper-icon-button><paper-icon-button title="'+S("Add bulleted list");
b=b+'" icon="editor:format-list-bulleted"></paper-icon-button><paper-icon-button title="'+S("Add horizontal rule");b=b+'" icon="editor:linear-scale"></paper-icon-button><paper-icon-button class="markdown-toolbar-preview" title="'+S("Reposition markdown preview");return Q(b+('" icon="colab:markdown-preview-'+(a?"right":"below")+'"></paper-icon-button></div>'))};nS.soyTemplateName="colab.cell.templates.markdownToolbar";var oS=function(a){O.call(this);this.cellId_=a};t(oS,O);oS.prototype.getCellId=function(){return this.cellId_};oS.prototype.createDom=function(){var a=this,b=pm(fS,{addCodeCellTitle:"Add code cell",addTextCellTitle:"Add text cell"});this.element_=b;b.querySelector(".add-code").addEventListener("click",function(){a.dispatchEvent("add_code");eJ(13,"+c;","Add Code Cell")});b.querySelector(".add-text").addEventListener("click",function(){a.dispatchEvent("add_text");eJ(13,"+Tt","Add Text Cell")})};var pS=null,qS=function(){this.shadowElement_=this.element_=null;this.prevScroll_=0;this.scrollListenerKey_=null},rS=function(){pS||(pS=new qS);return pS};qS.prototype.initialized=function(){return null!=this.element_};var tS=function(a,b,c){null!=a.scrollListenerKey_&&vk(a.scrollListenerKey_);a.element_=b;a.shadowElement_=c;a.scrollListenerKey_=nk(a.element_,"scroll",function(){sS(a)},{passive:!0})};qS.prototype.scroll=function(a){this.element_.scrollTop=this.element_.scrollTop+a};
var sS=function(a){var b=Math.min(a.element_?a.element_.scrollTop:0,20);a.prevScroll_!==b&&(a.prevScroll_=b,a.shadowElement_.style.boxShadow="inset 0 4px 4px "+(-7+b/4)+"px rgba(0,0,0,0.15)")};var uS=function(a,b){K.call(this,"execute");this.command=a;this.source=b};t(uS,K);var vS=function(a,b,c){c=void 0===c?!1:c;O.call(this);this.text_=a;this.preferences=b;this.getHandler().listen(this.preferences,"change",this.prefsChanged_);this.prefsChangedTimeout_=void 0;this.lineWrapping_=c;this.rulerOptions_=null;this.rulerPrefEnabled_=!0;this.lineNumbersVisibilityMode_="get_from_prefs";this.isVisible_=!0;this.isEditorInvalidated_=!1;this.rulerPos_=0;this.viewLineCount_=this.monacoLinesContent_=this.textModel=this.monaco=this.rulerDisplayPos_=null;this.isReadOnly_=this.sizeToContainer_=
this.applyingModelChanges_=this.applyingRealtimeChanges_=!1;this.enableAutocomplete_=!0;this.hasQuickSuggest_=this.isFirstLineAndColumn=this.isLastLineAndColumn=this.emacsStatusBar_=this.vimStatusBar_=this.emacsMode=this.vimMode=null;this.conditionalAutocomplete_=function(){return!0};this.hoverController=null};t(vS,O);k=vS.prototype;k.disposeInternal=function(){this.monaco&&(this.monaco.dispose(),this.monaco=null);this.textModel&&(this.textModel.dispose(),this.textModel=null)};k.getComponent=function(){return this};
k.syntaxHighlighting_=function(){return"notebook-python"};k.setEnableRulerPref=function(a){this.rulerPrefEnabled_=a};k.setLineNumbersVisibility=function(a){this.lineNumbersVisibilityMode_=a};k.disableAutoCompletions=function(){this.conditionalAutocomplete_=function(){return!1};this.enableAutocomplete_=!1;this.monaco&&(this.monaco.updateOptions({autoClosingBrackets:!1,quickSuggestions:!1}),this.hasQuickSuggest_.set(!1))};k.getText=function(){return this.textModel.getValue(monaco.editor.EndOfLinePreference.LF)};
k.blur=function(){this.inDocument_&&(this.isFocused()&&(document.activeElement.blur(),document.body.focus()),this.monaco&&(this.monaco.trigger("","hideSuggestWidget",""),this.monaco.trigger("","closeParameterHints","")))};k.isFocused=function(){return!(!this.monaco||!this.monaco.hasTextFocus())};k.computeMaxLineLength_=function(){var a=0,b=this.textModel.getLinesContent();b=q(b);for(var c=b.next();!c.done;c=b.next())a=Math.max(a,c.value.length);return a};
k.setText=function(a,b){(void 0===b?0:b)?this.monaco.setValue(a):this.text_.setText(a)};k.setSyntaxHighlighting=function(a){ab(a)?this.syntaxHighlighting_=a:this.syntaxHighlighting_=function(){return a}};k.setConditionalAutocomplete=function(a){this.conditionalAutocomplete_=a};var wS=function(a){var b="";a.textModel&&(b=a.textModel.getLineContent(1));a=a.syntaxHighlighting_(b);"markdown-latex"==a&&(a="markdown");return a};vS.prototype.addOnChangeHandler=function(a){this.textModel.onDidChangeContent(a)};
vS.prototype.refresh=function(){var a=this;this.isEditorInvalidated_||(this.isEditorInvalidated_=!0,Aj(function(){return a.performRefresh_()}))};
vS.prototype.performRefresh_=function(){this.isEditorInvalidated_=!1;if(this.inDocument_&&this.isVisible_){var a=this.preferences,b="get_from_prefs"==this.lineNumbersVisibilityMode_&&a.SHOW_LINE_NUMBERS.getValue()||"visible"==this.lineNumbersVisibilityMode_,c=this.conditionalAutocomplete_()&&a.EDITOR_AUTO_TRIGGER_COMPLETIONS.getValue();this.monaco.updateOptions({lineNumbers:b,autoClosingBrackets:this.enableAutocomplete_&&a.AUTO_CLOSE_BRACKETS.getValue(),quickSuggestions:{other:c,comments:!1,strings:!1}});
this.hasQuickSuggest_.set(c);ky&&(b=Ph(this.getElement(),"codecell-input-output")||Ph(this.getElement(),"main-content"),(c=Ph(this.getElement(),"cell"))&&b&&(xS(this,I(b),I(c)),yS(this,I(b),I(c))));monaco.editor.setModelLanguage(I(this.textModel),wS(this));this.textModel.updateOptions({tabSize:a.INDENT_NUM_SPACES.getValue()});this.rulerPos_=a.SHOW_RULER_AT.getValue();monaco.editor.setTheme(oB(yO(a)));this.updateRulers_();zS(this,!0);this.dispatchEvent("editor_refresh")}};
var yS=function(a,b,c){"emacs"!=a.preferences.EDITOR_KEY_MAP.getValue()||a.emacsMode||a.emacsStatusBar_?"emacs"!=a.preferences.EDITOR_KEY_MAP.getValue()&&(a.emacsMode||a.emacsStatusBar_)&&(a.emacsStatusBar_&&(b.removeChild(a.emacsStatusBar_),c.classList.remove("has-statusbar"),a.emacsStatusBar_=null),a.emacsMode&&a.emacsMode.dispose(),a.emacsMode=null):(a.emacsStatusBar_=oh("DIV"),a.emacsStatusBar_.classList.add("monaco-emacs-statusbar"),b.insertBefore(a.emacsStatusBar_,b.querySelector(".output")),
c.classList.add("has-statusbar"),lQ(I(a.monaco),a.emacsStatusBar_).then(function(d){a.emacsMode=d}))},xS=function(a,b,c){"vim"!=a.preferences.EDITOR_KEY_MAP.getValue()||a.vimMode||a.vimStatusBar_?"vim"!=a.preferences.EDITOR_KEY_MAP.getValue()&&(a.vimMode||a.vimStatusBar_)&&(a.vimStatusBar_&&(b.removeChild(a.vimStatusBar_),c.classList.remove("has-statusbar"),a.vimStatusBar_=null),a.vimMode&&a.vimMode.dispose(),a.vimMode=null):(a.vimStatusBar_=oh("DIV"),a.vimStatusBar_.classList.add("monaco-vim-statusbar"),
b.insertBefore(a.vimStatusBar_,b.querySelector(".output")),c.classList.add("has-statusbar"),kQ(I(a.monaco),a.vimStatusBar_).then(function(d){a.vimMode=d}))};k=vS.prototype;k.prefsChanged_=function(){var a=this;this.prefsChangedTimeout_&&clearTimeout(this.prefsChangedTimeout_);this.prefsChangedTimeout_=setTimeout(function(){return a.refresh()},10)};k.setStyleActiveLine=function(){};k.setReadOnly=function(a){this.isReadOnly_=a;this.monaco&&this.monaco.updateOptions({readOnly:a})};
k.setLineWrapping=function(a){a?this.rulerPrefEnabled_&&0<this.rulerPos_?this.monaco.updateOptions({wordWrap:"bounded",wordWrapColumn:this.rulerPos_}):this.monaco.updateOptions({wordWrap:"on"}):this.monaco.updateOptions({wordWrap:"off"})};k.isVisible=function(){return this.isVisible_};k.setVisible=function(a){(this.isVisible_=a)||this.blur();this.getElement()&&(qi(this.getElement(),a),a&&(this.monaco||this.createEditor(),this.refresh()))};
k.createDom=function(){var a=oh("DIV");a.classList.add("editor","flex","monaco");this.element_=a};
k.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);var b=this.getHandler(),c=wS(this);this.textModel=monaco.editor.createModel(this.text_.getText(),c);this.textModel.setEOL(monaco.editor.EndOfLineSequence.LF);this.textModel.updateOptions({tabSize:this.preferences.INDENT_NUM_SPACES.getValue(),trimAutoWhitespace:!0});c=this.text_;b.listen(c,AD.TEXT_INSERTED,function(d){d=d.event_;if(!a.applyingModelChanges_){a.applyingRealtimeChanges_=!0;if(a.isReadOnly_)a.textModel.setValue(a.text_.getText());
else{var e=a.textModel.getPositionAt(d.index),f=a.monaco.getSelections()||void 0;a.monaco.executeEdits("realtime",[{identifier:"",range:new monaco.Range(e.lineNumber,e.column,e.lineNumber,e.column),text:d.text}],f)}a.applyingRealtimeChanges_=!1;AS(a,"realtimeTextInserted_")}});b.listen(c,AD.TEXT_DELETED,function(d){var e=d.event_;if(!a.applyingModelChanges_){a.applyingRealtimeChanges_=!0;if(a.isReadOnly_)a.textModel.setValue(a.text_.getText());else{d=a.monaco.getSelections()||void 0;var f=a.textModel.getPositionAt(e.index);
e=a.textModel.getPositionAt(e.index+e.text.length);f=new monaco.Range(f.lineNumber,f.column,e.lineNumber,e.column);a.monaco.executeEdits("realtime",[{identifier:"",range:f,text:""}],d)}a.applyingRealtimeChanges_=!1;AS(a,"realtimeTextDeleted_")}});this.textModel.onDidChangeContent(function(d){return a.modelContentChanged(d)});this.isVisible_&&this.createEditor()};
k.createEditor=function(){var a=this;if(!this.monaco){var b=this.getHandler(),c=this.getElement(),d=!1;uy&&"contain"in c.style&&(d=!0);this.monaco=monaco.editor.create(c,{model:this.textModel,acceptSuggestionOnEnter:!0,autoIndent:!0,disableLayerHinting:d,fixedOverflowWidgets:!0,folding:!1,formatOnType:!0,hideCursorInOverviewRuler:!0,lineDecorationsWidth:6,lineNumbersMinChars:3,minimap:{enabled:!1},overviewRulerBorder:!1,readOnly:this.isReadOnly_,renderFinalNewline:!0,scrollBeyondLastLine:!1});this.monacoLinesContent_=
c.querySelector(".lines-content.monaco-editor-background");d&&[].concat(ja(c.querySelectorAll(".lines-content.monaco-editor-background, .margin, .slider, .minimap-slider, .decorationsOverviewRuler"))).forEach(function(e){e.style.contain="strict";e.style.willChange="unset"});this.hoverController=this.monaco.getContribution("editor.contrib.hover");this.isLastLineAndColumn=this.monaco.createContextKey("isLastLineAndColumn",!1);this.isFirstLineAndColumn=this.monaco.createContextKey("isFirstLineAndColumn",
!1);this.hasQuickSuggest_=this.monaco.createContextKey("hasQuickSuggest",!0);this.performRefresh_();this.textModel.onDidChangeContent(function(){a.updateRulers_();zS(a)});zS(this);this.monaco.onKeyDown(function(e){a.handleKeyDown_(e.browserEvent)});this.monaco.onDidFocusEditorText(function(){a.monaco.updateOptions({matchBrackets:!0})});this.monaco.onDidBlurEditorText(function(){a.monaco.updateOptions({matchBrackets:!1})});c=q("actions.find editor.action.gotoLine editor.action.nextMatchFindAction editor.action.previousMatchFindAction editor.action.startFindReplaceAction expandLineSelection".split(" "));
for(d=c.next();!d.done;d=c.next())this.monaco._standaloneKeybindingService.addDynamicKeybinding("-"+d.value);b.listen(this.getElement(),"keydown",function(e){e.defaultPrevented&&e.stopPropagation()});this.registerEditorCommands();c=[window];for(d=this.getElement().parentElement;d;)c.push(d),d=d.parentElement;c=q(c);for(d=c.next();!d.done;d=c.next())b.listen(d.value,"resize",function(){zS(a,!0)})}};
var zS=function(a,b){b=void 0===b?!1:b;Aj(function(){if(!a.isDisposed()&&a.isVisible_){if(a.sizeToContainer_)a.monaco.layout();else if(a.lineWrapping_){var c=a.monaco._modelData.viewModel.getLineCount();c!=a.viewLineCount_&&(a.viewLineCount_=c,c=a.getElement(),c.style.height=0,a.monaco.layout(),c.style.height=a.monaco.getScrollHeight()+"px",a.monaco.layout())}else{var d=!!b;c=a.textModel.getLineCount();if(d||c!=a.viewLineCount_)a.viewLineCount_=c,d=a.monaco.getConfiguration(),c=d.lineHeight*c+d.layoutInfo.horizontalScrollbarHeight,
d=a.getElement(),d.style.height=c+"px",a.monaco.layout({height:c,width:d.clientWidth}),uy&&(a.monacoLinesContent_.style.height=c+"px")}a.dispatchEvent("editor_resize")}})};
vS.prototype.modelContentChanged=function(a){if(!this.applyingRealtimeChanges_){this.applyingModelChanges_=!0;a=q(a.changes);for(var b=a.next();!b.done;b=a.next()){b=b.value;a:{var c=b.range.getStartPosition();for(var d=this.text_.getText(),e=1,f=0;e!=c.lineNumber;){f=d.indexOf("\n",f)+1;if(-1==f){c=d.length;break a}e+=1}c=f+c.column-1}b.rangeLength&&this.text_.removeRange(c,c+b.rangeLength);b.text.length&&this.text_.insertString(c,b.text)}this.applyingModelChanges_=!1}};
var AS=function(a,b){Promise.resolve().then(function(){if(!a.isDisposed()&&a.text_.getText()!=a.textModel.getValue())throw Y({message:"Monaco editor is in a bad state, please report bug with error from console."}),Error("Editor text is out of sync after "+b);})};
vS.prototype.updateRulers_=function(){var a=null;if(this.rulerPrefEnabled_&&0<this.rulerPos_){var b=this.computeMaxLineLength_();0<this.rulerPos_&&b>=this.rulerPos_-5&&(a=this.rulerPos_)}if(a!=this.rulerDisplayPos_){this.rulerDisplayPos_=a;b=[];var c=void 0;null!=a&&(b.push(a),c=a);this.monaco.updateOptions({rulers:b,wordWrapColumn:c})}};
vS.prototype.exitDocument=function(){O.prototype.exitDocument.call(this);this.isVisible_=!1;void 0!==this.prefsChangedTimeout_&&(clearTimeout(this.prefsChangedTimeout_),this.prefsChangedTimeout_=void 0)};vS.prototype.registerEditorCommands=function(){};
vS.prototype.handleKeyDown_=function(a){var b=sE==rE;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey||b){var c=mE(a,"");if(BS.has(c)||b)if(b=new KeyboardEvent("keydown",{key:a.key,code:a.code,location:a.location,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,repeat:a.repeat,charCode:a.charCode,keyCode:a.keyCode,which:a.which,bubbles:!0,cancelable:!0}),this.getElement().parentElement.dispatchEvent(b),b.defaultPrevented&&(a.preventDefault(),a.stopPropagation(),c==oE(13)||c==pE(13)))this.monaco.trigger("",
"hideSuggestWidget",""),this.monaco.trigger("","closeParameterHints","")}};var CS=function(a){return!!a.vimMode&&0<=a.vimStatusBar_.childNodes[0].textContent.indexOf("NORMAL")};vS.prototype.selectCurrentLine=function(){var a=this.monaco.getPosition().lineNumber;this.monaco.setSelection(monaco.Range.fromPositions({lineNumber:a,column:1},{lineNumber:a,column:this.textModel.getLineContent(a).length+1}))};var BS=new Set([oE(13),pE(13),jE(["alt"],13),jE(["ctrl"],65),jE(["ctrl"],77),jE(["shift"],13)]);var DS=function(){return $D.apply(this,arguments)||this};t(DS,$D);DS.prototype.attachedCallback=function(){this.dispatchEvent(new CustomEvent("attached"))};DS.prototype.detachedCallback=function(){this.dispatchEvent(new CustomEvent("detached"))};var ES=bH("colab-dom-lifecycle-events",DS);ES.EventType={ATTACHED:"attached",DETACHED:"detached"};var GS=function(a,b,c){return FS(a,b,c)},FS=function(a,b,c){return HS(a,b.getFileId()).then(function(d){var e=d.json;d=d.title;e.metadata=e.metadata||{};delete e.metadata.id;c?(e.metadata.id=c.getId(),c.fillFromJson(e,{includeOutputs:!0,isReadOnly:!1}),e=c):e=nL(e,b.getModel(),{privateOutputs:RI(b),fileId:b.getFileId(),includeOutputs:!0,isReadOnly:!1});var f=new hs,g=e.getText();f.update(g);var h=sI(new URL(a,window.location.toString())),l=h.getFileId();if(!l)throw Error(rz("fileId",a));h=uI(h);h.setFileId(IS(l));
d={url:fA(h).toString(),doctitle:d,cellhash:uf(f.digest()),origcode:g};e.realtimeCell_.set("imported_from",d);return e})},HS=function(a,b){b=void 0===b?null:b;var c,d,e,f,g,h,l,m,n;return B(function(p){if(1==p.nextAddress){c=sI(new URL(a,window.location.toString()));if(!BI(c))throw Error(rz("cellId",a));d=BI(c);e=c.getFileId();if(!e)throw Error(rz("fileId",a));f=IS(e,b?b.versionControlId_:null);g=new kI;return u(p,g.load(f),2)}h=p.yieldResult;l=h.cells;if(!l)throw Error("Cannot find cell with id "+
(d+(" in "+a)));m=l.find(function(r){return!!r.metadata&&r.metadata.id==d});if(!m)throw Error("Cannot find cell with id "+(d+(" in "+a)));n="";h.metadata.colab&&(n=h.metadata.colab.name||"");return p.return({json:m,title:n})})},IS=function(a,b){if(!cz(a))return a;var c=null;b&&(c=b.getWorkspace());a=ez(a).copyWithNewWorkspace(c).getUri().toString();return qI(a)};var JS=function(a,b){O.call(this);this.realtimeCell=a.realtimeCell_;this.model=a;this.notebook_=b;this.commandHandler=b.commandHandler_;this.syncPending_=!1;this.cellId_=rb(this.realtimeCell.get("id"));this.mainContentDiv=lh(my?"DIV":"paper-material","main-content");this.mainContentDiv.setAttribute("elevation","0");my&&(this.mainContentDiv.style.display="block");uy&&Zx&&"contain"in this.mainContentDiv.style&&(this.mainContentDiv.style.willChange="unset");this.permissions=TI(b.getNotebookModel());
this.ignoreBubbleHack_=!1;this.toolbarDiv=lh("div","cell-toolbar");this.mask_=this.importedInfoArea_=this.editor=this.syncButton_=this.toolbar=null;this.isBusy_=this.isInitialized_=!1;this.everDisplayed_=this.isDisplayed_=!0;this.cellInitialized_=Tk()};t(JS,O);
var LS=function(a){if(a.permissions.isEditable()){var b=Ab(["slide","-","skip","fragment"],KS(a));a.slidesToolbarDiv_=pm(iS,{selectedIndex:b});b=a.slidesToolbarDiv_.querySelector("paper-dropdown-menu");a.getHandler().listen(b,"iron-select",a.onSlideTypeSelected_)}return a.slidesToolbarDiv_};k=JS.prototype;k.showSlidesToolbar=function(){this.mainContentDiv.removeChild(LS(this))};k.getId=function(){return this.cellId_};k.getType=function(){return rb(this.realtimeCell.get("type"))};k.getModel=function(){return this.model};
k.getFormatterHandlerPath=function(){return null};k.getImportedFrom=function(){return this.model.getImportedFrom()||{}};k.getEditor=function(){return this.editor};k.getPreferences=function(){return this.notebook_.getPreferences()};var KS=function(a){return(a=a.model.realtimeCell_.get("slideshow"))?a.slide_type||null:null};k=JS.prototype;k.kernelReset=function(){};
k.scrollIntoView=function(a){a=void 0===a?{}:a;a=void 0===a.alignTop?!1:a.alignTop;var b=rS();if(b.initialized()){var c=oi(this.getElement()),d=oi(b.element_),e=c.top-d.top;c=e+c.height;var f=e-25,g=c-d.height+10;0>e&&c>d.height||0<e&&c<d.height&&!a||b.scroll(a||Math.abs(f)<Math.abs(g)?f:g)}};
k.isVisible=function(){if(!this.inDocument_||!this.notebook_||!this.isDisplayed_)return!1;var a=oi(this.getElement()),b=a.top-window.scrollY;a=b+a.height;var c=this.notebook_.getElement().getBoundingClientRect().top;return b<c&&a<c||b>window.innerHeight&&a>window.innerHeight?!1:!0};k.createMenu=function(a){return NR(this.getContextMenuSpec(a),this.getHandler())};
k.getContextMenuSpec=function(a){var b=[];this.commandHandler.supports(ZF)&&(b.push(MS(this,ZF,a,{name:"Link to cell"})),12==a&&b.push({separator:!0}));this.permissions.isEditable()&&b.push(MS(this,WE,a,{name:"Delete cell"}));12==a&&(0<window.getSelection().rangeCount&&!window.getSelection().getRangeAt(0).collapsed&&b.push({name:"Copy selection",callback:NS(this,PE,a),shortcut:gE}),b.push({name:"Copy cell",callback:OS(this,PE,a)}),this.permissions.isEditable()&&b.push({name:"Cut cell",callback:OS(this,
VE,a),shortcut:hE}));return b};
var MS=function(a,b,c,d){d=void 0===d?{}:d;return{name:(void 0===d.name?"":d.name)||aE(b),callback:NS(a,b,c),shortcut:bE(b),command:b}},QS=function(a){a.toolbar=lh("div","toolbar");var b=lh("paper-icon-button");b.setAttribute("noink",!0);b.icon="icons:more-vert";b.title="More cell actions";b.classList.add("cell-more-options");a.toolbar.appendChild(b);a.getHandler().listen(b,"click",function(){eJ(2,"icons:more-vert");var c=a.createMenu(2);c.render();Yw(c,new Ew(b,12,!0),12,null);PS(c)})};
JS.prototype.updateSlideType_=function(){var a=KS(this);a&&(this.slidesToolbarDiv_&&this.slidesToolbarDiv_.querySelector("paper-dropdown-menu").setAttribute("selected",a),P(this).setAttribute("slidetype",a))};JS.prototype.onSlideTypeSelected_=function(a){a=a.event_.detail.item.getAttribute("label");this.permissions.isEditable()&&a&&this.realtimeCell.set("slideshow",{slide_type:a});P(this).setAttribute("slidetype",a)};
var RS=function(a,b){a.syncPending_=b;a.updateImportedStatus_()},SS=function(a,b){b=void 0===b?!1:b;if(!a.syncPending_){RS(a,!0);b||Y({message:"Loading cell from external notebook.",timeoutMillis:-1});var c=I(a.getImportedFrom().url);GS(c,a.notebook_.getNotebookModel(),a.getModel()).then(function(){b||Y({message:"Success"});a.updateImportedStatus_();RS(a,!1);return!0},function(d){Y({message:"Failed: "+d.message});a.updateImportedStatus_();RS(a,!1);return!1})}};k=JS.prototype;
k.isFocused=function(){return this.inDocument_?P(this).classList.contains("focused"):!1};k.updateFocus=function(){};
k.setFocused=function(a,b){b=void 0===b?LN:b;this.inDocument_&&this.isFocused()!==a&&(P(this).classList.toggle("focused",a),a?(this.toolbar||QS(this),this.toolbarDiv.appendChild(this.toolbar)):this.toolbar&&this.toolbar.remove(),this.mainContentDiv.setAttribute("elevation",(a?2:0).toString()),a&&3!==b.scroll&&(1===b.scroll?this.scrollIntoView():2===b.scroll?"code"!==this.getType()&&this.scrollIntoView():4===b.scroll&&this.scrollIntoView({alignTop:!0})))};
k.isSelected=function(){return this.inDocument_?P(this).classList.contains("selected"):!1};k.setSelected=function(a){this.inDocument_&&P(this).classList.toggle("selected",a)};k.refresh=function(){};var TS=function(a){if(!a.getImportedFrom().url)return!1;var b=a.getImportedFrom();return a.getText()!=b.origcode};k=JS.prototype;
k.updateImportedStatus_=function(){var a=this,b=!!this.getImportedFrom().url&&this.permissions.isEditable();this.importedInfoArea_.classList.toggle("imported",b);if(b){b=this.getImportedFrom();var c=TS(this);this.importedInfoArea_.classList.toggle("forked",c);var d=b.url||"";try{d=(new URL(d)).toString()}catch(e){d='Ignoring invalid url: "'+d+'".',console.error(d),aJ(Error(d)),d=""}b=pm(hS,{url:d,locallyModified:c,pending:this.syncPending_,title:b.doctitle||"Unknown",editable:this.permissions.isEditable(),
msgSyncButton:"Reload cell from its source"});sh(this.importedInfoArea_);qh(this.importedInfoArea_,b);(this.syncButton_=b.querySelector(".sync-imported-cell"))&&this.syncButton_.addEventListener("click",function(){TS(a)?yH({title:"Update external cell",message:"This external cell, which was originally from another notebook, has been modified in this notebook. Do you want to overwrite these modifications and re-sync the external cell?"}).then(function(e){e&&SS(a)}):SS(a)})}};
k.createDom=function(){var a=this,b=lh("DIV",{"class":"cell "+this.getType(),id:"cell-"+this.getId()});jy&&b.setAttribute("tabindex","-1");Zx&&b.classList.add("focus-with-zindex");b.focusCell_=function(){US(a.notebook_,a.getId(),JN)};qh(b,this.mainContentDiv);this.mask_=lh("DIV","cell-mask");qh(this.mainContentDiv,this.mask_);this.importedInfoArea_=lh("SPAN","imported-info-area");qh(this.mainContentDiv,this.importedInfoArea_);this.updateImportedStatus_();this.permissions.isEditable()||(this.permissions.isCommentable()?
b.classList.add("commentonly"):b.classList.add("readonly"));this.element_=b;b.getModel=function(){return a.getTextModel()};var c=KS(this);c&&b.setAttribute("slidetype",c)};
k.handleMouseDownWithCapture_=function(a){this.ignoreBubbleHack_=!1;if(this.inDocument_&&0==a.button){var b=this.isFocused()&&this.permissions.isEditable()&&this.getPreferences().MULTICURSOR_ENABLED.getValue()&&0==QQ(this.notebook_).length&&this.getEditor()&&this.getEditor().getComponent().getElement().contains(a.target),c=a.target instanceof HTMLElement&&("A"==a.target.nodeName||a.target.matches(".detected-link, .detected-link-active"));!a.ctrlKey&&!a.metaKey||b||c||(VS(this.notebook_,this,!this.isSelected()),
a.stopPropagation(),a.preventDefault(),this.ignoreBubbleHack_=!0)}};
k.handleMouseDownWithBubble_=function(a){if(this.inDocument_&&!this.ignoreBubbleHack_&&this.notebook_&&(0==a.button||1==a.button))if(a.shiftKey&&!this.isFocused())a:{a=this.notebook_;var b=a.cells_.indexOf(this);if(a.focusedCell_)var c=a.cells_.indexOf(a.focusedCell_);else if(-1!=a.rangeSelectStartCell_)c=a.rangeSelectStartCell_;else{a.rangeSelectStartCell_=a.cells_.indexOf(this);break a}a.clearSelection();a.rangeSelectStartCell_=c;if(c<b){var d=b;b=c;c=d}for(;b<=c;++b)VS(a,a.cells_[b],!0)}else c=
JN,null!=Ph(a.target,"editor")?c=MN:null!=Ph(a.target,"output-content")&&(c=KN),US(this.notebook_,this.getId(),c)};k.invalidateSize_=function(){this.model.estimatedSize=0};k.getTextModel=function(){return this.model.getTextModel()};k.getText=function(){return this.getTextModel().getText()};k.getSectionTitle=function(){return null};
k.enterCell=function(){var a=this,b=this.getHandler(),c=this.getTextModel();c&&c.addEventListener&&(b.listen(c,AD.TEXT_INSERTED,this.updateImportedStatus_),b.listen(c,AD.TEXT_DELETED,this.updateImportedStatus_));c=this.realtimeCell;b.listen(c,AD.VALUE_CHANGED,this.updateSlideType_);b.listen(c,AD.VALUE_CHANGED,this.updateImportedStatus_);b.listen(c,AD.OBJECT_CHANGED,this.invalidateSize_);b.listen(this,"navigate_to_line",function(d){WS(a.notebook_,a.getId(),d.line)});b.listen(this,"execute",function(d){XS(a,
d.command,d.source)});this.permissions.isEditable()&&this.addChild(new oS(this.getId()),!0);b.listen(this.mainContentDiv,"contextmenu",function(d){var e=!!d.target.closest(".CodeMirror");if(!d.target.closest(".add-cell")&&!d.target.closest("a")){a.isSelected()||US(a.notebook_,a.getId(),MN);var f=null;0<QQ(a.notebook_).length?f=YS(a.notebook_):e||d.ctrlKey||d.metaKey||(f=a.createMenu(12));f&&(aH(f,d),PS(f))}},!0);b.listen(this.mainContentDiv,"paper-dropdown-open",function(){Wh(this.mainContentDiv,
"z-index",100)});b.listen(this.mainContentDiv,"paper-dropdown-close",function(){Wh(this.mainContentDiv,"z-index",0)});this.mainContentDiv.appendChild(this.toolbarDiv);b.listen(this.mainContentDiv,"mousedown",this.handleMouseDownWithCapture_,!0);b.listen(this.mainContentDiv,"mousedown",this.handleMouseDownWithBubble_,!1)};k.enterDocument=function(){O.prototype.enterDocument.call(this);this.isDisplayed_?ZS(this):this.setDisplayed(!1)};
k.exitDocument=function(){this.isInitialized_&&(this.cellInitialized_=Tk(),this.isInitialized_=!1);O.prototype.exitDocument.call(this)};var ZS=function(a){a.isInitialized_?!a.everDisplayed_&&a.isDisplayed_&&(a.everDisplayed_=!0,a.getEditor()&&a.getEditor().refresh()):(a.enterCell(),a.everDisplayed_=a.isDisplayed_,a.isInitialized_=!0,Aj(function(){return a.cellInitialized_.resolve()}))};JS.prototype.cellInitialized=function(){return this.cellInitialized_.promise};JS.prototype.cellLoaded=function(){return this.cellInitialized()};
JS.prototype.setDisplayed=function(a){this.isDisplayed_=a;this.getElement()&&(qi(P(this),a),this.isDisplayed_&&ZS(this))};
var NS=function(a,b,c){return function(){a.commandHandler.execute(b,c)}},XS=function(a,b,c){a.isFocused()||US(a.notebook_,a.getId());a.commandHandler.execute(b,c)},OS=function(a,b,c){return function(){$S(a,NS(a,b,c))}},$S=function(a,b){var c=a.notebook_,d=QQ(c).map(function(e){return e.getId()});c.clearSelection();VS(a.notebook_,a,!0);b();c.clearSelection();a=q(d);for(b=a.next();!b.done;b=a.next())(b=BR(c,b.value))&&VS(c,b,!0)};JS.prototype.isEditing=function(){return!1};JS.prototype.setEditing=function(){};
JS.prototype.makeEditorVisible=function(a){var b=this;this.isEditing()||(this.setEditing(!0,!1),a.push(function(){b.setEditing(!1)}));this.notebook_.expandParents(this.getId())};
var aT=function(a,b,c){var d=[];return new RN({open:function(){a.makeEditorVisible(d);var e=a.editor.getCodeEditor();I(e);return e},tryGetCodeEditor:function(){return a.editor?a.editor.getCodeEditor():null},restore:function(){for(var e=q(d.reverse()),f=e.next();!f.done;f=e.next())f=f.value,f();d=[]},getMatchCount:function(e){return(e=a.getText().match(e))?e.length:0},isFocused:function(){return a.isFocused()}},b,c)};
JS.prototype.setBusy=function(a){a!=this.isBusy_&&(this.isBusy_=a,this.dispatchEvent(a?"busy":"idle"),this.isDisposed()||this.getElement().classList.toggle("code-is-running",a))};
JS.prototype.format=function(){var a=this,b=this.getFormatterHandlerPath();if(!b)return Y({message:"Failure: cell formatting is only supported for Markdown and Python.",timeoutMillis:1E4}),Mk();var c=this.getText();if(""==c)return Mk();this.setBusy(!0);return Wk(Xk(xA(b,c,!0).then(function(d){d.endsWith("\n")&&(d=d.slice(0,-1));var e=[];a.isEditing()||a.makeEditorVisible(e);a.editor.setText(d,!0);d=q(e.reverse());for(e=d.next();!e.done;e=d.next())e=e.value,e()}),function(d){d=String(d).trim();Y({message:"Failed: "+
d.substring(d.lastIndexOf("\n")+1),timeoutMillis:1E4});console.warn(d)}),function(){a.setBusy(!1)})};JS.prototype.getComponent=function(){return this};function PS(a){window.scrollTo(0,0);var b=function(){a&&!a.isDisposed()&&a.hide()},c=rS().element_;c.addEventListener("scroll",b);var d=new ES;a.getElement().appendChild(d);d.addEventListener("detached",function(){c.removeEventListener("scroll",b)})};function bT(a){return!!a.disabled&&a.disabled()}
var cT={"true":{},"false":{}},dT=function(a){var b=/#@(\w+)(.*)?/.exec(a);if(!b)return[];var c=b[2];a=[];a.push(b[1]);if(!c)return a;b=/([^{[]*)?(([[{])(.*))?/.exec(c);if(!b)return a;a.push(b[1]);b[3]&&a.push(b[3]);b=b[4];if(void 0===b)return a;b=b.split(",");b=b[b.length-1].trimLeft();if(c=/([a-zA-Z_\-]+|"[^"]*")\s*(:)\s*("[^"]*|[a-zA-Z_\-]*)$/.exec(b))return a.push(c[1]+c[2],c[3]),a;b=/([a-zA-Z_\-]*|"[^"]*)$/.exec(b);if(!b)return a;a.push(b[1]);return a},fT=function(a){a=dT(a);if(a&&a.length)a:{for(var b=
eT,c=0;c<a.length-1;c++){b:{var d=void 0;var e=a[c];if(b[e]&&!bT(b[e]))d=b[e];else{for(d in b)if("/"==d[0]&&"/"==d[d.length-1]){var f=RegExp(d.substr(1,d.length-2)).exec(e);if(f&&f.length&&f[0]==e){d=b[d];break b}}d=null}}if(!d||!d.next||bT(d)){var g=new DC({matches:[],matchedText:"",cursorStart:-1,cursorEnd:-1,matchesIncomplete:!1});break a}b=d.next}a=a[a.length-1];c=b;a=a.trimLeft();d=[];for(g in c)e=c[g],bT(e)||(e=e.hint,"/"==g[0]&&"/"==g[g.length-1]?(b=RegExp(g.substr(1,g.length-2)).exec(a))&&
b.length&&b[b.length-1].length==a.length&&e&&d.push("#"+e):g.startsWith(a)&&d.push(g+"#"+(e||"")));g=new DC({matches:d,matchedText:a,cursorStart:-1,cursorEnd:-1,matchesIncomplete:!1})}else g=null;return g},eT={param:{hint:"Add form field for this variable",next:{"/[^{[]*/":{next:{"{":{next:{"type:":{hint:"Form field data type",next:{'"date"':{},'"slider"':{},'"string"':{},'"raw"':{},'"number"':{},'"integer"':{},'"boolean"':{}}},"min:":{hint:"Slider min value"},"max:":{hint:"Slider max value"},step:{hint:"Slider step value"},
"allow-input":{hint:"Allow input",next:cT}}},"[":{hint:"List of dropdown values"}}}}},test:{hint:"Add test annotations",next:{"/[^{]*/":{next:{"{":{next:{'"output":':{hint:"Test output content",next:{'"ignore"':{hint:"Ignore output during test"}}},'"skip":':{hint:"Whether this cell should be skipped during test",next:cT},'"timeout":':{hint:"Timeout seconds"}}}}}},disabled:function(){return!Nz.TEST_ANNOTATIONS}},title:{hint:"Add title and modify the cell display",next:{"/[^{]*/":{hint:"Cell title",
next:{"{":{next:{"vertical-output:":{hint:"Display output vertically",next:cT},"run:":{hint:"Enable automatic re-running of this cell when form fields change",next:{'"auto"':{hint:"Run on every form field change"},'"none"':{hint:"Run manually"}}},"output-height:":{hint:'Sets the height of the output. Examples: "300px", or "unlimited"',next:{'"unlimited"':{hint:"output will not have a vertical scrollbar"}}},"form-width:":{hint:'Sets the width of the form, use "500px", or "30%"',next:{}},"display-mode:":{hint:"Sets the default display mode (whether to show the form or code)",
next:{'"form"':{},'"code"':{},'"both"':{}}}}}}}}}};function gT(a,b,c,d){if(b!=a.getCursor().ch)console.log("Ignoring stale response");else{b={list:[]};var e=function(l,m,n){m=n.displayText.split("#");for(var p in m)120<m[p].length&&(m[p]="..."+m[p].slice(m[p].length-120+3));l.appendChild(document.createTextNode(String(m[0])));1<m.length&&l.appendChild(lh("SPAN","hint-type",m[1]))};if(d.matches){var f=d.matchedText.lastIndexOf(".")+1;d.matchedText=d.matchedText.slice(f);for(var g=0;g<d.matches.length;g++){var h=d.matches[g].slice(f);b.list.push({text:h.split("#")[0],
displayText:h,render:e})}}CodeMirror.on(b,"pick",function(){var l=MM().notebook;l&&l.getKernel().isRunning()?l.getKernel():console.log("Skipping autocomplete reporting with no kernel connected")});b.from={line:a.getCursor().line,ch:(a.getCursor().ch||0)-d.matchedText.length};b.to=a.getCursor();c(b)}}
function hT(a,b){var c=MM().notebook;if(c&&c.getKernel().isRunning()){var d=c.getKernel(),e=a.getCursor().ch,f=a.getValue(!1).slice(0,a.getCursor().line+1),g=fT(f[f.length-1].substr(0,e));null!=g?gT(a,e,b,g):(g=f.join("\n"),f=g.length-f[f.length-1].length+a.getCursor().ch,Xk(YP(d,g.slice(0,f),f,iT(c)).then(function(h){gT(a,e,b,h)}),function(h){console.warn(h);Y({message:"Failed to fetch code autocompletions."});h instanceof lC||bJ(h)}))}else d=VG("Connect",function(h){h.preventDefault();h.stopPropagation();
c.commandHandler_.execute(ME,13)}),Y({element:d,message:"Code autocompletion requires a connection to a runtime."})}var iT=function(a){if("NONE"!=Tx){var b={autocomplete_new_declarations:!0,other_cells:[]},c=a.getCells();a=a.focusedCell_;if(null!=a){a=c.indexOf(a);var d=[];switch(Tx){case "UP_TO_CELL":d=c.slice(0,a);break;case "ALL":d=d.concat(c.slice(0,a)),d=d.concat(c.slice(a+1,c.length))}c=q(d);for(a=c.next();!a.done;a=c.next())a=a.value,"code"==a.getType()&&b.other_cells.push(a.getText())}return b}};var nT=function(a){return jT(a,{U:kT,I:function(b){return lh("i",{},b)},B:function(b){return lh("b",{},b)},M:lT,C:function(b){return lh("span",{},b)},L:mT})},jT=function(a,b){var c=document.createDocumentFragment(),d="";for(e in b)d+=e;d=RegExp("\\b(["+d+"]){([^}]*)}","gi");var e=0;for(var f=d.exec(a);f;){c.appendChild(yP(a.substring(e,f.index)));var g=b[f[1].toUpperCase()];g&&(g=g(f[2]),c.appendChild(g));if(e==f.index+f[0].length)break;e=f.index+f[0].length;f=d.exec(a)}c.appendChild(yP(a.substring(e)));
return c};function lT(a){return lh("i",{},a)}function mT(a){var b=oT(a),c=b.value;b=b.key;var d=b.replace(/[()]/g,"").split(".");if(0==d.length)return document.createTextNode(a);a=d.pop();a=d.join("%20")+"%20symbol:"+a;return pT(c,XD.CODE_SEARCH_URL_PREFIX?XD.CODE_SEARCH_URL_PREFIX+a:"",b)}function pT(a,b,c){c=void 0===c?"":c;(b=b.replace(/[+]/g,"%20"))?(a=lh("A",{target:"_blank"},a),ve(a,b)):a=lh("SPAN",a);c&&a.setAttribute("title",c);return a}
function kT(a){a=oT(a);0>a.key.search(/^(https?|ftp):/)&&(a.key="http://"+a.key);return pT(a.value,a.key)}function oT(a){var b=a=a.trim(),c=a.indexOf("<");0<=c&&(b=a.slice(c+1),">"==a.slice(-1)&&(b=b.slice(0,-1)),a=a.slice(0,c));b=b.trim();return{key:b,value:a}};var qT=function(){O.call(this);this.arrow_=this.text_=this.tooltipEl_=this.tooltip_=null;this.left_=0;this.shown_=!1;this.positionUpdateTask_=this.hideTimeout_=0};t(qT,O);
qT.prototype.createDom=function(){this.tooltipEl_=lh("DIV",["colab-tooltip","code-help"]);this.text_=lh("DIV","tooltiptext");this.arrow_=lh("DIV","pretooltiparrow");this.tooltipEl_.style.setProperty("z-index","1000");this.tooltipEl_.style.setProperty("min-width","100px");this.tooltipEl_.style.position="fixed";this.tooltipEl_.setAttribute("tabindex",0);this.tooltipEl_.appendChild(this.arrow_);this.tooltipEl_.appendChild(this.text_);var a=new Tq;this.tooltip_=a;a.className="colab-tooltip";a.setElement(this.tooltipEl_);
a.hidePopupElement();this.element_=this.tooltipEl_};qT.prototype.enterDocument=function(){O.prototype.enterDocument.call(this);this.getHandler().listen(this.tooltipEl_,"focus",this.clearHideTimeout_,!0);this.getHandler().listen(this.tooltipEl_,"blur",this.hideUnlessToBecomeActive,!0);this.shown_=!1};
qT.prototype.show_=function(a,b,c,d){this.clearHideTimeout_();Gn(this.tooltip_);this.shown_=!0;var e=this.tooltip_.getElement();e.style.setProperty("left",a+"px");e.style.setProperty("top",b+"px");this.arrow_.style.left=c+"px";this.text_.textContent="";this.text_.appendChild(nT(d))};qT.prototype.clearHideTimeout_=function(){this.hideTimeout_&&(clearTimeout(this.hideTimeout_),this.hideTimeout_=0)};
var rT=function(a){a=a.cursorCoords(!0,"page");var b=Math.max(a.left-70-43,30);return{left:b,top:a.bottom,arrowPoint:a.left-b-43}};qT.prototype.visible=function(){return this.shown_};qT.prototype.followCursor_=function(a){if(this.visible()){var b=rT(a);a=b.left;var c=b.top;b=b.arrowPoint;var d=this.tooltipEl_.getBoundingClientRect().width-30;b=b+a-this.left_;0>b&&(this.left_+=b-d/2,b=d/2);if(!(0>d)){for(;b>d;)this.left_+=d,b-=d;this.tooltipEl_.style.top=c+"px";this.arrow_.style.left=b+"px"}}};
qT.prototype.hide=function(){this.positionUpdateTask_&&(clearInterval(this.positionUpdateTask_),this.positionUpdateTask_=0);this.shown_=!1;this.hideTimeout_=0;this.tooltip_&&this.tooltip_.hidePopupElement();this.getParent()&&this.getParent().removeChild(this,!0)};qT.prototype.hideUnlessToBecomeActive=function(){var a=this;this.hideTimeout_&&clearTimeout(this.hideTimeout_);this.hideTimeout_=setTimeout(function(){a.hide()},100)};var tT=function(a,b,c,d,e){e=void 0===e?Infinity:e;O.call(this);var f=this;this.tooltip_=sT;this.text_=a;this.notebook_=b;this.preferences_=b.getPreferences();this.completer_=null;this.lineWrapping_=!!d;this.viewportMargin_=e;this.getHandler().listen(this.preferences_,"change",this.prefsChanged_);this.rulerOptions_=null;this.rulerPrefEnabled_=!0;this.lineNumbersVisibilityMode_="get_from_prefs";this.isEditorInvalidated_=this.isVisible_=!1;this.rulerPos_=0;this.editor_=null;this.prefsChangedTimeout_=
void 0;this.updatingEditor_=this.focused_=!1;this.highlightMode_=this.tooltipFunc_=this.pendingCodeMirrorEvent_=null;this.trusted_=""===a.getText()?!0:null;this.notebook_.getNotebookModel().hasOtherWriters().then(function(g){null==f.trusted_&&(f.trusted_=!g)});this.lintFindings_=[];this.formErrors_=[];this.lastShortcut_="";a=function(){return f.lastShortcut_!==rE?!0:!1};b={};this.handledShortcutsMap_=(b[oE(80)]=function(){return"emacs"==f.editor_.getOption("keyMap")},b.Esc=function(){return!0},b[oE(191)]=
function(){return!0},b[oE(219)]=function(){return!!f.editor_.getSelection()},b[oE(221)]=function(){return!!f.editor_.getSelection()},b);this.handledShortcutsMap_.Semicolon=a;this.handledShortcutsMap_.Equals=a;b=q("QWERTYUIOPASDFGHJKLZXCVBNM01234567890-'[],./");for(c=b.next();!c.done;c=b.next())this.handledShortcutsMap_[c.value]=a};t(tT,O);k=tT.prototype;k.getComponent=function(){return this};k.syntaxHighlighting_=function(){return"notebook-python"};
k.setEnableRulerPref=function(a){this.rulerPrefEnabled_=a};k.setLineNumbersVisibility=function(a){this.lineNumbersVisibilityMode_=a};k.prefsChanged_=function(){var a=this;this.prefsChangedTimeout_&&clearTimeout(this.prefsChangedTimeout_);this.prefsChangedTimeout_=setTimeout(function(){return a.refresh()},10)};k.getText=function(){return this.editor_.getValue()};k.getLines=function(){return this.editor_.getValue(!1)};k.blur=function(){this.focused_=!1;this.inDocument_&&this.editor_.getInputField().blur()};
k.isFocused=function(){return this.focused_};k.isTrustedContent=function(){return this.isTrusted_(!1)};k.styleTrusted_=function(){var a=this.isTrusted_(!0);this.getElement().classList.toggle("non-trusted",!a)};k.getSelection=function(){return this.editor_.getSelection()};k.isTrusted_=function(a){return 1!=this.trusted_&&this.notebook_.getNotebookModel().isShared_?null!=this.trusted_?this.trusted_:a:!0};
k.computeMaxLineLength_=function(){var a=0;this.editor_.eachLine(function(b){a=Math.max(a,b.text.length)});return a};k.setLocalContent=function(a){this.trusted_=a;this.styleTrusted_()};k.setText=function(a,b){b?this.editor_.setValue(a):this.text_.setText(a)};k.setLine=function(a,b){a<this.editor_.lineCount()-1&&(b+="\n");if(a>this.editor_.lineCount()-1){var c=a-this.editor_.lineCount()+1;b="\n".repeat(c)+b}this.editor_.replaceRange(b,new CodeMirror.Pos(a,0),new CodeMirror.Pos(a+1,0))};
k.setSyntaxHighlighting=function(a){ab(a)?this.syntaxHighlighting_=a:this.syntaxHighlighting_=function(){return a}};
var uT=function(a,b){var c=" "==a.substr(-1);a=a.trim();if(c&&(c=a.search(/%%?[_a-zA-Z0-9.]*$/),0<=c))return a.substr(c);if(-1==a.search(b))return null;b=a.length-1;for(c=1;0<=b;){")"==a.charAt(b)&&c++;"("==a.charAt(b)&&c--;if(0==c)break;b--}0>b&&(b=a.length);a=a.substr(0,b).trim();b=a.search(/[_a-zA-Z0-9.]+$/);return 0>b?null:a.substr(b)},vT=function(a,b){var c=a.editor_.getCursor();c=a.editor_.getRange(new CodeMirror.Pos(0,0),c);var d=uT(c,b?/.$/:/[,(]$/);if(!d)return a.tooltip_.visible()?(a.tooltip_.hide(),
!0):!1;var e=a.tooltip_,f=a.editor_;if(e.visible()&&a.tooltipFunc_==d)return!0;if(!a.notebook_.getKernel().isRunning())return Y({message:"Contextual help requires a connection to a Python runtime"}),!1;if(b=iT(a.notebook_))b.cell_text=a.notebook_.focusedCell_.getText();a.notebook_.getKernel().getObjectInfo(d,b).then(function(g){var h=g?"":"Unrecognized request";if(g){g.definition&&(h+="\n"+g.definition+"\n");g.docstring&&(h+=g.docstring);h||(h="No docstring available");if(g.isClass){if(g.initDefinition||
g.initDocstring)h+="\n\n__init__:\n";g.initDefinition&&(h+=g.initDefinition+"\n");g.initDocstring&&(h+=g.initDocstring)}g.callDocstring&&(h+="\n\n__call__:\n"+g.callDocstring)}g=h;e.getParent()&&e.getParent().removeChild(e,!0);a.addChild(e,!0);document.body.appendChild(e.tooltip_.getElement());var l=rT(f);h=l.left;var m=l.top;l=l.arrowPoint;e.left_=h;e.show_(h,m,l,g);e.positionUpdateTask_&&(clearInterval(e.positionUpdateTask_),e.positionUpdateTask_=0);e.positionUpdateTask_=setInterval(hb(e.followCursor_,
e,f),300);a.tooltipFunc_=d},function(g){wH("Failed to fetch contextual help from the runtime.",g)});return!0},wT=function(a){var b=a.syntaxHighlighting_(a.editor_.getLine(0));b!=a.highlightMode_&&(a.editor_.setOption("mode",b),a.highlightMode_=b)},xT=function(a){a.tooltip_.visible()&&vT(a,!0);return!1};
tT.prototype.updateScrollInternal_=function(a){a=void 0===a?0:a;var b=rS();if(b.initialized()){var c=this.editor_.cursorCoords(),d=oi(b.element_),e=0;c.top-10<d.top&&(e=c.top-d.top-20);d=d.top+d.height;c.bottom+10>d&&(e=c.bottom+20-d);if(0<e&&0>a||0>e&&0<a)e=0;0!=e&&b.scroll(e)}};
var yT=function(a,b){return a.tooltip_.visible()?(a.tooltip_.hide(),!0):vT(a,b)},zT=function(a){if(!a.completer_||!a.editor_)return!1;var b=a.editor_,c=Oh(a.getElement(),null,"notebook-container")||document.body;CodeMirror.showHint(b,function(d,e){a.completer_(d,function(f){var g=function(){d.off(f,"shown",g);var h=BA(d.state,["completionActive","widget","hints"]);h.style.position="fixed";var l=h.offsetTop,m=h.offsetLeft;h.style.position="absolute";var n=h.offsetParent;h.style.top=l+n.scrollTop-n.getBoundingClientRect().top+
"px";h.style.left=m-n.offsetLeft+"px"};CodeMirror.on(f,"shown",g);e(f)})},{async:!0,completeSingle:!1,container:c,closeOnUnfocus:!0});return!0},AT=function(a,b){for(var c=0,d=a.line;0<d;){c=b.indexOf("\n",c)+1;if(0==c)return b.length;--d}return c+a.ch},BT=function(a,b){a=a.getLines();for(var c=0;c<a.length&&!(a[c].length>=b);c++)b-=a[c].length+1;return new CodeMirror.Pos(c,b)};k=tT.prototype;
k.updateEditorEvent_=function(a,b,c){if(!this.pendingCodeMirrorEvent_)return!1;this.pendingCodeMirrorEvent_.text=a.split("\n");this.pendingCodeMirrorEvent_.from=b;c&&(this.pendingCodeMirrorEvent_.to=c);return!0};
k.updateEditor_=function(a){a=a.event_;this.setLocalContent(a.isLocal);this.updatingEditor_=!0;for(var b=this.editor_.getCursor(),c=this.getLines(),d=0,e=0;e<b.line;e++)d+=c[e].length+1;b=d+=b.ch;if(a.type===AD.TEXT_INSERTED){c=BT(this,a.index);if(this.updateEditorEvent_(a.text,c)){this.updatingEditor_=!1;return}this.editor_.replaceRange(a.text,c);a.index<=b&&(b+=a.text.length)}else if(a.type===AD.TEXT_DELETED){c=BT(this,a.index);d=BT(this,a.index+a.text.length);if(this.updateEditorEvent_("",c,d)){this.updatingEditor_=
!1;return}this.editor_.replaceRange("",c,d);a.index<b&&(b-=a.text.length)}else this.updateEditorEvent_&&console.error("Unknown event while processing local update"),this.editor_.setValue(this.text_.getText());this.editor_.setCursor(BT(this,b));this.updatingEditor_=!1};k.addOnChangeHandler=function(a){this.editor_.on("change",a)};k.focus=function(a){this.inDocument_&&("blur"===a?this.blur():(this.focused_=!0,a&&this.setCursor(a),this.updateScrollInternal_(),this.editor_.focus()))};
k.getRange=function(a,b){a=a||new CodeMirror.Pos(0,0);b=b||new CodeMirror.Pos(this.editor_.lineCount(),0);return this.editor_.getRange(a,b)};k.getCursor=function(){return this.editor_.getCursor()};var CT=function(a){var b=a.editor_.listSelections();if(!b)return a=a.getCursor()||{from:0,to:0},{from:a,to:a};b=b[0];a=b.anchor;b=b.head;return a.line>b.line||a.line==b.line&&a.ch>b.ch?{from:b,to:a}:{from:a,to:b}};k=tT.prototype;
k.setCursor=function(a){"begin"==a?this.editor_.setCursor(this.editor_.doc.firstLine(),0):"end"==a?this.editor_.setCursor(this.editor_.doc.lastLine(),0):a&&0<=a.line&&this.editor_.setCursor(a.line,a.ch)};k.refresh=function(){var a=this;this.isEditorInvalidated_||(this.isEditorInvalidated_=!0,Aj(function(){return a.performRefresh_()}))};
k.performRefresh_=function(){var a=this;this.isEditorInvalidated_=!1;if(this.isVisible_&&this.editor_){var b=this.preferences_;b.EDITOR_FONT_SIZE.getValue()&&(this.getElement().style.fontSize=yA(b.EDITOR_FONT_SIZE.getValue()));var c="get_from_prefs"==this.lineNumbersVisibilityMode_&&b.SHOW_LINE_NUMBERS.getValue()||"visible"==this.lineNumbersVisibilityMode_;this.editor_.setOption("lineNumbers",c);this.editor_.setOption("tabSize",b.INDENT_NUM_SPACES.getValue());this.editor_.setOption("indentUnit",b.INDENT_NUM_SPACES.getValue());
this.editor_.setOption("autoCloseBrackets",b.AUTO_CLOSE_BRACKETS.getValue());this.editor_.setOption("theme","dark"==yO(b)?"monokai":"default");c=this.editor_.getOption("gutters");var d=c.indexOf("CodeMirror-lint-markers");0==this.lintFindings_.length?(-1!=d&&(c.splice(d,1),this.editor_.setOption("gutters",c)),this.editor_.setOption("lint",!1)):(-1==d&&this.editor_.setOption("gutters",c.concat("CodeMirror-lint-markers")),this.editor_.setOption("lint",{getAnnotations:function(){return a.lintFindings_}}));
this.editor_.setOption("highlightSelectionMatches",!0);this.editor_.setOption("styleSelectedText",!0);(c=b.EDITOR_KEY_MAP.getValue())&&c!=this.editor_.getOption("keyMap")&&("vim"!=c&&"vim"!=this.editor_.getOption("keyMap")||this.editor_.setOption("vimMode","vim"==c),this.editor_.setOption("keyMap",c),d=this.editor_.getOption("extraKeys"),"emacs"==c?(delete d["Ctrl-F"],delete d["Cmd-F"]):(d["Ctrl-F"]=!1,d["Cmd-F"]=!1),"vim"==c?d["Ctrl-C"]=!1:delete d["Ctrl-C"]);if(c=b.EDITOR_LINE_HEIGHT.getValue())this.getElement().querySelector(".CodeMirror").style.lineHeight=
yA(c);this.rulerPos_=b.SHOW_RULER_AT.getValue();this.updateRulers_();wT(this);this.editor_.setSize("100%",null);this.dispatchEvent("editor_refresh");this.editor_.refresh()}};k.setReadOnly=function(a){this.editor_.setOption("readOnly",a)};k.setLineWrapping=function(){this.editor_.setOption("lineWrapping",!0)};k.setStyleActiveLine=function(){this.editor_.setOption("styleActiveLine",!1)};
k.addLintFinding=function(a){this.lintFindings_.push({message:a.message,from:new CodeMirror.Pos(a.line,0),to:new CodeMirror.Pos(a.line,0),severity:a.severity});this.refresh()};k.clearLintFindings=function(){this.lintFindings_=[];this.refresh()};k.setVisible=function(a){this.isVisible_=a;this.getElement()&&(qi(this.getElement(),a),a?this.refresh():this.blur())};k.createDom=function(){var a=oh("DIV");a.classList.add("editor","flex");this.element_=a};
var ET=function(a,b){var c=a.editor_.getCursor(),d=a.editor_.cursorCoords(c,"local"),e=!1;0==c.line&&-1==b&&d.top<=a.editor_.cursorCoords(new CodeMirror.Pos(0,0),"local").top&&(e=!0);c.line==a.editor_.lastLine()&&1==b&&(c=a.editor_.lastLine(),e=a.editor_.getLine(c),e=d.bottom>=a.editor_.cursorCoords(new CodeMirror.Pos(c,e.length),"local").bottom);if(e)return DT(a.notebook_,b),!1;a.updateScrollInternal_(b);return CodeMirror.Pass};
tT.prototype.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);var b=this.preferences_,c={Tab:function(e){if(e.doc.somethingSelected())e=CodeMirror.Pass;else{var f=e.getCursor();""==e.getRange({line:f.line,ch:0},f).trim()?(f=a.preferences_.INDENT_NUM_SPACES.getValue(),f-=(e.doc.getCursor().ch||0)%f,f=Array(f+1).join(" "),e.replaceSelection(f,"end","+input")):yT(a)?eJ(1,"codemirror-tab-docstring-tooltip"):(a.tooltip_.hide(),a.completer_&&zT(a)&&eJ(1,"codemirror-tab-completion"));
e=void 0}return e},"Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Alt-/":function(){return yT(a,!0)},Esc:function(){if(a.tooltip_.visible()){a.tooltip_.hide();var e=!0}else"default"==a.editor_.getOption("keyMap")?(a.dispatchEvent("blur"),e=!1):e=CodeMirror.Pass;return e},"Shift-Tab":"indentLess","Ctrl-Space":function(){return zT(a)},"Shift-Ctrl-H":"replaceAll","Shift-Cmd-H":"replaceAll","Ctrl-S":!1,"Cmd-S":!1,"Ctrl-G":!1,"Cmd-G":!1,"Ctrl-Enter":!1,"Shift-Ctrl-Enter":!1,"Cmd-Enter":!1,"Shift-Cmd-Enter":!1,
"Shift-Ctrl-R":"vim"==b.EDITOR_KEY_MAP.getValue()?"redo":!1,Up:function(){return ET(a,-1)},Down:function(){return ET(a,1)},PageUp:function(){return ET(a,-1)},PageDown:function(){return ET(a,1)}},d=b.EDITOR_KEY_MAP.getValue();"emacs"!=d&&(c["Ctrl-F"]=!1,c["Cmd-F"]=!1);"vim"==d&&(c["Ctrl-C"]=!1);b={scrollbarStyle:"simple",lineNumbers:b.SHOW_LINE_NUMBERS.getValue(),mode:"text/x-python",matchBrackets:!0,lineWrapping:this.lineWrapping_,viewportMargin:this.viewportMargin_,tabSize:this.preferences_.INDENT_NUM_SPACES.getValue(),
indentUnit:this.preferences_.INDENT_NUM_SPACES.getValue(),extraKeys:c,styleActiveLine:!0,autoCloseBrackets:b.AUTO_CLOSE_BRACKETS.getValue()};d&&(b.keyMap=d);this.editor_=new CodeMirror(this.getElement(),b);this.editor_.on("change",function(){return wT(a)});this.editor_.on("change",function(){return xT(a)});this.editor_.on("focus",function(){a.focused_=!0});this.editor_.on("scrollCursorIntoView",function(e,f){a.isFocused()||f.preventDefault()});this.editor_.on("change",function(){a.lintFindings_=a.lintFindings_.filter(function(e){return"error"==
e.severity})});this.editor_.on("cursorActivity",function(){return xT(a)});this.editor_.setValue(this.text_.getText());this.editor_.doc.clearHistory();wT(this);this.editor_.on("beforeChange",function(e,f){if(!a.updatingEditor_){e=a.getText();a.text_.getText()!=e&&(aJ(Error("Editor and realtime value mismatch, forcing sync local->remote")),a.pendingCodeMirrorEvent_={},a.text_.setText(e));var g=f.text.join("\n");a.pendingCodeMirrorEvent_=f;var h=AT(f.from,e),l=AT(f.to,e);0===g.length?a.text_.removeRange(h,
l):h==l?a.text_.insertString(h,f.text.join("\n")):(f=e.slice(0,h)+g+e.slice(l),a.pendingCodeMirrorEvent_={},a.text_.setText(f));a.pendingCodeMirrorEvent_=null}});this.editor_.on("changes",function(e,f){return FT(a,f)});GT(this.editor_);this.notebook_.getNotebookModel().hasOtherWriters().then(function(){a.getElement()&&a.styleTrusted_()});d=this.getHandler();b=this.text_;d.listen(b,AD.TEXT_INSERTED,this.updateEditor_);d.listen(b,AD.TEXT_DELETED,this.updateEditor_);this.editor_.on("blur",function(){a.tooltip_.hideUnlessToBecomeActive()});
this.editor_.on("mousedown",function(e,f){2==f.button&&f.preventDefault()});d.listen(this.getElement(),"click",function(e){e.target.classList.contains("CodeMirror-linenumber")&&a.dispatchEvent(new GN(Number(e.target.textContent)))});d.listen(this.getElement(),"keydown",function(e){var f=mE(e,""),g=this.handledShortcutsMap_[f];g&&g()&&e.stopPropagation();this.lastShortcut_=f});if(d=this.notebook_.powerMode_)d=new oO(this.getCodeEditor(),this.preferences_.POWER_LEVEL,d),nj(this,d)};
var GT=function(a){if(Jf){var b=0,c=a.getWrapperElement().querySelector(".CodeMirror-simplescroll-horizontal");a.on("update",function(){var d=a.getScrollInfo();d.height!=b&&d.width!=d.clientWidth&&(b=d.height,c.style.position="inherit",c.getBoundingClientRect(),c.style.position="")})}};tT.prototype.addFormError=function(a){a=this.editor_.addLineClass(a,"text","form-error");this.formErrors_.push(a)};
tT.prototype.clearFormErrors=function(){for(var a=q(this.formErrors_),b=a.next();!b.done;b=a.next())this.editor_.removeLineClass(b.value,"text","form-error");this.formErrors_=[]};var FT=function(a,b){a.updateRulers_();b.every(function(c){return"undo"==c.origin})&&a.updateScrollInternal_()};k=tT.prototype;
k.updateRulers_=function(){if(this.rulerPrefEnabled_&&!(0>=this.rulerPos_&&null===this.rulerOptions_)){var a=this.computeMaxLineLength_(),b=null;0<this.rulerPos_&&a>=this.rulerPos_-5&&(b=[{color:"gray",column:this.rulerPos_,lineStyle:"dashed"}]);JSON.stringify(b)!=JSON.stringify(this.rulerOptions_)&&(this.rulerOptions_=b,this.editor_.setOption("rulers",b))}};
k.exitDocument=function(){O.prototype.exitDocument.call(this);void 0!==this.prefsChangedTimeout_&&(clearTimeout(this.prefsChangedTimeout_),this.prefsChangedTimeout_=void 0);this.editor_.getWrapperElement().remove();this.editor_=null;this.isVisible_=!1};k.getCodeEditor=function(){return this.editor_};
k.applyMarkdownTransform=function(a){this.editor_.focus();this.editor_.execCommand("singleSelection");var b=a(this.getSelection());this.editor_.replaceSelection(b.replace,"around");if(b.select){a=b.select[0];b=b.select[1];var c=CT(this);c&&(a=this.editor_.findPosH(c.from,a,"char",!1),b=this.editor_.findPosH(c.from,b,"char",!1),this.editor_.setSelection(a,b))}};k.selectCurrentLine=function(){var a=CT(this);this.editor_.setSelection({line:a.to.line,ch:0},{line:a.to.line,ch:null})};
k.moveToEndOfCurrentLine=function(){var a=CT(this);this.editor_.setSelection({line:a.to.line,ch:null})};k.moveToEndOfLastLine=function(){this.editor_.focus();this.editor_.setSelection({line:this.getLines().length-1,ch:null})};
k.greedySelect=function(a){var b=CT(this);if(b.from.line==b.to.line){var c=b.from.line,d=this.editor_.getLine(c),e=b.from.ch||0;b=b.to.ch||0;if(e==b){for(;0<e&&/[a-zA-Z0-9]/.test(d[e-1]);)e--;for(;b<d.length-1&&/[a-zA-Z0-9]/.test(d[b]);)b++}for(;d[e-1]===a;)e--;for(;d[b]===a;)b++;this.editor_.setSelection({line:c,ch:e},{line:c,ch:b})}};k.highlightAllMatches=function(){return{before:0,total:0}};k.clearAllMatches=function(){};k.findNextMatch=function(){return null};k.findPreviousMatch=function(){return null};
k.setSelection=function(){};k.replaceCurrentMatch=function(){};k.insertLine=function(a,b){var c=this.getLines();0>a||a>c.length||(c.splice(a,0,b),this.setText(c.join("\n")))};k.disableAutoCompletions=function(){};k.setConditionalAutocomplete=function(){};var sT=new qT;var JT=function(a,b,c){b=c||b;var d=U(F(a.paramName)||a.paramName instanceof N,"paramName",a.paramName,"!goog.soy.data.UnsanitizedText|string");c=U(F(a.widgetKind)||a.widgetKind instanceof N,"widgetKind",a.widgetKind,"!goog.soy.data.UnsanitizedText|string");a=U(Oa(a.isNewParam)||1===a.isNewParam||0===a.isNewParam,"isNewParam",a.isNewParam,"boolean");var e='<div class="content-area"><h1 class="edit-dialog-title">';e=(a?e+"Add new form field":e+"Edit form field")+'</h1><div class="form-widget-attributes-container common-attributes"><paper-dropdown-menu label="'+
S("Form field type");e+='"><paper-listbox class="dropdown-content widget-kind-dropdown" slot="dropdown-content" selected="'+T(c)+'" attr-for-selected="value"><paper-item value="dropdown">dropdown</paper-item><paper-item value="input">input</paper-item><paper-item value="slider">slider</paper-item><paper-item value="markdown">markdown</paper-item></paper-listbox></paper-dropdown-menu><paper-input class="name-label" required auto-validate value="'+(oo(d,"")?"variable_name":T(d))+'" label="';e+=S("Variable name");
e+='" pattern="^[a-zA-Z_]\\w*$" error-message="';e+=S("Must be a valid Python variable name");e+='" autofocus></paper-input><div class="markdown-attributes"><paper-textarea label="';d=e+=S("Markdown");e="boolean date integer number raw string".split(" ");e=U(Za(e),"types",e,"!Array<!goog.soy.data.UnsanitizedText|string>");var f=U(F("string")||!1,"selected","string","!goog.soy.data.UnsanitizedText|string");var g='<paper-dropdown-menu label="'+S("Variable type");g+='"><paper-listbox class="dropdown-content type-dropdown" slot="dropdown-content" selected="'+
T(f)+'" attr-for-selected="value">';f=e.length;for(var h=0;h<f;h++){var l=e[h];g+='<paper-item value="'+T(l)+'">'+R(l)+"</paper-item>"}e=Q(g+"</paper-listbox></paper-dropdown-menu>");e=d+('"></paper-textarea></div></div><div class="form-widget-attributes-container param-type-specific-attributes"><div>'+e+'</div><div class="slider-attributes">')+HT({label:po("Min"),class:"min-input",value:"0"});e+=HT({label:po("Max"),class:"max-input",value:"100"});e+='<div class="error-content"></div>';e+=HT({label:po("Step"),
class:"step-input",value:"1"});e+='</div><div class="dropdown-attributes"><div><paper-checkbox class="edit-param-dropdown-allow-user-input" noink>';e+="Allow input";e+='</paper-checkbox></div><h3 class="edit-dialog-title">';e+="Dropdown options";e+='</h3><colab-toolbar-button class="add-dropdown-option" icon="add-box" raised title="';e+=S("add item");e+='">';e+="item";e+='</colab-toolbar-button><colab-shaded-scroller class="dropdown-options-container">'+(oo(c,"dropdown")?"":IT({value:""},b))+'</colab-shaded-scroller></div></div></div><div class="buttons"><paper-button class="delete"'+
(a?" hidden":"")+">";b=e+="Delete";c=Q('<paper-button id="cancel" class="dismiss" dialog-dismiss>Cancel</paper-button>');e=b+("</paper-button>"+c+'<paper-button class="save" submit dialog-confirm>')+"Save";e+="</paper-button></div>";return Q(e)};JT.soyTemplateName="colab.cell.forms.dialogs.editParamDialog.editParamDialog";
var HT=function(a){var b=U(F(a.label)||a.label instanceof N,"label",a.label,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.class)||a.class instanceof N,"class",a.class,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.value)||a.value instanceof N,"value",a.value,"!goog.soy.data.UnsanitizedText|string");b='<paper-input class="'+T(c)+'" value="'+T(a)+'" label="'+T(b)+'" required auto-validate pattern="^-?\\d*(\\.\\d*)?(e(-)?\\d+)?$" error-message="';b+=S("Must be a number");return Q(b+'"></paper-input>')},
IT=function(a){a=U(F(a.value)||a.value instanceof N,"value",a.value,"!goog.soy.data.UnsanitizedText|string");a='<span class="dropdown-option-container horizontal layout"><paper-input value="'+T(a)+'" class="dropdown-option-input" no-label-float label="';a+=S("Enter a value");a=a+'"></paper-input><paper-icon-button class="delete-dropdown-option" icon="delete" title="'+S("Remove item");return Q(a+'"></paper-icon-button></span>')};IT.soyTemplateName="colab.cell.forms.dialogs.editParamDialog.dropdownElement";var OT=function(a,b){var c=b.isNewParameter,d=b.widgetKind;b=b.assignmentOperator;lj.call(this);this.widgetKind_=d;this.model_=a;this.originalDataType_=this.model_ instanceof ZL?this.model_.dataType_:"raw";this.originalValue_=this.model_ instanceof ZL?this.model_.getValue():"";this.assignmentOperator_=b||"=";this.dialog_=mH.createWithTemplate(JT,{paramName:a instanceof ZL?a.getName():"",widgetKind:this.widgetKind_,isNewParam:c});this.dialog_.classList.add("edit-form-widget-dialog");this.paramHandlers_=
new Map;this.paramHandlers_.set("input",new KT(this.dialog_));this.paramHandlers_.set("slider",new LT(this.dialog_));this.paramHandlers_.set("dropdown",new MT(this.dialog_));this.paramHandlers_.set("markdown",new NT(this.dialog_));this.deleted_=!1};t(OT,lj);
OT.prototype.show=function(){var a=this;this.dialog_.querySelector(".delete").addEventListener("click",function(){a.deleted_=!0;a.dialog_.close()});var b=lH(this.dialog_).then(function(d){return d.confirmed||a.deleted_?PT(a):null});gH(this.dialog_);this.dialog_.addEventListener("input",function(){a.validateInputs_()});this.dialog_.addEventListener("click",function(){a.validateInputs_()});this.paramHandlers_.get(this.widgetKind_).initializeWidgetAttributes(this.model_);QT(this,this.widgetKind_);this.dialog_.querySelector(".type-dropdown").selected=
this.originalDataType_;var c=this.dialog_.querySelector(".widget-kind-dropdown");c.addEventListener("selected-changed",function(){QT(a,String(c.selected).trim())});this.validateInputs_();return b};
var PT=function(a){var b=a.paramHandlers_.get(a.widgetKind_);if(b instanceof NT)return"#@markdown "+b.getMarkdown();var c=a.dialog_.querySelector(".name-label").value,d=a.dialog_.querySelector(".type-dropdown").selected||a.originalDataType_,e=a.model_ instanceof ZL?b.getValidValue(a.model_,d):"",f=a.assignmentOperator_;if(a.deleted_)return e=a.originalValue_||e,c+" "+f+" "+e;a=b.getAttributes(d);return c+" "+f+" "+e+" #@param "+a},QT=function(a,b){a.widgetKind_=b;var c=a.dialog_.querySelector(".type-dropdown"),
d=a.paramHandlers_.get(b).supportedTypes,e=c.querySelectorAll("paper-item");e=q(e);for(var f=e.next();!f.done;f=e.next()){f=f.value;var g=f.getAttribute("value");g=d.includes(g);qi(f,g)}d.includes(c.selected)||(b="slider"==b?"number":"string",c.selected=d.includes(a.originalDataType_)?a.originalDataType_:b);c=Oh(c,"paper-dropdown-menu");qi(c,1<d.length);d=a.dialog_.querySelector(".name-label");qi(d,"markdown"!=a.widgetKind_);a.paramHandlers_.forEach(function(h){var l=a.dialog_.querySelector("."+h.widgetKind+
"-attributes");l&&qi(l,a.widgetKind_===h.widgetKind)})};
OT.prototype.validateInputs_=function(){this.dialog_.querySelector(".error-content").textContent="";var a=qM(new lM,PT(this))[0],b=this.dialog_.querySelector(".min-input").value,c=this.dialog_.querySelector(".max-input");c.invalid=Number(b)>=Number(c.value)&&!!a.error;a=!a||!!a.error||!!this.dialog_.querySelector(".name-label").invalid;b=this.dialog_.querySelector(".save");a?b.setAttribute("disabled",!0):b.removeAttribute("disabled");a=this.dialog_.querySelector(".delete");this.dialog_.querySelector(".name-label").invalid?
a.setAttribute("disabled",!0):a.removeAttribute("disabled")};var RT=function(a,b,c){this.dialog=a;this.widgetKind=b;this.supportedTypes=c},KT=function(a){RT.call(this,a,"input",bM)};t(KT,RT);KT.prototype.initializeWidgetAttributes=function(){};KT.prototype.getAttributes=function(a){return'{type:"'+a+'"}'};
KT.prototype.getValidValue=function(a,b){if(a.dataType_==b&&a.getValue())return String(a.getValue());switch(b){case "date":return'"'+VL(new Date(jb()))+'"';case "boolean":return"False";case "string":return Le(a.getValue());case "raw":return a.getValue()?a.getValue():"False";default:return a instanceof cM?a.getValue()?a.getValue():"0":"0"}};
var LT=function(a){RT.call(this,a,"slider",fM);this.minInput=this.dialog.querySelector(".min-input");this.maxInput=this.dialog.querySelector(".max-input");this.maxInput.errorMessage="The min must be less than the max.";this.stepInput=this.dialog.querySelector(".step-input")};t(LT,RT);LT.prototype.initializeWidgetAttributes=function(a){a=zb(a,cM).getDomain();this.minInput.value=String(a.min);this.maxInput.value=String(a.max);this.stepInput.value=String(a.step)};
LT.prototype.getAttributes=function(){return'{type:"'+this.widgetKind+'", min:'+Number(this.minInput.value)+", max:"+Number(this.maxInput.value)+", step:"+Number(this.stepInput.value)+"}"};LT.prototype.getValidValue=function(a){a=a.getValue();return!isNaN(a)&&(a=Number(a),a>=Number(this.minInput.value)&&a<=Number(this.maxInput.value))?String(a):String(this.minInput.value)};
var MT=function(a){RT.call(this,a,"dropdown",iM);var b=this;this.dialog.querySelector(".add-dropdown-option").addEventListener("click",function(){var c=ST(b,"");c.querySelector("paper-input").focus();c.scrollIntoView()})};t(MT,RT);MT.prototype.initializeWidgetAttributes=function(a){var b=this;zb(a,gM).getDomain().forEach(function(c){ST(b,c)});this.dialog.querySelector(".edit-param-dropdown-allow-user-input").checked=a.allowsInput_};
var ST=function(a,b){var c=pm(IT,{value:b}),d=I(a.dialog.querySelector(".dropdown-options-container"));Polymer.dom(d).appendChild(c);c.querySelector("paper-icon-button").addEventListener("click",function(){Polymer.dom(d).removeChild(c)});return c};
MT.prototype.getAttributes=function(a){var b=this.dialog.querySelectorAll(".dropdown-option-input");b="["+Array.from(b).map(function(d){return"raw"!=a||d.value?Le(d.value||""):'"None"'}).join(", ")+"]";var c=[];"string"!=a&&c.push('type:"'+a+'"');this.dialog.querySelector(".edit-param-dropdown-allow-user-input").checked&&c.push("allow-input: true");c=0==c.length?"":" {"+c.join(", ")+"}";return""+b+c};
MT.prototype.getValidValue=function(a,b){a=a.getValue();var c=this.dialog.querySelectorAll(".dropdown-option-input");c=Array.from(c).map(function(d){return"string"==b?Le(d.value):d.value});return c.includes(a)?a:0<c.length?"raw"!=b||c[0]?c[0]:"None":'""'};var NT=function(a){RT.call(this,a,"markdown",[])};t(NT,RT);NT.prototype.initializeWidgetAttributes=function(a){this.dialog.querySelector("paper-textarea").value=a.markdown};NT.prototype.getAttributes=function(){return""};
NT.prototype.getValidValue=function(){return""};NT.prototype.getMarkdown=function(){return this.dialog.querySelector("paper-textarea").value||""};var TT=function(a){var b=U(F(a.titleText)||a.titleText instanceof N,"titleText",a.titleText,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.run)||a.run instanceof N,"run",a.run,"!goog.soy.data.UnsanitizedText|string"),d=U(Oa(a.verticalOutput)||1===a.verticalOutput||0===a.verticalOutput,"verticalOutput",a.verticalOutput,"boolean"),e=a.outputHeight,f=a.formWidth,g=U(F(a.formWidthUnit)||a.formWidthUnit instanceof N,"formWidthUnit",a.formWidthUnit,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.viewType)||
a.viewType instanceof N,"viewType",a.viewType,"!goog.soy.data.UnsanitizedText|string");var h='<div class="content-area"><h1 class="edit-title-dialog-title">Edit form attributes</h1><paper-input autofocus label="'+S("Title text");h+='" class="title-text" value="'+T(b)+'"></paper-input><div class="column"><paper-dropdown-menu label="';h+=S("Initial form visibility");h+='"><paper-listbox class="dropdown-content view-type-dropdown" slot="dropdown-content" selected="'+T(a)+'" attr-for-selected="value"><paper-item value="">';
h=h+'last shown (default)</paper-item><paper-item value="both">both code and form</paper-item><paper-item value="form">form only</paper-item><paper-item value="code">code only'+('</paper-item></paper-listbox></paper-dropdown-menu><div class="form-width-container"><paper-input value="'+T(f)+'" class="form-width-input" auto-validate pattern="\\d+(.\\d+)?" label="');h+=S("Form width");h=h+'" error-message="'+S("Must be a number");h+='"></paper-input><select class="form-width-unit-dropdown"><option'+
(oo(g,"px")?" selected":"")+">px</option><option"+(oo(g,"%")?" selected":"")+'>%</option></select></div></div><div class="column"><paper-input value="'+T(e)+'" class="output-height-input" auto-validate pattern="\\d+(.\\d+)?" label="';h+=S("Output height");h=h+'" error-message="'+S("Must be a number");h+='"><div slot="suffix">px</div></paper-input><paper-checkbox class="auto-run-checkbox"'+(oo(c,"auto")?" checked":"")+" noink>";b=h+"Auto-execute cell when fields change"+('</paper-checkbox><paper-checkbox class="vertical-output-checkbox"'+
(d?" checked":"")+" noink>")+"Display output below form";c=Q('<paper-button id="cancel" class="dismiss" dialog-dismiss>Cancel</paper-button>');h=b+('</paper-checkbox></div></div><div class="buttons">'+c+'<paper-button class="save" submit dialog-confirm>')+"Save";h+="</paper-button></div>";return Q(h)};TT.soyTemplateName="colab.cell.forms.dialogs.editTitleDialog.editTitleDialog";var VT=function(a){lj.call(this);this.dialog_=mH.createWithTemplate(TT,UT(a));this.dialog_.classList.add("edit-form-title-dialog")};t(VT,lj);
VT.prototype.show=function(){var a=this,b=lH(this.dialog_).then(function(c){if(c.confirmed){c=a.dialog_.querySelector(".title-text").value;var d=a.dialog_.querySelector(".view-type-dropdown").selected,e=a.dialog_.querySelector(".form-width-input").value,f=a.dialog_.querySelector(".form-width-unit-dropdown").value;f=e?e+f:"";var g=a.dialog_.querySelector(".auto-run-checkbox").checked,h=a.dialog_.querySelector(".output-height-input").value,l=a.dialog_.querySelector(".vertical-output-checkbox").checked;
e=[];g&&e.push('run: "auto"');l&&e.push("vertical-output: "+l);h&&e.push("output-height: "+h);f&&e.push('form-width: "'+f+'"');d&&e.push('display-mode: "'+d+'"');c="#@title "+c;0<e.length&&(c+=" { "+e.join(", ")+" }")}else c=null;return c});gH(this.dialog_);this.dialog_.querySelector(".output-height-input").addEventListener("input",function(){a.validateInputs_()});this.dialog_.querySelector(".form-width-input").addEventListener("input",function(){a.validateInputs_()});return b};
var UT=function(a){var b=a.outputHeight?a.outputHeight:"",c="",d="px";a.formWidth&&(c=a.formWidth.replace("px","").replace("%",""),d=a.formWidth.includes("px")?"px":"%");return{run:a.run||"",titleText:a.titleText,verticalOutput:a.verticalOutput,formWidth:c,formWidthUnit:d,outputHeight:b,viewType:a.viewType?a.viewType:""}};
VT.prototype.validateInputs_=function(){var a=this.dialog_.querySelector(".output-height-input"),b=this.dialog_.querySelector(".form-width-input");a=a.invalid||b.invalid;b=I(this.dialog_.querySelector(".save"));cH(b,a)};var XT=function(a,b,c){b=c||b;c=U(F(a.name)||a.name instanceof N,"name",a.name,"!goog.soy.data.UnsanitizedText|string");var d=U(F(a.placeholderText)||a.placeholderText instanceof N,"placeholderText",a.placeholderText,"!goog.soy.data.UnsanitizedText|string"),e=U(F(a.type)||a.type instanceof N,"type",a.type,"!goog.soy.data.UnsanitizedText|string"),f=U(F(a.value)||a.value instanceof N,"value",a.value,"!goog.soy.data.UnsanitizedText|string"),g=U(F(a.id)||a.id instanceof N,"id",a.id,"!goog.soy.data.UnsanitizedText|string");
a=U(bb(a.dataTypes),"dataTypes",a.dataTypes,"{BOOLEAN: (!goog.soy.data.UnsanitizedText|string), DATE: (!goog.soy.data.UnsanitizedText|string), INTEGER: (!goog.soy.data.UnsanitizedText|string), STRING: (!goog.soy.data.UnsanitizedText|string),}");a=oo(e,a.BOOLEAN)?'<input type="checkbox"'+(oo(f,"True")?" checked":"")+' aria-labelledby="'+T(g)+'-label"/>':oo(e,a.DATE)?'<colab-date-picker value="'+T(f)+'"></colab-date-picker>':'<div class="layout horizontal grow">'+(oo(e,a.STRING)?'<div class="formview-stringquotes">&quot;</div>':
"")+'<paper-input class="flex" placeholder="'+T(d)+'"'+(oo(e,a.INTEGER)?' type="number"':"")+' value="'+T(f)+'" no-label-float aria-labelledby="'+T(g)+'-label"></paper-input>'+(oo(e,a.STRING)?'<div class="formview-stringquotes">&quot;</div>':"")+"</div>";return Q('<div class="formview-namelabel" id="'+T(g)+'-label">'+R(c)+":</div>"+a+'<div class="input-error-area"></div>'+WT(null,b))};XT.soyTemplateName="colab.cell.forms.widgets.templates.input";
var YT=function(a,b,c){b=c||b;c=U(F(a.name)||a.name instanceof N,"name",a.name,"!goog.soy.data.UnsanitizedText|string");var d=U(Pa(a.value),"value",a.value,"number"),e=U(Pa(a.min),"min",a.min,"number"),f=U(Pa(a.max),"max",a.max,"number"),g=U(Pa(a.step),"step",a.step,"number"),h=U(Oa(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean");a=U(F(a.id)||a.id instanceof N,"id",a.id,"!goog.soy.data.UnsanitizedText|string");return Q('<div class="formview-namelabel" id="'+T(a)+'-label">'+
R(c)+':</div><paper-slider class="flex" editable value="'+T(d)+'" min="'+T(e)+'" max="'+T(f)+'" step="'+T(g)+'"'+(h?" disabled":"")+' aria-labelledby="'+T(a)+'-label"></paper-slider>'+WT(null,b))};YT.soyTemplateName="colab.cell.forms.widgets.templates.slider";
var ZT=function(a,b,c){b=c||b;var d=U(F(a.name)||a.name instanceof N,"name",a.name,"!goog.soy.data.UnsanitizedText|string"),e=U(Pa(a.selectedIndex),"selectedIndex",a.selectedIndex,"number");c=U(Za(a.domain),"domain",a.domain,"!Array<!goog.soy.data.UnsanitizedText|string>");a=U(F(a.id)||a.id instanceof N,"id",a.id,"!goog.soy.data.UnsanitizedText|string");a='<div class="formview-namelabel" id="'+T(a)+'-label">'+R(d)+':</div><paper-dropdown-menu class="flex" noink no-label-float aria-label="'+T(d)+'"><paper-listbox slot="dropdown-content" class="dropdown-content" selected="'+
T(e)+'">';d=c.length;for(e=0;e<d;e++)a+="<paper-item>"+R(c[e])+"</paper-item>";a+="</paper-listbox></paper-dropdown-menu>"+WT(null,b);return Q(a)};ZT.soyTemplateName="colab.cell.forms.widgets.templates.dropdown";
var $T=function(a,b,c){b=c||b;c=U(F(a.name)||a.name instanceof N,"name",a.name,"!goog.soy.data.UnsanitizedText|string");var d=U(F(a.value)||a.value instanceof N,"value",a.value,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.id)||a.id instanceof N,"id",a.id,"!goog.soy.data.UnsanitizedText|string");return Q('<div class="formview-namelabel" id="'+T(a)+'-label">'+R(c)+':</div><colab-input-dropdown class="flex" value="'+T(d)+'" aria-labelledby="'+T(a)+'-label"></colab-input-dropdown>'+WT(null,b))};
$T.soyTemplateName="colab.cell.forms.widgets.templates.inputDropdown";var WT=function(a){a=a||{};var b='<paper-icon-button hidden class="formview-edit-button layout noshrink" icon="editor:mode-edit" title="';b=U(null==a.isTitleWidget||Oa(a.isTitleWidget)||1===a.isTitleWidget||0===a.isTitleWidget,"isTitleWidget",a.isTitleWidget,"boolean|null|undefined")?b+S("Edit cell attributes"):b+S("Edit form field");return Q(b+'"></paper-icon-button>')};WT.soyTemplateName="colab.cell.forms.widgets.templates.editButton";var aU=function(){return Q('<div class="formview vertical layout flex"><div class="widget-area vertical layout"></div></div>')};aU.soyTemplateName="colab.cell.forms.templates.formview";var bU=function(a,b,c){b=c||b;a=U(F(a.error)||a.error instanceof N,"error",a.error,"!goog.soy.data.UnsanitizedText|string");return Q('<div class="editor-form-error layout horizontal"><div>'+R(a)+'</div><div class="formview-error layout noshrink">'+R(WT(null,b))+"</div></div>")};bU.soyTemplateName="colab.cell.forms.templates.error";
var cU=function(){return Q('<paper-button class="show-code-button">Show code</paper-button>')};cU.soyTemplateName="colab.cell.forms.templates.showCodeButton";var dU=0,eU=function(){return $D.apply(this,arguments)||this};t(eU,$D);eU.prototype.setValue=function(){};eU.prototype.validateType=function(){};var fU=function(){dU++;return"formwidget-"+dU};var gU=function(a){var b=U(F(a.value)||a.value instanceof N,"value",a.value,"!goog.soy.data.UnsanitizedText|string");a=U(Za(a.options),"options",a.options,"!Array<!goog.soy.data.UnsanitizedText|string>");b='<paper-input class="colab-input-dropdown-input" value="'+T(b)+'"></paper-input><paper-menu-button class="colab-input-dropdown-button" vertical-offset="25"><paper-icon-button icon="icons:arrow-drop-down" class="dropdown-trigger" slot="dropdown-trigger"></paper-icon-button><paper-listbox class="dropdown-content" slot="dropdown-content">';
for(var c=a.length,d=0;d<c;d++)b+="<paper-item>"+R(a[d])+"</paper-item>";return Q(b+"</paper-listbox></paper-menu-button>")};gU.soyTemplateName="colab.components.inputDropdown.templates.dropdown";var hU=function(){return $D.apply(this,arguments)||this};t(hU,$D);
var jU=function(a,b){var c=nm(gU,{options:b,value:a.getAttribute("value")||""});a.appendChild(c);a.classList.add("layout");a.classList.add("horizontal");gH(a);a.input_=I(a.querySelector("paper-input"));a.dropdown_=I(a.querySelector("paper-menu-button"));var d=a.dropdown_.querySelector("paper-listbox");c=function(){d.selected=b.indexOf(a.input_.value.trim())};c();a.input_.addEventListener("change",c);a.input_.addEventListener("input",c);a.input_.addEventListener("keydown",function(e){if(40==e.keyCode||
13==e.keyCode)a.dropdown_.open(),e.preventDefault()});d.addEventListener("keydown",function(e){38==e.keyCode&&d.focusedItem==d.items[0]&&(a.dropdown_.close(),e.preventDefault())},!0);c=null;c=my?Polymer.dom(a.dropdown_.root).querySelector("iron-dropdown"):a.dropdown_.querySelector("iron-dropdown");iU(c,a.input_);a.dropdown_.addEventListener("paper-dropdown-close",function(){-1!=d.selected&&void 0!=d.selected&&(a.input_.value=b[Number(d.selected)],a.dispatchEvent(new Event("change")));a.input_.focus()})},
iU=function(a,b){a.positionTarget=b;a.style.width=b.clientWidth+"px";a.addEventListener("opened-changed",function(){a.style.width=b.clientWidth+"px"})};hU.prototype.input_=null;hU.prototype.dropdown_=null;bH("colab-input-dropdown",hU);function kU(a){a=a.querySelector("paper-listbox");return[].concat(ja(a.querySelectorAll("paper-item"))).indexOf(a.selectedItem)}var lU=function(){return eU.apply(this,arguments)||this};t(lU,eU);
lU.prototype.init=function(a){this.model_=a;this.classList.add("formview-dropdown");Lx||this.classList.add("layout","horizontal","center");a.allowsInput_?mU(this):nU(this);if(Lx&&Qf){var b=this.querySelector("iron-dropdown"),c=Oh(b,"div","widget-area");b.addEventListener("opened-changed",function(){c.style.overflow=b.opened?"visible":""})}};
var mU=function(a){var b=nm($T,{name:a.model_.getName(),value:$L(a.model_),id:fU()});a.appendChild(b);gH(a);var c=a.querySelector("colab-input-dropdown");jU(c,a.model_.getDomain());b=function(d){a.setValueInternal_(I(c.input_).value);d.stopPropagation()};c.addEventListener("change",b);I(c.input_).addEventListener("input",b)},nU=function(a){var b=nm(ZT,{name:a.model_.getName(),selectedIndex:hM(a.model_),domain:a.model_.getDomain(),id:fU()});a.appendChild(b);gH(a);var c=a.querySelector("paper-dropdown-menu");
eH(c);c.addEventListener("click",function(d){if(-1==hM(a.model_)){var e=kU(a),f=a.model_.getDomain();a.setValueInternal_(-1==e?f[0]:f[e]);d.stopPropagation()}});c.addEventListener("iron-select",function(){var d=kU(a);-1!=d&&a.setValueInternal_(a.model_.getDomain()[d])});my?(b=Polymer.dom(c.root).querySelector("paper-menu-button"),b=Polymer.dom(b.root).querySelector("iron-dropdown")):b=c.querySelector("iron-dropdown");iU(b,c);c.addEventListener("keydown",function(d){!c.opened||40!=d.keyCode&&38!=d.keyCode||
d.preventDefault()})};lU.prototype.setValue=function(a){this.setValueInternal_(a);this.model_.allowsInput_?this.querySelector("paper-input").value=$L(this.model_):this.querySelector("paper-dropdown-menu").selectedIndex=hM(this.model_)||0};lU.prototype.setValueInternal_=function(a){this.model_.value_!==a&&(this.model_.setValue(a),a={kind:"dropdown",model:I(this.model_)},this.dispatchEvent(new CustomEvent("h",{bubbles:!0,detail:a})))};lU.prototype.validateType=function(){return this.model_.validateType()};
lU.prototype.model_=null;var oU=bH("colab-form-dropdown",lU),pU=function(a,b){var c=new oU;b.appendChild(c);c.init(a);return c};var qU=function(){return eU.apply(this,arguments)||this};t(qU,eU);
qU.prototype.init=function(a){var b=this;this.model_=a;var c=this.model_.dataType_;a=nm(XT,{name:this.model_.getName(),placeholderText:rU(this),value:$L(this.model_),type:String(c),dataTypes:pc,id:fU()});this.appendChild(a);this.classList.add("formview-input");Lx&&"boolean"!=c||this.classList.add("layout","horizontal","center");gH(this);var d=this.querySelector('paper-input,input[type="checkbox"]');"date"==c&&(d=this.querySelector('input[type="date"]'));this.inputEl_=d;d.errorMessage="Invalid "+this.model_.dataType_;
sU(this);a=function(e){e.stopPropagation();"boolean"==c?b.setValueInternal_(d.checked?"True":"False"):b.setValueInternal_(d.value);sU(b)};d.addEventListener("input",a);d.addEventListener("change",a)};qU.prototype.setValue=function(a){a=F(a)&&"string"==this.model_.dataType_?a:JSON.stringify(a);this.inputEl_.value=a;this.setValueInternal_(a)};qU.prototype.setValueInternal_=function(a){this.model_.setValue(a);a={kind:"input",model:I(this.model_)};this.dispatchEvent(new CustomEvent("h",{bubbles:!0,detail:a}))};
var sU=function(a){var b=a.model_.validateType();a.inputEl_.invalid=!b},rU=function(a){switch(a.model_.dataType_){case "number":a="number";break;case "integer":a="integer";break;case "date":return"";case "boolean":return"";default:a="text"}return"Insert "+(a+" here")};qU.prototype.validateType=function(){return this.model_.validateType()};qU.prototype.model_=null;qU.prototype.inputEl_=null;var tU=bH("colab-form-input",qU),uU=function(a,b){var c=new tU;b.appendChild(c);c.init(a);return c};var vU=function(){return $D.apply(this,arguments)||this};t(vU,$D);vU.prototype.init=function(a){this.model_=a;a=pB(this.model_.markdown.trim(),function(b){return b});this.appendChild(a);a.classList.add("layout","grow");this.appendChild(pm(WT,{}));this.classList.add("formview-markdown","layout","horizontal");gH(this)};vU.prototype.getMarkdown=function(){return this.model_.markdown.trim()};vU.prototype.model_=null;
var wU=bH("colab-form-markdown",vU),xU=function(a,b){var c=new wU;b.appendChild(c);c.init(a);return c};var yU=function(){return eU.apply(this,arguments)||this};t(yU,eU);
yU.prototype.init=function(a){var b=this;this.model_=a;a=this.model_.getDomain();var c=a.min==a.max;c&&(a.max=a.min+Math.abs(a.step));a=nm(YT,{name:this.model_.getName(),value:Number(this.model_.value_),min:a.min,max:a.max,step:a.step,disabled:c,id:fU()});this.appendChild(a);this.classList.add("formview-slider");Lx||this.classList.add("layout","horizontal","center");gH(this);var d=this.querySelector("paper-slider");d.addEventListener("value-change",function(f){f.stopPropagation();f=d.immediateValue;
null!=f&&Number(b.model_.value_)!==f&&b.setValueInternal_(f)});d.addEventListener("dblclick",function(f){f.stopPropagation()});a=(my?Polymer.dom(d.root):d).querySelector("#sliderContainer");a.style.marginTop="2px";a.style.marginBottom="0";var e=this.querySelector(".slider-knob-inner");a=new MutationObserver(function(f){f.forEach(function(g){var h=Number(e.getAttribute("value"));"attributes"!=g.type&&"childList"!=g.type||zU(b,eM(b.model_,h))})});d&&e&&(a.observe(d,{childList:!0}),a.observe(e,{attributes:!0}))};
yU.prototype.setValue=function(a){var b=I(this.querySelector("paper-slider"));a=Number(a);b.value=a;this.setValueInternal_(a)};var zU=function(a,b){if(a=a.querySelector("input"))a.value=b,dH(a)};yU.prototype.setValueInternal_=function(a){a=eM(this.model_,a);zU(this,a);this.model_.setValue(a);a={kind:"slider",model:I(this.model_)};this.dispatchEvent(new CustomEvent("h",{bubbles:!0,detail:a}))};yU.prototype.validateType=function(){return this.model_.validateType()};
var AU=function(a){a=a.model_.getDomain();var b=dM(a.step),c=Math.max(Math.abs(a.max).toFixed().length,Math.abs(a.min).toFixed().length);0<a.min&&(c+=1);return b+c};yU.prototype.model_=null;var BU=bH("colab-form-slider",yU),CU=function(a,b){var c=new BU;b.appendChild(c);c.init(a);return c};var DU=function(){return $D.apply(this,arguments)||this};t(DU,$D);k=DU.prototype;k.isOutputVertical=function(){return this.model_.verticalOutput};k.init=function(a){this.model_=a;(a=this.model_.titleText.trim())&&!a.startsWith("#")&&(a="### "+a);a=pB(a,function(b){return b});this.appendChild(a);a.classList.add("layout","grow");this.appendChild(pm(WT,{isTitleWidget:!0}));this.classList.add("formview-title","layout","horizontal");gH(this)};k.getTitleText=function(){return tB(this.model_.titleText)};
k.getViewType=function(){return this.model_.viewType};k.getOutputHeight=function(){return this.model_.outputHeight};k.getFormWidth=function(){return this.model_.formWidth};k.model_=null;var EU=bH("colab-form-title",DU),FU=function(a,b){var c=new EU;b.appendChild(c);c.init(a);return c};var GU=function(a){O.call(this);this.readonly_=a;this.titleWidget_=null;this.lastEventTimestamp_=0;this.waiting_=!1;this.formJson_=null;this.paramConfigs_={};this.paramWidgets_=new Map;this.displayWidgets_=[];this.maxLineNumber_=-1;this.assignmentOperator_="="};t(GU,O);GU.prototype.getTitleText=function(){return this.titleWidget_?this.titleWidget_.getTitleText():null};GU.prototype.isOutputVertical=function(){return null!==this.titleWidget_&&this.titleWidget_.isOutputVertical()};
var HU=function(a){return!a.titleWidget_||!a.titleWidget_.model_.viewType};GU.prototype.getFormWidth=function(){return this.titleWidget_?this.titleWidget_.getFormWidth()||"":""};GU.prototype.getOutputHeight=function(){if(this.titleWidget_)return this.titleWidget_.getOutputHeight()};GU.prototype.getViewType=function(a){return HU(this)?a:this.titleWidget_.getViewType()};GU.prototype.createDom=function(){this.element_=pm(aU)};
var IU=function(a,b){a=P(a);b?(a.removeAttribute("vertical"),a.setAttribute("horizontal","")):(a.removeAttribute("horizontal"),a.setAttribute("vertical",""))},JU=function(a){return[].concat(ja(a.paramWidgets_.values())).every(function(b){return b instanceof eU?b.validateType():!0})};
GU.prototype.onParamChange_=function(){var a=this;null!==this.titleWidget_&&"auto"===this.titleWidget_.model_.run&&(this.lastEventTimestamp_=Date.now(),this.waiting_||(this.waiting_=!0,window.setTimeout(function(){return KU(a)},500)))};var KU=function(a){var b=Date.now()-a.lastEventTimestamp_;500>b?window.setTimeout(function(){return KU(a)},b):(a.waiting_=!1,JU(a)&&a.getElement().dispatchEvent(new CustomEvent("i",{bubbles:!0,detail:{kind:"autorun"}})))};
GU.prototype.enterDocument=function(){O.prototype.enterDocument.call(this);this.getHandler().listen(P(this),"h",this.onParamChange_)};GU.prototype.addWidget=function(){LU(this,{lineNumber:this.maxLineNumber_+1,widgetKind:"input",isNewParameter:!0})};
var LU=function(a,b){var c=b.model,d=b.widgetKind,e=b.lineNumber,f=void 0===b.isNewParameter?!1:b.isNewParameter;c=c||new aM("","","string");b=a.assignmentOperator_;("title"==d?new VT(c):new OT(c,{widgetKind:d,isNewParameter:f,assignmentOperator:b})).show().then(function(g){if(g){if(!f){var h=qM(new lM,g);if(0<h.length&&(h=h[0].model,h instanceof ZL&&c.equals(h)))return}a.getElement().dispatchEvent(new CustomEvent(f?"e":"f",{bubbles:!0,detail:{index:e,widgetString:g}}))}})},NU=function(a,b){var c=
JSON.stringify(b);if(a.formJson_==c)return!1;a.formJson_=c;MU(a,b);return!0},MU=function(a,b){var c=I(a.getElementByClass("widget-area"));sh(c);oj(a.removeChildren(!0));a.paramWidgets_.clear();a.displayWidgets_=[];a.titleWidget_=null;a.maxLineNumber_=-1;var d=[];b.forEach(function(f){var g=f.lineNumber;a.maxLineNumber_=Math.max(a.maxLineNumber_,g);var h=null;if(f.model instanceof ZL){var l=f.model.getName(),m=a.paramConfigs_[l];m&&f.model.updateFromConfig(m);f.model instanceof cM?(h=CU(f.model,c),
d.push(h)):f.model instanceof gM?h=pU(f.model,c):f.model instanceof aM&&(h=uU(f.model,c));h&&a.paramWidgets_.set(l,h)}else null!=f.model&&("title"==f.kind?(h=FU(f.model,c),a.titleWidget_=h):h=xU(f.model,c),a.displayWidgets_.push(h));f.error&&(l=pm(bU,{error:f.error}),c.appendChild(l),h||(h=l));var n=h?h.querySelector(".formview-edit-button"):null;n&&(n.removeAttribute("hidden"),n.addEventListener("click",function(){n.dispatchEvent(new CustomEvent("g",{bubbles:!0,detail:{lineNumber:g}}));LU(a,{lineNumber:g,
model:f.model,widgetKind:f.kind})}))});if(a.readonly_){b=a.getElement().querySelectorAll('paper-slider, paper-input, select, paper-dropdown-menu, paper-menu-button, input[type="checkbox"]');b=q(b);for(var e=b.next();!e.done;e=b.next())e.value.setAttribute("disabled","true");b=a.getElement().querySelectorAll(".formview-edit-button");b=q(b);for(e=b.next();!e.done;e=b.next())e.value.style.visibility="hidden"}OU(d);0<a.displayWidgets_.length&&PU(a)&&(b=pm(cU,{}),b.addEventListener("click",function(){a.getElement().dispatchEvent(new CustomEvent("j"))}),
vh(a.displayWidgets_[0],b,0))},PU=function(a){if(0<a.paramWidgets_.size)return!1;a=q(a.displayWidgets_);for(var b=a.next();!b.done;b=a.next())if(b=b.value,b instanceof DU){if(b.model_.titleText.trim())return!1}else if(b instanceof vU&&b.getMarkdown().trim())return!1;return!0},OU=function(a){var b=a.reduce(function(d,e){return Math.max(d,AU(e))},0),c=new MutationObserver(function(d){d.forEach(function(e){if("childList"==e.type){var f;my?f=Polymer.dom(e.target.root).querySelector("paper-input"):f=e.target.querySelector("paper-input");
f.style.minWidth=.6*b+1.2+"rem";f.style.maxWidth=.6*b+1.2+"rem"}})});a.forEach(function(d){c.observe(d.querySelector("paper-slider"),{childList:!0})})},QU=function(a){a=a.getElementByClass("widget-area");return!!a&&0<a.children.length};var TU=function(a,b){O.call(this);var c=this;this.iframeSource_=a;this.isTrusted_=b;this.iframeOrigin_=(new URL(Pc(a),window.location.toString())).origin;this.hasDetached_=this.iframeLoaded_=!1;this.loadedPromise_=Tk();this.iframe_=this.createIframe_();this.iframe_.addEventListener("beforeunload",function(){RU(c)});this.lifecycleEvents_=new ES;this.lifecycleEvents_.addEventListener("detached",function(){RU(c)});this.lifecycleEvents_.addEventListener("attached",function(){SU(c)});this.exitedDocument_=
new Promise(function(d,e){c.rejectExitedDocument_=e});this.exitedDocument_.catch(function(){});Xk(this.loadedPromise_.promise,function(){})};t(TU,O);TU.prototype.disposeInternal=function(){RU(this);O.prototype.disposeInternal.call(this)};TU.prototype.isTrusted=function(){return this.isTrusted_};TU.prototype.loaded=function(){return Promise.resolve(this.loadedPromise_.promise)};TU.prototype.createDom=function(){O.prototype.createDom.call(this);P(this).appendChild(this.lifecycleEvents_)};
var SU=function(a){a.hasDetached_||UU(a).then(function(){a.hasDetached_||(a.iframeLoaded_=!0);a.loadedPromise_.resolve()},function(b){a.loadedPromise_.reject(b)})},RU=function(a){a.hasDetached_||(a.hasDetached_=!0,a.iframeLoaded_=!1,a.rejectExitedDocument_(new VU),a.dispatchEvent("detached"))};
TU.prototype.createIframe_=function(){if(Gf)var a=lh("IFRAME",{name:"output-iframe"});else{a=["allow-forms allow-scripts","allow-popups","allow-same-origin","allow-pointer-lock"];$x||a.push("allow-popups-to-escape-sandbox");var b=[];this.isTrusted_&&(b.push("autoplay"),b.push("camera"),b.push("microphone"),b.push("vr"));a=lh("IFRAME",{sandbox:a.join(" "),allow:b.join("; ")})}a.style.height="0px";we(a,this.iframeSource_);return a};
var UU=function(a){var b;return B(function(c){return 1==c.nextAddress?(b=WU.get(a.iframeOrigin_))&&b!=a?u(c,b.loaded(),2):c.jumpTo(2):a.hasDetached_?c.return():c.return(XU(a))})},XU=function(a){var b;return B(function(c){return 1==c.nextAddress?(b=new Promise(function(d,e){a.iframe_.onload=d;a.iframe_.onerror=e}),P(a).appendChild(a.iframe_),u(c,YU.enqueue(b),2)):u(c,a.loadIframeContents(),0)})},ZU=function(a,b,c,d){c=void 0===c?{}:c;d=void 0===d?[]:d;b=Object.assign(c,{sandboxed_iframe_evaluation:b});
a.iframe_.contentWindow.postMessage(b,a.iframeOrigin_,d)};TU.prototype.isLoaded=function(){return this.iframeLoaded_};
TU.prototype.setHeight=function(a){var b=a.iframe;a=a.container;var c=this.getElement();if(c)if(ay){var d=!1;if(this.isTrusted_){d=c.clientHeight+c.scrollTop==c.scrollHeight;var e=c.getBoundingClientRect();e=e.bottom<document.documentElement.clientHeight&&0<e.bottom;d=d&&e}ki(this.iframe_,b);c.style.maxHeight=a+"px";c.style.height=b+"px";d&&(c.scrollTop=c.scrollHeight,c.scrollIntoView({block:"end",behavior:"instant"}))}else ki(this.iframe_,a),ki(c,a)};
var $U=function(a){a=q(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=new URL(b.iframeOrigin_);WU.set(c.origin,b)}},WU=new Map,VU=function(){Cy.call(this,"Iframe disposed")};t(VU,Cy);var YU=new Hy;var aV=function(a,b,c){vS.call(this,a,b.getPreferences(),void 0===c?!1:c);var d=this;this.notebook_=b;this.trusted_=""===a.getText()?!0:null;this.notebook_.getNotebookModel().hasOtherWriters().then(function(e){null==d.trusted_&&(d.trusted_=!e)});this.lintFindings_=[];this.formErrors_=[];this.matchDecorations_=[]};t(aV,vS);k=aV.prototype;k.getLines=function(){return this.textModel.getLinesContent()};k.isTrustedContent=function(){return this.isTrusted_(!1)};
k.styleTrusted_=function(){var a=this.isTrusted_(!0);this.getElement().classList.toggle("non-trusted",!a)};k.getSelection=function(){var a=this.monaco.getSelection();return a?this.textModel.getValueInRange(a):""};k.isTrusted_=function(a){return 1!=this.trusted_&&this.notebook_.getNotebookModel().isShared_?null!=this.trusted_?this.trusted_:a:!0};k.setLocalContent=function(a){this.trusted_=a;this.styleTrusted_()};
k.setLine=function(a,b){this.monaco||this.createEditor();var c=this.monaco.getSelections()||void 0,d=this.textModel.getLineCount();if(a>d-1){var e=this.textModel.getLineMaxColumn(d);b="\n".repeat(a-d+1)+b;this.monaco.executeEdits("forms",[{identifier:"",range:new monaco.Range(d,e,d,e),text:b}],c)}else d=this.textModel.getLineMaxColumn(a+1),this.monaco.executeEdits("forms",[{identifier:"",range:new monaco.Range(a+1,0,a+1,d),text:b}],c)};
k.updateScrollInternal_=function(a){a=void 0===a?0:a;var b=rS();if(b.initialized()&&this.monaco){var c=this.monaco.getTopForLineNumber(this.monaco.getPosition().lineNumber)+this.getElement().getBoundingClientRect().top,d=c+this.monaco.getConfiguration().lineHeight,e=oi(b.element_),f=0;c-10<e.top&&(f=c-e.top-20);c=e.top+e.height;d+10>c&&(f=d+20-c);if(0<f&&0>a||0>f&&0<a)f=0;0!=f&&b.scroll(f)}};
k.focus=function(a){this.inDocument_&&this.isVisible()&&("blur"===a?this.blur():(a&&this.setCursor(a),this.updateScrollInternal_(),this.monaco.focus()))};k.getRange=function(a,b){a=a||new CodeMirror.Pos(0,0);b=b||new CodeMirror.Pos(this.textModel.getLineCount(),0);return this.textModel.getValueInRange(new monaco.Selection(a.line+1,a.ch+1,b.line+1,b.ch+1))};k.getCursor=function(){var a=this.monaco.getPosition();return new CodeMirror.Pos(a.lineNumber-1,a.column-1)};
k.setCursor=function(a){"begin"==a?this.monaco.setPosition(new monaco.Position(1,0)):"end"==a?this.monaco.setPosition(new monaco.Position(this.textModel.getLineCount(),0)):a&&0<=a.line&&this.monaco.setPosition(new monaco.Position(a.line+1,a.ch+1))};k.addLintFinding=function(a){this.lintFindings_.push(a);bV(this)};
var bV=function(a){var b=a.lintFindings_.map(function(c){var d="warning"==c.severity?monaco.MarkerSeverity.Warning:monaco.MarkerSeverity.Error;return{startLineNumber:c.line+1,startColumn:1,endLineNumber:c.line+1,endColumn:a.textModel.getLineContent(c.line+1).length,message:c.message,severity:d}});monaco.editor.setModelMarkers(I(a.textModel),"lint",b)};k=aV.prototype;k.clearLintFindings=function(){this.lintFindings_=[];monaco.editor.setModelMarkers(I(this.textModel),"lint",[])};
k.createEditor=function(){var a=this;vS.prototype.createEditor.call(this);this.notebook_.getNotebookModel().hasOtherWriters().then(function(){a.getElement()&&a.styleTrusted_()});this.monaco.onKeyDown(function(c){c=c.browserEvent;if(27==c.keyCode){var d=a.monaco._contextKeyService.getContextKeyValue("suggestWidgetVisible"),e=a.monaco._contextKeyService.getContextKeyValue("parameterHintsVisible"),f=a.monaco._contextKeyService.getContextKeyValue("editorHasMultipleSelections"),g=a.hoverController.contentWidget.isVisible,
h=a.vimMode&&!CS(a);d||e||f||g||h||(a.notebook_.commandHandler_.execute(xG,1),c.preventDefault(),c.stopPropagation())}a.vimMode&&(40==c.keyCode&&a.isLastLineAndColumn.get()?(DT(a.notebook_,1),c.preventDefault(),c.stopPropagation()):38==c.keyCode&&a.isFirstLineAndColumn.get()&&(DT(a.notebook_,-1),c.preventDefault(),c.stopPropagation()))});this.monaco.onDidChangeCursorPosition(function(){a.updateScrollInternal_()});this.monaco.onMouseDown(function(c){a.handleMouseDown_(c)});this.hoverController&&(this.hoverController._unhookEvents(),
this.hoverController._hookEvents());var b=this.notebook_.powerMode_;b&&(b=new mO(this.monaco,this.preferences.POWER_LEVEL,b),nj(this,b))};k.modelContentChanged=function(a){vS.prototype.modelContentChanged.call(this,a);this.lintFindings_.length&&(this.lintFindings_=this.lintFindings_.filter(function(b){return"warning"!=b.severity}),bV(this));this.formErrors_.length&&monaco.editor.setModelMarkers(I(this.textModel),"form-errors",this.formErrors_)};k.getCodeEditor=function(){return null};
k.registerEditorCommands=function(){var a=this,b=this.monaco.createContextKey("hasPrecedingChars",!1),c=this.monaco.createContextKey("hasPrecedingOpenParen",!1),d=function(){var e=a.monaco.getPosition();a.isLastLineAndColumn.set(e.lineNumber==a.textModel.getLineCount()&&(e.column==a.textModel.getLineLength(e.lineNumber)+1||CS(a)&&e.column==a.textModel.getLineLength(e.lineNumber)));a.isFirstLineAndColumn.set(1==e.lineNumber&&1==e.column);var f=a.textModel.getLineContent(e.lineNumber).substring(0,e.column-
1).trim();b.set(!!(1<e.column&&f.length));c.set(!!(1<e.column&&f.endsWith("(")))};d();this.monaco.onDidChangeCursorPosition(d);this.monaco.addCommand(monaco.KeyCode.DownArrow,function(){DT(a.notebook_,1)},"isLastLineAndColumn && !suggestWidgetVisible");this.monaco.addCommand(monaco.KeyCode.PageDown,function(){DT(a.notebook_,1)},"isLastLineAndColumn && !suggestWidgetVisible");this.monaco.addCommand(monaco.KeyCode.UpArrow,function(){DT(a.notebook_,-1)},"isFirstLineAndColumn && !suggestWidgetVisible");
this.monaco.addCommand(monaco.KeyCode.PageUp,function(){DT(a.notebook_,-1)},"isFirstLineAndColumn && !suggestWidgetVisible");this.monaco.addCommand(monaco.KeyCode.Tab,function(){a.monaco.trigger("","editor.action.triggerSuggest","")},"editorTextFocus && !editorHasSelection && !editorHasMultipleSelections && !editorTabMovesFocus && hasPrecedingChars && !suggestWidgetVisible && !hasQuickSuggest && !hasPrecedingOpenParen");this.monaco.addCommand(monaco.KeyCode.Tab,function(){a.monaco.trigger("","editor.action.triggerParameterHints",
"")},"editorTextFocus && !editorHasSelection && !editorHasMultipleSelections && !editorTabMovesFocus && hasPrecedingOpenParen && !hasQuickSuggest");this.monaco.addCommand(monaco.KeyCode.Tab|monaco.KeyMod.Shift,function(){a.monaco.trigger("","editor.action.triggerParameterHints","")},"editorTextFocus && !editorHasSelection && !editorHasMultipleSelections && !editorTabMovesFocus && hasPrecedingChars && !hasQuickSuggest")};
k.handleMouseDown_=function(a){a.target.type==monaco.editor.MouseTargetType.GUTTER_LINE_NUMBERS&&this.dispatchEvent(new GN(a.target.position.lineNumber))};k.moveToEndOfCurrentLine=function(){this.monaco.trigger("","cursorEnd","")};k.moveToEndOfLastLine=function(){this.monaco.trigger("","cursorBottom","")};
k.applyMarkdownTransform=function(a){var b=this.monaco.getSelection()||void 0,c="";b&&(c=this.textModel.getValueInRange(b));var d=this.textModel.getOffsetAt(b.getStartPosition());a=a(c);this.monaco.executeEdits("transform",[{identifier:"",range:b,text:a.replace}],[b]);a.select&&this.monaco.setSelection(monaco.Range.fromPositions(this.textModel.getPositionAt(d+a.select[0]),this.textModel.getPositionAt(d+a.select[1])))};
k.greedySelect=function(a){var b=this.monaco.getSelection();if(!b||!monaco.Range.spansMultipleLines(b)){var c=this.textModel.getLineContent(b.startLineNumber),d=b.startColumn,e=b.endColumn;b.isEmpty()&&(e=this.textModel.getWordAtPosition(b.getStartPosition()),d=e.startColumn,e=e.endColumn);for(;c[d-2]===a;)d--;for(;c[e-1]===a;)e++;this.monaco.setSelection({startLineNumber:b.startLineNumber,startColumn:d,endLineNumber:b.startLineNumber,endColumn:e})}};
k.highlightAllMatches=function(a,b){var c=b.regExp,d=void 0===b.caseSensitive?!1:b.caseSensitive;b=void 0===b.useRegExp?!1:b.useRegExp;this.clearAllMatches();if(!this.monaco)return(a=this.text_.getText().match(c))?{before:0,total:a.length}:{before:0,total:0};var e=this.monaco.getPosition()||new monaco.Position(1,1);c=this.textModel.findMatches(a,!1,b,d,null,!1);a=c.map(function(f){return{options:cV,range:f.range}});c=c.filter(function(f){return f.range.getStartPosition().isBefore(e)}).length;this.matchDecorations_=
this.textModel.deltaDecorations(this.matchDecorations_,a);return{before:c,total:this.matchDecorations_.length}};
k.findNextMatch=function(a,b){var c=void 0===b.caseSensitive?!1:b.caseSensitive,d=void 0===b.useRegExp?!1:b.useRegExp;b=(void 0===b.fromStart?0:b.fromStart)?new monaco.Position(1,1):this.monaco.getPosition()||new monaco.Position(1,1);a=this.textModel.findNextMatch(a,b,d,c,null,!1);if(!a||a.range.getStartPosition().isBefore(b))return null;c=a.range.getStartPosition();a=a.range.getEndPosition();return{start:new CodeMirror.Pos(c.lineNumber-1,c.column-1),end:new CodeMirror.Pos(a.lineNumber-1,a.column-
1)}};k.setSelection=function(a){var b=new monaco.Position(a.start.line+1,a.start.ch+1);a=new monaco.Position(a.end.line+1,a.end.ch+1);this.monaco.setPosition(a);this.monaco.setSelection(monaco.Range.fromPositions(b,a))};
k.findPreviousMatch=function(a,b){var c=void 0===b.caseSensitive?!1:b.caseSensitive,d=void 0===b.useRegExp?!1:b.useRegExp;(void 0===b.fromEnd?0:b.fromEnd)?(b=this.textModel.getLineCount(),b=new monaco.Position(b,this.textModel.getLineContent(b).length+1)):b=this.monaco.getSelection().getStartPosition();a=this.textModel.findPreviousMatch(a,b,d,c,null,!1);if(!a||b.isBeforeOrEqual(a.range.getStartPosition()))return null;c=a.range.getStartPosition();a=a.range.getEndPosition();return{start:new CodeMirror.Pos(c.lineNumber-
1,c.column-1),end:new CodeMirror.Pos(a.lineNumber-1,a.column-1)}};k.clearAllMatches=function(){this.textModel&&this.textModel.deltaDecorations(this.matchDecorations_,[]);this.matchDecorations_=[]};
k.replaceCurrentMatch=function(a,b){a=new monaco.Range(a.start.line+1,a.start.ch+1,a.end.line+1,a.end.ch+1);if(this.monaco.getSelection().equalsRange(a)){var c=this.textModel.getOffsetAt(a.getStartPosition());this.monaco.executeEdits("replace",[{identifier:"",range:a,text:b}],[monaco.Selection.fromPositions(a.getStartPosition(),a.getEndPosition())]);b=this.textModel.getPositionAt(c+b.length);this.monaco.setSelection(monaco.Range.fromPositions(a.getStartPosition(),b));this.monaco.setPosition(b)}};
k.insertLine=function(a,b){var c=this.getLines();0>a||a>c.length||(c.splice(a,0,b),this.setText(c.join("\n")))};k.addFormError=function(a,b){var c=Number(this.textModel.getLineContent(a+1).length);this.formErrors_.push({startLineNumber:a+1,startColumn:1,endLineNumber:a+1,endColumn:c+1,message:b,severity:monaco.MarkerSeverity.Error});monaco.editor.setModelMarkers(I(this.textModel),"form-errors",this.formErrors_)};
k.clearFormErrors=function(){this.formErrors_=[];this.textModel&&monaco.editor.setModelMarkers(I(this.textModel),"form-errors",[])};var cV={className:"findMatch",stickiness:1};var dV=function(a,b,c){O.call(this);this.output_=a;this.userInfo_=c;this.infoImg_=null;this.hasMetadata_=!1;this.executionDuration_=this.executionTimestamp_=null;this.owner_="";this.ownedByMe_=!1;this.photoUrl_="";this.loading_=!1;this.permissions_=b};t(dV,O);k=dV.prototype;k.createDom=function(){var a=pm(lS);this.infoImg_=bh("collaborator",a);this.element_=a};
k.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);var b=this.getHandler(),c=P(this);b.listen(c,"mouseover",this.updateImageTitle_);b.listen(c,"click",this.handleClick_);this.permissions_.isEditable()&&(this.getElement().classList.add("clear_outputs_enabled"),c=this.getElement().querySelector("[command="+JE.id+"]"),b.listen(c,"click",this.handleRemove_));b.listen(this.output_,"info_updated",function(){eV(a);a.dispatchEvent("info_updated")});eV(this)};k.handleClick_=function(){this.dispatchEvent("select")};
k.handleRemove_=function(){this.dispatchEvent(new uS(JE,17))};k.setSelected=function(a){Im(this.getElement(),"output-icon-selected",a);Im(this.infoImg_,"collaborator-img-selected",a)};k.getId=function(){return this.output_.getId()};k.cleanup=function(){this.dispose();this.infoImg_&&this.infoImg_.remove();this.infoImg_=null};k.exitDocument=function(){O.prototype.exitDocument.call(this);this.removeAllListeners()};k.setLoading=function(a){this.loading_=a;this.infoImg_&&(fV(this),this.updateImageTitle_())};
var eV=function(a){var b=a.output_.realtimeOutput_.get("info");b&&(a.executionTimestamp_=null,a.executionDuration_=null,a.owner_="",a.ownedByMe_=!1,a.photoUrl_="",a.loading_=!1,a.hasMetadata_=!1,a.hasMetadata_=!0,void 0!==b.timestamp&&(a.executionTimestamp_=b.timestamp),void 0!==b.elapsed&&(a.executionDuration_=b.elapsed),b=b.user,F(b)?a.owner_=b:b&&(b.photoUrl&&b.photoUrl.startsWith("//")?a.userInfo_&&b.displayName&&b.displayName==a.userInfo_.displayName&&(a.ownedByMe_=!0):a.userInfo_&&b.userId&&
b.userId==a.userInfo_.permissionId&&(a.ownedByMe_=!0),a.owner_=b.displayName,a.photoUrl_=b.photoUrl?El(Ul(b.photoUrl),"https").toString():""));a.infoImg_&&(fV(a),a.updateImageTitle_())},fV=function(a){var b="",c="";a.loading_?c="more-horiz":a.ownedByMe_?c="colab-20:output-icon":"Scheduled Execution"==a.owner_?c="image:timer":a.photoUrl_?b=a.photoUrl_:c="colab-20:anon";eh(a.infoImg_,{src:b,icon:c});Im(a.infoImg_,"collaborator-img-me",a.ownedByMe_)};
dV.prototype.updateImageTitle_=function(){var a=gV(this);this.permissions_.isEditable()&&(a="Clear output\n\n"+a);if(this.loading_&&!this.hasMetadata_){var b=a;a="Loading..."}else b=a;eh(P(this),{title:b,alt:a})};var gV=function(a){if(a.loading_&&!a.hasMetadata_)return"currently executing...";var b=a.executionTimestamp_;var c=a.executionDuration_,d="unknown time";null!=b&&(d=Vt(Es(b)));b=d+(null==c?"":"\nexecuted in "+(c/1E3+"s"));return a.owner_?"executed by "+a.owner_+"\n"+b:"executed at "+b};var hV=function(a){Cy.call(this,a)};t(hV,Cy);var iV=function(a){if(null==a)return a;var b=typeof a;if("number"==b||"string"==b||"boolean"==b)return a;if("object"!=b)throw new TypeError(b);if(a instanceof Boolean||a instanceof Number||a instanceof String)return a;if(a instanceof Array)return a.map(function(e){return iV(e)});b={};for(var c=q(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b[d]=iV(a[d]);return b};var kV=function(a,b,c,d){O.call(this);this.output_=a;this.context_=c;this.preferences_=this.context_.getPreferences();this.iframe=null;this.iframeLoaded_=!1;this.cellId_=b;this.outputId_=a.getId();this.traits_=this.context_.getTraits();this.isLocal_=a.localContent_;this.allowEphemeralScripts_=d;this.pendingRequests_=new Map;this.requestId_=1;jV(this);this.intersectionObserver_=this.serviceWorkerPort_=null;this.iframeOrigin_="";this.pendingCommMessages_=[];this.iframePort_=null};t(kV,O);
var jV=function(a){a.iframeLoaded_=!1;a.loadedPromise_=Tk();Xk(a.loadedPromise_.promise,function(){})};kV.prototype.enterDocument=function(){O.prototype.enterDocument.call(this);this.exitedDocument_=Tk();Xk(this.exitedDocument_.promise,function(){})};
kV.prototype.createDom=function(){var a=this;O.prototype.createDom.call(this);var b=new ES;this.getHandler().listen(b,"detached",function(){jV(a);a.iframeLoaded_=!1});P(this).appendChild(b);P(this).classList.add("outputview");ay&&(P(this).style.overflow="auto");this.getHandler().listen(this.preferences_.SITE_THEME,"change",function(){return a.updateTheme_()});if(window.matchMedia("(prefers-color-scheme: dark)").matches||window.matchMedia("(prefers-color-scheme: light)").matches)window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return a.updateTheme_()}),
window.matchMedia("(prefers-color-scheme: light)").addListener(function(){return a.updateTheme_()});this.traits_.params_.nodisplayOutput||(this.iframe&&(this.iframe.remove(),jV(this)),this.iframeLoaded_=!1,this.dispatchEvent("view_initializing"),null!=this.output_.getHeight()&&window.IntersectionObserver?(P(this).style.height=(this.output_.getHeight()||0)+"px",this.intersectionObserver_||(this.intersectionObserver_=new IntersectionObserver(function(c){c=q(c);for(var d=c.next();!d.done;d=c.next())d=
d.value,d.target==P(a)&&d.isIntersecting&&(a.intersectionObserver_.unobserve(d.target),a.iframe||lV(a))})),this.intersectionObserver_.observe(P(this))):this.createIframe_())};kV.prototype.createIframe_=function(){var a=this;mV(this).then(function(){},function(){a.loadedPromise_.reject(new hV("Unable to load cell output frame."))});this.getHandler().listen(this.iframe,"beforeunload",function(){a.iframeLoaded_=!1})};
var lV=function(a){var b;B(function(c){if(1==c.nextAddress)return a.createIframe_(),y(c,2),u(c,a.loadedPromise_.promise,4);if(2!=c.nextAddress)return va(c,0);b=z(c);if(a.isDisposed())return c.return();bJ(b);wH(WD.OUTPUT_JAVASCRIPT_LOADING_ERROR,"");x(c)})},mV=function(a){var b,c,d,e,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:return Gf?a.iframe=lh("IFRAME",{name:"output-iframe-"+a.cellId_}):(b=["allow-forms allow-scripts","allow-popups","allow-same-origin","allow-pointer-lock"],$x||
b.push("allow-popups-to-escape-sandbox"),c=[],a.isLocal_&&(c.push("autoplay"),c.push("camera"),c.push("microphone"),c.push("vr")),a.iframe=lh("IFRAME",{name:"output-iframe-"+a.cellId_,sandbox:b.join(" "),allow:c.join("; ")})),d=a.isLocal_,e=SD.getOutputframeHtmlUrl({trusted:d}),a.iframeOrigin_=(new URL(Pc(e),window.location.toString())).origin,we(a.iframe,e),a.iframe.style.height=(a.output_.getHeight()||0)+"px",u(m,a.output_.loaded(),2);case 2:if(a.isDisposed())return m.return();f=d?nV:oV;if(!f){m.jumpTo(3);
break}y(m,4);return u(m,f,6);case 6:va(m,3);break;case 4:g=z(m);if(!(g instanceof pV))throw g;f=void 0;Ix&&console.log("Service worker activation: Ignoring benign disposed error after the OutputView was removed from the DOM.");case 3:return h=new Ik(function(n,p){a.iframe.onload=function(){qV(a).then(function(){a.isDisposed()?(n(),a.loadedPromise_.resolve()):(a.iframeLoaded_=!0,a.populateIframe_(),a.dispatchEvent("view_loaded"),a.loadedPromise_.resolve(),n())},function(r){p(r);a.loadedPromise_.reject(r)})};
a.iframe.onerror=function(r){a.loadedPromise_.reject(r);p()};a.isDisposed()?n():P(a).appendChild(a.iframe)}),Xk(h,function(){}),!f&&a.output_.hasItems()&&(l=Pk([h,a.exitedDocument_.promise]),Xk(l,function(){}),d?nV=l:oV=l),m.return(h)}})},qV=function(a){var b,c;return B(function(d){b=String(rV||window.location);c=SD.OUTPUT_SCRIPTS_COMPILED.map(function(e){e=(new URL(e,b)).toString();return e+"?vrz="+window.colabVersionTag});return u(d,sV(a,b,c),0)})},sV=function(a,b,c){var d,e,f,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:d=
c[c.length-1],e=c.slice(0,-1),f=q(e),g=f.next();case 2:if(g.done)return u(n,tV(d),6);h=g.value;return u(n,tV(h),5);case 5:l=n.yieldResult;if(!a.iframe||!a.iframe.contentWindow)return n.return();a.iframe.contentWindow.postMessage({sandboxed_iframe_evaluation:l},a.iframeOrigin_);g=f.next();n.jumpTo(2);break;case 6:return m=n.yieldResult,a.iframe&&a.iframe.contentWindow?u(n,uV(a,m,b),0):n.return()}})},uV=function(a,b,c){var d;return B(function(e){d=new Ik(function(f,g){var h=new MessageChannel;a.iframePort_=
h.port1;h.port1.onmessage=function(n){n.data.loaded?f():g(new hV(n.data.error));h.port1.onmessage=function(p){a.handleOutputframeMessage_(p)}};var l=[h.port2],m=new MessageChannel;a.serviceWorkerPort_=m.port1;a.serviceWorkerPort_.onmessage=function(n){a.handleServiceWorkerMessage_(n.data)};l.push(m.port2);m={mode:"display",versionTag:vV,cssUris:wV(c),serviceWorkerUri:Pc(SD.getServiceWorkerUrl({trusted:a.isLocal_})),outputframePort:h.port2,serviceWorkerPort:m.port2,enableAutoScrollingOutputsExperiment:ay,
webComponentsV0OriginTrialToken:sy};a.iframe.contentWindow.postMessage({sandboxed_iframe_evaluation:b,outputframeConfig:m},a.iframeOrigin_,l)});return u(e,Pk([Ey(d,3E4,"timed out waiting for iframe configuration URL"),a.exitedDocument_.promise]),0)})};k=kV.prototype;
k.populateIframe_=function(){var a=[];a.push({action:"config",value:{cellId:this.cellId_,outputId:this.outputId_,baseUri:(KK(this.output_)||rV||new URL(window.location.toString())).toString(),allowEphemeralScripts:this.allowEphemeralScripts_,kernelAccessAllowed:this.isLocal_,keypressForwardingEnabled:!this.traits_.params_.inlineDoc}});for(var b=q(this.pendingCommMessages_),c=b.next();!c.done;c=b.next())a.push(c.value);this.pendingCommMessages_=[];a.push({action:"set_theme",value:{theme:yO(this.preferences_)}});
b=q(this.output_.outputItems_);for(c=b.next();!c.done;c=b.next())a.push({action:"update",value:iV(c.value)});this.postMessage_({action:"bulk",value:a})};
k.handleOutputframeMessage_=function(a){var b=this,c,d,e;B(function(f){if(1==f.nextAddress){if(a.target!=b.iframePort_)return f.return();c=a.data;y(f,2);return u(f,b.processMessage_(c),4)}if(2!=f.nextAddress)return d=f.yieldResult,c.requestId&&b.postMessage_({responseId:c.requestId,result:d,action:"response"}),va(f,0);e=z(f);if(c.requestId)return b.postMessage_({responseId:c.requestId,error:String(e),action:"response"}),f.return();throw e;})};
k.processMessage_=function(a){var b=this;return B(function(c){switch(a.action){case "outputview_response":xV(b,a.value);break;case "resize_cell_output":var d=b.context_;yV(d.outputArea_,a.desiredHeight,d.outputId_,a.options);break;default:return c.return(b.context_.processIframeMessage(a))}x(c)})};
k.exitDocument=function(){O.prototype.exitDocument.call(this);this.intersectionObserver_&&(this.intersectionObserver_.disconnect(),this.intersectionObserver_=null);for(var a=q(this.pendingRequests_.values()),b=a.next();!b.done;b=a.next())b.value.reject(new pV);this.exitedDocument_.reject(new pV)};k.cleanup=function(){this.iframe&&this.iframe.remove();this.iframe=null;this.dispose()};k.postMessage_=function(a){this.iframePort_&&this.isLoaded()?this.iframePort_.postMessage(a):"remove"!=a.action&&console.error("No output window available")};
k.updateOutput=function(a,b){a={action:"update",index:a,value:iV(this.output_.getItem(a)),removed_item:b};this.postMessage_(a)};k.removeOutput=function(a){this.postMessage_({action:"remove",removed_items:a})};k.interrupt=function(){this.iframe&&this.iframe.contentWindow&&this.isLoaded()&&this.postMessage_({action:"interrupted"})};k.getId=function(){return this.outputId_};k.isLoaded=function(){return this.iframeLoaded_};k.loaded_=function(){return this.loadedPromise_.promise};
k.setHeight=function(a,b){if(!this.iframe)return console.error("Cannot set the height of an iframe that is not loaded"),!1;if(ay){var c=P(this),d=!1;if(this.isLocal_){d=c.clientHeight+c.scrollTop==c.scrollHeight;var e=c.getBoundingClientRect();e=e.bottom<document.documentElement.clientHeight&&0<e.bottom;d=d&&e}ki(this.iframe,a);c.style.maxHeight=b+"px";c.style.height=a+"px";d&&(c.scrollTop=c.scrollHeight,c.scrollIntoView({block:"end",behavior:"instant"}))}else ki(this.iframe,b),ki(P(this),b);return!0};
k.forceResize=function(){var a=this;this.iframe||this.createIframe_();var b=this.loadedPromise_.promise.then(function(){if(!a.isDisposed()){var d=a.requestId_++;a.postMessage_({action:"force_resize_request",request_id:d});var e=Tk();a.pendingRequests_.set(d,e);return e.promise}},function(d){if(!(d instanceof pV))throw d;}),c=new Promise(function(d){return B(function(e){switch(e.nextAddress){case 1:return y(e,2),u(e,a.exitedDocument_.promise,4);case 4:va(e,3);break;case 2:z(e);case 3:d(),x(e)}})});
return Pk([b,c])};k.displayStdinWidget=function(a){var b=this;return this.loadedPromise_.promise.then(function(){b.isDisposed()||b.postMessage_({action:"display_stdin",delayMillis:a})})};k.updateStdinWidget=function(a){var b=this;return this.loadedPromise_.promise.then(function(){b.isDisposed()||b.postMessage_({action:"update_stdin",echo:a})})};k.removeStdinWidget=function(){var a=this;return this.loadedPromise_.promise.then(function(){a.isDisposed()||a.postMessage_({action:"remove_stdin"})})};
k.handleServiceWorkerMessage_=function(a){var b=a.action;switch(b){case "fetch":this.handleServiceWorkerFetch_(a);break;case "report_disabled":zV||(zV=!0,bJ(a.error),zH({title:"Error",message:"Could not access the resources needed to display output.\nThis is probably because third-party cookies are not allowed by your browser.",moreInfoUrl:"https://research.google.com/colaboratory/faq.html#third-party-cookies"}));break;default:console.warn("Unknown service worker message: "+b)}};
k.handleServiceWorkerFetch_=function(a){var b=this,c,d,e,f,g,h;B(function(l){switch(l.nextAddress){case 1:c=new URL(a.url);if(c.origin==window.location.origin)return b.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,response:{action:"pass"}}),l.return();d=AV.some(function(m){return c.pathname.startsWith(m)});if("GET"!=a.method&&d)return b.sendServiceWorkerError_(a,"Not allowed."),l.return();"https:"==c.protocol&&(c.protocol="http:");y(l,2);return u(l,b.fetchResource_(a.method,
c.toString(),new Headers(a.headers),a.body),4);case 4:return e=l.yieldResult,e.ok?u(l,e.arrayBuffer(),5):(b.sendServiceWorkerError_(a,e.statusText),l.return());case 5:f=l.yieldResult;g=[].concat(ja(e.headers.entries()));b.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,response:{data:f,headers:g,status:e.status,statusText:e.statusText}},[f]);va(l,0);break;case 2:h=z(l),b.sendServiceWorkerError_(a,String(h)),x(l)}})};
k.fetchResource_=function(a,b,c,d){var e=this,f,g,h,l;return B(function(m){if(1==m.nextAddress)return f=e.context_.getKernel(),e.isLocal_&&f.isRunning()?u(m,f.fetch(a,new URL(b),d),2):"GET"==a&&(g=aL(e.output_,b),null!=g)?m.return(g):m.return(new Response("",{status:404,statusText:"Not found"}));h=m.yieldResult;return"GET"!=a?m.return(h):h.ok?m.return(QK(e.output_,b,h,c)):(l=aL(e.output_,b))&&l.ok?m.return(l):m.return(QK(e.output_,b,h,c))})};
k.sendServiceWorkerError_=function(a,b){this.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,error:String(b)})};var xV=function(a,b){var c=b.id,d=b.data;b=b.error;var e=a.pendingRequests_.get(c);e&&(a.pendingRequests_.delete(c),b?e.reject(b):e.resolve(d))};
kV.prototype.requestEval=function(a){var b=this;return this.loadedPromise_.promise.then(function(){if(!b.isDisposed()){var c=b.requestId_++;b.postMessage_({action:"eval_request",request_id:c,data:a});var d=Tk();b.pendingRequests_.set(c,d);return d.promise}})};
kV.prototype.requestInput=function(a,b){var c=this;return this.loadedPromise_.promise.then(function(){if(c.isDisposed())return"";var d=c.requestId_++;c.postMessage_({action:"request_input",request_id:d,prompt:a,isPassword:b});var e=Tk();c.pendingRequests_.set(d,e);return e.promise})};kV.prototype.updateTheme_=function(){this.loaded_&&this.postMessage_({action:"set_theme",value:{theme:yO(this.preferences_)}})};kV.prototype.updateListeners=function(a,b){this.postMessage_({listenerId:a,payload:b})};
var wV=function(a){return SD.OUTPUT_CSS_COMPILED_URIS.map(function(b){return(new URL(b,a)).toString()})};kV.prototype.onCommOpen=function(a,b,c){a={action:"comm_open",value:{commId:a,targetName:b,data:c}};this.iframeLoaded_?this.postMessage_(a):this.pendingCommMessages_.push(a)};kV.prototype.onCommMessage=function(a,b){a={action:"comm_msg",value:{commId:a,data:b}};this.iframeLoaded_?this.postMessage_(a):this.pendingCommMessages_.push(a)};
var rV=null,vV=window.colabVersionTag,AV=["/api/","/socket.io/","/_proxy/"],BV=new Map;function tV(a){if(BV.has(a))return BV.get(a);var b=fetch(a,{credentials:"include"}).then(function(c){var d;return B(function(e){if(1==e.nextAddress){if(!c.ok)throw new hV("Unable to download "+a+": "+c.statusText);return u(e,c.text(),2)}d=e.yieldResult;return e.return(d+"\n//@ sourceURL="+a)})});BV.set(a,b);return b}var zV=!1,nV=null,oV=null,pV=function(){Cy.call(this,"Output disposed")};t(pV,Cy);var CV=!1,DV=function(a){CV||(CV=!0,bJ(a),zH({title:"Error",message:"Could not access the resources needed to display output.\nThis is probably because third-party cookies are not allowed by your browser.",moreInfoUrl:"https://research.google.com/colaboratory/faq.html#third-party-cookies"}))},EV=["/api/","/socket.io/","/_proxy/"];var FV=function(a,b,c,d){TU.call(this,SD.getOutputframeHtmlUrl({trusted:c}),c);var e=this;this.output_=null;this.context_=b;this.preferences_=this.context_.getPreferences();this.cellId_=a;this.traits_=this.context_.getTraits();this.allowEphemeralScripts_=d;this.pendingRequests_=new Map;this.requestId_=1;this.pendingCommMessages_=[];this.serviceWorkerPort_=this.iframePort_=null;this.readyToLoadOutputs_=!1;var f=new Promise(function(g){e.resolvePopulated_=g});this.populated_=this.loaded().then(function(){return f});
this.iframe_.classList.add("preloading")};t(FV,TU);FV.prototype.setOutput=function(a){I(!this.output_);this.output_=a;a=this.output_.getHeight();null!=a&&this.setHeight({iframe:a,container:a});this.readyToLoadOutputs_&&this.populateIframe_();this.iframe_.classList.remove("preloading")};
FV.prototype.createDom=function(){var a=this;TU.prototype.createDom.call(this);var b=P(this);b.classList.add("outputview");this.getHandler().listen(this.preferences_.SITE_THEME,"change",function(){return a.updateTheme_()});ay&&(b.style.overflow="auto");if(window.matchMedia("(prefers-color-scheme: dark)").matches||window.matchMedia("(prefers-color-scheme: light)").matches)window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return a.updateTheme_()}),window.matchMedia("(prefers-color-scheme: light)").addListener(function(){return a.updateTheme_()});
this.dispatchEvent("view_initializing");this.output_&&(b=this.output_.getHeight(),null!=b&&this.setHeight({iframe:b,container:b}))};FV.prototype.loadIframeContents=function(){var a=this;return B(function(b){if(1==b.nextAddress)return u(b,GV(a),2);if(a.hasDetached_)return b.return();a.output_&&a.populateIframe_();x(b)})};
var GV=function(a){var b,c,d,e,f,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:b=String(HV||window.location),c=SD.OUTPUT_SCRIPTS_COMPILED.map(function(p){return new URL(p,b)}),d=c[c.length-1],e=c.slice(0,-1),f=q(e),g=f.next();case 2:if(g.done)return u(n,IV(d),6);h=g.value;return u(n,IV(h),5);case 5:l=n.yieldResult;if(a.hasDetached_)return n.return();ZU(a,l);g=f.next();n.jumpTo(2);break;case 6:return m=n.yieldResult,a.hasDetached_?n.return():u(n,JV(a,m,b),7);case 7:a.readyToLoadOutputs_=
!0,x(n)}})},JV=function(a,b,c){var d,e;return B(function(f){if(1==f.nextAddress)return u(f,KV(c),2);d=f.yieldResult;e=new Promise(function(g,h){var l=new MessageChannel;a.iframePort_=l.port1;l.port1.onmessage=function(p){p.data.loaded?g():h(new hV(p.data.error));l.port1.onmessage=function(r){a.handleOutputframeMessage_(r)}};var m=[l.port2],n=new MessageChannel;a.serviceWorkerPort_=n.port1;a.serviceWorkerPort_.onmessage=function(p){a.handleServiceWorkerMessage_(p.data)};m.push(n.port2);n={mode:"display",
versionTag:window.colabVersionTag,cssText:d,serviceWorkerUri:Pc(SD.getServiceWorkerUrl({trusted:a.isTrusted()})),outputframePort:l.port2,serviceWorkerPort:n.port2,enableAutoScrollingOutputsExperiment:ay,webComponentsV0OriginTrialToken:sy};ZU(a,b,{outputframeConfig:n},m)});return u(f,Promise.race([Ey(e,3E4,"Timed out waiting for iframe configuration. URL: "+c),a.exitedDocument_]),0)})};k=FV.prototype;
k.populateIframe_=function(){var a=this,b=[];b.push({action:"config",value:{cellId:this.cellId_,outputId:this.output_.getId(),allowEphemeralScripts:this.allowEphemeralScripts_,kernelAccessAllowed:this.isTrusted(),baseUri:(KK(this.output_)||HV||new URL(window.location.toString())).toString(),keypressForwardingEnabled:!this.traits_.params_.inlineDoc}});for(var c=q(this.pendingCommMessages_),d=c.next();!d.done;d=c.next())b.push(d.value);this.pendingCommMessages_=[];b.push({action:"set_theme",value:{theme:yO(this.preferences_)}});
c=q(this.output_.outputItems_);for(d=c.next();!d.done;d=c.next())b.push({action:"update",value:iV(d.value)});this.postMessage_({action:"bulk",value:b});this.loaded().then(function(){a.dispatchEvent("view_loaded")});this.resolvePopulated_(void 0)};k.exitDocument=function(){TU.prototype.exitDocument.call(this);for(var a=q(this.pendingRequests_.values()),b=a.next();!b.done;b=a.next())b.value.reject(new VU)};
k.postMessage_=function(a){this.iframePort_?this.iframePort_.postMessage(a):"remove"!=a.action&&console.error("No output window available")};k.updateOutput=function(a,b){a={action:"update",index:a,value:iV(this.output_.getItem(a)),removed_item:b};this.postMessage_(a)};k.removeOutput=function(a){this.postMessage_({action:"remove",removed_items:a})};k.interrupt=function(){this.hasDetached_||this.postMessage_({action:"interrupted"})};
k.handleOutputframeMessage_=function(a){var b=this,c,d,e;B(function(f){if(1==f.nextAddress){if(a.target!=b.iframePort_)return f.return();c=a.data;y(f,2);return u(f,b.processMessage_(c),4)}if(2!=f.nextAddress)return d=f.yieldResult,c.requestId&&b.postMessage_({responseId:c.requestId,result:d,action:"response"}),va(f,0);e=z(f);if(c.requestId)return b.postMessage_({responseId:c.requestId,error:String(e),action:"response"}),f.return();throw e;})};
k.processMessage_=function(a){var b=this;return B(function(c){switch(a.action){case "outputview_response":b.handleResponse_(a.value);break;case "resize_cell_output":var d=b.context_;yV(d.outputArea_,a.desiredHeight,d.outputId_,a.options);break;default:return c.return(b.context_.processIframeMessage(a))}x(c)})};
k.forceResize=function(){var a=this,b=this.populated_.then(function(){if(!a.isDisposed()){var d=a.requestId_++;a.postMessage_({action:"force_resize_request",request_id:d});var e=Tk();a.pendingRequests_.set(d,e);return e.promise}},function(d){if(!(d instanceof VU))throw d;}),c=this.exitedDocument_.catch(function(d){zb(d,VU)});return Promise.race([b,c])};k.displayStdinWidget=function(a){var b=this;return this.populated_.then(function(){b.isDisposed()||b.postMessage_({action:"display_stdin",delayMillis:a})})};
k.updateStdinWidget=function(a){var b=this;return this.populated_.then(function(){b.isDisposed()||b.postMessage_({action:"update_stdin",echo:a})})};k.removeStdinWidget=function(){var a=this;return this.populated_.then(function(){a.isDisposed()||a.postMessage_({action:"remove_stdin"})})};
k.handleServiceWorkerMessage_=function(a){var b=a.action;switch(b){case "fetch":this.handleServiceWorkerFetch_(a);break;case "report_disabled":DV(a.error);break;default:console.warn("Unknown service worker message: "+b)}};
k.handleServiceWorkerFetch_=function(a){var b=this,c,d,e,f,g,h;B(function(l){switch(l.nextAddress){case 1:c=new URL(a.url);if(c.origin==window.location.origin)return b.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,response:{action:"pass"}}),l.return();d=EV.some(function(m){return c.pathname.startsWith(m)});if("GET"!=a.method&&d)return b.sendServiceWorkerError_(a,"Not allowed."),l.return();"https:"==c.protocol&&(c.protocol="http:");y(l,2);return u(l,b.fetchResource_(a.method,
c.toString(),new Headers(a.headers),a.body),4);case 4:return e=l.yieldResult,e.ok?u(l,e.arrayBuffer(),5):(b.sendServiceWorkerError_(a,e.statusText),l.return());case 5:f=l.yieldResult;g=[].concat(ja(e.headers.entries()));b.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,response:{data:f,headers:g,status:e.status,statusText:e.statusText}},[f]);va(l,0);break;case 2:h=z(l),b.sendServiceWorkerError_(a,String(h)),x(l)}})};
k.fetchResource_=function(a,b,c,d){var e=this,f,g,h,l;return B(function(m){if(1==m.nextAddress)return f=e.context_.getKernel(),e.isTrusted()&&f.isRunning()?u(m,f.fetch(a,new URL(b),d),2):"GET"==a&&(g=aL(e.output_,b),null!=g)?m.return(g):m.return(new Response("",{status:404,statusText:"Not found"}));h=m.yieldResult;return"GET"!=a?m.return(h):h.ok?m.return(QK(e.output_,b,h,c)):(l=aL(e.output_,b))&&l.ok?m.return(l):m.return(QK(e.output_,b,h,c))})};
k.sendServiceWorkerError_=function(a,b){this.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,error:String(b)})};k.handleResponse_=function(a){var b=a.id,c=a.data;a=a.error;var d=this.pendingRequests_.get(b);d&&(this.pendingRequests_.delete(b),a?d.reject(a):d.resolve(c))};
k.requestEval=function(a){var b=this;return this.populated_.then(function(){if(!b.isDisposed()){var c=b.requestId_++;b.postMessage_({action:"eval_request",request_id:c,data:a});var d=Tk();b.pendingRequests_.set(c,d);return d.promise}})};k.requestInput=function(a,b){var c=this;return this.populated_.then(function(){if(c.isDisposed())return"";var d=c.requestId_++;c.postMessage_({action:"request_input",request_id:d,prompt:a,isPassword:b});var e=Tk();c.pendingRequests_.set(d,e);return e.promise})};
k.updateTheme_=function(){this.isLoaded()&&this.postMessage_({action:"set_theme",value:{theme:yO(this.preferences_)}})};k.updateListeners=function(a,b){this.isLoaded()&&this.postMessage_({listenerId:a,payload:b})};var IV=function(a){a.searchParams&&a.searchParams.set("vrz",window.colabVersionTag);return LV(a.toString())},KV=function(a){return Promise.all(SD.OUTPUT_CSS_COMPILED_URIS.map(function(b){return IV(new URL(b,a))}))};
FV.prototype.onCommOpen=function(a,b,c){a={action:"comm_open",value:{commId:a,targetName:b,data:c}};this.isLoaded()?this.postMessage_(a):this.pendingCommMessages_.push(a)};FV.prototype.onCommMessage=function(a,b){a={action:"comm_msg",value:{commId:a,data:b}};this.isLoaded()?this.postMessage_(a):this.pendingCommMessages_.push(a)};var HV=null,MV=new Map;
function LV(a){if(MV.has(a))return MV.get(a);var b=fetch(a,{credentials:"include"}).then(function(c){var d;return B(function(e){if(1==e.nextAddress){if(!c.ok)throw new hV("Unable to download "+a+": "+c.statusText);return u(e,c.text(),2)}d=e.yieldResult;return e.return(d+"\n//@ sourceURL="+a)})});MV.set(a,b);return b};var PV=function(a,b,c){var d=c.trusted;c=c.allowEphemeral;O.call(this);var e=this;this.output_=null;this.cellId_=a;this.context_=b;this.isTrusted_=d;this.allowEphemeral_=c;this.isolatedFrame_=NV(this);this.intersectionObserver_=null;window.IntersectionObserver&&(this.intersectionObserver_=new IntersectionObserver(function(f){f=q(f);for(var g=f.next();!g.done;g=f.next())g=g.value,g.target==P(e)&&g.isIntersecting&&(e.intersectionObserver_.unobserve(g.target),OV(e))}))};t(PV,O);
PV.prototype.setOutput=function(a){I(!this.output_);this.output_=a;this.isolatedFrame_.setOutput(a)};PV.prototype.isLoaded=function(){return this.isolatedFrame_.isLoaded()};PV.prototype.cleanup=function(){this.dispose()};
var NV=function(a){var b=new FV(a.cellId_,a.context_,a.isTrusted_,a.allowEphemeral_);a.output_&&b.setOutput(a.output_);nj(a,b);a.getHandler().listen(b,"detached",function(){I(b==a.isolatedFrame_);a.isDisposed()||(a.removeChild(a.isolatedFrame_,!0),a.isolatedFrame_.dispose(),a.isolatedFrame_=NV(a),OV(a))});return b};
PV.prototype.createDom=function(){O.prototype.createDom.call(this);this.context_.getTraits().params_.nodisplayOutput||(this.output_&&null!=this.output_.getHeight()&&this.intersectionObserver_?(P(this).style.height=(this.output_.getHeight()||0)+"px",this.intersectionObserver_.observe(P(this))):OV(this))};
var OV=function(a){var b,c,d;B(function(e){if(1==e.nextAddress){b=a.isolatedFrame_;if(b.inDocument_)return e.return();c=b.loaded();a.addChild(b,!0);y(e,2);return u(e,c,4)}if(2!=e.nextAddress)return va(e,0);d=z(e);if(a.isDisposed()||b.hasDetached_)return e.return();bJ(d);wH(WD.OUTPUT_JAVASCRIPT_LOADING_ERROR,"");x(e)})};k=PV.prototype;k.exitDocument=function(){O.prototype.exitDocument.call(this);this.intersectionObserver_&&(this.intersectionObserver_.disconnect(),this.intersectionObserver_=null)};
k.updateOutput=function(a,b){this.isolatedFrame_.updateOutput(a,b)};k.removeOutput=function(a){this.isolatedFrame_.removeOutput(a)};k.interrupt=function(){this.isolatedFrame_.interrupt()};k.setHeight=function(a,b){ki(P(this),b);this.isolatedFrame_.setHeight({iframe:a,container:b});return!0};k.forceResize=function(){OV(this);return this.isolatedFrame_.forceResize()};k.displayStdinWidget=function(a){return this.isolatedFrame_.displayStdinWidget(a)};k.updateStdinWidget=function(a){return this.isolatedFrame_.updateStdinWidget(a)};
k.removeStdinWidget=function(){return this.isolatedFrame_.removeStdinWidget()};k.requestEval=function(a){return this.isolatedFrame_.requestEval(a)};k.requestInput=function(a,b){return this.isolatedFrame_.requestInput(a,b)};k.onCommOpen=function(a,b,c){this.isolatedFrame_.onCommOpen(a,b,c)};k.onCommMessage=function(a,b){this.isolatedFrame_.onCommMessage(a,b)};k.updateListeners=function(a,b){this.isolatedFrame_.updateListeners(a,b)};var QV=function(a){var b=a.text;a=a.stream;this.type="stream";this.text=b;this.stream=a};t(QV,FC);QV.prototype.fillNotebookFormatOutputItem=function(a){a.text=this.text;a.stream=this.stream};var RV=function(a,b,c){O.call(this);this.outputs=a;this.context_=b;this.allowEphemeralScripts_=!1;this.height_={};this.maxHeight_={};this.requestedHeight_={};this.cellId_=c;this.iframeSizer_=this.infoDiv_=this.outputPane_=null;this.outputViews_={};this.displayOutputId_=null;this.outputInfos_={};this.notebookModel_=b.getNotebookModel();this.preferences_=b.getPreferences();this.scrollOutput_=!this.notebookModel_.getTraits().params_.printMode;this.minHeightTimeoutId_=this.minHeight_=0;this.pendingClearOutput_=
this.displayingInputPrompt_=!1;this.preloadingView_=this.preloadingContext_=this.pendingClearOutputBaseUri_=this.pendingClearOutputTags_=null};t(RV,O);RV.prototype.createDom=function(){var a=pm(kS);this.outputPane_=bh("output-content",a);this.infoDiv_=bh("output-info",a);this.iframeSizer_=bh("output-iframe-sizer",a);this.element_=a};RV.prototype.getContentElement=function(){return this.iframeSizer_};
RV.prototype.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);this.notebookModel_.getTraits().params_.nodisplayOutput?this.setVisible(!1):(this.initializeViews_(),SV(this),window.matchMedia("print").addListener(function(){var b=window.matchMedia("print").matches;a.scrollOutput_=!b;(b=a.displayOutputId_)&&yV(a,a.requestedHeight_[b],b)}),this.setVisible(!0))};
var UV=function(a){vy&&yy&&null==a.preloadingView_&&(a.preloadingContext_=new TV(a,""),a.preloadingView_=new PV(a.cellId_,a.preloadingContext_,{trusted:!0,allowEphemeral:!0}),a.addChild(a.preloadingView_,!0))};RV.prototype.exitDocument=function(){clearTimeout(this.minHeightTimeoutId_);O.prototype.exitDocument.call(this)};RV.prototype.allowEphemeralScripts=function(){this.allowEphemeralScripts_=!0};RV.prototype.hasOutput=function(){return this.outputs.hasOutput()};RV.prototype.getHeight_=function(){return ni(this.getElement()).height};
var XV=function(a,b){var c=VV(a),d=a.getHeight_(),e=0,f=bh("notebook-container");f&&(e=f.scrollTop);clearTimeout(a.minHeightTimeoutId_);a.minHeight_=b;b=a.minHeight_;Wh(a.getContentElement(),"min-height",b+"px");c&&WV(a,d,e);a.setVisible(a.isOutputVisible())},YV=function(a,b){b=void 0===b?1E3:b;clearTimeout(a.minHeightTimeoutId_);a.minHeightTimeoutId_=setTimeout(function(){XV(a,0)},b)},ZV=function(a,b){b=void 0===b?{}:b;b=void 0===b.withTimeout?!1:b.withTimeout;XV(a,ni(a.getContentElement()).height);
b&&YV(a)};k=RV.prototype;k.newOutput=function(a,b){this.flush();this.displayOutputId_&&(ZV(this),this.displayOutputId_&&this.removeChild(this.outputViews_[this.displayOutputId_],!0));this.outputs.clearAllOutputs();this.outputs.newOutput(a,null,b)};k.flush=function(){this.outputs.flush()};
k.handleKernelOutputMessage=function(a,b){if(this.pendingClearOutput_){var c=this.pendingClearOutputTags_,d=this.pendingClearOutputBaseUri_;c?gL(this.outputs,c):this.newOutput(a,d);this.pendingClearOutput_=!1;this.pendingClearOutputBaseUri_=this.pendingClearOutputTags_=null}this.outputs.handleKernelOutputMessage(b)};k.handleExecuteReply=function(a){this.outputs.handleExecuteReply(a,this.notebookModel_.getUserInfo())};
k.handleKernelDone=function(){this.inDocument_&&(this.outputs.handleKernelDone(),this.displayOutputId_&&this.outputInfos_[this.displayOutputId_].setLoading(!1),YV(this,1E3))};
var SV=function(a){var b=a.getHandler(),c=["output_added","output_removed","output_changed"];b.listen(a.outputs,c,function(d){a.outputsChanged_(d)});c=["item_added","item_removed","item_changed"];b.listen(a.outputs,c,function(d){d.isLocal||ZV(a,{withTimeout:!0});a.setVisible(!0);a.dispatchEvent("change");var e;if(e=(e=a.outputViews_[d.outputId])&&e.isLoaded()?e:null)if("item_removed"==d.type)e.removeOutput(d.removedItems);else if("item_added"==d.type||"item_changed"==d.type)for(var f=void 0,g=0;g<
d.length;g++)d.removedItems&&(f=d.removedItems[g]),e.updateOutput(d.index+g,f)})};
RV.prototype.outputsChanged_=function(a){a.isLocal||ZV(this,{withTimeout:!0});this.setVisible(!0);this.dispatchEvent("change");if("output_added"==a.type)$V(this,a.data),this.outputInfos_[a.outputId].setLoading(!0),aW(this,a.outputId);else if("output_removed"==a.type){a=a.outputId;if(a==this.displayOutputId_){this.displayOutputId_=null;var b=this.outputViews_[a];b.inDocument_&&this.removeChild(b,!0)}this.outputViews_[a].cleanup();this.getHandler().unlisten(this.outputInfos_[a],"select");this.outputInfos_[a].cleanup();
delete this.outputViews_[a];delete this.outputInfos_[a];delete this.height_[a];delete this.requestedHeight_[a]}};
RV.prototype.requestInput=function(a,b,c){var d=this,e,f,g;return B(function(h){if(1==h.nextAddress)return d.outputs.flush(),d.setVisible(!0,!0),d.displayingInputPrompt_=!0,ua(h),u(h,bW(d).requestInput(a,b),4);if(2!=h.nextAddress)return f=e=h.yieldResult,b&&(f="\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7"),g=new QV({text:""+a+f+"\n",stream:"stdout"}),d.handleKernelOutputMessage(c,g),h.return(e);wa(h);d.displayingInputPrompt_=!1;return xa(h,0)})};
var bW=function(a){return a.displayOutputId_&&a.outputViews_[a.displayOutputId_]?a.outputViews_[a.displayOutputId_]:null},$V=function(a,b){var c=b.getId();if(vy)if(a.preloadingView_&&b.localContent_){a.preloadingContext_.outputId_=c;var d=a.preloadingView_;d.setOutput(b);a.preloadingView_=null;a.preloadingContext_=null}else d=new PV(a.cellId_,new TV(a,c),{trusted:b.localContent_,allowEphemeral:a.allowEphemeralScripts_}),d.setOutput(b);else d=new kV(b,a.cellId_,new TV(a,c),a.allowEphemeralScripts_);
a.outputViews_[c]=d;var e=new dV(b,TI(a.notebookModel_),a.notebookModel_.getUserInfo());a.outputInfos_[c]=e;cW(a,e);a.height_[c]=0;a.requestedHeight_[c]=b.getHeight()||0;b=a.getHandler();b.listen(d,"view_loaded",function(){a.outputs.setRendered(c,!0)});b.listen(d,"view_initializing",function(){a.outputs.setRendered(c,!1)})},cW=function(a,b){a.infoDiv_.firstChild&&sh(a.infoDiv_);b.render(a.infoDiv_);b.setParentEventTarget(a);a.getHandler().listen(b,"select",function(c){aW(a,c.target.getId())})},aW=
function(a,b){if(b!=a.displayOutputId_){for(var c=q(mc(a.outputInfos_)),d=c.next();!d.done;d=c.next())d=d.value,d.setSelected(d.getId()==b);if(c=a.outputViews_[b])a.displayOutputId_&&a.removeChild(a.outputViews_[a.displayOutputId_],!0),c.inDocument_||a.addChild(c,!0),a.displayOutputId_=b;a.dispatchEvent("selection_changed")}};RV.prototype.initializeViews_=function(){var a=mc(this.outputs.outputs_);a.length&&(a=a[0],$V(this,a),a.hasItems()&&aW(this,a.getId()))};
RV.prototype.isOutputVisible=function(){return this.outputPane_?"none"!=this.outputPane_.style.display:!1};
RV.prototype.setVisible=function(a,b){var c=this;b=void 0===b?!1:b;if(this.outputPane_)if(a=a&&(this.hasOutput()||!!this.minHeight_||this.displayingInputPrompt_||b),qi(this.outputPane_,a),a=!a&&this.hasOutput(),b=this.getElement().querySelector(dW),!a&&b)b.remove();else if(a&&!b){var d=pm(mS,{});d.addEventListener("click",function(){c.dispatchEvent("request_unhide");c.isOutputVisible()&&d.remove()});this.outputPane_.parentNode.insertBefore(d,this.outputPane_)}};RV.prototype.toggle=function(){this.setVisible(!this.isOutputVisible())};
var VV=function(a){var b=bh("notebook-container");if(!b)return!1;b=oi(b).top;var c=MM().notebook;(c=c?c.focusedCell_:null)&&c.isVisible()&&c.getId()!=a.cellId_&&(b=oi(c.getComponent().getElement()).top);return oi(a.getElement()).top<b},WV=function(a,b,c){a=a.getHeight_();document.querySelector(".notebook-container").scrollTop=c+a-b},yV=function(a,b,c,d){d=void 0===d?{}:d;var e=bh("notebook-container");if(!e)throw Error("resizeOutput when notebook-container not present");var f=a.getHeight_();a.requestedHeight_[c]=
b;b=yA(b);null!=d.maxHeight&&(a.maxHeight_[c]=d.maxHeight);if(!(0>b)){var g=a.outputs.outputs_[c];g&&g.localContent_&&g.setHeight(b);g=b;a.scrollOutput_&&!d.interactive&&(g=Math.min(b,a.maxHeight_[c]||Math.max(1E3,a.height_[c]||0)));if(a.height_[c]!=b){a.height_[c]=g;var h=VV(a);e=e.scrollTop;(c=a.outputViews_[c])&&c.setHeight(b,g)&&(d.interactive||h&&WV(a,f,e))}}},dW=".output-show-output",TV=function(a,b){this.outputArea_=a;this.outputId_=b};TV.prototype.getTraits=function(){return this.outputArea_.notebookModel_.getTraits()};
TV.prototype.getPreferences=function(){return this.outputArea_.preferences_};TV.prototype.getKernel=function(){return this.outputArea_.context_.getKernel()};TV.prototype.processIframeMessage=function(a){return this.outputArea_.context_.processIframeMessage(this.outputId_,a)};var eW=function(){lb.call(this,"canceled")};t(eW,lC);var fW=function(a){lb.call(this,"Failed: "+(a.status+", "+a.ename+": "+a.evalue));this.reply=a};t(fW,lC);var gW=function(a){lb.call(this,"Runtime restarted at: \n "+a)};t(gW,lC);var hW=null,iW=function(){this.scratchDoc_=wK.newInMemoryDocument(function(){},function(){},function(){})},jW=function(){hW||(hW=new iW);return hW};iW.prototype.getModel=function(){return this.scratchDoc_.getModel()};iW.prototype.getDocument=function(){return this.scratchDoc_};iW.prototype.reset=function(){this.scratchDoc_.close();this.scratchDoc_=wK.newInMemoryDocument(function(){},function(){},function(){})};var kW=function(a){if(3==a.nodeType){var b=Mw(a.nodeValue);if(b.getTypedStringValue()!=a.nodeValue){b=ph(document,b);var c=a.parentNode;c.insertBefore(b,a);c.removeChild(a)}}else if(!(a instanceof Element&&"A"==a.tagName))for(a=a.firstChild;a;)b=a,a=a.nextSibling,kW(b)};var lW=/^((\s*#.*\n)+)([^]*)/,mW="Run cell ("+bE(PF)+")",nW="Interrupt execution ("+bE(nF)+")";function oW(a){return 0==a?"":0==a%86400?a/86400+"d":0==a%3600?a/3600+"h":0==a%60?a/60+"m":a+"s"}
var pW=function(){this.startup_=!1;this.waitInterval_=0},rW=function(a,b){JS.call(this,a,b);this.codeModel_=a;this.scheduleToggle_=this.scheduleIntervalInput_=this.scheduleStartupCheckbox_=null;this.realtimeModel_=a.getModel();this.executionQueue_=b.executionQueue_;this.outputArea_=new RV(this.codeModel_.outputs_,new qW(this.getId(),b),this.getId());this.addChild(this.outputArea_);this.isRunning_=!1;a=b.getNotebookModel().isReadOnly();this.formView_=new GU(a);this.mutableRealtimeCell_=this.realtimeCell;
this.permissions.isEditable()||(this.mutableRealtimeCell_=jW().getModel().createMap(),this.mutableRealtimeCell_.set("cellView",this.realtimeCell.get("cellView")||"both"),this.mutableRealtimeCell_.set("collapsed",this.realtimeCell.get("collapsed")||!1));this.addChild(this.formView_);this.executionCount_=0;this.remoteViewType_=this.mutableRealtimeCell_.get("cellView")||"both";this.localViewType_=null;this.formUpdate_=!1;this.formViewUpdateTimer_=0;this.executionCountStatus_=this.executionScheduleToolbarDiv_=
null;this.executeActionText_=mW;this.executionInfoText_=this.executionStatusText_="";this.lastExecutionFailed_=!1;this.interruptRequestCount_=0;a=this.realtimeCell.get("text");Zx?a=new aV(a,this.notebook_):(a=new tT(a,this.notebook_,!0),a.completer_=hT);this.editor=a;this.addChild(this.editor.getComponent());this.inputDiv_&&yn(this.editor.getComponent(),this.formView_.getElement());this.inputDiv_=this.inputOutputDiv_=null;this.resumingExecution_=this.hasManuallyExecuted_=!1};t(rW,JS);
rW.prototype.showExecutionScheduleToolbar=function(a){if(!this.executionScheduleToolbarDiv_){if(!a)return;this.executionScheduleToolbarDiv_=pm(jS);this.mainContentDiv.insertBefore(this.executionScheduleToolbarDiv_,this.mainContentDiv.firstElementChild.nextElementSibling);this.scheduleStartupCheckbox_=this.executionScheduleToolbarDiv_.querySelector(".schedule-checkbox");this.scheduleIntervalInput_=this.executionScheduleToolbarDiv_.querySelector(".schedule-interval");this.scheduleToggle_=this.executionScheduleToolbarDiv_.querySelector(".schedule-toggle");
this.getHandler().listen(this.scheduleIntervalInput_,"keyup",this.onScheduleUIChange_);this.getHandler().listen(this.scheduleStartupCheckbox_,"change",this.onScheduleUIChange_);if(this.permissions.isEditable()){var b=this.executionScheduleToolbarDiv_.querySelector(".schedule-collapse");this.getHandler().listen(this.scheduleToggle_,"click",function(){b.toggle()})}var c=sW(this);c.startup_&&(this.scheduleStartupCheckbox_.checked=!0);c.waitInterval_&&(this.scheduleIntervalInput_.value=oW(c.waitInterval_));
tW(this);this.getHandler().listen(this.codeModel_.realtimeCell_.get("colab").get("autoexec"),AD.VALUE_CHANGED,this.onScheduleRealtimeChange_)}this.executionScheduleToolbarDiv_.setAttribute("shown",a)};
var uW=function(a,b){var c=!!a.formView_.getElementByClass("output");b!==c&&(c=wh(P(a.outputArea_)),b?qh(P(a.formView_),c):qh(a.inputOutputDiv_,c))},vW=function(a,b){a.isRunning()?(a.interruptRequestCount_++,0==a.interruptRequestCount_%3&&XS(a,LF,b),a.dispatchEvent("interrupted"),XS(a,nF,b)):XS(a,PF,b)};rW.prototype.isRunning=function(){return this.isRunning_};rW.prototype.getSectionTitle=function(){if(this.formView_){var a=this.formView_.getTitleText();return a?{text:a}:null}return null};
rW.prototype.deleteFormUpdates_=function(){var a=this.formView_;a.paramConfigs_={};a.formJson_="";wW(this)};
rW.prototype.getContextMenuSpec=function(a){var b=this,c=this.isRunning_?nF:PF,d=JS.prototype.getContextMenuSpec.call(this,a);this.hasOutput()&&(d.push({separator:!0}),this.permissions.isEditable()&&d.push(MS(this,JE,a,{name:"Clear output"})),d.push(MS(this,DG,a)));this.permissions.isEditable()&&12==a&&(d.push({separator:!0}),d.push({name:aE(c),callback:function(){vW(b,a)},shortcut:bE(c)}),!this.isRunning_&&Nz.ADVANCED_DEBUGGER&&Mx&&d.push(MS(this,RF,a)),d.push(MS(this,TE,a)));d.push({separator:!0});
this.permissions.isCommentable()&&d.push(MS(this,BE,a));if(QU(this.formView_)){c=[];var e="code"==this.getViewType(),f="form"==this.getViewType();this.permissions.isEditable()&&c.push(MS(this,EE,a));c.push({name:f?"Show code":"Hide code",callback:function(){var g="form"==b.getViewType();xW(b,g)}});c.push({name:e?"Show form":"Hide form",callback:function(){var g="code"==b.getViewType();yW(b,g?"both":"code")}});this.permissions.isEditable()&&0<Object.keys(this.formView_.paramConfigs_).length&&c.push({name:"Reset form",
callback:this.deleteFormUpdates_});d.push({separator:!0});Lx?d.push.apply(d,ja(c)):d.push({name:"Form",children:c})}else this.permissions.isEditable()&&!DE.isDisabled()&&d.push(MS(this,DE,a));return d};
var AW=function(a){var b=a.getViewType();mc(uz).forEach(function(d){a.inputDiv_.classList.toggle(d,d==b)});var c=a.formView_.getFormWidth();switch(b){case "both":IU(a.formView_,!1);a.editor.setVisible(!0);uW(a,a.formView_.isOutputVertical());break;case "code":a.editor.setVisible(!0);uW(a,!1);break;case "form":IU(a.formView_,!0),a.editor.setVisible(!1),uW(a,a.formView_.isOutputVertical()),c=""}a.formView_.getElement().style.minWidth=c;a.formView_.getElement().style.maxWidth=c;(c=a.formView_.getOutputHeight())&&
zW(a,c)},xW=function(a,b){b?"form"==a.getViewType()&&yW(a,"both"):(QU(a.formView_)||(a.editor.insertLine(0,"#@title"),wW(a)),yW(a,"form"))},zW=function(a,b){var c=bW(a.outputArea_);c&&(c=c.getId(),"unlimited"==b?yV(a.outputArea_,-1,c,{maxHeight:1E6}):yV(a.outputArea_,b,c,{maxHeight:b}))};
rW.prototype.createDom=function(){var a=this;JS.prototype.createDom.call(this);this.inputOutputDiv_=pm(eS);this.inputDiv_=this.inputOutputDiv_.querySelector(".inputarea");qh(this.mainContentDiv,this.inputOutputDiv_);BW(this,"unknown");var b=this.getHandler(),c=this.inputDiv_.querySelector(".cell-execution paper-icon-button");b.listen(c,"click",function(){vW(a,17)});b.listen(c,"mouseover",function(){a.updateExecutionInfo_()});b.listen(c,"focus",function(){a.updateExecutionInfo_()});b.listen(this.editor.getComponent(),
"blur",function(){a.setEditing(!1)});b.listen(this.getKernel(),"kernel_started_execution",function(d){d.cellId==a.getId()&&CW(a,!0)})};
var BW=function(a,b,c){if(b!=a.executionCountStatus_||"fresh"==b){a.executionCountStatus_=b;var d=a.inputDiv_.querySelector(".execution-count"),e=a.getElement();e.classList.toggle("out-of-date","fresh"!=b);e.classList.toggle("up-to-date","fresh"==b);c&&(a.executionCount_=parseInt(c,10),d.textContent="["+a.executionCount_+"]");"unknown"==b&&(d.textContent="[ ]");a.executionStatusText_=DW.get(b);EW(a)}};
rW.prototype.updateExecutionInfo_=function(){var a=this.outputArea_;var b=a.displayOutputId_;(a=b?a.outputInfos_[b]||null:null)&&gV(a)?this.executionInfoText_=gV(a):this.executionInfoText_="";EW(this)};var EW=function(a){var b=a.executeActionText_;a.executionStatusText_&&(b+="\n"+a.executionStatusText_);a.executionInfoText_&&(b+="\n\n"+a.executionInfoText_);a.inputDiv_.querySelector(".cell-execution paper-icon-button").title=b};
rW.prototype.requestFullscreen=function(){var a=this.getElement().querySelector(".output iframe");a&&(a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(1):a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen&&a.mozRequestFullScreen())};
rW.prototype.onFormAction_=function(a){var b=this;a=a.event_.detail;var c=a.model.getName(),d=a.model.getValue(),e=!1;this.editor.getLines().forEach(function(f,g){if(!e){d=d.trim();var h=new RegExp("^(\\s*"+c+"(?:\\s+=\\s|=|\\s+=|\\s+<-\\s|<-|\\s+<-))((?:(\\s*)\\S.*\\S|\\S)|)(\\s*#\\s*@param.*)","m"),l=d.replace(/\$/g,"$$$$");h=f.replace(h,"$1$3"+l+"$4");h!=f&&(b.formUpdate_=!0,b.editor.setLine(g,h),b.formUpdate_=!1,e=!0)}});eJ(13,a.kind,"Param Change")};
var FW=function(a,b,c){c=c.insertLine;b=b.event_.detail;a.localViewType_=a.getViewType();c?a.editor.insertLine(b.index,b.widgetString):a.editor.setLine(b.index,b.widgetString)};rW.prototype.highlightLine_=function(a){this.editor.setCursor(new CodeMirror.Pos(a.event_.detail.lineNumber,0));this.editor.selectCurrentLine()};
rW.prototype.enterCell=function(){var a=this;JS.prototype.enterCell.call(this);var b=this.getHandler();this.outputArea_.render(this.inputOutputDiv_);this.updateExecutionInfo_();"form"==(this.localViewType_||this.formView_.getViewType(this.remoteViewType_))&&this.editor.setVisible(!1);this.editor.getComponent().render(this.inputDiv_);this.formView_.render(this.inputDiv_);lF.isDisabled()||this.formView_.getElement().addEventListener("dblclick",function(d){d.target&&!Jh(d.target)&&XS(a,lF,17)});this.editor.setSyntaxHighlighting(hb(this.selectSyntaxHighlighting,
this));this.editor.setConditionalAutocomplete(function(){a.getKernel();return!0});b.listen(this.formView_.getElement(),"h",this.onFormAction_);b.listen(this.formView_.getElement(),"i",this.onRunEvent_);b.listen(this.formView_.getElement(),"f",function(d){FW(a,d,{insertLine:!1})});b.listen(this.formView_.getElement(),"e",function(d){FW(a,d,{insertLine:!0})});b.listen(this.formView_.getElement(),"g",this.highlightLine_);b.listen(this.formView_.getElement(),"j",NS(this,lF,13));wW(this);this.permissions.isEditable()?
this.editor.addOnChangeHandler(function(){a.formUpdate_||GW(a)}):this.editor.setReadOnly(!0);var c=function(){a.getElement().classList.toggle("code-has-output",a.hasOutput())};c();b.listen(this.outputArea_,"change",c);b.listen(this.outputArea_,["info_updated","selection_changed"],this.updateExecutionInfo_);b.listen(this.outputArea_,"request_unhide",function(){a.outputArea_.isOutputVisible()||XS(a,tG,3)});b.listen(this.realtimeCell,AD.VALUE_CHANGED,this.realtimeUpdate_);this.mutableRealtimeCell_!=
this.realtimeCell&&b.listen(this.mutableRealtimeCell_,AD.VALUE_CHANGED,this.cellViewUpdate_);c=this.realtimeCell.get("text");b.listen(c,[AD.TEXT_INSERTED,AD.TEXT_DELETED],function(){"fresh"==a.executionCountStatus_&&BW(a,"stale")});this.shouldScrollIcon()&&this.getElement().classList.add("icon-scrolling");this.mutableRealtimeCell_.get("collapsed")&&this.toggleOutput();this.refresh()};rW.prototype.shouldScrollIcon=function(){return this.permissions.isEditable()};
var HW=function(a){return a.realtimeCell.get("colab").get("autoexec")},GW=function(a){0!=a.formViewUpdateTimer_&&clearTimeout(a.formViewUpdateTimer_);var b=1E3;QU(a.formView_)&&(b=300);a.formViewUpdateTimer_=setTimeout(function(){wW(a)},b)},sW=function(a){var b=new pW;a=HW(a);b.startup_=a.get("startup");b.waitInterval_=parseInt(a.get("wait_interval"),10);return b},tW=function(a){var b=sW(a),c="Unscheduled",d=oW(b.waitInterval_);b.startup_&&0<b.waitInterval_?c="Startup, and every "+d:b.startup_?c=
"Startup":0<b.waitInterval_&&(c="Every "+d);a.scheduleToggle_.textContent=c};k=rW.prototype;
k.onScheduleUIChange_=function(){if(!this.permissions.isEditable())throw Error("programming error: schedule UI elements changed for read-only document");var a=sW(this),b=sW(this);a.startup_=!!this.scheduleStartupCheckbox_.checked;var c=this.scheduleIntervalInput_.value;if(c.match("^$|[0-9]+[smhd]"))if(""===c)c=0;else{switch(c.charAt(c.length-1)){case "s":var d=1;break;case "m":d=60;break;case "h":d=3600;break;case "d":d=86400;break;default:throw Error("programming error: input text does not match regexp; "+
c);}c=parseInt(c.substring(0,c.length-1),10)*d}else c=void 0;void 0!=c&&(a.waitInterval_=c);uc(a,b)||(b=HW(this),b.set("startup",a.startup_),b.set("wait_interval",a.waitInterval_),tW(this))};k.onScheduleRealtimeChange_=function(){var a=HW(this);this.scheduleStartupCheckbox_.checked=a.get("startup");this.scheduleIntervalInput_.value=oW(parseInt(a.get("wait_interval"),10));tW(this)};k.hasOutput=function(){return this.outputArea_.hasOutput()};
k.toggleOutput=function(){this.outputArea_.toggle();var a=!this.isOutputVisible()&&this.hasOutput();this.mutableRealtimeCell_.set("collapsed",a)};k.isOutputVisible=function(){return this.outputArea_.isOutputVisible()};var yW=function(a,b){QU(a.formView_)&&(HU(a.formView_)?b==(a.mutableRealtimeCell_.get("cellView")||"both")?IW(a,!0,b):a.mutableRealtimeCell_.set("cellView",b):(IW(a,!0,b),a.mutableRealtimeCell_.delete("cellView")))};
rW.prototype.getViewType=function(){return QU(this.formView_)?this.localViewType_||this.formView_.getViewType(this.remoteViewType_):"code"};var IW=function(a,b,c){b||HU(a.formView_)?a.localViewType_=c:a.remoteViewType_=c;AW(a)};rW.prototype.realtimeUpdate_=function(a){this.cellViewUpdate_(a)};rW.prototype.cellViewUpdate_=function(a){a=a.event_;"cellView"==a.property&&null!=a.newValue&&IW(this,a.isLocal,a.newValue)};
var MW=function(a){JW(a,!1);BW(a,"fresh");a.outputArea_.newOutput(KW(a),LW(a.getKernel()));a.outputArea_.allowEphemeralScripts()},OW=function(a,b){NW(a,b);a.outputArea_.outputs.flush();return(b=bW(a.outputArea_))&&a.inDocument_?b.forceResize():Mk()},PW=function(a,b){if(b instanceof pV||b instanceof VU)return Mk();b instanceof fW&&NW(a,b.reply);a.outputArea_.outputs.flush();var c=bW(a.outputArea_);if(!c||!a.inDocument_)throw b;return c.forceResize().then(function(){throw b;})},KW=function(a){if(!a.resumingExecution_)return!0;
a=a.getKernel().runtime_;if(!a)throw Error("Called isLocalExecution_ when disconnected");return"shared"==a.kind?!1:!0};
rW.prototype.resumeExecution=function(a){var b=this;this.resumingExecution_=!0;MW(this);var c=function(){QW(b)};this.getHandler().listen(this.getKernel(),"interrupted",c);var d=new Ik(function(g,h){b.cellLoaded().then(function(l){g(l)},function(l){h(l)})}),e,f=!1;Xk(Wk(Xk(RW(this.getKernel(),a,new SW(d,this)).then(function(g){Ix&&console.log("codecell: handleBackgroundExecution_: execute_reply",g);e=g;return OW(b,g)},function(g){g instanceof fW&&g.reply instanceof MC&&(e=g.reply);return PW(b,g)}),
function(g){if(g instanceof gW)f=!0;else throw g;}),function(){b.getKernel().unlisten("interrupted",c);CW(b,!1);b.outputArea_.handleKernelDone();fJ(12,{kernelLanguage:TW(b)});f||b.getKernel().acknowledgeExecuteReply(e);b.resumingExecution_=!1}),function(g){if(!(g instanceof lC||g instanceof Hk||g instanceof eW||g instanceof pV||g instanceof VU))throw g;})};
rW.prototype.makeEditorVisible=function(a){var b=this;JS.prototype.makeEditorVisible.call(this,a);var c=this.getViewType();"form"==c&&(yW(this,"both"),a.push(function(){yW(b,c)}))};rW.prototype.onRunEvent_=function(a){a=a.event_.detail;var b=null;"autorun"===a.kind?this.hasManuallyExecuted_&&(b=UW(this)):b=VW(this);b&&Xk(b,function(c){if(!(c instanceof lC))throw c;});eJ(13,a.kind,"Run cell")};
var wW=function(a){a.editor.clearFormErrors();try{var b=new lM,c=qM(b,a.editor.getText());if(a.formView_ instanceof GU){var d=b.assignmentOperator_||("r"==TW(a)?"<-":"=");a.formView_.assignmentOperator_=d}NU(a.formView_,c)&&(AW(a),yW(a,a.getViewType()));c.forEach(function(e){e.error&&a.editor.addFormError(e.lineNumber,e.error)})}catch(e){wH("Failed to update form from \n"+a.editor.getText(),e,{expandDetails:!0}),aJ(e)}};rW.prototype.reset=function(){CW(this,!1);this.interruptRequestCount_=0;WW(this)};
rW.prototype.kernelReset=function(){JS.prototype.kernelReset.call(this);this.reset();BW(this,"unknown")};var XW=function(a){a.inDocument_&&(UV(a.outputArea_),a.getElement().classList.toggle("pending",!0))},WW=function(a){a.inDocument_&&a.getElement().classList.toggle("pending",!1)},YW=function(a){return a.inDocument_?a.getElement().classList.contains("pending"):!1};rW.prototype.getCellId=function(){return this.getId()};
var CW=function(a,b){b!=a.isRunning_&&(a.isRunning_=b,a.setBusy(b),a.inDocument_&&(WW(a),b=a.isRunning_&&!0,a.getElement().querySelector(".cell-execution .cell-spinner").classList.toggle("animating",b),a.getElement().classList.toggle("pending",a.isBusy_&&!a.isRunning_),b=a.getElement().querySelector(".cell-execution paper-icon-button"),a.isRunning_?(b.icon="colab:stop-circle-filled",a.executeActionText_=nW,a.executionStatusText_="",a.executionInfoText_=""):(b.icon="av:play-circle-filled",a.executeActionText_=
mW),EW(a)))};rW.prototype.setBusy=function(a){JS.prototype.setBusy.call(this,a);this.isDisposed()||(this.getElement().classList.toggle("code-is-running",!1),this.getElement().classList.toggle("running",a),this.getElement().classList.toggle("pending",a&&!this.isRunning_))};rW.prototype.isTrustedContent=function(){ZS(this);return this.editor.isTrustedContent()};rW.prototype.getKernel=function(){return this.notebook_.getKernel()};
var ZW=function(a){return!(!a.getKernel()||!a.getKernel().isRunning())},NW=function(a,b){a.inDocument_&&b&&(a.outputArea_.handleExecuteReply(b),BW(a,"fresh",b.executionCount),b.payload&&0<b.payload.length&&$W(a,b.payload))},$W=function(a,b){var c=lh("SPAN");b.forEach(function(d){if("page"===d.source){var e=lh("DIV","code-help");e.appendChild(nT(d.text));kW(e);qh(c,e)}});0<c.children.length&&aX(a.notebook_,"Help",c)},bX=function(a){if(!a.inDocument_)return!1;if(!ZW(a)){var b=VG("Connect",function(c){c.preventDefault();
c.stopPropagation();a.commandHandler.execute(ME,13)});Y({element:b,message:"Not connected to runtime.",timeoutMillis:1E4});CW(a,!1);return!1}return!0},VW=function(a,b){b=void 0===b?!1:b;if(a.isRunning_||YW(a))return Y({message:"Cell is already running"}),Mk();a.hasManuallyExecuted_=!0;var c=!1,d=function(){c=!0},e=function(g){g.error&&(c=!0)};a.getKernel().listen("disconnected",d);a.getKernel().listen("cell_execution_completed",e);var f=b?a.editor.getSelection():a.editor.getText();a.editor.setLocalContent(!0);
XW(a);return Xk(Wk(a.notebook_.confirmCodeExecution().then(function(){return hy?cX(a,f):a.executionQueue_.enqueue(function(){if(c)throw new Hk;return Promise.resolve(cX(a,f))})}),function(){a.inDocument_&&(a.getKernel().unlisten("disconnected",d),a.getKernel().unlisten("cell_execution_completed",e),a.reset())}),function(g){if(g instanceof lC||g instanceof Hk)return Mk();throw g;})},UW=function(a,b){b=void 0===b?"":b;ZS(a);if(a.isTrustedContent()){var c=a.editor.getText();"post_mortem_debug"===b?c=
"%debug":"rerun_with_debug"===b&&(c="%%debug\n"+c);return a.notebook_.confirmCodeExecution().then(function(){return cX(a,c)})}throw new dX;},JW=function(a,b){a.lastExecutionFailed_=b;a.isDisposed()||a.getElement().classList.toggle("execution-error",a.lastExecutionFailed_)},cX=function(a,b){if(!a.inDocument_)return Mk();var c=Promise.resolve(),d=Tk();hy&&(c=a.executionQueue_.enqueue(function(){}),a.executionQueue_.enqueue(function(){return Promise.resolve(d.promise)}));var e=a.getKernel(),f=Mk(),g=
a.getKernel().getState();switch(g){case "restarting":case "connecting":case "allocating":f=e.connected();break;case "busy":hy||(f=eX(e));break;case "authorizing":case "connect":e=e.runtime_;f=fX(a.notebook_,{local:!!e&&"local"==e.kind,attemptExternalLocalReconnect:!1,attemptReconnect:!0});break;case "connected":case "kernel idle":break;default:console.warn("codecell: execute_: unhandled state: "+g)}e=Mk(f);var h=gX(b);return Wk(Xk(e.then(function(){return c}).then(function(){if(a.inDocument_)return MW(a),
d.resolve(),hX(a,h)}),function(l){if(l instanceof CH)throw new eW;if(l instanceof pV||l instanceof VU)console.log("codecell: ignoring benign OutputDisposedError");else{if(l instanceof eW)throw l;if(l instanceof lC)throw JW(a,!0),l;if(l instanceof hV)throw aJ(l),wH(WD.OUTPUT_JAVASCRIPT_LOADING_ERROR,""),l;wH("Failed to execute cell. Could not send execute message to runtime: "+String(l),l);aJ(Error("Could not send execute message to runtime: "+String(l)))}}),function(){d.resolve();CW(a,!1);a.outputArea_.handleKernelDone();
if(!a.isDisposed()){var l=TW(a);dJ("code","execute",l)}})},QW=function(a){a.inDocument_&&(a=bW(a.outputArea_))&&a.interrupt()},hX=function(a,b){if(!a.inDocument_)return Mk();var c=function(){QW(a)},d;a.getHandler().listen(a.getKernel(),"interrupted",c);return Wk(iX(a.getKernel(),b,a,{silent:!1,storeHistory:!0,resumableCellId:a.getId()}).then(function(e){d=e;return OW(a,e)},function(e){e instanceof fW&&e.reply instanceof MC&&(d=e.reply);return PW(a,e)}),function(){a.getKernel().unlisten("interrupted",
c);d&&a.getKernel().acknowledgeExecuteReply(d);a.isEditing()&&UV(a.outputArea_)})},TW=function(a){return OM(a.notebook_.getNotebookModel())},gX=function(a){var b=lW.exec(a);return b?b[b.length-1]:a};rW.prototype.refresh=function(){JS.prototype.refresh.call(this);this.editor.refresh()};var jX=function(a,b){"form"===a.getViewType()?a.scrollIntoView():a.editor.focus(b)};k=rW.prototype;
k.updateFocus=function(a){a&&(this.getElement().classList.toggle("output-selected",!!a.outputSelected),3==a.scroll&&this.setEditing(!1,a.blurActiveFocus))};k.setFocused=function(a,b){b=void 0===b?LN:b;a&&b.editorPosition&&isFinite(b.editorPosition.line)&&(this.makeEditorVisible([]),this.setEditing(!0));JS.prototype.setFocused.call(this,a,b);a?(UV(this.outputArea_),b&&b.blurActiveFocus&&jX(this,b.editorPosition)):b.blurActiveFocus&&this.editor.blur();this.updateFocus(b||LN)};
k.selectSyntaxHighlighting=function(a){var b=TW(this);if("notebook-python"!=b)return b;a=a.split(/ +/,2);if(0==a.length)return b;b=a[0];var c={asciipb:"text/x-text-proto",borg:"text/x-bcl",css:"css",go:"text/x-go",html:"html",js:"javascript",pbtxt:"text/x-text-proto",proto:"text/x-proto",pyplan:"python",sh:"colab-shell",xml:"xml",csv:"text/x-text-proto",json:"json"},d=function(e){if(e){var f=e.lastIndexOf(".");return 0>f?"":e.substr(f+1,e.length)}};return{"%%save_cell":c[d(a[1])],"%%save_and_run":c[d(a[1])]}[b]||
"notebook-python"};k.isEditing=function(){return this.editor.isFocused()&&"form"!=this.getViewType()};k.setEditing=function(a,b){b=void 0===b?!0:b;JS.prototype.setEditing.call(this,a);b&&(a?this.editor.focus():this.editor.blur())};k.exitDocument=function(){0!=this.formViewUpdateTimer_&&window.clearTimeout(this.formViewUpdateTimer_);JS.prototype.exitDocument.call(this)};k.getFormatterHandlerPath=function(){return"notebook-python"!=TW(this)?null:"/pyformat"};
k.onUserInputRequest=function(a,b){var c=this;this.inDocument_&&(this.getKernel().runtime_.capabilities.supportsColabtools?aJ(Error("Input request when colabtools is supported by runtime.")):this.outputArea_.requestInput(a,b,KW(this)).then(function(d){c.getKernel().sendInputReply(d)},function(d){"string"==typeof d&&d.startsWith("KernelInterruptError")||d instanceof pV||d instanceof VU||aJ(d)}))};k.supportsUserInput=function(){return!0};
k.onClearOutput=function(a,b){if(!this.inDocument_)return!1;var c=LW(this.notebook_.getKernel()),d=this.outputArea_,e=KW(this);b=void 0===b?null:b;a?(d.flush(),d.pendingClearOutput_=!0,d.pendingClearOutputTags_=b,d.pendingClearOutputBaseUri_=c):b?gL(d.outputs,b):d.newOutput(e,c);return!1};var kX=function(a){a=bW(a.outputArea_);if(!a)throw Error("Cell has no view");return a};k=rW.prototype;
k.onColabRequest=function(a,b){var c=this;return Mk().then(function(){switch(a){case "cell_javascript_eval":return c.outputArea_.outputs.flush(),kX(c).requestEval(b.script).then(function(d){return d},function(d){if(!(d instanceof pV||d instanceof VU))throw d;});case "cell_display_stdin":return c.outputArea_.outputs.flush(),c.outputArea_.setVisible(!0,!0),kX(c).displayStdinWidget(b.delayMillis);case "cell_update_stdin":return kX(c).updateStdinWidget(b.echo);case "cell_remove_stdin":return kX(c).removeStdinWidget();
default:throw Error("Unknown request type: "+a);}})};k.onOutput=function(a){if(!this.inDocument_)return!1;"pyerr"==a.type&&JW(this,!0);this.outputArea_.handleKernelOutputMessage(KW(this),a);return!1};k.onCommOpen=function(a,b,c){this.outputArea_.outputs.flush();kX(this).onCommOpen(a,b,c)};k.onCommMessage=function(a,b){this.outputArea_.outputs.flush();kX(this).onCommMessage(a,b)};
k.cellInitialized=function(){return JS.prototype.cellInitialized.call(this).then(function(){},function(a){if(!(a instanceof pV||a instanceof VU))throw a;})};
k.cellLoaded=function(){var a=this,b,c,d;return B(function(e){switch(e.nextAddress){case 1:return y(e,2),u(e,a.cellInitialized(),4);case 4:if(!a.hasOutput())return e.return();b=mc(a.codeModel_.outputs_.outputs_).map(function(f){return f.loaded()});return u(e,Promise.all(b),5);case 5:return(c=bW(a.outputArea_))?u(e,c.forceResize(),6):e.return();case 6:return u(e,pn(0),7);case 7:va(e,0);break;case 2:d=z(e);if(d instanceof pV||d instanceof VU)return e.return();throw d;}})};
k.disposeInternal=function(){this.editor.getComponent().dispose();JS.prototype.disposeInternal.call(this)};var SW=function(a,b){var c=this;this.handler_=b;this.promise_=a;this.resolved_=!1;this.buffered_=[];this.promise_.then(function(){lX(c);c.resolved_=!0})},lX=function(a){a.buffered_.forEach(function(b){b()});a.buffered_=[]};k=SW.prototype;
k.onUserInputRequest=function(a,b){var c=this;if(this.resolved_)this.handler_.onUserInputRequest(a,b);else this.buffered_.push(function(){c.handler_.onUserInputRequest(a,b)})};k.supportsUserInput=function(){return this.handler_.supportsUserInput()};k.onClearOutput=function(a,b){var c=this;if(this.resolved_)return this.handler_.onClearOutput(a,b);this.buffered_.push(function(){c.handler_.onClearOutput(a,b)});return!1};
k.onOutput=function(a){var b=this;if(this.resolved_)return this.handler_.onOutput(a);this.buffered_.push(function(){b.handler_.onOutput(a)});return!1};k.onColabRequest=function(a,b){var c=this;return this.resolved_?this.handler_.onColabRequest(a,b):new Promise(function(d){c.buffered_.push(function(){d(c.handler_.onColabRequest(a,b))})})};k.getCellId=function(){return this.handler_.getCellId()};
k.onCommOpen=function(a,b,c){var d=this;if(this.resolved_)this.handler_.onCommOpen(a,b,c);else this.buffered_.push(function(){d.handler_.onCommOpen(a,b,c)})};k.onCommMessage=function(a,b){var c=this;if(this.resolved_)this.handler_.onCommMessage(a,b);else this.buffered_.push(function(){c.handler_.onCommMessage(a,b)})};
var DW=new Map([["fresh","cell executed since last change"],["stale","cell might have changed since last executed"],["unknown","cell has not been executed in this session"]]),dX=function(){lb.call(this,"cell_not_trusted")};t(dX,lb);var qW=function(a,b){this.cellId_=a;this.notebook_=b};qW.prototype.getNotebookModel=function(){return this.notebook_.getNotebookModel()};qW.prototype.getPreferences=function(){return this.notebook_.getPreferences()};qW.prototype.getKernel=function(){return this.notebook_.getKernel()};
qW.prototype.processIframeMessage=function(a,b){return this.notebook_.processIframeMessage(this.cellId_,a,b)};var mX=!1,nX=function(a,b,c){c=void 0===c?!0:c;JS.call(this,a,b);var d=this;this.topDiv_=lh("DIV","text-top-div");this.previewDiv=lh("DIV","markdown");Rm(this.getHandler(),b.getPreferences(),this.prefsChanged_,this);this.markdownUpdateTimer_=0;this.editor=null;this.getHandler().listen(this.previewDiv,"dblclick",function(){d.permissions.isEditable()&&d.setEditing(!d.isEditing())},!1);this.editorContainerDiv_=lh("DIV","editor-container");this.getPreferences().MARKDOWN_PREVIEW_BELOW.getValue()||(this.editorContainerDiv_.classList.add("layout",
"horizontal"),this.topDiv_.classList.add("flex"));this.sectionContainer_=lh("DIV","section-header-container");this.sectionContainer_.title="click to expand";this.sectionContainer_.innerText="click to expand";this.sectionExpanded_=c;this.sectionSize_=0;this.headerExpandCollapseToggle_=null};t(nX,JS);
var pX=function(a){[].concat(ja(a.previewDiv.querySelectorAll("a[href]"))).filter(function(c){return!c.matches('[href^="/v2/"]')&&!c.matches('[href^="#"]')}).forEach(function(c){c.setAttribute("target","_blank");c.setAttribute("rel","nofollow")});var b=a.previewDiv.querySelector("h1,h2,h3,h4,h5,h6");b&&(a.headerExpandCollapseToggle_||(a.headerExpandCollapseToggle_=document.createElement("paper-icon-button"),a.headerExpandCollapseToggle_.classList.add("header-section-toggle"),a.headerExpandCollapseToggle_.setAttribute("icon",
"icons:arrow-drop-down"),a.headerExpandCollapseToggle_.setAttribute("noink",!0),a.headerExpandCollapseToggle_.addEventListener("click",function(c){c.shiftKey?a.notebook_.expandCellsInParentHeaderAfter(a.getId(),!a.sectionExpanded_):a.toggleSection_()}),a.headerExpandCollapseToggle_.addEventListener("dblclick",function(c){c.stopPropagation()})),b.insertBefore(a.headerExpandCollapseToggle_,b.firstChild),b.classList.add("text-cell-section-header"),oX(a));!mX&&a.previewDiv.querySelector("img[data-markdown-size]")&&
(eJ(17,"markdown-image-size"),mX=!0)},qX=function(a){var b,c,d;B(function(e){if(1==e.nextAddress){b=a.notebook_.getNotebookModel().getTraits();if(null==a.previewDiv)return console.error("Markdown Element not initialized. Cannot update Markdown."),e.return();c=a.getText();""!=c.trim()||a.isEditing()||(c="Double-click (or enter) to edit");d=a.editor?a.editor.getCodeEditor():null;return u(e,qN(a.previewDiv,c,b,yO(a.notebook_.getPreferences()),d),2)}pX(a);x(e)})};
nX.prototype.getSectionTitle=function(){var a=nB(this.getText());da();ia();a=a[Symbol.iterator]().next();a=a.done?void 0:a.value;return a?{indents:a.indents,text:tB(a.text)}:null};nX.prototype.updateContent=function(){qX(this)};nX.prototype.prefsChanged_=function(a){"markdownPreviewBelow"===a.key&&rX(this)};
var rX=function(a){var b=a.getPreferences().MARKDOWN_PREVIEW_BELOW.getValue();a.editorContainerDiv_.classList.toggle("layout",!b);a.editorContainerDiv_.classList.toggle("horizontal",!b);a.topDiv_.classList.toggle("flex",!b);(a=a.getElement().querySelector(".markdown-toolbar-preview"))&&a.setAttribute("icon","colab:markdown-preview-"+(b?"right":"below"))};nX.prototype.refresh=function(){JS.prototype.refresh.call(this);oX(this);rX(this);this.isEditing()&&this.editor.refresh()};
nX.prototype.setFocused=function(a,b){JS.prototype.setFocused.call(this,a,b);a||this.setEditing(!1);!this.isEditing()&&jy&&this.getElement().focus()};var sX=function(a){0!=a.markdownUpdateTimer_&&window.clearTimeout(a.markdownUpdateTimer_);a.markdownUpdateTimer_=window.setTimeout(hb(function(){qX(this);this.markdownUpdateTimer_=0},a),1E3)};
nX.prototype.enterCell=function(){var a=this;JS.prototype.enterCell.call(this);this.topDiv_.appendChild(this.previewDiv);this.mainContentDiv.appendChild(this.editorContainerDiv_);this.editorContainerDiv_.appendChild(this.topDiv_);qi(this.sectionContainer_,!1);this.mainContentDiv.appendChild(this.sectionContainer_);this.updateContent();var b=this.realtimeCell.get("text"),c=this.getHandler();c.listen(b,AD.TEXT_INSERTED,function(){sX(a)},!1);c.listen(b,AD.TEXT_DELETED,function(){sX(a)},!1);c.listen(this.sectionContainer_,
"click",this.toggleSection_,!1);this.refresh()};nX.prototype.setSectionExpanded=function(a,b){if(this.sectionExpanded_!==a||this.sectionSize_!==b)this.sectionExpanded_=a,this.sectionSize_=b,oX(this)};
var oX=function(a){var b=a.sectionSize_||0;a.headerExpandCollapseToggle_&&(a.headerExpandCollapseToggle_.classList.toggle("turn-collapsed",!a.sectionExpanded_),a.sectionExpanded_?a.headerExpandCollapseToggle_.setAttribute("title","Collapse "+(b+" child cells under this section header (Press <Shift> to also collapse sibling sections)")):a.headerExpandCollapseToggle_.setAttribute("title","Expand "+(b+" child cells under this section header (Press <Shift> to also expand sibling sections)")),qi(a.headerExpandCollapseToggle_,
0<b));a.sectionContainer_.innerText="\u21b3 "+(new wt("{NUM_CELLS, plural, =1 {1 cell hidden} other {# cells hidden}}")).format({NUM_CELLS:b});qi(a.sectionContainer_,b&&!a.sectionExpanded_)};nX.prototype.toggleSection_=function(){tX(this.notebook_,this.getId())};
nX.prototype.prepareEditor=function(){var a=this;this.editor.setLineNumbersVisibility("invisible");Zx||this.editor.setEnableRulerPref(!1);this.editor.setLineWrapping(!0);this.editor.setStyleActiveLine();this.editor.setSyntaxHighlighting("markdown-latex");this.editor.disableAutoCompletions();this.permissions.isEditable()||this.editor.setReadOnly(!0);this.getHandler().listen(this.editor.getComponent(),"blur",function(){a.setEditing(!1)});this.getHandler().listen(this.editor.getComponent().getElement(),
"click",function(b){var c=a.editor.getCodeEditor();if(c=c?c.getWrapperElement():null)c=c.getBoundingClientRect(),b.clientY>c.top+c.height&&a.editor.moveToEndOfLastLine()})};
var uX=function(a){var b=pm(nS,{previewBelow:a.getPreferences().MARKDOWN_PREVIEW_BELOW.getValue()});a.mainContentDiv.insertBefore(b,a.editorContainerDiv_);gH(b);b.querySelector('[icon="editor:format-size"]').addEventListener("click",function(){a.editor.selectCurrentLine();a.editor.applyMarkdownTransform(DB)});b.querySelector('[icon="editor:format-bold"]').addEventListener("click",function(){a.editor.greedySelect("*");a.editor.applyMarkdownTransform(FB)});b.querySelector('[icon="editor:format-italic"]').addEventListener("click",
function(){a.editor.greedySelect("*");a.editor.applyMarkdownTransform(GB)});b.querySelector('[icon="icons:code"]').addEventListener("click",function(){var c=a.editor.getSelection();c&&!c.includes("\n")?(a.editor.greedySelect("`"),a.editor.applyMarkdownTransform(HB)):a.editor.applyMarkdownTransform(IB)});b.querySelector('[icon="editor:insert-link"]').addEventListener("click",function(){a.editor.getSelection()&&(a.editor.greedySelect("("),a.editor.greedySelect("]"));a.editor.applyMarkdownTransform(JB)});
b.querySelector('[icon="editor:insert-photo"]').addEventListener("click",function(){a.editor.applyMarkdownTransform(KB)});b.querySelector('[icon="editor:format-indent-increase"]').addEventListener("click",function(){a.editor.selectCurrentLine();a.editor.applyMarkdownTransform(PB)});b.querySelector('[icon="editor:format-list-numbered"]').addEventListener("click",function(){a.editor.moveToEndOfCurrentLine();a.editor.applyMarkdownTransform(MB)});b.querySelector('[icon="editor:format-list-bulleted"]').addEventListener("click",
function(){a.editor.moveToEndOfCurrentLine();a.editor.applyMarkdownTransform(NB)});b.querySelector('[icon="editor:linear-scale"]').addEventListener("click",function(){a.editor.moveToEndOfCurrentLine();a.editor.applyMarkdownTransform(OB)});(b=b.querySelector(".markdown-toolbar-preview"))&&b.addEventListener("click",function(){a.getPreferences().MARKDOWN_PREVIEW_BELOW.set(!a.getPreferences().MARKDOWN_PREVIEW_BELOW.getValue())})};k=nX.prototype;
k.setEditing=function(a,b){b=void 0===b?!0:b;JS.prototype.setEditing.call(this,a);if(this.isEditing()!==a){this.getElement().classList.toggle("edit",a);if(a&&!this.editor&&!this.editor){var c=this.realtimeCell.get("text");Zx?(c=new aV(c,this.notebook_,!0),c.setSyntaxHighlighting("markdown"),this.editor=c):this.editor=new tT(c,this.notebook_,!1,!0);this.addChild(this.editor);this.editor.render(this.editorContainerDiv_);this.editorContainerDiv_.insertBefore(this.editor.getElement(),this.editorContainerDiv_.firstChild);
this.prepareEditor();uX(this);this.refresh()}this.editor&&this.editor.setVisible(a);qX(this);a&&(this.refresh(),b&&this.editor.focus())}};k.isEditing=function(){return this.getElement().classList.contains("edit")};k.exitDocument=function(){0!=this.markdownUpdateTimer_&&window.clearTimeout(this.markdownUpdateTimer_);JS.prototype.exitDocument.call(this)};k.getFormatterHandlerPath=function(){return"/mdformat"};
k.getContextMenuSpec=function(a){var b=this,c=JS.prototype.getContextMenuSpec.call(this,a);if(this.permissions.isEditable()){var d=MS(this,$E,a,{name:"Edit"});d.isDisabled=function(){return b.isEditing()};c.splice(0,0,d)}this.permissions.isCommentable()&&(c.push({separator:!0}),c.push(MS(this,BE,a)));return c};var vX=function(){nX.apply(this,arguments)};t(vX,nX);vX.prototype.prepareEditor=function(){nX.prototype.prepareEditor.call(this);this.editor.setSyntaxHighlighting("text")};vX.prototype.createDom=function(){var a=this;nX.prototype.createDom.call(this);this.getElement().classList.add("text");this.permissions.isEditable()||this.getHandler().listen(this.previewDiv,"dblclick",function(){a.setEditing(!a.isEditing())},!1)};vX.prototype.updateContent=function(){this.previewDiv.innerText="Unsupported Cell Type. Double-Click to inspect/edit the content."};var wX=function(a,b){nX.call(this,a,b)};t(wX,nX);wX.prototype.update=function(){var a=this.notebook_,b=uI(a.getNotebookModel().getTraits()).setFileId(null),c="";a.getCells().forEach(function(d){if("text"==d.getType()){var e=d.getText();e=q(nB(e));for(var f=e.next();!f.done;f=e.next()){var g=f.value;f=qB(g.text);var h="#"+Lz(Vz(b,d.getId()).params_);g=">".repeat(g.indents);c+=g+"["+f+"]("+h+")\n\n"}}});this.getTextModel().setText(c)};
wX.prototype.createDom=function(){nX.prototype.createDom.call(this);P(this).classList.add("text")};wX.prototype.enterCell=function(){var a=this;nX.prototype.enterCell.call(this);if(this.permissions.isEditable()){var b=document.createElement("paper-button");b.textContent="Refresh";b.classList.add("toc-refresh-button");b.classList.add("realtime-button");b.addEventListener("click",function(){a.update()});this.previewDiv.parentNode.insertBefore(b,this.previewDiv)}};wX.prototype.enterDocument=function(){nX.prototype.enterDocument.call(this)};var xX=function(a,b){var c=a.getType(),d=null;"code"===c?d=new rW(a,b):"text"===c?d=new nX(a,b):"toc"===c?d=new wX(a,b):d=new vX(a,b);return d};var yX=function(a,b,c,d){return{open:b,close:c,mode:CodeMirror.getMode(a,d),delimStyle:"delimit"}},zX=function(a,b,c){return yX(a,b,"%%endcell",c)},AX=function(a,b,c){return[yX(a,b+"('''",/'''[\)]?/,c),yX(a,b+'("""',/"""[\)]?/,c)]},BX=function(){},aj=function(){return!0},bj=function(){return new Mg},cj=function(){return!0},CX=function(){CodeMirror.defineMode("text/x-google-sql",function(a){a.metadataProvider=new BX;I(a.metadataProvider);I(a.indentUnit);var b=CodeMirror.getMode(a,"javascript");I(b);
return new Ni(a.indentUnit,b)})},DX=function(){CodeMirror.defineMode("markdown-latex",function(a){return CodeMirror.multiplexingMode(CodeMirror.getMode(a,"text/x-markdown"),yX(a,"$$","$$","stex"),yX(a,"$","$","stex"))})};var EX=function(a,b,c){var d=SD.getOutputframeHtmlUrl({trusted:b,port:c});TU.call(this,d,b);this.kernel_=a;this.port_=c;a=new URL(Pc(d),window.location.toString());b=a.pathname.split("/");b.splice(b.length-1,1);a.pathname=b.join("/")+"/";a.searchParams&&a.searchParams.delete("vrz");this.url_=a;this.serviceWorkerPort_=null};t(EX,TU);k=EX.prototype;k.getPort=function(){return this.port_};
k.loadIframeContents=function(){var a=this,b,c;return B(function(d){if(1==d.nextAddress)return u(d,FX(),2);b=d.yieldResult;if(a.hasDetached_)return d.return();c=new Promise(function(e,f){var g=new MessageChannel;g.port1.onmessage=function(m){m.data.loaded?e():f(new hV(m.data.error))};var h=[g.port2],l=new MessageChannel;a.serviceWorkerPort_=l.port1;a.serviceWorkerPort_.onmessage=function(m){a.handleServiceWorkerMessage_(m.data)};h.push(l.port2);g={mode:0==a.port_?"preload":"proxy",baseUri:"",versionTag:GX,
serviceWorkerUri:Pc(SD.getServiceWorkerUrl({trusted:a.isTrusted(),port:a.port_})),outputframePort:g.port2,serviceWorkerPort:l.port2,enableAutoScrollingOutputsExperiment:!1,webComponentsV0OriginTrialToken:sy};ZU(a,b,{outputframeConfig:g},h)});return u(d,Promise.race([Ey(c,3E4,"Timed out waiting for iframe configuration."),a.exitedDocument_]),0)})};
k.handleServiceWorkerMessage_=function(a){var b=a.action;switch(b){case "fetch":this.handleServiceWorkerFetch_(a);break;case "report_disabled":DV(a.error);break;default:console.warn("Unknown service worker message: "+b)}};
k.handleServiceWorkerFetch_=function(a){var b=this,c,d,e,f,g,h;B(function(l){switch(l.nextAddress){case 1:c=new URL(a.url);d=EV.some(function(m){return c.pathname.startsWith(m)});if("GET"!=a.method&&d)return b.sendServiceWorkerError_(a,"Not allowed."),l.return();y(l,2);return u(l,b.fetchResource_(a.method,c.toString(),new Headers(a.headers),a.body),4);case 4:return e=l.yieldResult,e.ok?u(l,e.arrayBuffer(),5):(b.sendServiceWorkerError_(a,e.statusText),l.return());case 5:f=l.yieldResult;g=[].concat(ja(e.headers.entries()));
b.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,response:{data:f,headers:g,status:e.status,statusText:e.statusText}},[f]);va(l,0);break;case 2:h=z(l),b.sendServiceWorkerError_(a,String(h)),x(l)}})};
k.fetchResource_=function(a,b,c,d){var e=this,f,g,h,l;return B(function(m){if(1==m.nextAddress){f=e.kernel_;if(!e.isTrusted()||!f.isRunning())return m.return(new Response("",{status:404,statusText:"Not found"}));g=new URL("http://localhost:"+e.port_+"/");h=new URL(b);g.pathname=h.pathname;g.search=h.search;return u(m,f.fetch(a,g,d),2)}l=m.yieldResult;return m.return(l)})};k.sendServiceWorkerError_=function(a,b){this.serviceWorkerPort_.postMessage({action:"response",responseId:a.requestId,error:String(b)})};
var FX=function(){var a=SD.OUTPUT_SCRIPTS_COMPILED;a=new URL(a[a.length-1],String(String(HV||window.location)));return IV(a)},GX=window.colabVersionTag;var HX=function(a,b){rW.call(this,a,b)};t(HX,rW);HX.prototype.getViewType=function(){return"code"};HX.prototype.shouldScrollIcon=function(){return!1};HX.prototype.createMenu=function(){};var IX=function(a,b){b=void 0===b?null:b;var c=TI(a.getNotebookModel());I(c.isEditable());c=jW().getModel();c=lL(null,"code",c);c=new kL(c,jW().getDocument().getModel(),!1);b&&(b=b.toJson(),delete b.metadata.id,c.fillFromJson(b,{includeOutputs:!0,isReadOnly:!0}));return new HX(c,a)};var JX=function(a){var b=U(Oa(a.snippets)||1===a.snippets||0===a.snippets,"snippets",a.snippets,"boolean"),c=U(F(a.pageToc)||a.pageToc instanceof N,"pageToc",a.pageToc,"!goog.soy.data.UnsanitizedText|string"),d=U(F(a.pageSnippets)||a.pageSnippets instanceof N,"pageSnippets",a.pageSnippets,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.closeButtonLabel)||a.closeButtonLabel instanceof N,"closeButtonLabel",a.closeButtonLabel,"!goog.soy.data.UnsanitizedText|string");c="<colab-resizer class='ew-resize'><div class='resizer-contents'><div class='colab-left-pane-header layout horizontal'><paper-tabs noink no-slide selected=\"0\"><paper-tab page=\""+
T(c)+'">';c+="Table of contents</paper-tab>";b&&(c+='<paper-tab page="'+T(d)+'">',c+="Code snippets</paper-tab>");c+='</paper-tabs><paper-icon-button class="colab-left-pane-close" icon="close" aria-label="'+T(a)+'"></paper-icon-button></div><iron-pages selected="0"><colab-table-of-contents class="layout vertical" role="navigation"></colab-table-of-contents>'+(b?'<colab-assist-pane class="layout vertical"></colab-assist-pane>':"")+"</iron-pages></div></colab-resizer>";return Q(c)};
JX.soyTemplateName="colab.components.leftPaneTemplates.leftPane";var KX=function(){var a="<paper-icon-button class='colab-left-pane-nib' icon='chevron-right' aria-label=\""+T(po("Open the left pane"))+'"></paper-icon-button>';return Q(a)};KX.soyTemplateName="colab.components.leftPaneTemplates.openIcon";var LX=function(){return Q('<colab-shaded-scroller shade-bottom><div class=\'colab-toc-sections\'></div><colab-toolbar-button class="toc-add-section" icon="add-box">section</colab-toolbar-button></colab-shaded-scroller>')};LX.soyTemplateName="colab.components.tableOfContentsTemplates.toc";
var MX=function(a){var b=U(F(a.type)||a.type instanceof N,"type",a.type,"!goog.soy.data.UnsanitizedText|string");a=U(fm(a.text),"text",a.text,"!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string");return Q(oo(b,"section")?'<div class="toc-section"><a href="#" class="toc-cell toc-'+T(b)+'">'+R(a)+'</a><div class="toc-section-cells"></div></div>':'<a href="#" class="toc-cell toc-'+T(b)+'">'+R(a)+"</a>")};MX.soyTemplateName="colab.components.tableOfContentsTemplates.tocCell";var NX=function(){return $D.apply(this,arguments)||this};t(NX,$D);NX.prototype.createdCallback=function(){var a=nm(LX,{});this.appendChild(a);this.tocCells_=new Map;this.handler_=new Om(this)};
var QX=function(a){var b=a.querySelector(".toc-add-section");b&&a.handler_.listen(b,"click",function(c){c.preventDefault();c.stopPropagation();a.notebook_.commandHandler_.execute(GE,15)});a.handler_.listen(a.notebook_.getElement(),"focusChanged",function(){OX(a)});a.handler_.listen(a.notebook_.getComponent(),"section-layout-changed",function(){PX(a)});a.notebook_.getNotebookModel().getModel().getRoot().addEventListener(AD.OBJECT_CHANGED,function(){PX(a)})},PX=function(a){a.pendingUpdate_&&window.clearTimeout(a.pendingUpdate_);
a.pendingUpdate_=window.setTimeout(function(){RX(a);OX(a);a.pendingUpdate_=null},1E3)};NX.prototype.detachedCallback=function(){window.clearTimeout(this.pendingUpdate_);this.handler_.removeAll()};NX.prototype.init=function(a,b){this.notebook_||(this.notebook_=a,this.sectionsController_=b,a=this.querySelector(".toc-add-section"),this.notebook_.isEditable()||a.remove(),QX(this),RX(this),OX(this))};
var OX=function(a){var b=a.querySelector(".toc-cell-focused"),c=a.notebook_.focusedCell_,d=c?a.tocCells_.get(c.getId()):null;d||(c?(c=c.getId(),c=a.sectionsController_.parents_[c]||null):c=null,c&&(d=a.tocCells_.get(c)));a=!d||d.elem!=b;b&&a&&b.classList.remove("toc-cell-focused");d&&(d.elem.classList.add("toc-cell-focused"),d.elem.scrollIntoView({behavior:"auto",block:"nearest"}))},RX=function(a){for(var b=a.notebook_.getCells(),c=!1,d=new Set(a.tocCells_.keys()),e=0,f;f=b[e];e++)c=SX(a,f,e)||c,
d.delete(f.getId());d=q(d);for(e=d.next();!e.done;e=d.next())TX(a,e.value);if(c){c=a.querySelector("colab-shaded-scroller");d=a.querySelector(".colab-toc-sections");e=c.scrollTop;b=q(b);for(f=b.next();!f.done;f=b.next())f=f.value.getId(),(f=a.tocCells_.get(f))&&(f.parentSectionId?a.tocCells_.get(f.parentSectionId).elem.querySelector(".toc-section-cells").appendChild(f.elem):d.appendChild(f.elem));c.scrollTop=e}},TX=function(a,b){var c=a.tocCells_.get(b);c&&c.elem.parentNode&&c.elem.parentNode.removeChild(c.elem);
a.tocCells_.delete(b)},SX=function(a,b,c){var d=b.getSectionTitle(),e=b.getId();if(!d)return TX(a,e),!1;d=d.text;var f=UX(a.sectionsController_,e)==e?"section":"header",g=a.sectionsController_.parents_[e]||null,h=a.tocCells_.get(e);if(h&&h.type==f&&h.text==d&&h.parentSectionId==g)return h.index==c;var l=pm(MX,{type:f,text:d});h&&xh(l,h.elem);Ny(l);h={cell:b,type:f,text:d,parentSectionId:g,index:c,elem:l};a.tocCells_.set(e,h);var m=function(n){b.isFocused()?(b.scrollIntoView(),jy&&b.setFocused(!0)):
US(a.notebook_,e,PN);VX(a.sectionsController_,[b],!0);n.preventDefault();n.stopPropagation()};l.addEventListener("click",m);l.addEventListener("keydown",function(n){13==n.keyCode&&m(n)});return!0};k=NX.prototype;k.notebook_=null;k.sectionsController_=null;k.tocCells_=null;k.pendingUpdate_=null;k.handler_=null;bH("colab-table-of-contents",NX);var WX=function(){return $D.apply(this,arguments)||this};t(WX,$D);WX.prototype.createdCallback=function(){var a=this;this.additionalTabs_=[];var b=nm(KX,{});this.appendChild(b);this.querySelector("paper-icon-button").addEventListener("click",function(){a.dispatchEvent(new Event("colab-left-pane-request-open"))});this.addEventListener("keydown",function(c){27==c.keyCode&&a.close()})};
var XX=function(a){if(null==a.content_){var b=!aG.isDisabled();a.content_=pm(JX,{snippets:b,pageToc:"toc",pageSnippets:"snippets",closeButtonLabel:"Close left pane"});a.paperTabs_=a.content_.querySelector("paper-tabs");a.ironPages_=a.content_.querySelector("iron-pages");a.paperTabs_.addEventListener("iron-select",function(){a.ironPages_.select(a.paperTabs_.selected);a.dispatchEvent(new Event("colab-left-pane-page-change"))});b=q(I(a.additionalTabs_));for(var c=b.next();!c.done;c=b.next()){var d=c.value;
c=d.tab;d=d.contents;c.classList.remove("iron-selected");Polymer.dom(a.paperTabs_).appendChild(c);d.classList.remove("iron-selected");Polymer.dom(a.ironPages_).appendChild(d)}a.content_.querySelector(".colab-left-pane-close").addEventListener("click",function(){a.close()})}return I(a.content_)},YX=function(a){return a.ironPages_?(a=Polymer.dom(a.paperTabs_).children[a.ironPages_.selected])?a.getAttribute("page"):null:null};k=WX.prototype;k.isOpen=function(){return!!this.content_&&this.content_.isConnected};
k.open=function(a,b){if(!this.isOpen()||YX(this)!=a){var c=XX(this);this.isOpen()||(this.appendChild(c),gH(this),this.classList.toggle("colab-left-pane-open",!0),this.querySelector(".colab-left-pane-nib").setAttribute("aria-hidden",!0),this.dispatchEvent(new Event("colab-left-pane-open")));c=[].concat(ja(Polymer.dom(this.paperTabs_).children)).findIndex(function(d){return d.getAttribute("page")==a});this.paperTabs_.select(c);b&&this.paperTabs_.focus()}};
k.close=function(){this.isOpen()&&(this.content_&&(this.content_.remove(),this.content_=null),this.classList.toggle("colab-left-pane-open",!1),this.querySelector(".colab-left-pane-nib").setAttribute("aria-hidden",!1),this.dispatchEvent(new Event("colab-left-pane-close")))};
k.addTab=function(a,b,c){var d=document.createElement("paper-tab");Polymer.dom(d).appendChild(document.createTextNode(a));d.setAttribute("page",c);b.classList.add("layout");b.classList.add("vertical");this.paperTabs_&&this.ironPages_&&(Polymer.dom(this.paperTabs_).appendChild(d),Polymer.dom(this.ironPages_).appendChild(b));this.additionalTabs_.push({tab:d,contents:b})};k.content_=null;k.paperTabs_=null;k.ironPages_=null;k.additionalTabs_=null;var ZX=bH("colab-left-pane",WX);
ZX.EventType={CLOSE:"colab-left-pane-close",OPEN:"colab-left-pane-open",PAGE_CHANGE:"colab-left-pane-page-change",REQUEST_OPEN:"colab-left-pane-request-open"};ZX.Page={TOC:"toc",SNIPPETS:"snippets",FILES:"files"};function $X(a){try{rI(new URL(a),!0)}catch(b){return!1}return!0}var aY=function(){};aY.prototype._setUrls_=function(){};
aY=Polymer({is:"colab-snippet-menu",properties:{urls_:{type:Array,notify:!0,readOnly:!0},value:{type:String,reflectToAttribute:!0},label:String,inputErrorMessage:{type:String,value:"Please enter a valid Colab notebook URL"},removeSnippetLabel:{type:String,value:"Remove snippet notebook"}},observers:["_urlsAddedOrRemoved(urls_.splices)"],ready:function(){this._setUrls_(this.value.split(/\s+/).filter(function(b){return!!b}));var a=this.$.snippetinput;a.addEventListener("input",function(){a.invalid=
!!a.value&&!$X(a.value)})},_urlsAddedOrRemoved:function(){this.value=this.urls_.join("\n")},_handleAddItem:function(a){a=a.target;$X(a.value)&&(this.unshift("urls_",a.value),a.value="",a.blur())},_handleRemoveItem:function(a){this.splice("urls_",a.model.index,1)}});var bY=function(a){var b=U(Za(a.generalSettings),"generalSettings",a.generalSettings,"!Array<!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string>");a=U(Za(a.fontSizeSettings),"fontSizeSettings",a.fontSizeSettings,"!Array<!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string>");var c='<div class="content-area"><h2>Preferences</h2></div><paper-dialog-scrollable id="preferences-dialog"><div class="horizontal layout"><div class="prefs">';
for(var d=b.length,e=0;e<d;e++)c+=R(b[e]);c+="</div>";if(a.length){c+='<div class="prefs"><h4>Font sizes</h4><div class="font-sizes">';b=a.length;for(d=0;d<b;d++)c+=R(a[d]);c+="</div></div>"}return Q(c+'</div></paper-dialog-scrollable><div class="buttons"><paper-button id="cancel" class="dismiss" dialog-dismiss>Cancel</paper-button><paper-button id="ok" dialog-confirm>Save</paper-button></div>')};bY.soyTemplateName="colab.components.preferencesDialog.templates.preferences";var cY=function(a,b){var c=a.GITHUB_REQUEST_FULL_OAUTH_SCOPE,d=c.getValue();a.properties.forEach(function(e){var f=b.querySelector("#pref_"+e.key);f&&("customSnippetURLs"==e.key?e.set(f.value):e.options?(f=f.querySelector(".iron-selected"))&&e.set(f.textContent.trim()):"PAPER-CHECKBOX"==f.tagName?e.set(f.checked):e.set(f.value))});d!=c.getValue()&&HH.accessToken_&&oQ()},dY=function(a,b){var c=a.defaultValue_,d="text";if("customSnippetURLs"==a.key)d="snippetmenu";else if(a.options)d="select";else if(!1===
c||!0===c)d="checkbox";a={key:a.key,value:a.getValue(),inputType:d,label:a.label,options:a.options||[]};a=U(bb(a),"pref",a,"{inputType: (!goog.soy.data.UnsanitizedText|string), key: (!goog.soy.data.UnsanitizedText|string), label: (!goog.soy.data.UnsanitizedText|string), options: !Array, value: *,}");d=U(Oa(b)||1===b||0===b,"autofocus",b,"boolean");b=U(bb(pO),"preferenceIds",pO,"{GITHUB_REQUEST_FULL_OAUTH_SCOPE: (!goog.soy.data.UnsanitizedText|string),}");c=U(F("More info")||!1,"moreInfoMessage","More info",
"!goog.soy.data.UnsanitizedText|string");var e="";if(oo(a.inputType,"select")){e+='<div><paper-dropdown-menu label="'+T(a.label)+'"'+(d?" autofocus":"")+'><paper-listbox id="pref_'+T(a.key)+'" class="dropdown-content" slot="dropdown-content" attr-for-selected="value" selected="'+T(a.value)+'">';d=a.options;for(var f=d.length,g=0;g<f;g++){var h=d[g];var l=h;l=lo(l,Yl,em)?String(ro(l.getContent())).replace(Lo,Ho):String(l).replace(Ko,Ho);e+="<paper-item value="+l+">"+R(h)+"</paper-item>"}e+="</paper-listbox></paper-dropdown-menu></div>"}else e=
oo(a.inputType,"checkbox")?e+('<p><paper-checkbox id="pref_'+T(a.key)+'"'+(a.value?" checked":"")+(d?" autofocus":"")+" noink>"+R(a.label)+"</paper-checkbox></p>"):oo(a.inputType,"textarea")?e+('<paper-textarea id="pref_'+T(a.key)+'" label="'+T(a.label)+'" value="'+T(a.value)+'" maxRows="5"'+(d?" autofocus":"")+"></paper-textarea>"):oo(a.inputType,"snippetmenu")?e+('<colab-snippet-menu id="pref_'+T(a.key)+'" label="'+T(a.label)+'" value="'+T(a.value)+'"'+(d?" autofocus":"")+"></colab-snippet-menu>"):
e+('<paper-input id="pref_'+T(a.key)+'" label="'+T(a.label)+'" value="'+T(a.value)+'"'+(d?" autofocus":"")+"></paper-input>");e+=oo(a.key,b.GITHUB_REQUEST_FULL_OAUTH_SCOPE)?'<a href="https://help.github.com/articles/authorizing-oauth-apps/" target="_blank">'+R(c)+"</a>":"";return Q(e)},eY=function(a){var b=!0,c=a.generalSettings.filter(function(f){return!f.isDisabled()}).map(function(f){f=dY(f,b);b=!1;return f}),d=a.fontSizeSettings.filter(function(f){return!f.isDisabled()}).map(function(f){return dY(f,
!1)}),e=mH.createWithTemplate(bY,{generalSettings:c,fontSizeSettings:d});lH(e).then(function(f){f.confirmed&&cY(a,e)});(c=e.querySelector("[autofocus]"))&&"PAPER-DROPDOWN-MENU"==c.tagName&&hH(c)};function fY(a,b,c,d,e,f){e=void 0===e?!1:e;f=void 0===f?!0:f;d=d||"Notebook link";var g=!0;c&&iK.includes(a.mimeType_)&&!e&&(g=!1);e=!1;var h=RD.getUsername()||"";TD.SHOW_SHARING_MIMETYPE_WARNING&&h.endsWith("@google.com")&&iK.includes(a.mimeType_)&&a.mimeType_!=TD.DEFAULT_MIME_TYPE&&(e=!0);a=mH.createWithTemplate(uH,{title:d,url:b,isSaveable:f,isDriveSharing:c,showColabLink:g,showMimeTypeWarning:e});a.id="sharing-dialog";a.polymerDialog.style.width=c?"566px":"800px";if(g){var l=a.querySelector("paper-input");
c=a.querySelector("paper-button");g=function(){l._focusableElement.select();document.execCommand("copy")};l.onclick=g;c.onclick=g}return a}
var hY=function(a,b){lj.call(this);var c=this;this.dialogElement_=fY(a,b,!0,void 0,!!a.teamDriveId_,a.saveable());b=this.dialogElement_.querySelector("#share-placeholder");this.uiContainer_=new Iq(b);this.uiContainer_.statusElEnabled_=!1;this.shareClient_=gY(this.uiContainer_,a);this.eventHandler_=new Om(this);this.eventHandler_.listen(this.shareClient_,"uiClosed",function(){c.dialogElement_.close()});this.eventHandler_.listen(this.shareClient_,"uiOpened",function(){c.dialogElement_.fit()});nj(this,
this.uiContainer_);nj(this,this.shareClient_);nj(this,this.eventHandler_)};t(hY,lj);hY.prototype.disposeInternal=function(){this.dialogElement_.close();lj.prototype.disposeInternal.call(this)};
hY.prototype.show=function(){var a=this;return mJ().authorize().then(function(b){var c=lH(a.dialogElement_);Hr(a.shareClient_,b);a.shareClient_.executeCommand("settings");a.dialogElement_.querySelector("paper-dialog").addEventListener("iron-overlay-opened",function(){var d=a.dialogElement_.querySelector("paper-input");d&&d._focusableElement.select()});return c}).then(function(){a.uiContainer_.isVisible()&&(a.uiContainer_.setVisible(!1),a.uiContainer_.dispatchEvent("uiContainerClose"))})};
var gY=function(a,b){var c=Jl(Hl(Ul(window.location.href),"").setQuery(""),"").toString();a=new Er(DI(b.getTraits()),"explorer","wise",void 0,tz,void 0,void 0,a,void 0,c,TD.APP_ID);b=[b.getFileId()];b=Za(b)?b:[b];c={};for(var d=0,e=0;e<b.length;){var f=b[e++];var g=f;g=bb(g)?"o"+eb(g):(typeof g).charAt(0)+g;Object.prototype.hasOwnProperty.call(c,g)||(c[g]=!0,b[d++]=f)}b.length=d;b.sort(Xb);c=a.itemIds_;a.aclInfoInitialized_&&Wb(b,c)||(a.itemIds_=b,a.aclInfoInitialized_=!1,a.initError_=!1,a.lastDataFetchTime_=
0,a.locationHint_=null,a.executeCommand("refresh"),a.uiContainer_.isVisible()&&Yr(a,!1));a.setBaseUri("https://drive.google.com/sharing/share");a.skipInitCommand_=!0;return a},jY=function(a){var b,c,d;return B(function(e){b=a.getFileId();c=fA(Uz(b)).toString();return az(b)&&!tJ()?(d=new hY(zb(a,zN),c),d.show().then(function(){return B(function(f){d.dispose();x(f)})}),e.return(Promise.resolve(d))):e.return(iY(a,c))})},iY=function(a,b,c){c=void 0===c?"":c;var d;return B(function(e){d=fY(a,b,!1,c,!1,
a.saveable());d.querySelector("paper-dialog").addEventListener("iron-overlay-opened",function(){d.querySelector("paper-input")._focusableElement.select()});lH(d);return e.return(Promise.resolve(d))})};var kY=[{value:qE,label:"Undo last cell action"},{value:"Shift+Click",label:"Select multiple cells"},{value:dE+"+Click",label:"Toggle cell selection"},{value:"Ctrl+Space or Tab",label:"Autocomplete"},{value:cE+"Ctrl+/",label:"Comment current line"},{value:"Shift+Tab",label:"Unindent current line"},{value:"Shift+"+cE+"Ctrl+H",label:"Replace all in current cell"},{value:"Alt+/ or Tab",label:"Toggle code docstring help"}],lY=new Set(["change-runtime-type","edit-selected-test-annotations","reconnect-local",
"restart-from-interrupt"]),mY=function(a){this.prefs_=a;this.shortcutKeyAccumulator_=new tE;for(var b=[],c=q(a.keyboardShortcuts),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.command;e&&aE(e)&&!e.isDisabled()&&!lY.has(e.id)&&b.push({key:d.key,label:d.label,value:bE(e)})}kY.forEach(function(f){b.push({label:f.label,value:f.value})});b.sort(function(f,g){return Xb(f.label,g.label)});a=[a.EDITOR_KEY_MAP].filter(function(f){return!f.isDisabled()}).map(function(f){return dY(f,!1)});this.el_=mH.createWithTemplate(tH,
{otherKeyPreferences:a,shortcuts:b,multiKeyEventShortcutPrefix:nE()});this.overrideFields_=new Map;a=q(this.prefs_.keyboardShortcuts);for(d=a.next();!d.done;d=a.next())c=d.value,(d=this.el_.querySelector("#pref_"+c.key))&&this.overrideFields_.set(c.key,d)};mY.prototype.getElement=function(){return this.el_};
mY.prototype.open=function(){var a=this;lH(this.el_).then(function(e){e.confirmed&&cY(a.prefs_,a.el_)});for(var b=q(this.prefs_.keyboardShortcuts),c=b.next();!c.done;c=b.next()){c=c.value;var d=this.overrideFields_.get(c.key);d&&nY(this,d,c.command.shortcut_||"")}this.el_.querySelector("#shortcuts-reset").onclick=function(){for(var e=q(a.prefs_.keyboardShortcuts),f=e.next();!f.done;f=e.next()){f=f.value;var g=a.overrideFields_.get(f.key);g&&(g.value=f.command.shortcut_||"")}};oY(this)};
var oY=function(a){for(var b=new Map,c=!1,d=q(a.prefs_.keyboardShortcuts),e=d.next();!e.done;e=d.next()){e=e.value;var f=a.overrideFields_.get(e.key);e=e.command;if(f&&f.value&&e){f=f.value;f=cE?f.replace(cE,""):f;var g=b.get(f);g?(c=!0,Y({message:'Conflicts between shortcuts: "'+(aE(g)+('" and "'+(aE(e)+'"'))),timeoutMillis:-1})):b.set(f,e)}}(a.el_.querySelector("paper-button[dialog-confirm]").disabled=c)||UG()},nY=function(a,b,c){var d=function(){var f=b.value;f.endsWith("+")||vE.has(f)?(Y({message:"Ignoring protected or invalid key sequence "+
b.value,timeoutMillis:-1}),b.value=c):oY(a);a.shortcutKeyAccumulator_.reset()};b.addEventListener("click",d);var e=function(f){f.preventDefault();f.stopPropagation()};b.addEventListener("keypress",e,!0);b.addEventListener("keyup",e,!0);b.addEventListener("keydown",function(f){var g=uE(a.shortcutKeyAccumulator_,f);if(g!=rE&&"Enter"!=g&&"Tab"!=g&&"Shift+Tab"!=g){if("Backspace"==g||"Delete"==g)g="";g.endsWith("+")||(b.value=g,d(),f.preventDefault(),f.stopPropagation())}});b.addEventListener("focus",
d);b.addEventListener("blur",d)};var pY=function(a){var b=U(F(a.documentSize)||a.documentSize instanceof N,"documentSize",a.documentSize,"!goog.soy.data.UnsanitizedText|string"),c=U(Za(a.largeCells),"largeCells",a.largeCells,"!Array<{sizeKb: number, url: (!goog.soy.data.UnsanitizedText|string),}>"),d=U(F(a.maxDocSize)||a.maxDocSize instanceof N,"maxDocSize",a.maxDocSize,"!goog.soy.data.UnsanitizedText|string"),e=U(F(a.ownerEmails)||a.ownerEmails instanceof N,"ownerEmails",a.ownerEmails,"!goog.soy.data.UnsanitizedText|string"),f=
U(Oa(a.privateOutputs)||1===a.privateOutputs||0===a.privateOutputs,"privateOutputs",a.privateOutputs,"boolean");a=U(Oa(a.showModifySettings)||1===a.showModifySettings||0===a.showModifySettings,"showModifySettings",a.showModifySettings,"boolean");var g='<div class="content-area"><h2>Notebook Info</h2>';e&&(g=g+'<div class="owner-emails">Owners:'+(" "+R(e)+"</div>"));g+="<div>";b="Notebook size: "+(R(b)+("Mb (Maximum notebook size: "+(R(d)+"Mb)")));g=g+b+"</div>";if(0<c.length){g+="<div>Cells larger than 50Kb in this notebook: ";
b=c.length;for(d=0;d<b;d++)e=c[d],g+="<a href='"+T(Do(e.url))+"' title='",g+=S("Click to navigate to the cell"),g+="'>"+R(e.sizeKb)+"K</a>, ";g+="</div>"}g+="<div>";g=(f?g+"Private outputs are enabled. Code cell execution output will not be saved.":g+"Private outputs are disabled. Code cell execution output will be saved.")+" ";a&&(g+='<a href="#" command="notebook-settings">',g+="Modify notebook settings",g+="</a>");g+="</div></div>";return Q(g)};pY.soyTemplateName="colab.fileinfo.templates.fileinfo";var qY=function(a,b){var c=RI(a),d=(a.getDocument().getModel().bytesUsed/1048576).toFixed(2),e=[],f=a.getCells(),g=uI(a.getTraits());f.forEach(function(m){m.estimatedSize||(m.estimatedSize=hC(m,m.realtimeCell_));var n=m.estimatedSize/1024;50<n&&e.push({sizeKb:Math.round(n),url:"#"+Lz(Vz(g,m.getId()).params_)})});a=a.getOwnerEmails();f=(gK/1024/1024).toFixed(0);var h=b.supports(wF),l=mH.createWithTemplate(pY,{documentSize:d,largeCells:e,maxDocSize:f,ownerEmails:a,privateOutputs:c,showModifySettings:h});
l.id="notebook-info";if(h)for(c=l.querySelectorAll('a[command="'+wF.id+'"]'),c=q(c),d=c.next();!d.done;d=c.next())d.value.addEventListener("click",function(m){m.preventDefault();m.stopPropagation();l.close();b.execute(wF,13)});lH(l).then(function(){})};var rY=function(a){var b=U(F(a.authorPictureUrl)||a.authorPictureUrl instanceof N,"authorPictureUrl",a.authorPictureUrl,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.authorName)||a.authorName instanceof N,"authorName",a.authorName,"!goog.soy.data.UnsanitizedText|string"),d=U(F(a.date)||a.date instanceof N,"date",a.date,"!goog.soy.data.UnsanitizedText|string");a=U(Oa(a.showActionMenu)||1===a.showActionMenu||0===a.showActionMenu,"showActionMenu",a.showActionMenu,"boolean");b='<paper-material class="comment-fragment" elevation="0"><div class="comment-content"><div class="comment-header"><iron-icon class="comment-image" src="'+
T(Do(b))+'"'+(b?"":' icon="colab-20:anon"')+'></iron-icon><div class="comment-author">'+R(c)+'</div><div class="comment-date">'+R(d)+'</div><div class="comment-date comment-modified-date"></div><div class="comment-buttons">'+(a?'<paper-icon-button icon="more-vert" class="comment-action-dropdown"></paper-icon-button>':"")+'</div></div><div class="comment-text-container"><div class="comment-text"></div><div class="comment-collapse-control comment-show-more">';return Q(b+'Show more</div><div class="comment-collapse-control comment-show-less">Show less</div></div></div></paper-material>')};
rY.soyTemplateName="colab.comments.templates.commentFragment";var vn=function(a){a=U(F(a.addACommentMessage)||a.addACommentMessage instanceof N,"addACommentMessage",a.addACommentMessage,"!goog.soy.data.UnsanitizedText|string");return Q('<div class="doc-comments-area"><div class="doc-comments-buttons"><paper-button command="add-comment"><iron-icon icon="editor:insert-comment"></iron-icon> '+R(a)+"</paper-button></div></div>")};vn.soyTemplateName="colab.comments.templates.docCommentsView";var sY=function(){return Q('<div class="reply-chain"><div class="reply-chain-content"><a class="show-more-replies" href="#"></a></div></div>')};
sY.soyTemplateName="colab.comments.templates.replyChain";
var tY=function(a){var b=U(F(a.submitButtonText)||a.submitButtonText instanceof N,"submitButtonText",a.submitButtonText,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.cancelButtonText)||a.cancelButtonText instanceof N,"cancelButtonText",a.cancelButtonText,"!goog.soy.data.UnsanitizedText|string");var c='<div class="comment-input"><div class="bottom-buttons"><paper-button class="realtime-button submit-button" title="'+S("Post comment");c+='">'+R(b)+'</paper-button><paper-button class="realtime-button cancel-button" title="';
c+=S("Discard comment");c+='">'+R(a)+"</paper-button></div></div>";return Q(c)};tY.soyTemplateName="colab.comments.templates.commentInput";var uY=function(a){O.call(this);this.textarea_=new ix("");this.addChild(this.textarea_);this.cancelButton_=this.submitButton_=null;this.diffBase_="";this.target_=a};t(uY,O);k=uY.prototype;
k.createDom=function(){var a=this,b="comment"==this.target_,c=b?"Comment...":"Reply...";b=pm(tY,{cancelButtonText:"Cancel",submitButtonText:b?"Comment":"Reply"});var d=b.querySelector(".bottom-buttons");lx(this.textarea_,c);jp(this.textarea_,"comment-input-text");yn(this.textarea_,d);this.textarea_.resize();this.submitButton_=d.querySelector(".submit-button");this.submitButton_.addEventListener("click",function(){a.onSubmitClick_()});this.cancelButton_=d.querySelector(".cancel-button");this.cancelButton_.addEventListener("click",
function(){a.clear();a.dispatchEvent("cancel_clicked")});c=function(e){13==e.keyCode&&e.stopPropagation()};this.cancelButton_.addEventListener("keydown",c);this.submitButton_.addEventListener("keydown",c);this.element_=b;this.onTextChange_()};
k.enterDocument=function(){O.prototype.enterDocument.call(this);var a=this.getHandler(),b=new hu(P(this.textarea_));b.setParentEventTarget(this);a.listen(b,"input",this.onTextChange_);a.listen(P(this.textarea_),"keydown",this.handleKeyShortcuts_);a.listen(this.textarea_,"resize",this.onTextareaResize_)};k.getText=function(){return this.textarea_.getValue()};k.setEditing=function(a){this.diffBase_=a;this.textarea_.setValue(a);this.submitButton_.textContent="Save";this.onTextChange_()};
k.onTextareaResize_=function(){this.onResize()};k.onResize=function(){this.dispatchEvent("resize")};k.onSubmitClick_=function(){this.dispatchEvent("submit_clicked")};k.handleKeyShortcuts_=function(a){!a.ctrlKey&&!a.metaKey||13!==a.keyCode||this.submitButton_.hasAttribute("disabled")||(this.onSubmitClick_(),a.preventDefault());a.stopPropagation()};k.onTextChange_=function(){vY(this);P(this).classList.toggle("text-not-empty",!!this.getText());P(this).classList.toggle("text-empty",!this.getText());this.onResize()};
k.focus=function(){P(this.textarea_).focus()};k.clear=function(){this.textarea_.setValue("");this.onTextChange_()};var vY=function(a){var b=a.getText().trim()!=a.diffBase_;cH(I(a.submitButton_),!b)},wY=function(a,b){b?(vY(a),cH(I(a.cancelButton_),!1)):(cH(I(a.submitButton_),!0),cH(I(a.cancelButton_),!0))};var xY=function(a){O.call(this);this.model=a;this.input_=new uY(a instanceof uL?"comment":"reply");this.addChild(this.input_);this.actionDropdown=null;this.editing_=!this.isDriveBacked();this.hasBeenCollapsed_=this.collapsed_=!1;this.showLessEl_=this.showMoreEl_=null};t(xY,O);xY.prototype.getCreatedTime=function(){return this.model.getCreatedTime()};
xY.prototype.createDom=function(){var a=this.model.authorPictureUrl_?El(Ul(this.model.authorPictureUrl_),"https").toString():"";a=pm(rY,{authorName:this.model.authorName_,date:zA(this.getCreatedTime()),showActionMenu:this.model.getByCurrentUser(),authorPictureUrl:a});this.actionDropdown=a.querySelector(".comment-action-dropdown");this.showMoreEl_=a.querySelector(".comment-show-more");this.showLessEl_=a.querySelector(".comment-show-less");this.input_.render(a);this.element_=a;this.setActionsEnabled();
yY(this);zY(this);AY(this);this.htmlContentUpdated(this.model.getSafeHtmlContent())};
xY.prototype.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);var b=this.getHandler();b.listen(this.getElement(),"mousedown",function(c){c.stopPropagation()});this.actionDropdown&&b.listen(this.actionDropdown,"click",this.handleCommentActionClick_);b.listen(this.showMoreEl_,"click",function(){a.setCollapsed(!1)});b.listen(this.showLessEl_,"click",function(){a.setCollapsed(!0)});b.listen(this.input_,"input",this.handleInput_);b.listen(this.input_,"resize",this.onResize);b.listen(this.input_,
"submit_clicked",this.onSubmitClick_);b.listen(this.input_,"cancel_clicked",this.onCancelClick);b.listen(this.model,["comment_updated","reply_updated"],function(){a.htmlContentUpdated(a.model.getSafeHtmlContent())});b.listen(this.model,"action_error",this.notifyErrorEvent);b.listen(this.model,"pending_action_changed",this.onModelPendingAction_);b.listen(this.model,"submit_success",this.onSubmitSuccess);b.listen(this.model,"edit_success",this.onEditSuccess_)};
var yY=function(a){P(a).classList.toggle("editing",a.editing_);P(a).classList.toggle("in-drive",a.isDriveBacked());a.onResize()},AY=function(a){var b=a.getRequiredElementByClass("comment-modified-date"),c=a.model.getModifiedTime();a=!c.equals(a.getCreatedTime());c="(edited "+(zA(c)+")");b.textContent=c;qi(b,a)};k=xY.prototype;k.onResize=function(){this.dispatchEvent("resize")};k.htmlContentUpdated=function(a){var b=this.getRequiredElementByClass("comment-text");ue(b,a)};k.onSubmitClick_=function(){this.model.updateInDrive()};
k.handleCommentActionClick_=function(a){var b=this,c=NR([{name:"Edit",callback:function(){b.edit()}},{name:"Delete",callback:function(){b.delete()}}],this.getHandler());aH(c,a)};k.handleInput_=function(){var a=this.input_.getText();this.model.inputText_=a};k.delete=function(){this.model.delete()};k.edit=function(){this.editing_=!0;yY(this);var a=this.model.getUnsafeContent();this.input_.setEditing(a)};k.onSubmitSuccess=function(){this.editing_=!1;yY(this)};
k.onEditSuccess_=function(){this.editing_=!1;yY(this);AY(this)};k.notifyErrorEvent=function(a){Y({message:a.error.message})};k.onCancelClick=function(){this.isDriveBacked()&&(this.editing_=!1,yY(this))};k.onModelPendingAction_=function(){this.setActionsEnabled()};k.setActionsEnabled=function(){var a=this.model.hasPendingAction();this.actionDropdown&&(this.actionDropdown.disabled=a);wY(this.input_,!a)};
k.collapseIfNecessary=function(){var a=.5*gh().height;this.getRequiredElementByClass("comment-content").clientHeight>a&&this.setCollapsed(!0)};k.setCollapsed=function(a){a!=this.collapsed_&&(a||this.dispatchEvent("fragment_expanded"),this.collapsed_=a,this.hasBeenCollapsed_=this.hasBeenCollapsed_||a,zY(this))};var zY=function(a){a.getRequiredElementByClass("comment-text").classList.toggle("comment-collapsed-text",a.collapsed_);qi(a.showMoreEl_,a.collapsed_);qi(a.showLessEl_,!a.collapsed_&&a.hasBeenCollapsed_)};var BY=function(a){xY.call(this,a)};t(BY,xY);BY.prototype.createDom=function(){xY.prototype.createDom.call(this);P(this).classList.add("reply");P(this).setAttribute("reply-id",zb(this.model,tL).reply_.replyId)};BY.prototype.isDriveBacked=function(){return!0};BY.prototype.edit=function(){xY.prototype.edit.call(this);this.dispatchEvent("edit_reply")};
BY.prototype.htmlContentUpdated=function(a){var b=zb(this.model,tL).reply_.verb||null;switch(b){case "resolve":a=ie("I",void 0,"Marked as resolved");break;case "reopen":b=ie("I",void 0,"Re-opened"),a=a!=je?le([b,ne,a]):b}xY.prototype.htmlContentUpdated.call(this,a)};var CY=function(a){O.call(this);this.commentModel_=a;this.input_=new uY("reply");this.addChild(this.input_,!1);this.showMoreEl_=this.contentEl_=null;this.replyMap_=new Map};t(CY,O);CY.prototype.createDom=function(){var a=this,b=pm(sY);this.contentEl_=b.querySelector(".reply-chain-content");this.showMoreEl_=b.querySelector(".show-more-replies");DY(this,0);this.input_.render(b);this.element_=b;this.commentModel_.replies_.forEach(function(c){EY(a,c)})};
CY.prototype.enterDocument=function(){O.prototype.enterDocument.call(this);var a=this.getHandler();a.listen(this.input_,"resize",this.onResize_);a.listen(this.input_,"submit_clicked",this.onSubmitClick_);a.listen(this.showMoreEl_,"click",this.onShowMore_);a.listen(this.commentModel_,"comment_updated",this.onCommentUpdated_);a.listen(this.commentModel_,"pending_action_changed",this.onPendingActionChanged_)};
var EY=function(a,b){var c=b.reply_.replyId;a.replyMap_.get(c)||(b=new BY(b),a.replyMap_.set(c,b),a.addChild(b),b.setParentEventTarget(a),b.render(a.contentEl_))};k=CY.prototype;k.onResize_=function(){this.dispatchEvent("resize")};k.onCommentUpdated_=function(a){var b=this;a.added.forEach(function(c){EY(b,c)});a.removed.forEach(function(c){c=c.reply_.replyId;var d=b.replyMap_.get(c);b.removeChild(d,!0);b.replyMap_.delete(c)});this.onResize_()};
k.onSubmitClick_=function(){var a=this,b={text:this.input_.getText()};this.commentModel_.resolved_&&(b.resolve=!1);CL(this.commentModel_,b).then(function(){a.input_.clear()}).catch(function(c){Y({message:c.error.message})})};k.onShowMore_=function(a){FY(this,{maxHeight:null});a.preventDefault()};k.onPendingActionChanged_=function(){wY(this.input_,!this.commentModel_.hasPendingAction())};
k.collapseIfNecessary=function(){for(var a=.5*gh().height,b=q(this.replyMap_.values()),c=b.next();!c.done;c=b.next())c.value.collapseIfNecessary();FY(this,{maxHeight:a})};
var FY=function(a,b){b=b.maxHeight;b=null==b?Number.MAX_SAFE_INTEGER:b;for(var c=Array.from(a.replyMap_.values()),d=c.length,e=0,f=0,g=c.length-1;0<=g;g--)1<=e&&f>b||(f+=P(c[g]).clientHeight,e+=1);var h=0;c.forEach(function(l){var m=h<d-e;qi(P(l),!m);m&&h++});DY(a,h)},DY=function(a,b){qi(a.showMoreEl_,!!b);a.showMoreEl_.textContent=1==b?"Show 1 more reply...":"Show "+(b+" more replies...")};var GY=function(a){a=zb(a,uL);xY.call(this,a);this.actionButton_=document.createElement("paper-button");this.replyChain_=new CY(a);this.addChild(this.replyChain_)};t(GY,xY);GY.prototype.getCommentId=function(){return this.getModel().getCommentId()};
GY.prototype.createDom=function(){xY.prototype.createDom.call(this);var a=P(this);this.replyChain_.render(a);P(this).classList.add("comment");this.actionButton_.classList.add("comment-action-button");HY(this);a=this.getElementByClass("comment-buttons");a.insertBefore(this.actionButton_,a.firstChild);this.isDriveBacked()&&IY(this)};
GY.prototype.enterDocument=function(){xY.prototype.enterDocument.call(this);var a=this.getHandler();a.listen(this.actionButton_,"click",this.onActionClick_);a.listen(this.replyChain_,"resize",this.onResize);a.listen(this.replyChain_,"edit_reply",this.onEditReply_);a.listen(this.model,"focus_changed",this.handleFocusChanged);a.listen(this.model,"comment_action",this.onModelResolvedChange_)};GY.prototype.getModel=function(){return zb(this.model,uL)};
var IY=function(a){P(a).setAttribute("comment-id",a.getCommentId())};k=GY.prototype;k.isDriveBacked=function(){return this.getModel().isDriveBacked()};k.edit=function(){xY.prototype.edit.call(this);this.setFocused(!0)};k.setFocused=function(a){this.getModel().setFocused(a)};k.getFocused=function(){return this.getModel().getFocused()};k.onSubmitSuccess=function(){xY.prototype.onSubmitSuccess.call(this);this.inDocument_&&IY(this)};
k.onCancelClick=function(){xY.prototype.onCancelClick.call(this);this.isDriveBacked()||this.getModel().cancel()};k.onEditReply_=function(){this.setFocused(!0)};k.onActionClick_=function(a){var b=this.getModel();CL(b,{resolve:!b.resolved_});a.stopPropagation()};k.handleFocusChanged=function(){var a=this.getModel().getFocused();P(this).classList.toggle("focused",a)};k.onModelResolvedChange_=function(){HY(this)};
var HY=function(a){var b=a.getModel().resolved_?"Re-open":"Resolve";Polymer.dom(a.actionButton_).textContent=b};GY.prototype.setActionsEnabled=function(){xY.prototype.setActionsEnabled.call(this);this.actionButton_.disabled=this.model.hasPendingAction()};var JY=function(a){var b=U(F(a.previouslyAssignedTo)||a.previouslyAssignedTo instanceof N,"previouslyAssignedTo",a.previouslyAssignedTo,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.newlyAssignedTo)||a.newlyAssignedTo instanceof N,"newlyAssignedTo",a.newlyAssignedTo,"!goog.soy.data.UnsanitizedText|string");b='Found duplicate keyboard shortcut for "'+(R(b)+('" and "'+(R(a)+'". To fix the conflict, <a href="#">edit your keyboard shortcuts</a>.')));return Q(b)};JY.soyTemplateName="colab.shortcuts.templates.duplicateShortcutWarning";var KY=function(a,b){Om.call(this);this.shortcutKeyAccumulator_=new tE;this.listen(document,"keydown",this.handleKeyNonCapture_);this.listen(document,"keydown",this.handleKeyCapture_,!0);this.listen(b,"change",this.updateShortcuts);this.commandHandler_=a;this.shortcuts_=new Map;this.updateShortcuts()};t(KY,Om);
KY.prototype.updateShortcuts=function(){var a=this;this.shortcuts_.clear();xE().forEach(function(b){var c=bE(b);c&&(a.shortcuts_.get(c)?(c=a.shortcuts_.get(c),b=pm(JY,{previouslyAssignedTo:aE(c),newlyAssignedTo:aE(b)}),b.querySelector("a").onclick=function(d){d.preventDefault();d.stopPropagation();a.commandHandler_.execute($F,13)},TG({element:b})):a.shortcuts_.set(c,b))});this.shortcuts_.set(qE,wG)};
var LY=function(a,b,c){a:if(b.composedPath){var d=b.composedPath();for(var e=0;e<d.length;e++)if("PAPER-DIALOG"===d[e].tagName){d=!1;break a}d=!Zx&&document.querySelector(".CodeMirror-hints")?!1:!0}else d=!1;if(!d)return!1;if(e=d=uE(a.shortcutKeyAccumulator_,b))c=!c,e=a.shortcuts_.get(d),(d=!e||(d==eE||d==fE)&&fH()?null:a.commandHandler_.supports(e)?e:null)&&bE(d)?(e=bE(d),c||d.safeFromIframe?a.commandHandler_.execute(d,1):(Y({message:'The shortcut "'+((aE(d)||bE(d))+'" is disabled when a code cell output iframe is active. Use the escape key to leave the iframe and enter the shortcut again.')}),
eJ(1,"Not trusted: "+e,aE(d))),e=!0):e=!1;return e?(b.preventDefault(),b.stopPropagation(),document.dispatchEvent(new Event("SHORTCUT")),!0):27==b.keyCode?(b.stopPropagation(),b.preventDefault(),!0):!1};KY.prototype.handleKeyNonCapture_=function(a){LY(this,a.event_)};
KY.prototype.handleKeyCapture_=function(a){a=a.event_;var b=null;if(a.composedPath){for(var c=a.composedPath(),d=0;d<c.length;d++){var e=c[d];"IRON-DROPDOWN"===e.tagName&&e.focused&&!e.querySelector("colab-command-palette")&&(b=e)}b&&(c=lE(a),kE(c,a)||(LY(this,a),b.close()))}};var MY=function(a,b){O.call(this);this.commentsModel_=RM(a);this.commandHandler_=b;this.comments_=[]};t(MY,O);k=MY.prototype;
k.createDom=function(){var a=this;wn(this);var b=P(this).querySelectorAll("[command]"),c={};b=q(b);for(var d=b.next();!d.done;c={$jscomp$loop$prop$command$304:c.$jscomp$loop$prop$command$304},d=b.next())d=d.value,c.$jscomp$loop$prop$command$304=I(zE(d)),d.addEventListener("click",function(e){return function(){a.setVisible(!1);a.commandHandler_.execute(e.$jscomp$loop$prop$command$304,8)}}(c));this.drawCommentsList_()};
k.enterDocument=function(){O.prototype.enterDocument.call(this);var a=this.getHandler();a.listen(this.commentsModel_,"comment_added",this.drawCommentsList_);a.listen(this.commentsModel_,"comment_list_updated",this.drawCommentsList_)};k.onWindowMouseDown_=function(a){Nh(a.target,function(b){return"comments"==b.id||b.classList&&(b.classList.contains("doc-comments-area")||b.classList.contains("goog-menu"))},!0)||this.setVisible(!1)};k.onNotebookShortcutTriggered_=function(){this.setVisible(!1)};
k.setVisible=function(a){qi(P(this),a);var b=this.getHandler();a?(b.listen(window,"mousedown",this.onWindowMouseDown_,!0),b.listen(document,"SHORTCUT",this.onNotebookShortcutTriggered_)):(b.unlisten(window,"mousedown",this.onWindowMouseDown_,!0),b.unlisten(document,"SHORTCUT",this.onNotebookShortcutTriggered_));if(a)for(a=P(this).querySelectorAll("[command]"),a=q(a),b=a.next();!b.done;b=a.next()){b=b.value;var c=I(zE(b));c=this.commandHandler_.supports(c);cH(b,!c)}};
k.isVisible=function(){return"none"!=P(this).style.display};k.drawCommentsList_=function(){var a=this;this.removeChildren(!0);for(var b=q(this.comments_),c=b.next();!c.done;c=b.next())c.value.dispose();b=this.commentsModel_.driveComments_;b.sort(function(d,e){return Xb(yL(e),yL(d))});this.comments_=b.map(function(d){return new GY(d)});this.comments_.forEach(function(d){a.addChild(d,!0)});this.getElement().classList.toggle("has-comments",0!=An(this))};var NY=function(a){GY.call(this,a);this.currentTop_=0};t(NY,GY);NY.prototype.createDom=function(){GY.prototype.createDom.call(this);var a=this.getModel().getFocused();P(this).elevation=a?2:0};NY.prototype.enterDocument=function(){var a=this;GY.prototype.enterDocument.call(this);var b=this.getHandler();b.listen(P(this),"click",function(){a.setFocused(!0)});b.listen(this.model,"cancel_comment",this.handleCancelComment_);b.listenOnce(this,"fragment_expanded",this.expandAll_)};
NY.prototype.getCellId=function(){return this.getModel().getCellId()};var OY=function(a,b){var c=P(a);c=(b+wi(c,"margin").top).toString()+"px";P(a).style.top=c;a.currentTop_=b};NY.prototype.handleFocusChanged=function(a){GY.prototype.handleFocusChanged.call(this,a);a=this.getModel().getFocused();this.dispatchEvent("focus_changed");P(this).elevation=a?2:0;a&&this.editing_&&this.input_.focus()};NY.prototype.handleCancelComment_=function(){this.dispatchEvent("cancel_comment")};
NY.prototype.getHeight=function(){var a=P(this),b=wi(a,"margin");return b.top+b.bottom+ni(a).height};var PY=function(a){a.collapseIfNecessary();a.replyChain_.collapseIfNecessary()};NY.prototype.expandAll_=function(){this.setCollapsed(!1);for(var a=this.replyChain_,b=q(a.replyMap_.values()),c=b.next();!c.done;c=b.next())c.value.setCollapsed(!1);FY(a,{maxHeight:null})};var QY=function(a){O.call(this);this.commentsModel_=RM(a);this.comments_=[]};t(QY,O);QY.prototype.createDom=function(){var a=this,b=lh("DIV","sidebar");qi(b,!1);this.element_=b;this.commentsModel_.driveComments_.forEach(function(c){RY(c)&&SY(a,c)})};QY.prototype.enterDocument=function(){O.prototype.enterDocument.call(this);var a=this.getHandler();a.listen(this.commentsModel_,"comment_action",this.onCommentAction_);a.listen(this.commentsModel_,"comment_list_updated",this.updateCommentsList_);TY(this)};
var WY=function(a,b){var c=UY(a,a.commentsModel_.focusedComment_);if(c){if(c.getCellId()==b)return;c.setFocused(!1)}a.comments_.sort(function(d,e){return VY(d,e)});c=a.comments_.find(function(d){return d.getCellId()==b});TY(a,c)};QY.prototype.commentOnCell=function(a){var b=this;a=FL(this.commentsModel_,a);var c=SY(this,a);this.getHandler().listenOnce(c,"cancel_comment",function(){XY(b,c);TY(b)});c.setFocused(!0)};
QY.prototype.onFocusChanged_=function(a){a=zb(a.target,NY);var b=a.getFocused();TY(this);b&&US(MM().notebook,a.getCellId())};QY.prototype.onCommentAction_=function(a){a=zb(a.target,uL);a.resolved_?YY(this,a):ZY(this)};
var YY=function(a,b){if(b=UY(a,b))pi(P(b),0),setTimeout(function(){return ZY(a)},500)},ZY=function(a){var b=a.comments_.length;a.commentsModel_.driveComments_.forEach(function(c){var d=UY(a,c),e=RY(c);e&&!d&&SY(a,c);!e&&d&&(c=UY(a,c),XY(a,c))});!b&&a.comments_.length&&($Y(a),a.comments_.forEach(function(c){PY(c)}));TY(a)},bZ=function(a){return aZ(MM().notebook,a)},VY=function(a,b){var c=Xb(bZ(a.getCellId()),bZ(b.getCellId()));a=Xb(a.getCreatedTime(),b.getCreatedTime());return 0==c?a:c},$Y=function(a){var b=
0!=a.comments_.length;qi(P(a),b);a.getElement().parentElement.dispatchEvent(new Event("resize"))},TY=function(a,b){$Y(a);if(0!=a.comments_.length){var c=UY(a,a.commentsModel_.focusedComment_);c=b||c;b=[];var d=[];a.comments_.sort(function(h,l){return VY(h,l)});c=c?a.comments_.indexOf(c):-1;-1!=c?(b=a.comments_.slice(0,c),d=a.comments_.slice(c)):d=a.comments_;var e=0;d.forEach(function(h){var l=bZ(h.getCellId());l=e>l?e:l;OY(h,l);e=l+h.getHeight()});var f={};e=0;b.forEach(function(h){var l=bZ(h.getCellId());
l=l<e?e:l;f[h.getCommentId()]=l;e=l+h.getHeight()});var g=d[0].currentTop_;Db(b,function(h){var l=f[h.getCommentId()],m=g-h.getHeight();l=m<l?m:l;OY(h,l);g=l})}},UY=function(a,b){return b?a.comments_.find(function(c){return c.getCommentId()==b.getCommentId()})||null:null},RY=function(a){if(a.resolved_)return!1;a="cell-"+a.getCellId();return $g(document,a)?!0:!1},SY=function(a,b){b=new NY(b);var c=a.getHandler();c.listen(b,"resize",function(){TY(a)});c.listen(b,"focus_changed",a.onFocusChanged_);a.addChild(b,
!0);a.comments_.push(b);PY(b);return b},XY=function(a,b){b&&(a.removeChild(b,!0),Ob(a.comments_,b),b.dispose())};QY.prototype.updateCommentsList_=function(a){var b=this,c=this.comments_.length;a.added.forEach(function(d){RY(d)&&SY(b,d)});a.removed.forEach(function(d){(d=UY(b,d))&&XY(b,d)});!c&&this.comments_.length&&($Y(this),this.comments_.forEach(function(d){PY(d)}));TY(this)};Polymer({is:"colab-component-adapter",properties:{visible:{type:Boolean,value:!1},opened:{type:Boolean,value:!1},component:{type:Object,value:null}},observers:["updateUi_(visible, opened)"],updateUi_:function(a,b){this.component&&(a&&b?(this.component.inDocument_&&this.component.exitDocument(),this.component.render(this)):this.component.inDocument_&&this.component.exitDocument())},show:function(){this.opened=this.visible=!0}});Polymer({is:"colab-toolbar-button",properties:{icon:String,label:String},listeners:{mousedown:"handleMouseDown"},handleMouseDown:function(a){a.preventDefault()}});kb("module$exports$colab$webcomponents$ColabToolbarButton.ColorClass",{DEFAULT:"",ERROR:"icon-error",WARNING:"icon-warning",OKAY:"icon-okay"});var dZ=function(a){var b=U(F(a.diskAvailable)||a.diskAvailable instanceof N,"diskAvailable",a.diskAvailable,"!goog.soy.data.UnsanitizedText|string"),c=U(Oa(a.showDisk)||1===a.showDisk||0===a.showDisk,"showDisk",a.showDisk,"boolean"),d=U(Oa(a.showRam)||1===a.showRam||0===a.showRam,"showRam",a.showRam,"boolean");a=U(Oa(a.showText)||1===a.showText||0===a.showText,"showText",a.showText,"boolean");var e="<div><div>";d&&(e+="<div>RAM</div>");c&&(e+="<div>Disk</div>");e+='</div><div class="bars">'+(d?cZ({className:"ram"}):
"")+(c?cZ({className:"disk"}):"")+"</div>"+(a?'<div class="after-text">'+(d?"<div>\u00a0</div>":"")+(c?'<div class="disk-available">'+R(b)+"</div>":"")+"</div>":"")+"</div>";return Q(e)};dZ.soyTemplateName="colab.compoents.resourceUsageDisplay.templates.display";var cZ=function(a){a=U(F(a.className)||a.className instanceof N,"className",a.className,"!goog.soy.data.UnsanitizedText|string");return Q('<div><div class="bar-total '+T(a)+'-total"><div class="'+T(a)+'-used" usage="low"></div></div></div>')};var eZ=function(){return $D.apply(this,arguments)||this};t(eZ,$D);k=eZ.prototype;k.createdCallback=function(){this.initialized_=!1;var a=nm(dZ,{diskAvailable:"0 GB available",showDisk:this.hasAttribute("disk"),showRam:this.hasAttribute("ram"),showText:this.hasAttribute("with-text")});this.appendChild(a)};k.isInitialized=function(){return this.initialized_};k.initialize_=function(){this.setAttribute("initialized","");this.initialized_=!0};
k.reset=function(){this.removeAttribute("initialized");this.initialized_=!1};
k.update=function(a){var b=this.querySelector(".ram-used");if(b&&a.ram.limit){var c=Math.round(100*a.ram.usage/a.ram.limit);b.style.width=c+"%";b.setAttribute("usage",85<c?"high":60<c?"medium":"low")}c=this.querySelector(".disk-used");if(a.disk&&a.disk.limit&&c){var d=Math.round(100*a.disk.usage/a.disk.limit);c.style.width=d+"%";c.setAttribute("usage",85<d?"high":60<d?"medium":"low");if(d=this.querySelector(".disk-available"))d.textContent=((a.disk.limit-a.disk.usage)/1073741824).toFixed(2)+" GB available"}b&&
!a.ram.limit||c&&(!a.disk||!a.disk.limit)?this.reset():this.initialize_()};var fZ=function(a,b){var c="";a.hasAttribute("ram")&&b.ram.limit&&(c+="RAM: "+((b.ram.usage/1073741824).toFixed(2)+" GB"+("/"+((b.ram.limit/1073741824).toFixed(2)+" GB"))));a.hasAttribute("disk")&&b.disk&&b.disk.limit&&(c&&(c+=" "),c+="Disk: "+((b.disk.usage/1073741824).toFixed(2)+" GB"+("/"+((b.disk.limit/1073741824).toFixed(2)+" GB"))));return c};bH("colab-resource-usage-display",eZ);Polymer({is:"colab-connect-button",handler_:null,notebook_:null,kernelSelectMenu_:null,busyTimer_:0,lastDisconnectTimeMillis_:0,properties:{state:{type:Object,value:function(){return{kernelState:"connect"}}},usage:{type:Object,value:function(){return{ram:{usage:0,limit:0}}}},dropdownTooltipText:{type:String,value:"Additional connection options"}},getHandler_:function(){this.handler_||(this.handler_=new Om(this));return this.handler_},initNotebook:function(a){this.notebook_=a;this.updateState_();this.getHandler_().listen(this.notebook_.getKernel(),
"state_changed",this.updateState_);this.getHandler_().listen(this.notebook_.getNotebookModel().getRuntimes(),"changed",this.handleRuntimesChanged_);this.updateButtonEnabled_(this.notebook_);this.getHandler_().listen(this,"click",this.handleButtonClick_)},chooseIcon_:function(a){switch(a.kernelState){case "connect":return"";case "connected":case "kernel idle":return"done";default:return"more-horiz"}},chooseColorClass_:function(a){switch(a.kernelState){case "connect":return"icon-error";case "connected":case "kernel idle":case "initializing":case "busy":return"icon-okay";
default:return"icon-warning"}},attached:function(){this.updateState_();this.allowsDropdownConnect_()&&this.getHandler_().listen(this.$$("#connect-dropdown"),"click",this.handleShowDropdownButtonClick_)},updateButtonEnabled_:function(a){var b=yE("connect");a=a.commandHandler_.supports(b);cH(this,!a)},handleShowDropdownButtonClick_:function(a){var b=this;this.hasAttribute("disabled")||(a.preventDefault(),a.stopPropagation(),this.kernelSelectMenu_=this.showKernelSelectDropdown_(a.target),this.getHandler_().listen(this.kernelSelectMenu_,
"hide",function(){b.kernelSelectMenu_.dispose();b.kernelSelectMenu_=null}))},allowLocalReconnect_:function(){return!!this.state.runtime&&36E5>jb()-this.lastDisconnectTimeMillis_},handleButtonClick_:function(a){this.hasAttribute("disabled")||(a.preventDefault(),a.stopPropagation(),a=this.notebook_.getKernel(),Nz.KERNEL_BUTTON_ONE_CLICK_CONNECTION&&a.isRunning()||(this.isLocalRuntime_(this.state.runtime)?(a=this.allowLocalReconnect_()?"reconnect-local":"connect-local",this.runCommand_(a)):this.runCommand_("connect")))},
detached:function(){this.getHandler_().removeAll();null!=this.kernelSelectMenu_&&(this.kernelSelectMenu_.dispose(),this.kernelSelectMenu_=null)},runCommand_:function(a){a=yE(a);this.notebook_.commandHandler_.execute(a,5)},updateState_:function(){var a=this,b=this.notebook_;if(b){b=b.getKernel();var c=b.runtime_,d=b.getState();"busy"==d?this.busyTimer_=setTimeout(function(){a.state={kernelState:d,runtime:c}},1500):(this.busyTimer_&&(clearTimeout(this.busyTimer_),this.busyTimer_=0),this.state={kernelState:d,
runtime:c},c&&"connect"==d&&(this.lastDisconnectTimeMillis_=jb()))}},handleRuntimesChanged_:function(){if(this.state.runtime&&this.notebook_&&this.notebook_.getNotebookModel())for(var a=q(this.notebook_.getNotebookModel().getRuntimes().getRuntimes()),b=a.next();!b.done;b=a.next())if(b=b.value,b.connectionParams.hostport==this.state.runtime.connectionParams.hostport){this.state={kernelState:this.state.kernelState,runtime:b};break}},isLocalRuntime_:function(a){return!(!a||"local"!=a.kind||!this.allowsDropdownConnect_())},
buttonText_:function(a,b){if(this.showResourceDisplay_(a,b))return"";switch(a.kernelState){case "allocating":return"Allocating";case "authorizing":return"Authorizing";case "busy":return"Busy";case "connected":case "kernel idle":return this.isLocalRuntime_(a.runtime)?"Connected (Local)":"Connected";case "connecting":return"Connecting";case "connect":return a.runtime?this.isLocalRuntime_(a.runtime)?"Reconnect (Local)":"Reconnect":"Connect";case "initializing":return"Initializing";case "restarting":return"Restarting";
default:throw Error("Unrecognized runtime state "+a);}},tooltipText_:function(a){if(!a.runtime||"connect"===a.kernelState&&"unhealthy"!=a.runtime.lifecycle)return"Click to connect";var b=WD.getRuntimeDescription(a.runtime);switch(a.kernelState){case "connected":case "kernel idle":return'Connected to "'+(b+'"');case "busy":return'Waiting for "'+(b+'" to finish its current execution.');case "authorizing":return'Authorizing "'+(b+'"');case "connecting":return'Connecting to "'+(b+'"');case "initializing":return'Initializing "'+
(b+'"');case "restarting":return'Restarting "'+(b+'"');case "connect":return a=a.runtime.getStatusText(),'Disconnected from "'+(b+('" with status "'+(a+'". Click to connect.')));case "allocating":return"Allocating";default:return'Unknown state: "'+(b+'"')}},tooltipUsageText_:function(a,b){return this.showResourceDisplay_(a,b)?(a=this.getUsageEl_())?fZ(a,b):"":""},showKernelSelectDropdown_:function(a){var b=this,c=NR([{name:"Connect to hosted runtime",callback:function(){b.runCommand_("connect")}},
{separator:!0},{name:"Connect to local runtime...",callback:function(){b.runCommand_("connect-local")}}],this.getHandler_(),{noCleanupOnHide:!0});c.render();Yw(c,new Ew(a,13,!0),12,null);return c},getKernelSelectDropdownLabel_:function(){return"Additional connection options"},allowsDropdownConnect_:function(){return Nz.DROPDOWN_CONNECT_BUTTON},showResourceDisplay_:function(a){var b=!1,c=this.getUsageEl_();c&&c.isInitialized()&&(b=!0);return b&&("connected"==a.kernelState||"kernel idle"==a.kernelState||
"busy"==a.kernelState)},getUsageEl_:function(){var a=my?Polymer.dom(this.root):this;return a?a.querySelector("colab-resource-usage-display"):null}});var gZ=function(a){var b=a.includeNonColabLink,c=a.nonColabLinkIcon,d=a.nonColabLinkTitle;this.icon=a.icon;this.includeNonColabLink=b;this.nonColabLinkIcon=c;this.nonColabLinkTitle=d},jZ=function(a){return hZ.get(a)||iZ},iZ=new gZ({icon:"help-outline",includeNonColabLink:!1,nonColabLinkIcon:"",nonColabLinkTitle:""}),kZ={},lZ=Map,mZ=(kZ.cns=new gZ({icon:"colab-google3:cns-logo",includeNonColabLink:!0,nonColabLinkIcon:"find-in-page",nonColabLinkTitle:"View notebook source"}),kZ.drive=new gZ({icon:"colab:drive-logo",
includeNonColabLink:!0,nonColabLinkIcon:"colab:drive-folder",nonColabLinkTitle:"View in Google Drive"}),kZ.piper=new gZ({icon:"colab-google3:piper-logo",includeNonColabLink:!0,nonColabLinkIcon:"find-in-page",nonColabLinkTitle:"View notebook source"}),kZ.sidecar=new gZ({icon:"colab-google3:robot-face",includeNonColabLink:!1,nonColabLinkIcon:"",nonColabLinkTitle:""}),kZ.x20=new gZ({icon:"colab-google3:x20-logo",includeNonColabLink:!0,nonColabLinkIcon:"find-in-page",nonColabLinkTitle:"View notebook source"}),
kZ.bundled=new gZ({icon:"colab:colab-logo",includeNonColabLink:!1,nonColabLinkIcon:"",nonColabLinkTitle:""}),kZ.github=new gZ({icon:"colab:github-logo",includeNonColabLink:!0,nonColabLinkIcon:"find-in-page",nonColabLinkTitle:"View notebook source"}),kZ.gist=new gZ({icon:"colab:github-logo",includeNonColabLink:!0,nonColabLinkIcon:"find-in-page",nonColabLinkTitle:"View notebook source"}),kZ.hosted_path=iZ,kZ.inlinedoc=iZ,kZ),nZ=[],oZ;for(oZ in mZ)nZ.push([oZ,mZ[oZ]]);var hZ=new lZ(nZ);Polymer({is:"colab-session",properties:{session:{type:Object,value:null},skipLinkification:{type:Boolean,value:!1},labelTerminate:{type:String,value:"Terminate"},labelOpenNotebookInNewTab:{type:String,value:"Open notebook in new tab"}},attached:function(){if(this.session&&"drive"===this.sourceIcon(this.session.fileId)){var a=this.$[".icon-column iron-icon"];a&&iH(a)}},sourceIcon:function(a){return a?jZ(a.source).icon:jZ("hosted_path").icon},sourceTitle:function(a){return WD.getFileIdDescription(a?
a.source:"hosted_path")},notebookUrl:function(a){return a?eA(jA(Uz(a)),!1).toString():""},showAsLink:function(a,b){return!!b&&!a},metadataText:function(a){if(a&&cz(a)){var b=ez(a);return(a=ez(a).getWorkspace())?"workspace: "+a:Hj(b)}return""},getTitle:function(a,b){b&&"colabrobot"==b.getUsername()&&(a+=" (Automatic execution)");return a}});var pZ=function(){};
pZ=Polymer({is:"colab-sessions-dialog",properties:{currentSession:{type:Object,value:null},otherSessions:{type:Array,value:[]},kernel_:{type:Object,value:null},runtimeResourceMonitor_:{type:Object,value:null},pollTimerId_:{type:Object,value:null},bannerText:{type:String,value:""},finishedLoading:{type:Boolean,value:!1},currentAccelerator_:{type:Object,value:null},currentAcceleratorIndex_:{type:Number,value:0,notify:!0},labelActiveSessions:{type:String,value:"Active sessions"},labelNoActiveSessions:{type:String,
value:"No active sessions"},labelTerminate:{type:String,value:"Terminate"},labelCurrentSession:{type:String,value:"Current session"},labelOtherSessions:{type:String,value:"Other sessions"},labelTerminateOtherSessions:{type:String,value:"Terminate other sessions"},labelNoCurrentSession:{type:String,value:"No current session"},labelOpenNotebookInNewTab:{type:String,value:"Open notebook in new tab"},labelClose:{type:String,value:"Close"},labelTitle:{type:String,value:"Title"},labelLastExecution:{type:String,
value:"Last execution"},labelRamUsed:{type:String,value:"RAM used"},labelGpuUsed:{type:String,value:"GPU used"},labelAccelerator:{type:String,value:"Hardware accelerator"},onAttached:Object},attached:function(){if(this.onAttached)this.onAttached()},getPolymerElement:function(){return this},bannerHidden:function(a){return!a},stopPolling:function(){on(this.pollTimerId_);this.pollTimerId_=null},pollActive_:function(){return null!==this.pollTimerId_},pollSessions:function(a){var b=void 0===a.initial?
!0:a.initial,c=this,d,e;return B(function(f){if(1==f.nextAddress)return d=c.pollActive_(),c.stopPolling(),d||b?u(f,c.discoverSessions_(),3):f.jumpTo(0);if(e=f.yieldResult)c.pollTimerId_=nn(function(){return c.pollSessions({initial:!1})},2E3);x(f)})},discoverSessions_:function(){var a=this,b,c,d,e,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:b=a.kernel_.runtimeManager_;if(!b&&(a.bannerText="Runtime disconnected",!Nz.ISOLATED_NOTEBOOKS))return a.finishedLoading=!0,m.return(!1);c=[];d=!0;
e={};a.runtimeResourceMonitor_&&(e.usage=a.runtimeResourceMonitor_.cachedUsage_);a.currentAccelerator_&&(e.accelerator=a.currentAccelerator_);y(m,2);return u(m,a.kernel_.listNotebookSessions(e),4);case 4:c=m.yieldResult;va(m,3);break;case 2:f=z(m),d=!1,g="",g=f instanceof VC?502==f.response.status?"Runtime disconnected":f.response.status.toString():"Unknown error",a.bannerText="Failed to list sessions: "+g;case 3:return c=c.filter(function(n){return!(null===n.notebookId&&"2d42e71a-eefc-4d64-9612-d926be1e1261-prewarmed"==
n.title)}),a.finishedLoading=!0,h=a.kernel_.getKernelId(),l=c.findIndex(function(n){return n.kernelId==h}),0<=l?(a.currentSession=c[l],c.splice(l,1)):a.currentSession=null,a.otherSessions=c,m.return(d)}})},hasRamUsage:function(a,b){return a&&a.ramUsage?!0:b.some(function(c){return!!c.ramUsage})},hasGpuUsage:function(a,b){return a&&a.gpuUsage?!0:b.some(function(c){return!!c.gpuUsage})},formatUsage:function(a){return a?(a/1073741824).toFixed(2)+" GB":""},displayAcceleratorList:function(){return Nz.ISOLATED_NOTEBOOKS},
getAccelerators:function(){if(!Nz.ISOLATED_NOTEBOOKS)return[];var a=[];a.push(vz);Wx&&a.push(wz);Xx&&a.push(xz);return a},acceleratorChanged:function(a){var b=a.detail.item;this.currentAccelerator_=Object.values(yz).find(function(c){return c.name==b.getAttribute("value")})||null;this.discoverSessions_()},terminateClicked:function(a){this.terminateSingleSession(a.model.get("item"))},currentTerminateClicked:function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,yH({title:"Terminate current session",
message:"Are you sure you want to terminate the currently connected session? All runtime state including any previously executed code will be lost.",yesText:"Terminate",noText:"Cancel"}),2);b=c.yieldResult;if(!b)return c.return();a.terminateSingleSession(I(a.currentSession));x(c)})},terminateOthersClicked:function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return y(c,2,3),u(c,Promise.all(a.otherSessions.map(function(d){return B(function(e){return u(e,a.callTerminateSession_(d),0)})})),
3);if(2!=c.nextAddress)return wa(c),a.discoverSessions_(),xa(c,0);b=z(c);wH("Encountered an error while trying to terminate sessions.",b,{expandDetails:!0});return c.jumpTo(3)})},terminateSingleSession:function(a){var b=this,c;return B(function(d){if(1==d.nextAddress)return y(d,2,3),u(d,b.callTerminateSession_(a),3);if(2!=d.nextAddress)return wa(d),b.discoverSessions_(),xa(d,0);c=z(d);wH("Encountered an error while trying to terminate sessions.",c,{expandDetails:!0});return d.jumpTo(3)})},callTerminateSession_:function(a){var b=
this,c,d,e;return B(function(f){if(1==f.nextAddress)return y(f,2),u(f,b.kernel_.terminateSession(a),4);if(2!=f.nextAddress)return va(f,0);c=z(f);if(c instanceof VC){if(d=c.response,404==d.status||502==d.status)return f.return()}else if(c instanceof vD&&(e=c.response,404==e.status||502==e.status))return f.return();throw c;})},hasSessions:function(a,b){return!!a||!!b.length},onlyOtherSessions:function(a,b){return!a&&!!b.length},hasTimingInfo:function(a,b){return a&&a.lastActivity?!0:b.some(function(c){return!!c.lastActivity})},
formatTime:function(a){a=a?Date.parse(a):0;return AA(a)}});pZ.create=function(){return xH(document.createElement("colab-sessions-dialog"))};var qZ=null;
pZ.show=function(a,b,c){var d,e;return B(function(f){if(1==f.nextAddress)return qZ||(qZ=pZ.create()),d=qZ.querySelector("colab-sessions-dialog"),d.kernel_=a,d.runtimeResourceMonitor_=b,d.currentAccelerator_=c,d.finishedLoading=!1,d.bannerText="",d.currentAccelerator_=c,d.currentAcceleratorIndex_=null!==c?d.getAccelerators().indexOf(c):0,e=lH(qZ),d.pollSessions({initial:!0}),ua(f),u(f,e,2);wa(f);d.stopPolling();return xa(f,0)})};var rZ=function(){return Q("<paper-material class='command-palette' elevation='2'><div><paper-input type='text' no-label-float></paper-input></div><div class='command-palette-results'></div></paper-material>")};rZ.soyTemplateName="colab.components.commandPalette.templates.paletteView";
var sZ=function(a){var b=U(F(a.shortcut)||a.shortcut instanceof N,"shortcut",a.shortcut,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.help)||a.help instanceof N,"help",a.help,"!goog.soy.data.UnsanitizedText|string"),d=U(Pa(a.matchStart),"matchStart",a.matchStart,"number");a=U(Pa(a.matchLength),"matchLength",a.matchLength,"number");return Q("<div class='command-palette-result-item'>"+(a?R((""+c).substring(0,d))+'<span class="command-palette-match">'+R((""+c).substring(d,d+a))+"</span>"+R((""+c).substring(d+
a,(""+c).length)):R(c))+'<span class="command-palette-result-shortcut">'+R(b)+"</span></div>")};sZ.soyTemplateName="colab.components.commandPalette.templates.resultItem";var tZ=function(){return $D.apply(this,arguments)||this};t(tZ,$D);k=tZ.prototype;k.createdCallback=function(){var a=this;this.classList.add("dropdown-content");this.setAttribute("slot","dropdown-content");this.dropdown_=document.createElement("iron-dropdown");Polymer.dom(this.dropdown_).appendChild(this);this.dropdown_.addEventListener("iron-overlay-opened",function(b){b.target==a.dropdown_&&a.opened()});this.dropdown_.addEventListener("iron-overlay-closed",function(b){b.target==a.dropdown_&&a.closed()})};
k.show=function(a,b){var c=this;b=b||{};this.dropdown_.positionTarget=a;this.dropdown_.classList.add("colab-popup");document.body.appendChild(this.dropdown_);b.verticalAlign&&("bottom_down"==b.verticalAlign?(this.dropdown_.verticalAlign="top",this.dropdown_.verticalOffset=a.getBoundingClientRect().height):this.dropdown_.verticalAlign=b.verticalAlign);if(b.horizontalAlign)if("center"==b.horizontalAlign){a=a.getBoundingClientRect().width;b=this.getBoundingClientRect().width;if(!b){var d=this.dropdown_.style.display;
this.dropdown_.style.display="";Polymer.dom.flush();b=this.getBoundingClientRect().width;this.dropdown_.style.display=d}this.dropdown_.horizontalAlign="left";this.dropdown_.horizontalOffset=a/2-b/2}else this.dropdown_.horizontalAlign=b.horizontalAlign;a=Fy(this.dropdown_,"iron-overlay-closed",function(e){return e.target==c.dropdown_});this.dropdown_.open();return a.then(function(e){c.dropdown_.parentElement&&c.dropdown_.parentElement.removeChild(c.dropdown_);return e.detail})};k.close=function(){this.dropdown_.close()};
k.opened=function(){};k.closed=function(){};k.dropdown_=null;var uZ=bH("colab-popup",tZ);uZ.VerticalAlign={TOP:"top",BOTTOM:"bottom",BOTTOM_DOWN:"bottom_down"};uZ.HorizontalAlign={LEFT:"left",RIGHT:"right",CENTER:"center"};var vZ=function(){return uZ.apply(this,arguments)||this};t(vZ,uZ);vZ.prototype.createdCallback=function(){var a=this;uZ.prototype.createdCallback.call(this);this.dropdown_.withBackdrop=!0;var b=nm(rZ,null);this.appendChild(b);this.itemsRoot_=this.querySelector(".command-palette-results");var c=this.querySelector("paper-input");c.addEventListener("input",function(){return a.updateSearch_(c.value)});this.addEventListener("keydown",function(d){return a.handleKeyDown_(d)})};
var wZ=function(a,b){a.commandHandler_=b;return a},zZ=function(a,b,c){a.restoreFocusCallback_=c;a.supportedCommands_=[];xE().forEach(function(d){a.commandHandler_.supports(d)&&aE(d)&&a.supportedCommands_.push(d)});a.supportedCommands_.sort(function(d,e){d=aE(d);e=aE(e);return d<e?-1:d>e?1:0});a.dropdown_.backdropElement.classList.add("command-palette-backdrop");a.show(b,{verticalAlign:uZ.VerticalAlign.BOTTOM_DOWN,horizontalAlign:uZ.HorizontalAlign.CENTER});0<=a.selectedIndex_?(b=a.items_[a.selectedIndex_],
xZ(a),b=a.items_.indexOf(b),0<b&&yZ(a,b)):xZ(a)};vZ.prototype.opened=function(){var a=this;uZ.prototype.opened.call(this);var b=this.querySelector("paper-input");b.focus();b=my?Polymer.dom(b.root).querySelector("input"):b.querySelector("input");I(b).select();this.listenerKey_=nk(window,"resize",function(){a.close()});this.shortcutListener_=nk(document,"SHORTCUT",function(){a.close()})};
vZ.prototype.closed=function(){var a=this.restoreFocusCallback_;this.restoreFocusCallback_=null;a();this.dropdown_.backdropElement.classList.remove("command-palette-backdrop");vk(this.listenerKey_);vk(this.shortcutListener_);uZ.prototype.closed.call(this)};vZ.prototype.updateSearch_=function(a){a=a.toLowerCase();this.currentFilter_!=a&&(this.currentFilter_=a,xZ(this))};
var xZ=function(a){yZ(a,-1);sh(a.itemsRoot_);a.items_=a.supportedCommands_.filter(function(f){return aE(f).toLowerCase().includes(a.currentFilter_)});var b={},c=0;for(b.$jscomp$loop$prop$item$306=void 0;b.$jscomp$loop$prop$item$306=a.items_[c];b={$jscomp$loop$prop$item$306:b.$jscomp$loop$prop$item$306},c++){var d=aE(b.$jscomp$loop$prop$item$306),e=d.toLowerCase().indexOf(a.currentFilter_);d=pm(sZ,{help:d,shortcut:bE(b.$jscomp$loop$prop$item$306)?bE(b.$jscomp$loop$prop$item$306):"",matchStart:e,matchLength:a.currentFilter_.length});
d.onclick=function(f){return function(){AZ(a,f.$jscomp$loop$prop$item$306)}}(b);a.itemsRoot_.appendChild(d)}yZ(a,0)};vZ.prototype.handleKeyDown_=function(a){40==a.keyCode?(this.selectedIndex_<this.items_.length-1?yZ(this,this.selectedIndex_+1):yZ(this,0),a.stopPropagation()):38==a.keyCode?(0<this.selectedIndex_?yZ(this,this.selectedIndex_-1):yZ(this,this.items_.length-1),a.stopPropagation()):13==a.keyCode&&(AZ(this,this.items_[this.selectedIndex_]),a.stopPropagation(),a.preventDefault())};
var yZ=function(a,b){0<=a.selectedIndex_&&a.selectedIndex_<a.itemsRoot_.children.length&&a.itemsRoot_.children[a.selectedIndex_].classList.toggle("selected",!1);-1!=b&&b<a.items_.length&&(a.selectedIndex_=b,a=a.itemsRoot_.children[b],a.classList.toggle("selected",!0),a.scrollIntoViewIfNeeded?a.scrollIntoViewIfNeeded():a.scrollIntoView())},AZ=function(a,b){a.close();var c=a.dropdown_;b&&"view-output-fullscreen"==b.id?a.commandHandler_.execute(b,16):Fy(c,"iron-overlay-closed",function(d){return d.target==
c}).then(function(){b&&a.commandHandler_.execute(b,16)})};k=vZ.prototype;k.restoreFocusCallback_=null;k.commandHandler_=null;k.itemsRoot_=null;k.items_=null;k.supportedCommands_=null;k.selectedIndex_=-1;k.currentFilter_="";k.listenerKey_=null;k.shortcutListener_=null;var BZ=bH("colab-command-palette",vZ);BZ.BACKDROP_CLASS="command-palette-backdrop";var CZ=function(){var a=mH.createWithTemplate(nH,{exampleUrl:XD.ABSOLUTE_PROD_URL+"/notebooks/welcome.ipynb#scrollTo=cell-id"});a.id="external-cell-dialog";return lH(a).then(function(b){if(!b.confirmed)return null;I(a);return a.querySelector(".external-cell-url-input").value})};var DZ=function(){M.call(this);this.origin_=this.dragger_=this.selection_=this.handle_=null;this.initialScroll_=this.scrollDirection_=0;this.range=this.scrollElement_=this.scrollTimer_=null;this.root_=document.createElement("div");this.root_.classList.add("colab-lasso")};t(DZ,M);
DZ.prototype.startDrag=function(a,b){var c=this;this.handle_||(this.handle_=document.createElement("div"),this.handle_.classList.add("lasso-handle"),this.root_.appendChild(this.handle_),this.selection_=document.createElement("div"),this.selection_.classList.add("lasso-selection"),this.root_.appendChild(this.selection_));this.dragger_=new Um(this.handle_);this.dragger_.hysteresisDistanceSquared_=Math.pow(10,2);this.dragger_.listen("drag",function(d){return c.handleDrag_(d)});this.dragger_.listen("end",
function(d){return c.handleDragEnd_(d)});this.dragger_.listen("earlycancel",function(){return c.remove()});this.scrollTimer_=new mn(100);this.scrollTimer_.listen("tick",function(){c.scrollElement_.scrollTop+=30*c.scrollDirection_});b.appendChild(this.root_);this.origin_=ii(a,this.root_);this.handle_.style.left=this.origin_.x+"px";this.handle_.style.top=this.origin_.y+"px";this.scrollElement_=EZ(this);this.dragger_.scrollTarget_=this.scrollElement_;this.dragger_.startDrag(a);this.scrollTimer_.start();
this.initialScroll_=this.scrollElement_.scrollTop};DZ.prototype.remove=function(){this.dragger_&&(this.dragger_.dispose(),this.dragger_=null,this.scrollTimer_.stop());this.root_.remove()};
DZ.prototype.handleDrag_=function(a){var b=a.left,c=a.top+(this.scrollElement_.scrollTop-this.initialScroll_),d=Math.min(b,this.origin_.x),e=Math.min(c,this.origin_.y);this.range=new Sh(d,e,Math.max(b,this.origin_.x)-d,Math.max(c,this.origin_.y)-e);this.selection_.style.left=this.range.left+"px";this.selection_.style.top=this.range.top+"px";this.selection_.style.width=this.range.width+"px";this.selection_.style.height=this.range.height+"px";a=new CustomEvent("selection_change",{detail:{range:oi(this.selection_),
event:a.browserEvent.event_}});this.dispatchEvent(a);a=this.scrollElement_;a=new Sh(0,a.scrollTop,a.clientWidth,a.clientHeight);a.contains(new Tg(b,c))?this.scrollDirection_=0:c<a.top?this.scrollDirection_=-1:c>a.top+a.height&&(this.scrollDirection_=1)};DZ.prototype.handleDragEnd_=function(){this.scrollTimer_.stop();this.remove()};var EZ=function(a){for(a=a.root_;a;){if("scroll"==window.getComputedStyle(a).overflowY)return a;a=a.parentElement}return document.scrollingElement};var FZ=function(a){a=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string");a="<paper-material elevation=\"1\"><div class=\"panel-group resizers\"><div class='resizer top-left'></div><div class='resizer top-right'></div><div class='resizer bottom-left'></div><div class='resizer bottom-right'></div><div class=\"layout horizontal noshrink\"><h3 class=\"colab-panel-title\">"+R(a)+'</h3><paper-icon-button title="';a+=S("Close");return Q(a+'" icon="icons:close"></paper-icon-button></div><div class="panel-container"></div></div></paper-material>')};
FZ.soyTemplateName="colab.components.panelTemplate.panel";var GZ=function(){return $D.apply(this,arguments)||this};t(GZ,$D);
GZ.prototype.init=function(a,b){var c=this;HZ();a=nm(FZ,{title:a});this.appendChild(a);gH(this);(new IZ(this)).init();a=vA();this.setAttribute("data-extra",a);this.addEventListener("click",function(f){JZ(c);f.stopPropagation()});this.classList.add("resizable");var d=function(f){var g=f.pageX-c.dragPageX_,h=f.pageY-c.dragPageY_;c.dragPageX_=f.pageX;c.dragPageY_=f.pageY;var l=c.parentElement;c.dragPageX_=Math.max(c.dragPageX_,l.offsetLeft);c.dragPageX_=Math.min(c.dragPageX_,l.offsetLeft+l.offsetWidth);
c.dragPageY_=Math.max(c.dragPageY_,l.offsetTop);c.dragPageY_=Math.min(c.dragPageY_,l.offsetTop+l.offsetHeight);c.moveTo(c.offsetLeft+g,c.offsetTop+h);f.preventDefault()};this.querySelector(".colab-panel-title").addEventListener("mousedown",function(f){JZ(c);f.preventDefault();c.dragPageX_=f.pageX;c.dragPageY_=f.pageY;document.addEventListener("mousemove",d);document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",d)},{once:!0})});this.querySelector('paper-icon-button[icon="icons:close"]').addEventListener("click",
function(f){c.dispatchEvent(new Event("close-requested",{bubbles:!0}));f.stopPropagation()});this.addEventListener("close-requested",function(){c.remove()});var e=this.parentElement.querySelectorAll("colab-panel").length-1;a=5+30*e;e=this.parentElement.clientWidth-this.clientWidth-30*e-20;this.style.height=Math.min(b,this.parentElement.offsetHeight-a)+"px";this.style.width=this.clientWidth+"px";this.moveTo(e,a);JZ(this);(new MutationObserver(function(){c.dispatchEvent(new Event("resize"))})).observe(this,
{attributes:!0})};GZ.prototype.moveTo=function(a,b){0>b&&(b=0);0>a&&(a=0);var c=this.parentElement.clientHeight-50;b>c&&(b=c);c=this.parentElement.clientWidth-50;a>c&&(a=c);this.style.left=a+"px";this.style.top=b+"px"};GZ.prototype.getContainer=function(){return I(this.querySelector(".panel-container"))};
var JZ=function(a){var b=a.parentElement.querySelectorAll(".front-panel");b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c!=a&&c.classList.remove("front-panel");a.classList.add("front-panel");a.dispatchEvent(new Event("focus"))},IZ=function(a){this.container_=a;this.mousedownMouseY_=this.mousedownMouseX_=this.mousedownContainerTop_=this.mousedownContainerLeft_=this.mousedownContainerHeight_=this.mousedownContainerWidth_=0};
IZ.prototype.init=function(){var a=this;this.container_.style.minWidth="400px";this.container_.style.minHeight="100px";this.container_.querySelectorAll(" .resizer").forEach(function(b){b.addEventListener("mousedown",function(c){c.preventDefault();a.mousedownMouseX_=c.pageX;a.mousedownMouseY_=c.pageY;a.mousedownContainerWidth_=KZ(a.container_,"width");a.mousedownContainerHeight_=KZ(a.container_,"height");a.mousedownContainerTop_=Number(a.container_.style.top.replace("px",""));a.mousedownContainerLeft_=
Number(a.container_.style.left.replace("px",""));var d=function(e){if(b.classList.contains("bottom-right")){var f=LZ(a,e);e=a.mousedownContainerWidth_+(f.pageX-a.mousedownMouseX_);f=a.mousedownContainerHeight_+(f.pageY-a.mousedownMouseY_);400<e&&(a.container_.style.width=e+"px");100<f&&(a.container_.style.height=f+"px")}else if(b.classList.contains("bottom-left")){f=LZ(a,e);e=f.pageX;f=a.mousedownContainerHeight_+(f.pageY-a.mousedownMouseY_);var g=a.mousedownContainerWidth_-(e-a.mousedownMouseX_);
100<f&&(a.container_.style.height=f+"px");400<g&&(a.container_.style.width=g+"px",a.container_.style.left=a.mousedownContainerLeft_+(e-a.mousedownMouseX_)+"px")}else if(b.classList.contains("top-right"))f=LZ(a,e),e=f.pageY,f=a.mousedownContainerWidth_+(f.pageX-a.mousedownMouseX_),g=a.mousedownContainerHeight_-(e-a.mousedownMouseY_),400<f&&(a.container_.style.width=f+"px"),100<g&&(a.container_.style.height=g+"px",a.container_.style.top=a.mousedownContainerTop_+(e-a.mousedownMouseY_)+"px");else{f=LZ(a,
e);e=f.pageX;f=f.pageY;g=a.mousedownContainerWidth_-(e-a.mousedownMouseX_);var h=a.mousedownContainerHeight_-(f-a.mousedownMouseY_);400<g&&(a.container_.style.width=g+"px",a.container_.style.left=a.mousedownContainerLeft_+(e-a.mousedownMouseX_)+"px");100<h&&(a.container_.style.height=h+"px",a.container_.style.top=a.mousedownContainerTop_+(f-a.mousedownMouseY_)+"px")}};window.addEventListener("mousemove",d);window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",d)})})})};
var LZ=function(a,b){a=a.container_.parentElement;var c=b.pageX;c=Math.max(a.offsetLeft,c);c=Math.min(a.offsetLeft+a.offsetWidth,c);b=b.pageY;b=Math.max(a.offsetTop,b);b=Math.min(a.offsetTop+a.offsetHeight,b);return{pageX:c,pageY:b}};function KZ(a,b){a=window.getComputedStyle(a).getPropertyValue(b).replace("px","");return Number(a)}GZ.prototype.dragPageX_=0;GZ.prototype.dragPageY_=0;var MZ=!1;
function HZ(){MZ||(MZ=!0,window.addEventListener("resize",function(){document.querySelectorAll("colab-panel").forEach(function(a){a.moveTo(a.offsetLeft,a.offsetTop)})}))}var NZ=bH("colab-panel",GZ);NZ.CloseButtonSelector='paper-icon-button[icon="icons:close"]';NZ.FrontPanelClass="front-panel";NZ.EventType={FOCUS:"focus",CLOSE_REQUESTED:"close-requested"};var OZ=function(a){var b=U(Pa(a.count),"count",a.count,"number"),c=U(F(a.preview)||a.preview instanceof N,"preview",a.preview,"!goog.soy.data.UnsanitizedText|string");a=U(Za(a.codeLines),"codeLines",a.codeLines,"!Array<!goog.soy.data.UnsanitizedText|string>");b='<div class="executedcode-codeblock" layout horizontal><div class="executedcode-order">['+R(b)+"]</div><details flex><summary>"+R(c)+"</summary>";c=a.length;for(var d=0;d<c;d++)b+="<p>"+R(a[d])+"</p>";return Q(b+"</details></div>")};
OZ.soyTemplateName="colab.executedcodeview.templates.codeblock";var PZ=function(){O.call(this);this.executionCount_=1;this.kernelId_=""};t(PZ,O);PZ.prototype.onCellExecutedEvent_=function(a){this.addExecutedCode_(a.code)};PZ.prototype.onKernelConnectedEvent_=function(a){if(""===this.kernelId_)QZ(this);else if(this.kernelId_!==a.kernelId){var b=a.kernelId,c=P(this);vh(c,lh("DIV","executedcode-kernel","<Connect to Runtime "+b+">"),0);this.executionCount_=1;QZ(this)}this.kernelId_=a.kernelId};
PZ.prototype.enterDocument=function(){O.prototype.enterDocument.call(this);var a=MM().notebook;if(a){a=a.getKernel();var b=this.getHandler();b.listen(a,"cell_executed",this.onCellExecutedEvent_);b.listen(a,"connected",this.onKernelConnectedEvent_);1==this.executionCount_&&a.isRunning()&&QZ(this)}else console.error("Kernel is not initialized")};
var QZ=function(a){var b=MM().notebook;if(b){var c=JSON.stringify("ColabHistorySplit\r");b.getKernel().execute("print("+c+".join(get_ipython().history_manager.input_hist_raw))",new RZ(a.addExecutedCode_.bind(a))).then(function(){},function(d){if(!(d instanceof lC))throw d;})}};PZ.prototype.addExecutedCode_=function(a){var b=P(this);a=a.split("\n");a=pm(OZ,{count:this.executionCount_,preview:a[0],codeLines:a.slice(1)});vh(b,a,0);this.executionCount_++};
var RZ=function(a){this.executedCodeCallback_=a};t(RZ,HC);RZ.prototype.onOutput=function(a){if(a instanceof QV){a=q(a.text.split("ColabHistorySplit\r").slice(1));for(var b=a.next();!b.done;b=a.next())this.executedCodeCallback_(b.value)}return!1};Polymer({is:"colab-permissions-button",properties:{permissions:String},chooseIcon:function(a){return"editing"===a?"editor:mode-edit":"commenting"===a?"communication:comment":"visibility"}});var TZ=function(a){this.preferences_=a;this.preferences_.CORGI_MODE.listen("change",function(b){SZ(b.newValue)});SZ(this.preferences_.CORGI_MODE.getValue())},SZ=function(a){var b=document.getElementById("header");b&&(a?b.classList.add("corgi_mode"):b.classList.remove("corgi_mode"))};var UZ=function(a){var b=U(hm(a.icon),"icon",a.icon,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string");a=U(F(a.id)||a.id instanceof N,"id",a.id,"!goog.soy.data.UnsanitizedText|string");return Q('<iron-icon id="'+T(a)+'" class="file-location-icon" icon="'+T(Do(b))+'"></iron-icon>')},VZ=function(a){var b=U(F(a.notebookSource)||a.notebookSource instanceof N,"notebookSource",a.notebookSource,"!goog.soy.data.UnsanitizedText|string"),
c=U(hm(a.fileIcon),"fileIcon",a.fileIcon,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string"),d=U(Oa(a.isRenameable)||1===a.isRenameable||0===a.isRenameable,"isRenameable",a.isRenameable,"boolean");a=U(bb(a.sources),"sources",a.sources,"{BUNDLED: (!goog.soy.data.UnsanitizedText|string),}");b=(oo(b,a.BUNDLED)?"":UZ({icon:c,id:po("file-type")}))+'<input id="doc-name" class="doc-name" aria-label="';b+=
S("Notebook name");b=b+('"'+(d?' command="rename"':"")+(d?"":" disabled")+' maxlength=259 autocomplete="off"><div id="doc-name-sizer" class="doc-name"></div><paper-tooltip for="doc-name" id="doc-name-tooltip" offset="8">')+"Rename</paper-tooltip>";return Q(b)},WZ=function(a){var b=U(hm(a.fileIcon),"fileIcon",a.fileIcon,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string"),c=U(F(a.notebookSource)||a.notebookSource instanceof
N,"notebookSource",a.notebookSource,"!goog.soy.data.UnsanitizedText|string"),d=U(Oa(a.isCommentable)||1===a.isCommentable||0===a.isCommentable,"isCommentable",a.isCommentable,"boolean"),e=U(Oa(a.isShareable)||1===a.isShareable||0===a.isShareable,"isShareable",a.isShareable,"boolean"),f=U(Oa(a.isStarrable)||1===a.isStarrable||0===a.isStarrable,"isStarrable",a.isStarrable,"boolean"),g=U(Oa(a.isDriveSharing)||1===a.isDriveSharing||0===a.isDriveSharing,"isDriveSharing",a.isDriveSharing,"boolean"),h=U(Oa(a.showSwitchToProdLink)||
1===a.showSwitchToProdLink||0===a.showSwitchToProdLink,"showSwitchToProdLink",a.showSwitchToProdLink,"boolean"),l=U(Oa(a.isRenameable)||1===a.isRenameable||0===a.isRenameable,"isRenameable",a.isRenameable,"boolean"),m=U(null==a.driveSearchLink||hm(a.driveSearchLink),"driveSearchLink",a.driveSearchLink,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|null|string|undefined"),n=U(F(a.msgCommentShort)||a.msgCommentShort instanceof
N,"msgCommentShort",a.msgCommentShort,"!goog.soy.data.UnsanitizedText|string");a=U(bb(a.sources),"sources",a.sources,"{BUNDLED: (!goog.soy.data.UnsanitizedText|string), DRIVE: (!goog.soy.data.UnsanitizedText|string),}");h='<div role="banner"><div id="private-outputs-warning" class="header-warning private-outputs-warning hidden">This notebook is open with private outputs. Outputs will not be saved. You can disable this in <a id="private-outputs-notebook-info-link" command="notebook-settings" href="#">Notebook settings</a>.'+
('</div><div id="header" class="horizontal layout">'+(h?'<div id="header-staging">Staging | <a id="useprod-link" command="switch-to-prod" href="#">Switch to prod</a></div>':"")+'<div id="header-logo">');m&&(h+='<a href="'+T(Do(m))+'" aria-label="',h+=S("View Colaboratory notebooks in Google Drive"),h+='">');h+='<iron-icon class="colab-large-icon" icon="colab-large:colab-white"></iron-icon>'+(m?"</a>":"")+'</div><div id="header-doc-toolbar" class="flex"><div id="document-info">'+VZ({notebookSource:c,
fileIcon:b,isRenameable:l,sources:a});f&&(h+='<iron-icon icon="star-border" id="star-icon" command="toggle-star"></iron-icon><paper-tooltip for="star-icon" id="star-tooltip" offset="8">Star</paper-tooltip>');h+=UZ({icon:qo("colab:save-disabled"),id:po("file-save-state")})+'</div></div><div id="header-right"><div id="header-collaborators"></div>'+(d?'<paper-button id="comments" command="open-comments-thread"><iron-icon icon="communication:comment"></iron-icon><span>'+R(n)+"</span></paper-button>":
"");e&&(h=h+('<paper-button id="share" command="share"><iron-icon icon="'+(g?"social:people":"icons:link")+'"></iron-icon><span>')+"Share</span></paper-button>");h+='<div class="header-onegoogle-container"></div></div></div></div>';return Q(h)};WZ.soyTemplateName="colab.header.templates.header";
var XZ=function(a){var b=U(Oa(a.isEditable)||1===a.isEditable||0===a.isEditable,"isEditable",a.isEditable,"boolean"),c=U(Oa(a.isSaveable)||1===a.isSaveable||0===a.isSaveable,"isSaveable",a.isSaveable,"boolean"),d=U(F(a.piperLabel)||a.piperLabel instanceof N,"piperLabel",a.piperLabel,"!goog.soy.data.UnsanitizedText|string"),e=U(F(a.permissions)||a.permissions instanceof N,"permissions",a.permissions,"!goog.soy.data.UnsanitizedText|string"),f=U(F(a.toggleAriaLabel)||a.toggleAriaLabel instanceof N,"toggleAriaLabel",
a.toggleAriaLabel,"!goog.soy.data.UnsanitizedText|string"),g=U(F(a.moveCellUpAriaLabel)||a.moveCellUpAriaLabel instanceof N,"moveCellUpAriaLabel",a.moveCellUpAriaLabel,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.moveCellDownAriaLabel)||a.moveCellDownAriaLabel instanceof N,"moveCellDownAriaLabel",a.moveCellDownAriaLabel,"!goog.soy.data.UnsanitizedText|string");var h='<div id="top-toolbar" class="horizontal layout center">';b?(h=h+'<colab-toolbar-button command="add-code" icon="add-box" id="toolbar-add-code">code</colab-toolbar-button><colab-toolbar-button command="add-text" icon="add-box" id="toolbar-add-text">text'+
('</colab-toolbar-button><span class="colab-separator"></span><colab-toolbar-button command="move-cell-up" icon="colab:up-arrow" id="toolbar-move-cell-up" label="'+T(g)+'">'),h=h+"cell"+('</colab-toolbar-button><colab-toolbar-button command="move-cell-down" icon="colab:down-arrow" label="'+T(a)+'" id="toolbar-move-cell-down">'),h+="cell"):h+='<colab-toolbar-button command="open-in-playground" icon="colab:temp-edit" class="big-icon" id="toolbar-open-in-playground">Open in playground';h+="</colab-toolbar-button>";
b&&!c&&(h+='<span class="colab-separator"></span><colab-toolbar-button icon="colab:monochrome-drive-logo" command="clone">Copy to Drive</colab-toolbar-button>');h+=(d?'<span class="colab-separator"></span><colab-toolbar-button command="workspace-list-button"'+(b&&!c?' disabled title="Leave playground mode to be able to switch between workspaces."':' title="Reopen this notebook in a different workspace"')+">"+R(d)+"</colab-toolbar-button>":"")+'<span class="flex"></span>'+(b?'<colab-connect-button></colab-connect-button><span class="colab-separator"></span>':
"")+'<colab-permissions-button permissions="'+T(e)+'"></colab-permissions-button><span class="colab-separator"></span><paper-icon-button command="toggle-header" icon="expand-less" id="toggle-header-button" aria-label="'+T(f)+'"></paper-icon-button></div>';return Q(h)};XZ.soyTemplateName="colab.header.templates.toolbar";var YZ=function(a){a=U(F(a.buttonId)||a.buttonId instanceof N,"buttonId",a.buttonId,"!goog.soy.data.UnsanitizedText|string");return Q('<paper-tooltip for="'+T(a)+'" id="'+T(a)+'-tooltip" offset="4"><div class="tooltip-with-shortcut"></div></paper-tooltip>')};
YZ.soyTemplateName="colab.header.templates.buttonTooltip";
var ZZ=function(a){var b=U(F(a.notebookSource)||a.notebookSource instanceof N,"notebookSource",a.notebookSource,"!goog.soy.data.UnsanitizedText|string"),c=U(hm(a.fileIcon),"fileIcon",a.fileIcon,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string"),d=U(Oa(a.isRenameable)||1===a.isRenameable||0===a.isRenameable,"isRenameable",a.isRenameable,"boolean");a=U(bb(a.sources),"sources",a.sources,"{BUNDLED: (!goog.soy.data.UnsanitizedText|string),}");
return Q('<div><div class="layout horizontal" id="header"><div class="mobile-header-menu-backdrop"></div><paper-menu-button ignore-select no-animations class="mobile-header-menu"><paper-icon-button icon="icons:menu" slot="dropdown-trigger" class="dropdown-trigger"></paper-icon-button><paper-listbox class="dropdown-content" slot="dropdown-content"><div id="header-doc-toolbar" class="flex"></div></paper-listbox></paper-menu-button><div id="document-info">'+VZ({notebookSource:b,fileIcon:c,isRenameable:d,
sources:a})+'</div><div id="header-right"><div class="header-onegoogle-container"></div></div></div></div>')};ZZ.soyTemplateName="colab.header.templates.mobileMiniHeader";var $Z=function(a){a=U(Oa(a.isEditable)||1===a.isEditable||0===a.isEditable,"isEditable",a.isEditable,"boolean");return Q('<div id="top-toolbar" class="horizontal layout center"><span class="flex"></span>'+(a?"<colab-connect-button></colab-connect-button>":"")+'<span class="colab-separator"></span><paper-icon-button command="toggle-header" icon="expand-less" id="toggle-header-button"></paper-icon-button></div>')};
$Z.soyTemplateName="colab.header.templates.mobileMiniToolbar";Polymer({is:"colab-menu-item",properties:{data:Object,indentationLevel:{type:Number,value:0,observer:"onIndentationChanged"},command:{type:String,computed:"computeCommandId(data)",reflectToAttribute:!0},disabled:{type:Boolean,value:!1,reflectToAttribute:!0}},ready:function(){var a=this;this.$.item.addEventListener("click",function(){a.dispatchEvent(new CustomEvent("colab-menu-item-clicked",{bubbles:!0,composed:!0,detail:{commandId:a.command}}))})},computeCommandId:function(a){return!!a.command&&a.command.id||
""},getText:function(a){return a.text||a.command&&aE(a.command)||""},onIndentationChanged:function(a){this.updateStyles({"--indentation-level":""+a})}});Polymer({is:"colab-menu",properties:{data:Object,indentationLevel:{type:Number,value:0,observer:"onIndentationChanged"},opened:Boolean,openedIndex:{type:Number,value:-1,observer:"onCurrentOpenIndexChanged"},id:{type:String,computed:"computeId(data)",reflectToAttribute:!0}},getQueryRoot_:function(){return my?I(Polymer.dom(this.root)):this},ready:function(){var a=this;this.getQueryRoot_().querySelector("paper-listbox").addEventListener("colab-menu-changed",function(b){b.stopPropagation();if(b.detail.opened)a.openedIndex=
-1;else{var c=[].concat(ja(a.getQueryRoot_().querySelectorAll("colab-menu")));a.openedIndex=c.findIndex(function(d){return d==b.target})}})},getAllElementsWithCommands:function(){var a=my?Polymer.dom(this.root):this,b=[].concat(ja(a.querySelectorAll("colab-menu")));b=Yb(b.map(function(c){return c.getAllElementsWithCommands()}));a=[].concat(ja(a.querySelectorAll("colab-menu-item"))).filter(function(c){return!!c.command});return[].concat(ja(b),ja(a))},computeId:function(a){return(a=this.get("submenu.id",
a))?a+"-menu-button":""},computeSubmenuId:function(a){return(a=this.get("submenu.id",a))?a+"-menu":""},onItemClick:function(){this.dispatchEvent(new CustomEvent("colab-menu-changed",{bubbles:!0,composed:!0,detail:{opened:this.opened}}))},onCurrentOpenIndexChanged:function(a,b){var c=[].concat(ja(this.getQueryRoot_().querySelectorAll("colab-menu")));c[b]&&(c[b].opened=!1);c[a]&&(c[a].opened=!0)},getNestedIndentation:function(a){return a+1},onIndentationChanged:function(a){this.updateStyles({"--indentation-level":""+
a})}});var a_=function(a){a=U(Za(a.sections),"sections",a.sections,"!Array<!Array<!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string>>");for(var b="",c=Math.max(0,Math.ceil(a.length-0)),d=0;d<c;d++){var e=1*d;b+=0<e?'<div class="goog-menuseparator goog-menuitem-disabled"></div>':"";e=a[e];for(var f=e.length,g=0;g<f;g++)b+=R(e[g])}return Q(b)},b_=function(a){a=U(Za(a.topMenus),"topMenus",a.topMenus,"!Array<{id: (!goog.soy.data.UnsanitizedText|string), submenu: (!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string), text: (!goog.soy.data.UnsanitizedText|string),}>");
for(var b='<div id="top-menubar" class="goog-menubar format-lightborder">',c=a.length,d=0;d<c;d++){var e=a[d];b+='<div id="'+T(e.id)+'-menu-button" class="goog-menu-button">'+R(e.text)+'<div id="'+T(e.id)+'-menu" class="goog-menu">'+R(e.submenu)+"</div></div>"}return Q(b+'</div><div id="colab-menu-cover"></div>')};var c_=function(){return $D.apply(this,arguments)||this};t(c_,$D);c_.prototype.createdCallback=function(){var a=this;this.setAttribute("draggable","true");this.addEventListener("dragstart",function(b){d_=a;b.stopPropagation();a.dispatchEvent(new Event("draggable-drag-start"))});this.addEventListener("dragend",function(){a.dispatchEvent(new Event("draggable-drag-end"))});this.addEventListener("dragover",function(b){b.preventDefault();b.dataTransfer.dropEffect="move"})};
var d_=null,e_=bH("colab-draggable",c_);e_.EventType={START:"draggable-drag-start",END:"draggable-drag-end"};e_.getLastActive=function(){return d_};var f_=function(){return $D.apply(this,arguments)||this};t(f_,$D);f_.prototype.createdCallback=function(){var a=this;this.addEventListener("dragover",function(b){b.dataTransfer.dropEffect="move";b.preventDefault();b.stopPropagation();a.dispatchEvent(new Event("target-hovered"))});this.addEventListener("drop",function(b){b.preventDefault();b.stopPropagation();a.dispatchEvent(new Event("target-dropped"))})};var g_=bH("colab-drag-drop-target",f_),h_=function(){return f_.apply(this,arguments)||this};
t(h_,f_);h_.prototype.createdCallback=function(){var a=this;f_.prototype.createdCallback.call(this);this.update();this.addEventListener("target-hovered",function(){for(var b=a.childElementCount-1;0<=b;b--){var c=a.children[b];if(c.matches("colab-drag-drop-target")){i_(a,c);break}}});this.addEventListener("target-dropped",function(){j_(a)})};
h_.prototype.update=function(){var a=this;[].concat(ja(this.children)).forEach(function(d){d.matches("colab-drag-drop-target")&&d.remove()});this.insertBefore(k_(this),this.firstChild);[].concat(ja(this.children)).forEach(function(d){d.matches("colab-draggable")&&uh(k_(a),d)});var b=this.querySelectorAll("colab-drag-drop-zone");b=q(b);for(var c=b.next();!c.done;c=b.next())c.value.update()};
var k_=function(a){var b=new g_;b.addEventListener("target-hovered",function(){i_(a,b)});b.addEventListener("target-dropped",function(){j_(a)});return b},j_=function(a){a.dragging_&&a.dragging_==e_.getLastActive()&&(a.insert(a.dragging_,a.currentTarget_),a.update(),a.dispatchEvent(new Event("draggable-moved")))},l_=function(a,b){b.addEventListener(e_.EventType.START,function(){a.dragging_=b});b.addEventListener(e_.EventType.END,function(){a.update()})};
h_.prototype.insert=function(a,b){(b=void 0===b?null:b)?th(a,b):this.appendChild(a);a.scrollIntoViewIfNeeded?a.scrollIntoViewIfNeeded():a.scrollIntoView();this.update()};
h_.prototype.move=function(a,b,c){c=c?[].concat(ja([].concat(ja(this.children)).filter(function(g){return g.matches("colab-draggable, colab-drag-drop-target")}))):[].concat(ja(this.querySelectorAll("colab-draggable, colab-drag-drop-target")));var d=c.indexOf(a);if(-1!=d){var e=b?-1:1;d+=2*e;for(var f=void 0;f=c[d];d+=e)if(f instanceof f_){f.parentNode.insertBefore(a,b?f:f.nextSibling);this.update();break}}};
var i_=function(a,b){if(a.dragging_==e_.getLastActive()){var c=document.querySelector(".drop-target-selected");c&&c.classList.remove("drop-target-selected");a.currentTarget_=null;a.currentTarget_=b;b.classList.add("drop-target-selected")}};h_.prototype.dragging_=null;h_.prototype.currentTarget_=null;var m_=bH("colab-drag-drop-zone",h_);m_.EventType={DRAGGABLE_DROPPED:"target-dropped",TARGET_HOVERED:"target-hovered",DRAGGABLE_MOVED:"draggable-moved"};m_.DragDropTarget=g_;var n_=function(a){var b=U(Pa(a.numRows),"numRows",a.numRows,"number"),c=U(Za(a.columnWidths),"columnWidths",a.columnWidths,"!Array<number>");a='<div class="resizing-grid-column-group">';for(var d=c.length,e=0;e<d;e++){var f=c[e];a+='<div class="resizing-grid-column"'+(f?' style="width: '+T(Fo(f))+'%"':"")+"></div>"}a+="</div>";b=Math.max(0,Math.ceil(b-0));for(d=0;d<b;d++){a+='<div class="resizing-grid-row">';e=c.length;for(f=0;f<e;f++)a+='<div class="resizing-grid-cell"></div>';a+="</div>"}c=Math.max(0,
Math.ceil(c.length-1));for(b=0;b<c;b++)a+='<div class="resizing-thumb"></div>';return Q(a)};n_.soyTemplateName="colab.components.resizingGridTemplate.grid";function o_(a){var b=a.reduce(function(d,e){return d+(e||1)});a=a.map(function(d){return Math.floor(100*(d||1)/b)});var c=a.reduce(function(d,e){return d+e});a[a.length-1]=100-c+a[a.length-1];return a}var p_=function(){return $D.apply(this,arguments)||this};t(p_,$D);
p_.prototype.init=function(a,b){var c=this;void 0==b[0]?(this.columnWidths_=Array(b.length),this.columnWidths_.fill(b.length/100)):this.columnWidths_=o_(b);a=nm(n_,{numRows:a,columnWidths:this.columnWidths_});this.appendChild(a);a=this.querySelectorAll(".resizing-grid-row");this.rows_=[];a=q(a);for(b=a.next();!b.done;b=a.next()){var d=b.value;b=[];this.rows_.push(b);d=d.querySelectorAll(".resizing-grid-cell");d=q(d);for(var e=d.next();!e.done;e=d.next())b.push(e.value)}this.draggerEls_=this.querySelectorAll(".resizing-thumb");
var f=this.rows_[0],g=this.querySelectorAll(".resizing-grid-column");for(a={$jscomp$loop$prop$i$308:0};a.$jscomp$loop$prop$i$308<this.draggerEls_.length;a={$jscomp$loop$prop$i$308:a.$jscomp$loop$prop$i$308},a.$jscomp$loop$prop$i$308++)b=this.draggerEls_[a.$jscomp$loop$prop$i$308],b.addEventListener("mousedown",function(h){h.stopPropagation()}),(new Um(b)).listen("drag",function(h){return function(l){var m=f[h.$jscomp$loop$prop$i$308].offsetLeft,n=c.columnWidths_[h.$jscomp$loop$prop$i$308]+c.columnWidths_[h.$jscomp$loop$prop$i$308+
1];l=(l.left-m)/(f[h.$jscomp$loop$prop$i$308+1].offsetLeft+f[h.$jscomp$loop$prop$i$308+1].offsetWidth-m)*n;m=n-l;var p=5E3/c.clientWidth;l<p?(l=p,m=n-l):m<p&&(m=p,l=n-m);g[h.$jscomp$loop$prop$i$308].style.width=l+"%";g[h.$jscomp$loop$prop$i$308+1].style.width=m+"%";q_(c)}}(a));this.addEventListener("mouseover",function(){q_(c)})};p_.prototype.setIsEditing=function(a){this.classList.toggle("resizing",a);q_(this)};
var q_=function(a){var b=a.clientWidth;if(a.classList.contains("resizing")&&b){for(var c=a.rows_[0],d=0;d<a.draggerEls_.length;d++){var e=a.draggerEls_[d];e.style.left=c[d+1].offsetLeft/b*100+"%";e.style.top="0";a.columnWidths_[d]=100*c[d].offsetWidth/b}d=a.columnWidths_.length-1;a.columnWidths_[d]=100*c[d].offsetWidth/b;a.columnWidths_=o_(a.columnWidths_)}};p_.prototype.columnWidths_=null;p_.prototype.draggerEls_=null;p_.prototype.rows_=null;var r_=bH("colab-resizing-grid",p_);
r_.Selector_={COLUMN_GROUP:".resizing-grid-column-group",COLUMN:".resizing-grid-column",ROW:".resizing-grid-row",CELL:".resizing-grid-cell",THUMB:".resizing-thumb"};var s_=function(){var a='<div class="tab-layout-header horizontal layout"><paper-tabs selected="0" noink no-bar></paper-tabs><paper-icon-button icon="icons:add" class="tabs-add-tab" title="'+S("Add tab");a=a+'"></paper-icon-button><paper-icon-button icon="editor:mode-edit" class="tabs-rename-tab" title="'+S("Rename");return Q(a+'"></paper-icon-button></div><iron-pages selected="0"></iron-pages>')};s_.soyTemplateName="colab.components.tabLayoutTemplate.tabs";
var t_=function(a){var b=U(F(a.tabName)||a.tabName instanceof N,"tabName",a.tabName,"!goog.soy.data.UnsanitizedText|string");a='<div class="content-area"><h2>Rename tab</h2><h3>';b="Current Name: "+R(b);a=a+b+'</h3><div><paper-input class="new-name" label="'+S("New name:");a+='"></paper-input></div></div><div class="buttons"><paper-button id="cancel" dialog-dismiss raised>';a+="Cancel";a+='</paper-button><paper-button id="rename" dialog-confirm raised>';a+="Rename";a+="</paper-button></div>";return Q(a)};
t_.soyTemplateName="colab.components.tabLayoutTemplate.renameTabLayout";var u_=function(){return $D.apply(this,arguments)||this};t(u_,$D);
u_.prototype.init=function(a){var b=this,c=nm(s_);this.appendChild(c);this.paperTabs_=this.querySelector("paper-tabs");this.ironPages_=this.querySelector("iron-pages");this.paperTabs_.addEventListener("iron-select",function(){b.ironPages_.select(b.paperTabs_.selected)});this.querySelector(".tabs-add-tab").addEventListener("click",function(){b.addTab("New tab",!0)});this.querySelector(".tabs-rename-tab").addEventListener("click",function(){v_(b)});a=q(a);for(c=a.next();!c.done;c=a.next())this.addTab(c.value,
!1);this.paperTabs_.setAttribute("selected",0);this.ironPages_.setAttribute("selected",0)};u_.prototype.setIsEditing=function(a){this.classList.toggle("tabs-editing",a)};
u_.prototype.addTab=function(a,b){var c=document.createElement("paper-tab");c.setAttribute("noink","");c.textContent=a;Polymer.dom(this.paperTabs_).appendChild(c);a=document.createElement("div");Polymer.dom(this.ironPages_).appendChild(a);Polymer.dom.flush();b&&(b=w_(this).length-1,this.paperTabs_.select(b),this.ironPages_.select(b));this.dispatchEvent(new Event("add-tab"));return a};
var x_=function(a){return[].concat(ja(Polymer.dom(a.paperTabs_).querySelectorAll("paper-tab")))},w_=function(a){return[].concat(ja(Polymer.dom(a.ironPages_).children))},v_=function(a){var b=x_(a)[a.paperTabs_.selected],c=mH.createWithTemplate(t_,{tabName:b.textContent});lH(c).then(function(d){d.confirmed&&(d=c.querySelector(".new-name"),Polymer.dom(b).textContent=d.value)})},y_=function(a,b){if(b=Nh(b,function(c){return c.parentElement==a.ironPages_}))b=w_(a).indexOf(b),-1!=b&&(a.paperTabs_.select(b),
a.ironPages_.select(b))};u_.prototype.paperTabs_=null;u_.prototype.ironPages_=null;var z_=bH("colab-tab-layout",u_);z_.EventType={ADD_TAB:"add-tab"};z_.Selector_={ADD_TAB:".tabs-add-tab",NAME_INPUT:".new-name",RENAME_TAB:".tabs-rename-tab"};var A_=function(a){a=U(Oa(a.isCell)||1===a.isCell||0===a.isCell,"isCell",a.isCell,"boolean");return Q('<colab-draggable>\x3c!-- TODO(b/120790280): Drop usage of paper-material --\x3e<paper-material class="view-draggable-paper" elevation="0"><div class="draggable-content">'+(a?'<div class="draggable-cell-mask"></div>':"")+"</div></paper-material></colab-draggable>")};A_.soyTemplateName="colab.views.templates.draggable";
var B_=function(){var a='<div class="edit-view-buttons"><paper-icon-button icon="icons:visibility" title="'+S("Unhide");a=a+'" class="view-add view-cell-control"></paper-icon-button><paper-icon-button icon="icons:visibility-off" title="'+S("Hide");a=a+'" class="view-remove view-cell-control"></paper-icon-button><paper-icon-button icon="icons:delete" title="'+S("Remove");a=a+'" class="view-remove view-layout-control"></paper-icon-button><paper-icon-button icon="colab:up-arrow" title="'+S("Move up");
a=a+'" class="view-move"></paper-icon-button><paper-icon-button icon="colab:down-arrow" title="'+S("Move down");a=a+'" class="view-move"></paper-icon-button><paper-icon-button icon="icons:open-with" title="'+S("Click and drag to move");return Q(a+'" class="view-drag"></paper-icon-button></div>')};B_.soyTemplateName="colab.views.templates.editViewButtons";
var C_=function(){return Q('<iron-icon icon="icons:add"></iron-icon>')},D_=function(a){a=a||{};a=U(null==a.viewName||F(a.viewName)||a.viewName instanceof N,"viewName",a.viewName,"!goog.soy.data.UnsanitizedText|null|string|undefined");var b='<paper-material elevation="2" class="view-editor-toolbar"><div class="layout horizontal"><div class="view-controls"><paper-button id="hide-all-cells-button">Hide all</paper-button><paper-button id="unhide-all-cells-button">Unhide all</paper-button><paper-button id="view-hidden-cells-button">View hidden cells</paper-button><paper-button id="add-grid-toolbar-button">';
var c=C_()+" Grid";b=b+c+'</paper-button><paper-button id="add-tab-toolbar-button">';c=C_()+" Tab";b=b+c+'</paper-button><paper-checkbox id="view-editor-hide-code-option">';b+="HIDE CODE";b+='</paper-checkbox></div><div class="layout horizontal"><h3>';b+="Save as";b+='</h3><paper-input id="view-name" label="';b+=S("View name");b+='" value="'+T(a)+'" no-label-float></paper-input><paper-button class="view-editor-save-button" raised>';b+="Save";b+="</paper-button></div></div><iron-collapse class=\"hidden-cell-pane\"><colab-resizer class='ns-resize'><div class='resizer-contents'><div class=\"layout horizontal hidden-cell-pane-title\"><h2>";
b+="Hidden cells";b+='</h2><paper-icon-button class="close" icon="icons:close" title="';b+=S("Close");b+='"></paper-icon-button></div><div class="cells-not-in-view"><colab-drag-drop-zone></colab-drag-drop-zone></div></div></colab-resizer></iron-collapse></paper-material>';return Q(b)};D_.soyTemplateName="colab.views.templates.toolbar";
var E_=function(){var a='<div class="content-area"><h2>Add a Grid</h2><div><paper-input class="number-of-rows-input" label="'+S("Number of rows:");a=a+'" value="2"></paper-input><br><paper-input class="number-of-columns-input" label="'+S("Number of columns:");return Q(a+'" value="2"></paper-input></div></div><div class="buttons"><paper-button id="cancel" dialog-dismiss raised>Cancel</paper-button><paper-button id="add" dialog-confirm raised>Add</paper-button></div>')};E_.soyTemplateName="colab.views.templates.createGridLayout";
var F_=function(a){var b=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.notebookUrl)||a.notebookUrl instanceof N,"notebookUrl",a.notebookUrl,"!goog.soy.data.UnsanitizedText|string"),d=U(Oa(a.showEditButton)||1===a.showEditButton||0===a.showEditButton,"showEditButton",a.showEditButton,"boolean"),e=U(F(a.lastExecutionTime)||a.lastExecutionTime instanceof N,"lastExecutionTime",a.lastExecutionTime,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.lastExecutionUser)||
a.lastExecutionUser instanceof N,"lastExecutionUser",a.lastExecutionUser,"!goog.soy.data.UnsanitizedText|string");b='<div class="view-header"><div class="layout horizontal"><h1>'+R(b)+'</h1><div class="buttons">';d&&(b+='<paper-button class="edit-view" raised><iron-icon icon="icons:create"></iron-icon> Edit</paper-button>');b+='<a href="'+T(Do(c))+'" target="_blank"><paper-button raised><iron-icon icon="colab:colab-logo"></iron-icon> ';b+='Open Notebook</paper-button></a></div></div><div id="view-last-updated">';
e&&(a?(c="Last executed "+(R(e)+(" by "+R(a))),b+=c):(c="Last executed "+R(e),b+=c));return Q(b+"</div></div>")};F_.soyTemplateName="colab.views.templates.viewHeader";
var G_=function(a){var b=U(Za(a.customViews),"customViews",a.customViews,"!Array<!goog.soy.data.UnsanitizedText|string>");a=U(Za(a.defaultViews),"defaultViews",a.defaultViews,"!Array<!goog.soy.data.UnsanitizedText|string>");var c='<div class="content-area"><h2>Manage Views</h2><div class="vertical layout"><paper-dropdown-menu label="'+S("Select a View...");c+='"><paper-listbox class="dropdown-content" slot="dropdown-content" selected="0">';for(var d=b.length,e=0;e<d;e++)c+="<paper-item>"+R(b[e])+
"</paper-item>";b=a.length;for(d=0;d<b;d++)c+="<paper-item>"+R(a[d])+"</paper-item>";return Q(c+'</paper-listbox></paper-dropdown-menu></div></div><div class="buttons"><paper-button id="manage-views-open">Open View</paper-button><paper-button id="manage-views-edit" dialog-confirm disabled>Edit</paper-button><paper-button id="manage-views-delete" dialog-confirm disabled>Delete</paper-button><paper-button id="cancel" class="dismiss" dialog-dismiss>Cancel</paper-button></div>')};G_.soyTemplateName="colab.views.templates.manageViews";var H_=["All cells","Hide code"],I_=["Hide code","Hide code","output_only"],J_=H_.concat(I_).concat(["All cells","Hide code"]),K_=function(a){return!a||J_.includes(a)},L_=function(a,b){return!!a&&I_.includes(a)||!!b&&b.hideCode_},M_=function(a,b,c,d){var e=new r_;e.init(b,c);e.setIsEditing(d);e.id=a;return e},N_=function(a,b,c){var d=new z_;d.init(b);d.setIsEditing(c);d.id=a;return d},O_=function(a,b){a&&b&&a.forEach(function(c){var d=c.getId();var e=c.getType();c=c.getOptions();(d="grid"===e?M_(d,
c.rowSplits?c.rowSplits.length:1,c.columnSplits?c.columnSplits.slice(0):[1,1],!1):"tab"===e?N_(d,c.tabs||["Tab 1"],!1):"list"===e?lh("DIV",{id:d,"class":"layout-list"}):null)&&b.appendChild(d)})},P_=function(a,b){var c=a.getCells().find(function(d){return d.getId()===b});if(!c)return null;a=c.layoutPosition_;c=c.layoutId_;if(null==c)return null;c=document.getElementById(c);c instanceof r_?c=I(c.rows_)[a[0]][a[1]]:c instanceof z_&&(c=w_(c)[a[0]]);return c},Q_=function(a,b,c){var d=[],e=[],f=function(r,
w,v){r=r.querySelectorAll(".cell");r=q(r);for(var A=r.next();!A.done;A=r.next())(A=DA(A.value))&&d.push(new wD(A,w,v))};a=q(a);for(var g=a.next();!g.done;g=a.next())if(g=g.value,g instanceof r_){var h=I(g.rows_),l=Array(h.length);l.fill(1);var m=I(g.columnWidths_);e.push(new xD(g.id,"grid",{rowSplits:l,columnSplits:m}));l=void 0;for(m=0;l=h[m];m++)for(var n=void 0,p=0;n=l[p];p++)f(n,g.id,[m,p])}else if(g instanceof z_)for(h=x_(g).map(function(r){return r.textContent.trim()}),e.push(new xD(g.id,"tab",
{tabs:h})),h=w_(g),l=void 0,m=0;l=h[m];m++)f(l,g.id,[m]);else if(g=g.querySelector(".cell"))if(g=DA(g))h=e[e.length-1],h&&"list"==h.getType()||(h=new xD(vA(),"list",{}),e.push(h)),d.push(new wD(g,h.getId(),[]));return new yD(b,d,c,e)};
function R_(a){var b=null;a=q(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c instanceof kL){c=c.outputs_;if(c.hasOutput()){var d=-1;for(var e=null,f=q(mc(c.outputs_)),g=f.next();!g.done;g=f.next()){g=g.value;var h=(h=g.realtimeOutput_.get("info"))?h.timestamp||0:0;h>d&&(d=h,e=g.getId())}d=e}else d=null;d&&(c=c.outputs_[d].realtimeOutput_.get("info"))&&(!b||c.timestamp>b.timestamp)&&(b=c)}return b}
var S_=function(a){var b=a.getNotebookModel(),c=b.getTraits(),d=c.getView(),e=b.getTitle(),f=b.getCells(),g=fA(uI(c).setView(null)),h=R_(f);f=h&&h.timestamp?zA(Es(h.timestamp)):"";h=h&&h.user?h.user.displayName:null;c=zI(c)&&!c.params_.editView&&!K_(d);e=pm(F_,{showEditButton:c,title:e,lastExecutionTime:f,lastExecutionUser:h||"",notebookUrl:g});b=b.getModel().getRoot();var l=e.querySelector("#view-last-updated");b.addEventListener(AD.OBJECT_CHANGED,function(){var m="Last updated "+zA(new Ds);l.textContent=
m});c&&e.querySelector(".edit-view").addEventListener("click",function(){XQ(a)});return e},T_=function(a,b,c){b=void 0===b?"New View":b;c=(void 0===c?!1:c)||"New View"==b;a=eA(dA((new Tz).setFileId(a).setView(b),c),!1);ZG(a.toString())},U_=function(a){var b=a.getNotebookModel(),c=b.viewMap_,d=mH.createWithTemplate(G_,{customViews:c.views_.keys().sort(),defaultViews:H_});d.id="manage-views-dialog";lH(d);var e=d.querySelector("paper-dropdown-menu");a=d.querySelector("#manage-views-open");var f=d.querySelector("#manage-views-edit"),
g=d.querySelector("#manage-views-delete");d=function(){var h=K_(e.value);f.disabled=h;g.disabled=h};e.addEventListener("iron-select",d);d();a.addEventListener("click",function(){T_(b.getFileId(),e.value)});g.addEventListener("click",function(){yH({title:"Delete view",message:'Are you sure you want to delete "'+(e.value+'"?')}).then(function(h){h&&(h=e.value,c.views_.has(h)&&c.views_.delete(h))})});f.addEventListener("click",function(){T_(b.getFileId(),e.value,!0)})};function V_(a,b){return a?b:null}function W_(a){return a.map(function(b){return b?b.map(function(c){if(!c)return null;c.submenu&&(c.submenu.items=W_(c.submenu.items));return c.command&&c.command.isDisabled()?null:c}).filter(function(c){return!!c}):null}).filter(function(b){return!!b&&b.length})}
var X_=function(a){var b=a.getFileId().source,c=a.viewMap_.views_.keys().sort();c=[].concat(ja(H_),ja(c)).map(function(h){return{text:h,className:"open-view"}});a=W_([[V_("piper"==b,{command:BG,text:"View in Code Search"}),V_("gist"==b||"github"==b,{command:BG,text:"View on GitHub"}),V_("drive"==b,{command:pF}),V_(a.saveable(),{command:zF})],V_(VD.SUPPORTS_PYTHON_3,[{command:uF,text:sz(Az.display_name)},{command:tF,text:sz(zz.display_name)}]),[V_(!VD.SUPPORTS_PYTHON_3,{command:sF,text:"New notebook"}),
{command:yF,text:"Open notebook..."},{command:mF},{command:HF,text:"Rename..."},{command:vG,text:"Move to trash"}],[{command:KE,text:"Save a copy in Drive..."},{command:SE,text:"Save a copy in Piper..."},{command:RE,text:"Save a copy as a GitHub Gist..."},{command:QE,text:"Save a copy in GitHub..."}],[{command:SF,text:"Save"},{command:TF},{command:fG,text:"Revision history"}],[{command:YE},{command:ZE}],[{command:zG}],[{command:FF,text:"Print"}]]);b=W_([[{command:wG,text:"Undo"},{command:GF,text:"Redo"}],
[{command:WF},{command:VE},{command:PE},{command:CF,text:"Paste"},{command:WE,text:"Delete selected cells"}],[{command:bF,text:"Find and replace..."},{command:cF,text:"Find next"},{command:dF,text:"Find previous"}],[{command:wF,text:"Notebook settings"},{command:eF,text:"Format cell"}],[{command:oF}],[{command:lF,text:"Show/hide code"},{command:IE}]]);c=W_([[{command:hG,text:"Table of contents"},{command:gG,text:"Runtime status bar"},{command:dG,text:"Notebook info"},{command:cG,text:"Executed code history"}],
V_(Sx&&Nz.VIEWS,[{text:"Open read-only view",submenu:{id:"open-readonly-view",items:[c]}},{command:UE},{command:rF,text:"Manage read-only views..."}]),V_(!pG.isDisabled(),[{text:"Presentation",submenu:{id:"presentation",items:[[{command:pG,text:"Start presentation"},{text:"Animation",submenu:{id:"animation",items:[[{command:mG,text:"Slide in",checkmark:!0},{command:kG,text:"Fade",checkmark:!0},{command:nG,text:"Zoom",checkmark:!0},{command:jG,text:"Convex",checkmark:!0},{command:iG,text:"Concave",
checkmark:!0},{command:lG,text:"None",checkmark:!0}]]}}],[{command:oG,text:"Show slides layout",checkmark:!0}]]}}]),[{command:LE,text:"Collapse sections"},{command:aF,text:"Expand sections"},{command:UF,text:"Save collapsed section layout"}]]);var d=W_([[{command:AE,text:"Code cell"},{command:FE,text:"Text cell"},{command:GE,text:"Section header cell"}],[{command:BF,text:"Scratch code cell"},{command:aG,text:"Code snippet..."},{command:CE,text:"External cell..."}],[{command:EE,text:"Add a form field"}]]),
e=W_([[{command:NF,text:"Run all"},{command:OF,text:"Run before"},{command:PF},{command:QF},{command:MF,text:"Run after"},{command:RF}],[{command:nF},{command:JF,text:"Restart runtime..."},{command:KF,text:"Restart and run all..."},{command:DF,text:"Reset all runtimes..."}],[{command:xF}],[{command:qF},{command:AF},{command:EG}]]),f=W_([[{command:bG,text:"Command palette"},{command:VF,checkmark:!0},{command:YF}],[{command:yG}],[{command:EF,text:"Preferences..."},{command:$F,text:"Keyboard shortcuts..."}]]),
g=W_([[{command:gF,text:"Getting started"},{command:iF,text:"Frequently asked questions..."},{command:aG,text:"Search code snippets..."}],[{command:hF,text:"Colabtools reference"},{command:kF,text:"Magic reference"},{command:jF,text:"Interactive forms reference"}],[{command:fF,text:"Ask for help"},{command:IF,text:"Report a bug..."},{command:HE,text:"Ask a question on Stack Overflow..."},{command:XF,text:"Send feedback..."},{command:AG,text:"View in English"}]]);return[{text:"File",submenu:{id:"file",
items:a}},{text:"Edit",submenu:{id:"edit",items:b}},{text:"View",submenu:{id:"view",items:c}},{text:"Insert",submenu:{id:"insert",items:d}},{text:"Runtime",submenu:{id:"runtime",items:e}},{text:"Tools",submenu:{id:"tools",items:f}},{text:"Help",submenu:{id:"help",items:g}}]};
function Y_(a){if(a.submenu){var b=Z_(a);var c=U(F(b.id)||b.id instanceof N,"id",b.id,"!goog.soy.data.UnsanitizedText|string");a=U(F(b.text)||b.text instanceof N,"text",b.text,"!goog.soy.data.UnsanitizedText|string");b=U(Za(b.sections),"sections",b.sections,"!Array<!Array<!goog.html.SafeHtml|!goog.soy.data.SanitizedHtml|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string>>");c=Q('<div id="'+T(c)+'-menu-button" class="goog-submenu">'+R(a)+'<div id="'+T(c)+'-menu" class="goog-menu">'+a_({sections:b})+
"</div></div>")}else{b=a.command?a.command.id:"";c=!!a.checkmark;var d=a.text||a.command&&aE(a.command)||"";a=a.className||"";b=U(F(b)||b instanceof N,"id",b,"!goog.soy.data.UnsanitizedText|string");d=U(F(d)||d instanceof N,"text",d,"!goog.soy.data.UnsanitizedText|string");c=U(Oa(c)||1===c||0===c,"checkmark",c,"boolean");a=U(F(a)||a instanceof N,"className",a,"!goog.soy.data.UnsanitizedText|string");c=Q("<div"+(b?' command="'+T(b)+'"':"")+' class="goog-menuitem '+T(a)+(c?" goog-option":"")+'">'+R(d)+
"</div>")}return c}function Z_(a){var b=I(a.submenu),c=b.items.map(function(d){return d.map(Y_)});return{id:b.id,text:I(a.text),sections:c}}function $_(a){a={topMenus:a.map(function(b){var c=Z_(b);c=a_(c);return{id:b.submenu.id,text:b.text,submenu:c}})};return b_(a)}var a0=function(a,b){lj.call(this);this.notebook=a;this.element_=b};t(a0,lj);a0.prototype.getElement=function(){return this.element_};
var d0=function(a){var b=I(document.getElementById("header-doc-toolbar")),c=X_(a.getNotebookModel());Lx?(c.unshift({command:{id:"show-toc-pane"},text:"Table of contents"}),c=lh("colab-menu",{data:{submenu:{items:[c]}},opened:!0})):c=om($_(c));b.appendChild(c);return Lx?new b0(a,c):new c0(a,c)},e0=function(a,b,c){var d;Lx?d=b:d=a.getMenuItemContentElement(b);d&&(Lx?(a=d.data,a.text=c,d.set("data",{}),d.set("data",a)):d.textContent=c)},f0=function(a,b,c){if(c==wG){var d=MO(a.notebook.getHistory());
e0(a,b,d||"Undo")}else c==GF&&(d=OO(a.notebook.getHistory()),e0(a,b,d||"Redo"));c==UF&&(a=a.notebook.getPreferences().COLLAPSIBLE_SECTIONS_PERSIST_ON_SAVE.getValue(),qi(b,!a))},c0=function(a,b){a0.call(this,a,b);var c=this,d=this.getElement().querySelector("#top-menubar");this.googMenu_=Pw(d);nj(this,this.googMenu_);var e=function(g){zn(g.getMenu(),function(h){var l=P(h).querySelectorAll(".goog-menuitem-checkbox");l=q(l);for(var m=l.next();!m.done;m=l.next()){m=m.value;var n=document.createElement("iron-icon");
n.setAttribute("icon","icons:check");m.appendChild(n)}h.getMenu&&e(h)})};zn(this.googMenu_,e);var f=this.getElement().querySelector("#colab-menu-cover");qi(f,!1);this.googMenu_.listen("action",hb(this.handleMenuBarAction_,this));this.googMenu_.listen("open",function(g){var h=P(g.target);if(h.parentElement==d){var l=hi(h);h=ni(h);bi(f,l.x+1,l.y+h.height-1);f.style.width=ai(h.width-2,!0);qi(f,!0);c.updateMenuState_(g.target.getMenu())}});this.googMenu_.listen("close",function(g){P(g.target).parentElement==
d&&qi(f,!1)})};t(c0,a0);
var h0=function g0(a,b){var d,e,f;return Da(g0,function(g){switch(g.nextAddress){case 1:if(!b){g.jumpTo(0);break}d=An(b);e=0;case 3:if(!(e<d)){g.jumpTo(0);break}f=Bn(b,e);if(!f.getElement().getAttribute("command")){g.jumpTo(6);break}return u(g,f,6);case 6:if(!(f instanceof cx||f instanceof Sw)){g.jumpTo(4);break}var h=h0(a,f.getMenu());h=q(h);var l=h.next();ra(l);l.done?(g.yieldResult=l.value,g.nextAddress=4,g=void 0):(g.yieldAllIterator_=h,g=u(g,l.value,4));return g;case 4:++e,g.jumpTo(3)}})};
c0.prototype.handleMenuBarAction_=function(a){a=a.target;if(!P(a).classList.contains("goog-menu-item-disabled")){a=P(a);var b=zE(a);b?b&&this.notebook.commandHandler_.execute(b,6):a.classList.contains("open-view")&&T_(this.notebook.getNotebookModel().getFileId(),a.textContent.trim())}};
c0.prototype.updateMenuState_=function(a){a=q(h0(this,a));for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=I(b.getElement()),d=zE(c);if(d){f0(this,c,d);var e=bE(d);if(e){var f=c.querySelector(".goog-menuitem-accel");f&&f.remove();(f=this.getMenuItemContentElement(c))&&f.appendChild(lh("SPAN","goog-menuitem-accel",e))}e=this.notebook.commandHandler_;b.setEnabled(e.supports(d));c.classList.contains("goog-option")&&(c=e.isOptionSelected(d.id),mp(b,c))}}};
c0.prototype.getMenuItemContentElement=function(a){return a.querySelector(".goog-menuitem-content")};
var b0=function(a,b){a0.call(this,a,b);var c=this,d=Oh(b,"paper-menu-button"),e=d.querySelector("paper-listbox"),f=d.parentElement.querySelector(".mobile-header-menu-backdrop");d.addEventListener("paper-dropdown-open",function(){e.style.height=document.documentElement.clientHeight+"px";e.style.width=Math.min(280,document.documentElement.clientWidth-40)+"px";d.classList.add("open");f.classList.add("open");document.activeElement.blur();var g=new cs(function(){return c.updateMenuState_()},100,c);c.getElement().addEventListener("dom-change",
function(){g.fire()});c.updateMenuState_()});d.addEventListener("iron-overlay-closed",function(){d.classList.remove("open");f.classList.remove("open")});f.addEventListener("click",function(g){g.stopPropagation();g.preventDefault();d.close()});e.addEventListener("colab-menu-item-clicked",function(g){(g=yE(g.detail.commandId))&&c.notebook.commandHandler_.execute(g,6);d.close()})};t(b0,a0);
b0.prototype.updateMenuState_=function(){var a;Lx?a=this.getElement().getAllElementsWithCommands():a=this.getElement().querySelectorAll("colab-menu-item[command]");a=q(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=zE(b);if(c){f0(this,b,c);var d=this.notebook.commandHandler_;b.disabled=!d.supports(c);b.toggles&&(c=d.isOptionSelected(c.id),b.active=c)}}};b0.prototype.getMenuItemContentElement=function(a){return a.querySelector(".menuitem-content")};var i0=function(a,b){O.call(this);this.notebook_=a;this.notebookModel_=this.notebook_.getNotebookModel();this.menubar_=null;this.toolbarButtons_=new Map;this.commandHandler_=this.notebook_.commandHandler_;this.preferences_=b;this.titleInputSizer_=this.titleInput_=null;new TZ(b)};t(i0,O);
i0.prototype.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);var b=P(this);b.classList.add("top-floater");var c=this.notebookModel_.getFileId(),d=TI(this.notebookModel_),e=d.isCommentable(),f=this.commandHandler_.supports(HF),g=this.commandHandler_.supports(ZF),h=this.commandHandler_.supports(uG),l=this.commandHandler_.supports(rG),m=(new Ll).set("q",$J()),n=new Dl("https://drive.google.com/drive/search");Il(n,m);Gx&&(n=null);e=pm(Lx?ZZ:WZ,{notebookSource:c.source,showSwitchToProdLink:l,
isCommentable:e,isShareable:g,isStarrable:h,isDriveSharing:az(c),isRenameable:f,fileIcon:UD.getFileIdIcon(c.source),driveSearchLink:n,msgCommentShort:"Comment",sources:jz});j0(this,e);c=document.querySelector(".onegoogle");sh(b);b.appendChild(e);c&&!Gx&&e.querySelector(".header-onegoogle-container").appendChild(c);c=this.getHandler();this.titleInput_=document.getElementById("doc-name");this.titleInputSizer_=document.getElementById("doc-name-sizer");document.fonts&&document.fonts.ready&&document.fonts.ready.then(function(){k0(a,
a.notebookModel_.getTitle())});k0(this,this.notebookModel_.getTitle());l0(this);c.listen(this.titleInput_,"keydown",this.titleInputKeydown_);c.listen(this.titleInput_,"input",function(){m0(a,a.titleInput_.value)});c.listen(this.titleInput_,"blur",this.titleInputBlur_);h&&n0(this.notebookModel_.getStarred());o0(RI(this.notebookModel_));p0(this);e=e.querySelectorAll("[command]");h={};e=q(e);for(f=e.next();!f.done;h={$jscomp$loop$prop$buttonEl$310:h.$jscomp$loop$prop$buttonEl$310,$jscomp$loop$prop$command$311:h.$jscomp$loop$prop$command$311},
f=e.next())h.$jscomp$loop$prop$buttonEl$310=f.value,h.$jscomp$loop$prop$command$311=I(zE(h.$jscomp$loop$prop$buttonEl$310)),q0(h.$jscomp$loop$prop$buttonEl$310,h.$jscomp$loop$prop$command$311),c.listen(h.$jscomp$loop$prop$buttonEl$310,"click",function(p){return function(r){"A"==p.$jscomp$loop$prop$buttonEl$310.tagName&&r.preventDefault();a.commandHandler_.execute(p.$jscomp$loop$prop$command$311,8)}}(h));this.menubar_&&this.menubar_.dispose();this.menubar_=d0(this.notebook_);nj(this,this.menubar_);
r0(this,d,b);c.listen(this.preferences_,"change",function(){s0(a);Gx||a.isVisible_()==a.preferences_.HEADER_VISIBLE.getValue()||a.toggleHeader()});c.listen(this.notebookModel_,"merge_conflict_change",function(){t0(a)});t0(this);(b=this.getElement().querySelector("#file-type"))&&iH(b)};i0.prototype.editNotebookTitle=function(){this.titleInput_.focus()};i0.prototype.disposeInternal=function(){O.prototype.disposeInternal.call(this)};
var s0=function(a){a.toolbarButtons_.forEach(function(b,c){c=yE(c);q0(b,c);c=a.commandHandler_.supports(c);cH(b,!c)})},q0=function(a,b){if(b&&a.id&&!a.id.includes(":")&&!a.getAttribute("title")){var c=a.parentNode.querySelector('paper-tooltip[for="'+a.id+'"]');c||(c=pm(YZ,{buttonId:a.id}),a.parentNode.insertBefore(c,a.nextSibling));a=c.querySelector(".tooltip-with-shortcut");a||(a=oh("DIV"),a.classList.add("tooltip-with-shortcut"),Polymer.dom(c).appendChild(a));a.textContent=aE(b);bE(b)&&(c=oh("DIV"),
c.textContent=bE(b),Polymer.dom(a).appendChild(c))}},t0=function(a){var b=a.getElement().querySelector("#file-save-state");if(b){var c=a.notebookModel_.hasMergeConflict_,d=TI(a.notebookModel_).isEditable();a=!a.notebookModel_.saveable()&&d;qi(b,a||c);a?b.title="This notebook is in playground mode. Changes will not be saved unless you make a copy of the notebook.":c&&(b.title="The notebook has been changed outside of this session. Auto-save has been disabled.")}},r0=function(a,b,c){var d=a.notebookModel_.getFileId(),
e="";cz(d)&&(e=Hj(ez(d)));d=b.isEditable();var f=a.notebookModel_.saveable();b=d?"editing":b.isCommentable()?"commenting":"viewing";e=pm(Lx?$Z:XZ,{isEditable:d,isSaveable:f,permissions:b,piperLabel:e,toggleAriaLabel:"Toggle header visibility",moveCellUpAriaLabel:"Move selected cells up",moveCellDownAriaLabel:"Move selected cells down"});c.appendChild(e);gH(e);(c=e.querySelector("colab-connect-button"))&&c.initNotebook(a.notebook_);a.preferences_.HEADER_VISIBLE.getValue()&&!Gx||a.toggleHeader();a.toolbarButtons_.clear();
c=[].concat(ja(e.querySelectorAll("colab-toolbar-button, paper-icon-button, paper-button")));c=q(c);for(e=c.next();!e.done;e=c.next())e=e.value,(b=zE(e))&&a.toolbarButtons_.set(b.id,e);var g=a.getHandler();a.toolbarButtons_.forEach(function(h,l){q0(h,yE(l));g.listen(h,"click",function(){h.hasAttribute("disabled")||a.commandHandler_.execute(yE(l),5)})});s0(a)};
i0.prototype.titleInputKeydown_=function(a){var b=this.notebookModel_.getTitle();a.stopPropagation();27==a.keyCode?(k0(this,b),this.titleInput_.blur()):13!=a.keyCode?Km(a)&&("a"!=String.fromCharCode(a.keyCode).toLowerCase()||!a.ctrlKey&&!a.metaKey)&&m0(this,this.titleInput_.value+(Jm(a.keyCode)?String.fromCharCode(a.keyCode):"")):0==this.titleInput_.value.length?k0(this,b):this.titleInput_.blur()};
i0.prototype.titleInputBlur_=function(){var a=this;return B(function(b){if(1==b.nextAddress){if(a.titleInput_.value==a.notebookModel_.getTitle())return b.return();a.titleInput_.classList.add("saving-title");ua(b);return u(b,a.notebookModel_.setTitle(a.titleInput_.value),2)}wa(b);a.titleInput_.classList.remove("saving-title");return xa(b,0)})};
i0.prototype.toggleHeader=function(){if(!sG.isDisabled()){var a=!this.isVisible_(),b=P(this).querySelector("#header");qi(b,a);b=document.querySelector(".top-floater [command=toggle-header]:not(.goog-menuitem)");if(!b)throw Error("Unable to find header button toggle-header");b.setAttribute("icon",a?"expand-less":"expand-more");Gx||this.preferences_.HEADER_VISIBLE.set(a);this.dispatchEvent("resize")}};i0.prototype.isVisible_=function(){return"none"!=P(this).querySelector("#header").style.display};
var n0=function(a){var b=document.getElementById("star-icon");b&&b.setAttribute("icon",a?"star":"star-border")},o0=function(a){var b=document.getElementById("private-outputs-warning");b&&b.classList.toggle("hidden",!a)},k0=function(a,b){a.titleInput_.value=b;m0(a)},l0=function(a){a=a.notebookModel_.getFileId();var b=a.source;a="piper"==b?a.toString():WD.getFileIdDescription(b);(b=document.getElementById("file-type"))&&b.setAttribute("title",a)},m0=function(a,b){b=(void 0===b?null:b)||a.titleInput_.value;
a.titleInputSizer_.innerText=b+"_";a.titleInput_.style.width=window.getComputedStyle(a.titleInputSizer_).width},p0=function(a){var b=a.notebookModel_,c=a.getHandler();c.listen(b,"star_changed",function(){n0(b.getStarred())});c.listen(b,"star_error",function(d){Y({message:d.error.message})});c.listen(b,"title_changed",function(d){k0(a,d.title)});c.listen(b,"private_outputs_changed",function(){RI(b)||o0(RI(b))})},u0=function(a,b){var c=b.querySelector(".close");c||(c=document.createElement("paper-icon-button"),
c.setAttribute("icon","icons:close"),c.classList.add("close"),b.appendChild(c));c.onclick=function(){wh(b);a.dispatchEvent("resize")}},j0=function(a,b){var c=document.querySelector("#outage-notification");c&&b.insertBefore(c,b.firstChild);b=b.querySelectorAll(".header-warning");b=q(b);for(c=b.next();!c.done;c=b.next())u0(a,c.value)};var v0=!1,w0=function(){if(v0)return Mk();var a=Object.getOwnPropertyDescriptor(Element.prototype,"className");Object.defineProperty(Element.prototype,"className",{set:function(b){return a.set.call(this,String(b))},get:a.get});return new Ik(function(b){var c=oh("SCRIPT");xe(c,XD.GVIZ_BUNDLE);c.onload=function(){v0=!0;b()};document.body.appendChild(c)})};var x0=function(a){var b=U(F(a.columnName)||a.columnName instanceof N,"columnName",a.columnName,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.inputType)||a.inputType instanceof N,"inputType",a.inputType,"!goog.soy.data.UnsanitizedText|string");a='<div class="column-filter"><label>';b=R(b)+":";a=a+b+"</label>";b='<input type="'+T(c)+'" name="from"/>'+(" to "+('<input type="'+T(c)+'" name="to"/>'));a=a+b+"</div>";return Q(a)};x0.soyTemplateName="colab.components.interactiveTableTemplate.rangeFilter";
var y0=function(a){var b=U(F(a.columnName)||a.columnName instanceof N,"columnName",a.columnName,"!goog.soy.data.UnsanitizedText|string");a='<div class="column-filter"><label>';b=R(b)+":";return Q(a+b+'</label><input type="text"/></div>')};y0.soyTemplateName="colab.components.interactiveTableTemplate.queryFilter";
var z0=function(a){var b=U(F(a.columnName)||a.columnName instanceof N,"columnName",a.columnName,"!goog.soy.data.UnsanitizedText|string");a=U(Za(a.options),"options",a.options,"!Array<!goog.soy.data.UnsanitizedText|string>");var c='<div class="column-filter"><label>';b=R(b)+":";c=c+b+"</label><select><option></option>";b=a.length;for(var d=0;d<b;d++)c+="<option>"+R(a[d])+"</option>";return Q(c+"</select></div>")};z0.soyTemplateName="colab.components.interactiveTableTemplate.selectFilter";var A0=function(){return Q('<div class="interactive-table-header"><span class="display-count"></span> <button class="controls-show">Filter</button> </div><div class="collapsible-controls"></div><div class="interactive-table-gviz-container"></div>')};
A0.soyTemplateName="colab.components.interactiveTableTemplate.table";var B0=function(){return Q('<div class="close">\u00d7</div><div class="column-filters-container"></div><div class="column-filter"><label>Search by all fields:</label><input type="text" class="table-filter-all-fields"></div>')};B0.soyTemplateName="colab.components.interactiveTableTemplate.collapsibleControls";
var C0=function(){var a='<div class="num-per-page"><label for="num-page-select">';var b='<select id="num-page-select" aria-label="'+S("Rows per page");b=Q(b+'"><option>10</option><option>25</option><option>50</option><option>100</option></select> ');return Q(a+("Show "+(b+" per page"))+"</label></div>")};C0.soyTemplateName="colab.components.interactiveTableTemplate.numPerPage";var D0=function(){var a=HTMLElement.call(this)||this;var b={};a.tableOptions_=(b.allowHtml=!1,b.sort="event",b.page="enable",b.width="100%",b);a.dataTable_=new google.visualization.DataTable;a.columnFilters_=[];a.customColumnSorters_=[];b=nm(A0,{});a.appendChild(b);a.controls_=pm(B0,{});a.table_=new google.visualization.Table(I(a.querySelector(".interactive-table-gviz-container")));a.displayCount_=a.querySelector(".display-count");a.numPerPageElement_=pm(C0,{});return a};t(D0,HTMLElement);
D0.prototype.connectedCallback=function(){var a=this;google.visualization.events.addListener(I(this.table_),"page",function(f){E0(a,f.page)});google.visualization.events.addListener(I(this.table_),"sort",function(f){a.sortByColumn_=f.column;a.sortAscending_=f.ascending;a.tableOptions_.sortColumn=a.sortByColumn_;a.tableOptions_.sortAscending=a.sortAscending_;F0(a);G0(a);a.dispatchEvent(new Event("selection-change"))});this.sortByColumn_=parseInt(this.getAttribute("sort-by-column"),10)||this.sortByColumn_;
this.sortAscending_="true"==this.getAttribute("sort-ascending");var b=this.numPerPageElement_.querySelector("select"),c=parseInt(this.getAttribute("num-per-page"),10);if(c){b.value=c;if(Number(b.value)!=c){var d=document.createElement("option");d.textContent=c;b.insertBefore(d,b.firstChild);b.value=c}this.numPerPage_=Number(b.value)}b.addEventListener("change",function(){a.numPerPage_=Number(b.value);G0(a)});this.searchBox_=this.controls_.querySelector(".table-filter-all-fields");c=function(){H0(a)};
this.searchBox_.addEventListener("keyup",c);this.searchBox_.addEventListener("blur",c);var e=this.querySelector(".controls-show");e.addEventListener("click",function(){a.querySelector(".collapsible-controls").appendChild(a.controls_);e.disabled=!0});this.controls_.querySelector(".close").addEventListener("click",function(){a.controls_.remove();e.disabled=!1});this.controls_.addEventListener("filter-change",function(){H0(a);a.dispatchEvent(new Event("selection-change"))})};
D0.prototype.disconnectedCallback=function(){this.table_&&google.visualization.events.removeAllListeners(this.table_)};var I0=function(a){a.dataTable_.removeRows(0,a.dataTable_.getNumberOfRows())};D0.prototype.addRow=function(a,b){b=void 0===b?"":b;a=this.dataTable_.addRow(a);b&&this.dataTable_.setProperty(a,0,"className","id-"+b)};D0.prototype.setCell=function(a,b,c){this.dataTable_.setCell(a,b,c)};
D0.prototype.addColumn=function(a,b,c){c=void 0===c?{}:c;var d=void 0===c.hideFilter?!1:c.hideFilter,e=void 0===c.id?void 0:c.id;c=void 0===c.sort?void 0:c.sort;this.tableOptions_.allowHtml&&!this.disableXssSanitization_&&(b=J0.sanitize(b));e=this.dataTable_.addColumn(a,b,e);d||(d=null,"number"==a?d=new K0(b,e):"boolean"==a?d=new L0(b,e):"date"==a||"datetime"==a?d=new M0(b,e):d=new N0(b,e),this.controls_.querySelector(".column-filters-container").appendChild(d.getElement()),this.columnFilters_.push(d));
c&&(this.customColumnSorters_[e]=c)};
var O0=function(a){a.dataView_||(I(a.dataTable_),a.dataView_=new google.visualization.DataView(a.dataTable_));F0(a);G0(a)},P0=function(a,b){var c=a.dataView_.getNumberOfRows(),d=a.dataTable_.getNumberOfRows(),e=d!=c;if(0==c)return e?"No entries (filtered from "+(d+" total entries)"):"No entries";if(1==c)return e?"1 entry (filtered from "+(d+" total entries)"):"1 entry";b=1+b*a.numPerPage_;a=Math.min(c,b+a.numPerPage_-1);return e?b+(" to "+(a+(" of "+(c+(" entries (filtered from "+(d+" total entries)")))))):
b+(" to "+(a+(" of "+(c+" entries"))))},E0=function(a,b){a.displayCount_.textContent=P0(a,b);(b=a.querySelector(".google-visualization-table-div-page"))&&b.insertBefore(a.numPerPageElement_,b.firstChild);b=a.querySelectorAll('.google-visualization-table-div-page div[role="button"]');2==b.length&&b.forEach(function(c){c.classList.toString().indexOf("custom-button-collapse-")&&!c.textContent&&c.setAttribute("aria-hidden",!0)});a.dispatchEvent(new Event("update-page"))},G0=function(a){if(!a.disableXssSanitization_&&
a.tableOptions_.allowHtml)for(var b=a.dataTable_.getNumberOfColumns(),c=0;c<b;++c)J0.format(a.dataTable_,c);a.tableOptions_.pageSize=a.numPerPage_;a.table_.draw(I(a.dataView_),a.tableOptions_);a.querySelector(".google-visualization-table").style.maxHeight="";a.querySelector(".google-visualization-table > div:first-child").style.maxHeight="";E0(a,0)},F0=function(a){if(!(0>a.sortByColumn_||a.sortByColumn_>=a.dataTable_.getNumberOfColumns())){var b=a.dataView_.getColumnType(a.sortByColumn_),c=a.dataView_.getViewRows();
a.dataView_.setRows(a.dataView_.getSortedRows([{column:a.sortByColumn_,desc:!a.sortAscending_,compare:a.customColumnSorters_[a.sortByColumn_]||function(d,e){"number"==b&&(d=isNaN(d)?-Infinity:d,e=isNaN(e)?-Infinity:e);return null==d?null==e?0:-1:null==e?1:Xb(d,e)}}]).map(function(d){return c[d]}))}},Q0=function(a,b,c){if(0==b.length)return!0;if(1==b.length){for(var d=0;d<a.dataTable_.getNumberOfColumns();d++)if(a.dataTable_.getFormattedValue(c,d).toLowerCase().includes(b[0]))return!0;return!1}d=[];
for(var e=0;e<a.dataTable_.getNumberOfColumns();e++)d.push(a.dataTable_.getFormattedValue(c,e));var f=d.join(" ").toLowerCase();return b.every(function(g){return f.includes(g)})},H0=function(a){var b=a.searchBox_.value,c=a.columnFilters_.map(function(l){return l.getFilterFunction()});b=b.trim().toLowerCase().split(" ");for(var d=[],e=new Set(a.dataView_.getViewRows()),f=!1,g=0;g<a.dataTable_.getNumberOfRows();g++){var h=e.has(g);Q0(a,b,g)&&R0(a,c,g)?(d.push(g),h||(f=!0)):h&&(f=!0)}f&&(a.dataView_.setRows(d),
F0(a),G0(a))};D0.prototype.getSelection=function(){return null!=this.dataView_?this.dataView_.getViewRows():null};var R0=function(a,b,c){for(var d=0;d<a.columnFilters_.length;d++){var e=b[d],f=a.dataTable_.getValue(c,a.columnFilters_[d].columnNumber);if(!e(f))return!1}return!0};D0.prototype.getSelection=D0.prototype.getSelection;k=D0.prototype;k.dataView_=null;k.dataTable_=null;k.table_=null;k.numPerPage_=10;k.numPerPageElement_=null;k.sortByColumn_=-1;k.sortAscending_=!1;k.searchBox_=null;
k.controls_=null;k.displayCount_=null;k.columnFilters_=null;k.customColumnSorters_=null;k.disableXssSanitization_=!1;k.tableOptions_=null;var S0=function(a,b){this.columnNumber=a;this.el_=b};S0.prototype.getElement=function(){return this.el_};S0.prototype.listenForChanges=function(a){var b=this,c=function(){b.el_.dispatchEvent(new Event("filter-change",{bubbles:!0}))};a.addEventListener("keyup",c);a.addEventListener("blur",c);a.addEventListener("change",c)};
var T0=function(a,b,c){S0.call(this,b,pm(x0,{columnName:a,inputType:c}));a=this.getElement();this.from=I(a.querySelector('input[name="from"]'));this.listenForChanges(this.from);this.to=I(a.querySelector('input[name="to"]'));this.listenForChanges(this.to)};t(T0,S0);var K0=function(a,b){T0.call(this,a,b,"text")};t(K0,T0);K0.prototype.getFilterFunction=function(){var a=parseFloat(this.from.value),b=parseFloat(this.to.value);return function(c){return U0(a,b,Number(c))}};
var M0=function(a,b){T0.call(this,a,b,"date")};t(M0,T0);M0.prototype.getFilterFunction=function(){var a=V0(this.from).getTime(),b=V0(this.to),c=b.getDate();isNaN(c)||b.setDate(c+1);var d=b.getTime();return function(e){return U0(a,d,e.getTime())}};
var V0=function(a){a=new Date(a.value);var b=a.getTimezoneOffset();return isNaN(b)?a:new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()+Math.floor(b/60),a.getMinutes()+b%60)},N0=function(a,b){S0.call(this,b,pm(y0,{columnName:a}));this.query_=I(this.getElement().querySelector('input[type="text"]'));this.listenForChanges(this.query_)};t(N0,S0);N0.prototype.getFilterFunction=function(){var a=this.query_.value.trim().toLowerCase().split(" ");return function(b){return a.every(function(c){return String(b).toLowerCase().includes(c)})}};
var L0=function(a,b){S0.call(this,b,pm(z0,{columnName:a,options:["true","false"]}));this.select_=I(this.getElement().querySelector("select"));this.listenForChanges(this.select_)};t(L0,S0);L0.prototype.getFilterFunction=function(){if(!this.select_.value)return function(){return!0};var a="true"==this.select_.value;return function(b){return b==a}};function U0(a,b,c){return isNaN(c)?!0:(isNaN(a)||c>=a)&&(isNaN(b)||c<=b)}
window.customElements&&window.customElements.define&&customElements.define("colab-interactive-table",D0);var X0=function(){this.sanitizer_=Hv(Jv(Nv(Mv(new Cv,function(a,b){return"img"==b.tagName&&"src"==b.attributeName&&a.startsWith("data:")?ud(a):wd(a)}),W0)),["data-extra"]).build()};X0.prototype.format=function(a,b){for(var c=a.getNumberOfRows(),d=0;d<c;d++)a.setFormattedValue(d,b,this.sanitizer_.sanitize(a.getFormattedValue(d,b)).getTypedStringValue())};X0.prototype.sanitize=function(a){return this.sanitizer_.sanitize(a).getTypedStringValue()};
function W0(a,b){return b?"class"==b.attributeName||"style"==b.attributeName?a:null:null}var J0=new X0;var Y0=function(a){O.call(this);this.notebook_=a;this.revisionList_=a.getNotebookModel().getRevisionList();this.revisionList_.refresh();this.gvizPromise_=this.interactiveTable_=null};t(Y0,O);
Y0.prototype.resetTable_=function(){var a=this;this.interactiveTable_&&(I0(this.interactiveTable_),this.revisionList_.getEntries().forEach(function(b){var c=Date.parse(b.modifiedDate);c=[Z0(b.pinned,b.id),c?new Date(c):null,Ee(b.lastModifyingUserName),Number(b.fileSize),$0(b.id,"restore","Restore"),$0(b.id,"view","View"),$0(b.id,"download","Download")];a.interactiveTable_.addRow(c,b.id)}),O0(this.interactiveTable_))};
var a1=function(a,b){a.revisionList_.getRevision(b).then(function(c){var d=a.notebook_.getNotebookModel().getTitle();d.endsWith(".ipynb")&&(d=d.substring(0,d.length-5));tA(d+"-"+(b.name?b.name:b.id)+".ipynb",JSON.stringify(c))},function(c){TG({message:"Failed to download revision: "+(c.message||"Unknown error")})})},b1=function(a,b){TG({message:'Restoring from revision "'+(b.id.substr(0,8)+'"'),timeoutMillis:-1});var c=zb(a.notebook_.getNotebookModel(),zN);a.notebook_.getComponent().exitDocument();
BN(c,b).then(function(){TG({message:"Success"});a.notebook_.getComponent().enterDocument()},function(d){TG({message:"Restore failed: "+(d.message||"Unknown error")});console.error(d)})};Y0.prototype.onRevisionPinnedChange_=function(a){if(this.interactiveTable_&&(a=a.target)){a:{var b=this.interactiveTable_;for(var c="id-"+a.id,d=0;d<b.dataTable_.getNumberOfRows();d++)if(b.dataTable_.getProperty(d,0,"className")==c){b=d;break a}b=null}null!=b&&this.interactiveTable_.setCell(b,0,Z0(a.pinned,a.id))}};
var c1=function(a){a.getHandler().listen(a.revisionList_,"change",a.resetTable_);a.getHandler().listen(a.revisionList_,"error",function(b){Y({message:b.error.message})});a.getHandler().listen(a.revisionList_,"revision_pinned_change",a.onRevisionPinnedChange_)};
Y0.prototype.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);var b=oh("DIV");b.classList.add("history-pin-text");b.textContent="Pin revisions to ensure outputs larger than "+(ko(YK,1)+" can be restored.");this.getElement().appendChild(b);var c=function(){a.resetTable_();c1(a);a.getHandler().listen(a.interactiveTable_,"click",function(d){if(d.target.getAttribute("action")&&d.target.getAttribute("data-extra")){var e=d.target.getAttribute("data-extra"),f=a.revisionList_.getEntries().find(function(g){return g.id===
e});if(f)switch(d.stopPropagation(),d.target.getAttribute("action")){case "restore":b1(a,f);break;case "download":a1(a,f);break;case "view":ze(eA(cA(uI(a.notebook_.getTraits()),f.id),!1).toString());break;case "pin":a.revisionList_.setRevisionPinned(f,!f.pinned)}}},!0)};this.interactiveTable_?c():(this.gvizPromise_=w0(),this.gvizPromise_.then(function(){if(a.gvizPromise_){var d=new D0;d.tableOptions_.allowHtml=!0;d.setAttribute("sort-by-column","1");d.addColumn("string","Pinned",{hideFilter:!0});
d.addColumn("datetime","Modified date");d.addColumn("string","Saved by");d.addColumn("number","File size");d.addColumn("string","Restore",{hideFilter:!0});d.addColumn("string","View",{hideFilter:!0});d.addColumn("string","Download",{hideFilter:!0});d.classList.add("history-view");a.interactiveTable_=d;a.getElement().appendChild(d);c();a.gvizPromise_=null}}))};
Y0.prototype.exitDocument=function(){O.prototype.exitDocument.call(this);var a=this.getElement();if(a)for(;a.children.length;)a.removeChild(a.children[0]);this.gvizPromise_=this.interactiveTable_=null};function Z0(a,b){var c=lh("INPUT",{"class":"history-pinned-checkbox",type:"checkbox"});c.setAttribute("action","pin");a&&c.setAttribute("checked","checked");c.setAttribute("data-extra",b);return c.outerHTML+('<span class="history-pinned-content-text">'+(a?"pinned":"")+"</span>")}
function $0(a,b,c){return'<button action="'+b+'" data-extra="'+a+'">'+c+"</button>"};var d1=function(a,b,c){K.call(this,a);this.runtime=b;this.userInitiated=c};t(d1,K);var e1=12E4;kb("colab.monitoring.SaveState.setUserWarningPeriodForTest",function(a){e1=a});var f1=function(a){Om.call(this);this.notebook_=a;this.expandedSections_={};this.sectionSizes_={};this.visibleCells_={};this.parents_={};this.pendingChange_=!1};t(f1,Om);f1.prototype.setSectionExpanded=function(a,b){this.expandedSections_[a]=b;g1(this)};
var i1=function h1(a){var c,d,e,f;return Da(h1,function(g){1==g.nextAddress&&(c=[],d=q(a.notebook_.getCells()),e=d.next());if(3!=g.nextAddress){if(e.done)return g.jumpTo(0);var h=f=e.value,l=c,m=h.getSectionTitle();m&&m.indents&&(m=m.indents,l.length=m,l[m-1]=h.getId());return u(g,{cell:f,activeSections:c},3)}e=d.next();return g.jumpTo(2)})},j1=function(a,b){for(var c=0,d=0,e=q(a.notebook_.getCells()),f=e.next();!f.done;f=e.next()){f=f.value;var g=f.getId();!1!==a.visibleCells_[g]&&(c++,"code"===
f.getType()&&d++);if(c>b.maxVisibleCells||d>b.maxVisibleCodeCells)return!1}return!0},m1=function(a,b){var c=3;for(k1(a);!j1(a,b)&&0<=c;)l1(a,[c],!1),k1(a),c--;b=b.showFirstCells||0;c=q(i1(a));for(var d=c.next();!d.done;d=c.next()){d=d.value.activeSections;if(0==b)break;b--;d.forEach(function(e){a.expandedSections_[e]=!0})}g1(a)},l1=function(a,b,c){c=void 0===c?!0:c;for(var d={},e=q(i1(a)),f=e.next();!f.done;d={$jscomp$loop$prop$activeSections$313:d.$jscomp$loop$prop$activeSections$313},f=e.next())d.$jscomp$loop$prop$activeSections$313=
f.value.activeSections,b.forEach(function(g){return function(h){g.$jscomp$loop$prop$activeSections$313[h]&&(a.expandedSections_[g.$jscomp$loop$prop$activeSections$313[h]]=!1)}}(d));c&&g1(a)};f1.prototype.reset=function(a){a=void 0===a?!0:a;for(var b in this.expandedSections_)delete this.expandedSections_[b];a&&g1(this)};
var VX=function(a,b,c){var d={};b=q(b);for(var e=b.next();!e.done;e=b.next())e=e.value,d[e.getId()]=!0,delete a.expandedSections_[e.getId()];b=q(i1(a));for(e=b.next();!e.done;e=b.next()){var f=e.value;e=f.cell;f=f.activeSections;e.getId()in d&&e.getId()==f[f.length-1]&&(a.expandedSections_[e.getId()]=c)}g1(a)};
f1.prototype.expandParents=function(a){for(var b=q(i1(this)),c=b.next();!c.done;c=b.next()){c=c.value;var d=c.activeSections;if(c.cell.getId()==a){b=q(d);for(c=b.next();!c.done;c=b.next())c=c.value,c!=a&&c&&(this.expandedSections_[c]=!0);g1(this);return}}console.log("Cell ",a," does not exist")};
var n1=function(a,b){return E(a.expandedSections_[b])?a.expandedSections_[b]:!0},UX=function(a,b){for(;!a.sectionSizes_[b];)if(b=a.parents_[b],!b)return;return b},o1=function(a,b){var c=a.parents_[b],d=a.notebook_.getCells(),e=d.findIndex(function(g){return g.getId()==b});d=d.slice(e,d.length);if(null==c)return d;var f=new Set([b,c]);return d.filter(function(g){return f.has(a.parents_[g.getId()])?(f.add(g.getId()),!0):!1})};
f1.prototype.expandCellsInParentHeaderAfter=function(a,b){b&&this.expandParents(a);VX(this,o1(this,a),b)};
var k1=function(a){for(var b={},c={},d={},e={},f=q(a.notebook_.getCells()),g=f.next();!g.done;g=f.next())e[g.value.getId()]=!0;f=q(i1(a));for(g=f.next();!g.done;g=f.next()){var h=g.value;g=h.cell;var l=h.activeSections;h=g.getId();var m=a.parents_[h],n=!0,p=a.expandedSections_[h];e[m]||n1(a,m)||(p=!1);l=q(l);for(m=l.next();!m.done;m=l.next()){m=m.value;if(m==g.getId()){a.expandedSections_[h]=p;break}m&&(!1===a.expandedSections_[m]&&(n=!1),b[m]=(b[m]||0)+1,d[h]=m)}c[g.getId()]=n}a.pendingChange_=a.pendingChange_||
!uc(a.visibleCells_,c)||!uc(a.sectionSizes_,b)||!uc(a.parents_,d);a.visibleCells_=c;a.sectionSizes_=b;a.parents_=d},g1=function(a){k1(a);if(a.pendingChange_){a.pendingChange_=!1;for(var b={},c=q(a.notebook_.getCells()),d=c.next();!d.done;d=c.next())d=d.value,d.isDisplayed_!==a.visibleCells_[d.getId()]&&(b[d.getId()]=!0),d.setDisplayed(a.visibleCells_[d.getId()]),"text"==d.getType()&&d.setSectionExpanded(n1(a,d.getId()),a.sectionSizes_[d.getId()]||0);a.notebook_.dispatchEvent({type:"section-layout-changed",
changedVisibility:b})}};f1.prototype.disposeInternal=function(){this.notebook_=null};var s1=function(a){lj.call(this);var b=this;this.notebook_=a;this.model_=a.getNotebookModel();this.saveFailureNote_=new PG({show:!1});this.userAlarmed_=!1;this.notSavedSince_=this.userAlarmTimer_=null;this.handler_=new Om(this);nj(this,this.handler_);this.handler_.listen(this.model_,"invalidated",function(){b.notSavedSince_=jb();p1(b)});this.handler_.listen(this.model_,"saved",function(){b.notSavedSince_=null;clearInterval(b.userAlarmTimer_);KM(b.model_)&&p1(b);if(b.userAlarmed_){b.userAlarmed_=!1;
OG(b.saveFailureNote_,{message:"Automatic saving has recovered.",timeoutMillis:2E3});var c="Save recovered after "+q1(b)+" minutes";dJ("save",c,"",1,!0);YI({error:{name:"save",msg:c,content:""}})}});this.lastSecond_=jb();this.secondTimer_=setInterval(function(){b.lastSecond_=jb();var c=r1(b);c&&(console.log("Time jumped forward by "+c+" seconds"),b.notSavedSince_&&p1(b))},1E3)};t(s1,lj);s1.prototype.disposeInternal=function(){clearInterval(this.secondTimer_);clearInterval(this.userAlarmTimer_);lj.prototype.disposeInternal.call(this)};
var q1=function(a){return a.notSavedSince_?Math.round((jb()-a.notSavedSince_)/6E4):0},p1=function(a){a.userAlarmTimer_&&clearInterval(a.userAlarmTimer_);a.isDisposed()||(a.userAlarmTimer_=setInterval(function(){t1(a)},e1))},t1=function(a){if(!r1(a)&&!a.isDisposed()){var b=q1(a),c=pm(GG,{minutes:b});c.getElementsByTagName("a")[0].addEventListener("click",function(d){d.preventDefault();eJ(8,"save-failure-reload");a.notebook_.saveNotebook().then(function(){window.location.reload()},function(e){wH("Save failed",
e)})});OG(a.saveFailureNote_,{message:"",timeoutMillis:-1,element:c});0<=[0,1,2,5,15,60,1E3].indexOf(b)&&aJ(Error("Autosave has been pending for "+b+" minutes."));a.userAlarmed_=!0}},r1=function(a){a=jb()-a.lastSecond_;return 3E4>a?0:a};s1.prototype.notSavedSince=function(){return this.notSavedSince_};s1.prototype.notSavedSince=s1.prototype.notSavedSince;var u1=function(a){a=U(Oa(a.editable)||1===a.editable||0===a.editable,"editable",a.editable,"boolean");return Q("<div class='notebook-vertical'><div class='notebook-horizontal'><colab-left-pane role='complementary'></colab-left-pane>\x3c!-- Note that this element is replaced in notebook.js --\x3e<div class='notebook-container'><div class='notebook-scrolling-horizontal'><div class='notebook-content-background'><div class='notebook-content"+(a?"":" readonly")+'\'><div class=\'notebook-cell-list\'></div></div></div></div></div><div class="notebook-scroll-shadow"></div></div><div class="proxies"></div></div>')};
u1.soyTemplateName="colab.notebook.templates.notebook";var v1=function(a){this.notebook_=a;this.currentSelectionIndex_=0;this.searchText_="";this.useRegExp_=this.caseSensitive_=!1;this.count_=0;this.currentCell_=this.currentMatch_=null;this.restoreCellCallbacks_=[];this.regExp_=null};v1.prototype.resetHighlights_=function(){for(var a=q(this.notebook_.getCells()),b=a.next();!b.done;b=a.next())b=b.value,b.getEditor()&&b.getEditor().clearAllMatches();this.currentMatch_=null;this.currentSelectionIndex_=0;w1(this,null)};
var w1=function(a,b){if(b!=a.currentCell_){for(var c=q(a.restoreCellCallbacks_.reverse()),d=c.next();!d.done;d=c.next())d=d.value,d();a.restoreCellCallbacks_=[];if(a.currentCell_=b)US(a.notebook_,b.getId()),b.makeEditorVisible(a.restoreCellCallbacks_)}};k=v1.prototype;
k.updateSearch=function(a,b){var c=void 0===b.caseSensitive?!1:b.caseSensitive;b=void 0===b.useRegExp?!1:b.useRegExp;this.resetHighlights_();this.searchText_=a;this.caseSensitive_=c;this.useRegExp_=b;var d=c?"g":"gi";this.regExp_=b?new RegExp(a,d):new RegExp(Me(a),d);if(!a.length)return{index:0,count:0};this.count_=0;var e=this.notebook_.getCells();if(!e.length)return{index:0,count:0};(d=this.notebook_.focusedCell_)||(d=e[0]);var f=!1;e=q(e);for(var g=e.next();!g.done;g=e.next()){g=g.value;if(g.getEditor())var h=
g.getEditor().highlightAllMatches(a,{caseSensitive:c,useRegExp:b,regExp:I(this.regExp_)});else{h=0;var l=g.getText().match(this.regExp_);l&&(h=l.length);h={before:0,total:h}}g==d?(f=!0,this.currentSelectionIndex_+=h.before):f||(this.currentSelectionIndex_+=h.total);this.count_+=h.total}return{index:this.findNext(),count:this.count_}};k.cancelSearch=function(){this.resetHighlights_()};
k.findNext=function(){var a=this.getCells_(!1),b=!0;a=q(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.getText().match(this.regExp_)){w1(this,c);if(b=c.getEditor().findNextMatch(this.searchText_,{caseSensitive:this.caseSensitive_,useRegExp:this.useRegExp_,fromStart:!b})){c.getEditor().setSelection(b);c.getEditor().focus();this.currentMatch_=b;++this.currentSelectionIndex_;this.currentSelectionIndex_>this.count_&&(this.currentSelectionIndex_=1);break}b=!1}return this.currentSelectionIndex_};
k.findPrevious=function(){var a=this.getCells_(!0),b=!0;a=q(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.getText().match(this.regExp_)){w1(this,c);if(b=c.getEditor().findPreviousMatch(this.searchText_,{caseSensitive:this.caseSensitive_,useRegExp:this.useRegExp_,fromEnd:!b})){c.getEditor().setSelection(b);c.getEditor().focus();this.currentMatch_=b;--this.currentSelectionIndex_;0==this.currentSelectionIndex_&&(this.currentSelectionIndex_=this.count_);break}b=!1}return this.currentSelectionIndex_};
k.replaceCurrentSelection=function(a){var b=this.notebook_.focusedCell_;if(!b||!this.currentMatch_)return{index:this.currentSelectionIndex_,count:this.count_};var c=b.getEditor();b=c.highlightAllMatches(this.searchText_,{caseSensitive:this.caseSensitive_,useRegExp:this.useRegExp_,regExp:I(this.regExp_)});c.replaceCurrentMatch(this.currentMatch_,a);a=c.highlightAllMatches(this.searchText_,{caseSensitive:this.caseSensitive_,useRegExp:this.useRegExp_,regExp:I(this.regExp_)});this.count_+=a.total-b.total;
this.currentSelectionIndex_+=a.total-b.total;return{index:this.findNext(),count:this.count_}};k.getCells_=function(a){var b=[].concat(ja(this.notebook_.getCells())),c=this.notebook_.focusedCell_,d=b.indexOf(c);-1==d&&(d=0);b.push.apply(b,b.splice(0,d));b.push(c);a&&b.reverse();return b};var x1=function(a){this.notebook_=a;this.overlays_=[];this.selectionMatches_=this.currentSelection_=null;this.matchCount_=this.currentSelectionIndex_=0;this.findReverse_=!1};k=x1.prototype;k.resetHighlights_=function(){this.currentSelection_&&this.currentSelection_.codeMirror_.setCursor(0);for(var a=q(this.overlays_),b=a.next();!b.done;b=a.next())b.value.remove();this.overlays_=[]};
k.updateSearch=function(a,b){var c=this,d=void 0===b.caseSensitive?!1:b.caseSensitive;b=void 0===b.useRegExp?!1:b.useRegExp;this.resetHighlights_();if(!a.length)return{index:0,count:0};this.currentSelectionIndex_=0;var e=d?"g":"gi";var f=b?new RegExp(a,e):new RegExp(Me(a),e);this.overlays_=this.notebook_.getCells().map(function(h){return aT(h,f,d)});var g=this.findReverse_?this.overlays_.reverse().findIndex(function(h){return h.editor_.isFocused()}):this.overlays_.findIndex(function(h){return h.editor_.isFocused()});
-1==g&&(g=0);this.matchCount_=0;this.overlays_.forEach(function(h,l){h=h.matchCount;c.matchCount_+=h;l<g&&(c.currentSelectionIndex_+=h)});if(0==this.matchCount_)return{index:0,count:0};this.selectionMatches_=y1(this,g);a=this.selectionMatches_.next();b=a.done;this.currentSelection_=a.value;b||(this.currentSelection_.select(),++this.currentSelectionIndex_);return{index:this.currentSelectionIndex_,count:this.matchCount_}};k.cancelSearch=function(){this.resetHighlights_()};
k.findNext=function(){z1(this,!1);return A1(this)};k.findPrevious=function(){z1(this,!0);return A1(this)};
var A1=function(a){a.currentSelection_&&a.currentSelection_.codeMirror_.setCursor(0);if(!a.selectionMatches_)return 0;var b=a.selectionMatches_.next(),c=b.value;b.done?a.currentSelection_=null:(a.currentSelection_=c,c.select(),a.findReverse_?(--a.currentSelectionIndex_,1>a.currentSelectionIndex_&&(a.currentSelectionIndex_=a.matchCount_)):(++a.currentSelectionIndex_,a.currentSelectionIndex_>a.matchCount_&&(a.currentSelectionIndex_=1)));return a.currentSelectionIndex_},z1=function(a,b){if(a.findReverse_!=
b){a.findReverse_=b;a=q(a.overlays_);for(var c=a.next();!c.done;c=a.next())c.value.findReverse_=b}};x1.prototype.replaceCurrentSelection=function(a){if(this.currentSelection_){var b=this.currentSelection_.overlay_.matchCount;this.currentSelection_.replaceSelection(a);a=this.currentSelection_.overlay_.matchCount;this.matchCount_-=b-a;this.currentSelectionIndex_-=b-a;return{index:this.findNext(),count:this.matchCount_}}return{index:0,count:0}};
var y1=function B1(a,b){var d,e,f,g,h,l,m;return Da(B1,function(n){switch(n.nextAddress){case 1:d=a.overlays_.length;if(!d){n.jumpTo(0);break}e=b;f=0;case 3:if(!(f<=a.overlays_.length)){n.jumpTo(0);break}g=a.overlays_[e];h=q(g.matches());l=h.next();case 5:if(l.done){++f;a.findReverse_?(--e,0>e&&(e=d-1)):(++e,e==d&&(e=0));n.jumpTo(3);break}m=l.value;f=0;return u(n,m,6);case 6:l=h.next(),n.jumpTo(5)}})};var C1=function(){var a="<div class='colab-find-rows'><div class='colab-find-row'><paper-input class='colab-find-input' type='text' label='"+S("Find");a=a+"'><div suffix slot=\"suffix\" class='colab-find-suffix'></div></paper-input><paper-button class='colab-find-previous colab-find-button button' tabindex='-1' raised><iron-icon icon='chevron-left'></iron-icon></paper-button><paper-button class='colab-find-next colab-find-button button' tabindex='-1' raised><iron-icon icon='chevron-right'></iron-icon></paper-button></div><div class='colab-find-row colab-replace-row'><paper-input class='colab-replace-input' type='text' label='"+
S("Replace with");return Q(a+"'></paper-input><div><paper-button class='colab-find-replace button' tabindex='-1' raised>Replace</paper-button></div></div></div><div class='colab-find-options'>Options<paper-checkbox class='colab-find-case-sensitive'>Case sensitive</paper-checkbox><paper-checkbox class='colab-find-use-regexp'>Use regular expression</paper-checkbox></div>")};C1.soyTemplateName="colab.refactor.templates.findReplace";var D1=function(){return $D.apply(this,arguments)||this};t(D1,$D);var E1=function(a,b){Zx?a.search_=new v1(b):a.search_=new x1(b);b=b.isEditable();a.classList.toggle("readonly",!b)};k=D1.prototype;k.createdCallback=function(){this.handler_=new Om(this)};
k.attachedCallback=function(){var a=this;if(!this.childElementCount){var b=nm(C1);this.appendChild(b)}this.handler_.listen(this,"keydown",function(c){return a.handleKeyDown_(c.event_)});b=this.querySelector(".colab-find-input");this.handler_.listen(b,"change",function(){a.searchText_=a.querySelector(".colab-find-input").value;a.updateSearch_()});this.handler_.listen(this.querySelector(".colab-find-next"),"click",function(){return a.findNext()});this.handler_.listen(this.querySelector(".colab-find-previous"),
"click",function(){return a.findPrevious()});this.handler_.listen(this.querySelector(".colab-find-replace"),"click",function(){var c=a.querySelector(".colab-replace-input").value;c=a.search_.replaceCurrentSelection(c);F1(a,c)});this.handler_.listen(this.querySelector(".colab-find-use-regexp"),"change",function(c){a.useRegExp_=c.event_.target.checked;a.updateSearch_()});this.handler_.listen(this.querySelector(".colab-find-case-sensitive"),"change",function(c){a.caseSensitive_=c.event_.target.checked;
a.updateSearch_()});this.show()};k.show=function(){this.updateSearch_();var a=this.querySelector(".colab-find-input");Aj(function(){return a.focus()})};k.detachedCallback=function(){this.search_.cancelSearch();this.handler_.removeAll()};k.handleKeyDown_=function(a){27==a.keyCode&&(this.search_.cancelSearch(),this.dispatchEvent(new Event("request_close",{bubbles:!0})))};
k.updateSearch_=function(){this.classList.toggle("no-text",!this.searchText_);var a=this.search_.updateSearch(this.searchText_,{caseSensitive:this.caseSensitive_,useRegExp:this.useRegExp_});F1(this,a)};k.findNext=function(){G1(this,this.search_.findNext())};k.findPrevious=function(){G1(this,this.search_.findPrevious())};
var F1=function(a,b){a.resultCount_=b.count;a.querySelector(".colab-find-suffix").textContent=a.searchText_?0==a.resultCount_?"Not found":b.index+(" of "+a.resultCount_):"";a.querySelector(".colab-find-next").disabled=1>=a.resultCount_},G1=function(a,b){a.resultCount_&&(a.querySelector(".colab-find-suffix").textContent=b+(" of "+a.resultCount_))};k=D1.prototype;k.search_=null;k.resultCount_=0;k.caseSensitive_=!1;k.useRegExp_=!1;k.searchText_="";bH("colab-find-replace",D1);function H1(a,b){a=a.querySelectorAll(".draggable-cell");a=q(a);for(var c=a.next();!c.done;c=a.next())b.insert(c.value)}
var L1=function(a){lj.call(this);var b=this;this.notebook_=a;this.cells_=new Set(this.notebook_.getCells());var c=a.getNotebookModel().getTraits();this.el_=P(a.getComponent());this.el_.id="view-editor";a=this.el_.querySelector(".notebook-cell-list");this.viewArea_=new m_;a.appendChild(this.viewArea_);c=c.getView();"New View"==c&&(c="");c=pm(D_,{viewName:c});this.hiddenCellContainer_=c.querySelector("iron-collapse");this.hiddenCellArea_=this.hiddenCellContainer_.querySelector("colab-drag-drop-zone");
this.el_.appendChild(c);I1(this);this.hideCodeCheckbox_=c.querySelector("#view-editor-hide-code-option");this.hideCodeCheckbox_.checked=this.el_.classList.contains("views-hide-code");this.viewArea_.addEventListener(m_.EventType.DRAGGABLE_MOVED,function(){J1(b)});this.hiddenCellArea_.addEventListener(m_.EventType.DRAGGABLE_MOVED,function(){J1(b)});this.draggableControls_=pm(B_,{});K1(this)};t(L1,lj);L1.prototype.disposeInternal=function(){lj.prototype.disposeInternal.call(this)};
var I1=function(a){var b=a.el_.querySelectorAll(".cell");b=q(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=d.parentNode;d=M1(a,d);c.appendChild(d)}b=new Set(a.notebook_.getCells().map(function(e){return e.getId()}));c=a.notebook_.getNotebookModel().getCells();c=q(c);for(d=c.next();!d.done;d=c.next())d=d.value,b.has(d.getId())||(d=xX(d,a.notebook_),d.render(a.hiddenCellArea_),a.cells_.add(d),d=M1(a,P(d)),a.hiddenCellArea_.appendChild(d));b=a.el_.querySelectorAll("colab-tab-layout, colab-resizing-grid, .layout-list > .draggable-cell, .notebook-cell-list > .draggable-cell");
b=q(b);for(c=b.next();!c.done;c=b.next())c=c.value,d=null,c instanceof r_?d=N1(a,c):c instanceof z_?d=O1(a,c):d=c,a.viewArea_.appendChild(d);J1(a)},P1=function(a,b){b=pm(A_,{isCell:b});l_(a.viewArea_,b);var c=b.querySelector("paper-material");c.addEventListener("mouseover",function(d){a.draggableControls_.parentNode!=c&&Polymer.dom(c).insertBefore(a.draggableControls_,Polymer.dom(c).firstChild);d.stopPropagation()});return b},M1=function(a,b){a=P1(a,!0);a.classList.add("draggable-cell");xh(a,b);b.setAttribute("style",
"");var c=a.querySelector(".draggable-content");c.insertBefore(b,c.firstChild);return a},J1=function(a){a.viewArea_.update();a.hiddenCellArea_.update();var b=!!a.hiddenCellArea_.querySelector(".cell"),c=!!a.viewArea_.querySelector(".cell"),d=a.el_.querySelector("#view-hidden-cells-button"),e=a.el_.querySelector("#hide-all-cells-button"),f=a.el_.querySelector("#unhide-all-cells-button");d.disabled=!b;f.disabled=!b;e.disabled=!c;b?(a.hiddenCellContainer_.opened=!0,d.active=!0):(a.hiddenCellContainer_.opened=
!1,d.active=!1);a=q(a.cells_);for(b=a.next();!b.done;b=a.next())b.value.refresh()},K1=function(a){a.el_.querySelector("#add-grid-toolbar-button").addEventListener("click",function(){Q1(a)});a.el_.querySelector("#add-tab-toolbar-button").addEventListener("click",function(){a.viewArea_.insert(O1(a,N_(vA(),["Tab 1","Tab 2"],!0)))});a.el_.querySelector("#hide-all-cells-button").addEventListener("click",function(){H1(a.viewArea_,a.hiddenCellArea_);J1(a);a.el_.querySelector(".view-header").scrollIntoView()});
a.el_.querySelector("#unhide-all-cells-button").addEventListener("click",function(){H1(a.hiddenCellArea_,a.viewArea_);J1(a)});a.hideCodeCheckbox_.addEventListener("change",function(){a.el_.classList.toggle("views-hide-code");J1(a)});var b=a.el_.querySelector("#view-hidden-cells-button");b.addEventListener("click",function(){a.hiddenCellContainer_.opened=!a.hiddenCellContainer_.opened;b.active=a.hiddenCellContainer_.opened});a.el_.querySelector(".view-editor-save-button").addEventListener("click",
function(){R1(a)});a.hiddenCellContainer_.querySelector(".close").addEventListener("click",function(){a.hiddenCellContainer_.opened=!1;b.active=!1});a.draggableControls_.querySelector('paper-icon-button[icon="colab:up-arrow"]').addEventListener("click",function(){var c=S1(a);c&&(T1(a,c,!0),J1(a))});a.draggableControls_.querySelector('paper-icon-button[icon="colab:down-arrow"]').addEventListener("click",function(){var c=S1(a);c&&(T1(a,c,!1),J1(a))});a.draggableControls_.querySelector('paper-icon-button[icon="icons:visibility-off"]').addEventListener("click",
function(c){var d=S1(a);d&&d.classList.contains("draggable-cell")&&(a.hiddenCellArea_.insert(d),J1(a),c.stopPropagation())});a.draggableControls_.querySelector('paper-icon-button[icon="icons:delete"]').addEventListener("click",function(c){var d=S1(a);if(d){var e=d.querySelectorAll(".draggable-cell");e=q(e);for(var f=e.next();!f.done;f=e.next())a.hiddenCellArea_.insert(f.value);d.remove();J1(a);c.stopPropagation()}});a.draggableControls_.querySelector(".view-add").addEventListener("click",function(c){var d=
S1(a);d&&(a.viewArea_.insert(d),J1(a),c.stopPropagation())})},T1=function(a,b,c){var d=!b.classList.contains("draggable-cell");a.viewArea_.move(b,c,d);a=Oh(b,"colab-tab-layout");a instanceof z_&&y_(a,b)},S1=function(a){return Oh(a.draggableControls_,"colab-draggable")},Q1=function(a){var b=mH.createWithTemplate(E_,{});lH(b).then(function(c){if(c.confirmed){c=Math.max(1,b.querySelector(".number-of-rows-input").value);var d=Math.max(1,b.querySelector(".number-of-columns-input").value);d=Array(d);d.fill(1);
c=M_(vA(),c,d,!0);c=N1(a,c);a.viewArea_.insert(c)}})},U1=function(a){var b=new m_,c=a.el_.querySelectorAll(".draggable-cell");c=q(c);for(var d=c.next();!d.done;d=c.next())l_(b,d.value);b.addEventListener(m_.EventType.DRAGGABLE_MOVED,function(){J1(a)});return b},N1=function(a,b){b.setIsEditing(!0);var c=P1(a,!1);c.classList.add("draggable-grid");var d=I(b.rows_);d=q(d);for(var e=d.next();!e.done;e=d.next()){e=q(e.value);for(var f=e.next();!f.done;f=e.next()){f=f.value;var g=f.querySelectorAll(".draggable-cell"),
h=U1(a);g=q(g);for(var l=g.next();!l.done;l=g.next())h.appendChild(l.value);f.appendChild(h)}}c.querySelector(".draggable-content").appendChild(b);return c},O1=function(a,b){b.setIsEditing(!0);var c=P1(a,!1);c.classList.add("draggable-tabs");for(var d=q(w_(b)),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.querySelectorAll(".draggable-cell"),g=U1(a);f=q(f);for(var h=f.next();!h.done;h=f.next())g.appendChild(h.value);e.appendChild(g)}b.addEventListener(z_.EventType.ADD_TAB,function(){var l=w_(b);
l[l.length-1].appendChild(U1(a))});c.querySelector(".draggable-content").appendChild(b);return c},R1=function(a){var b=a.notebook_.getNotebookModel(),c=a.el_.querySelector("#view-name").value;if(!c||K_(c)||"New View"==c)zH({title:"Choose a different view name",message:'The given name "'+(c+'" conflicts with an existing view name.')});else{var d=a.hideCodeCheckbox_.checked,e=a.viewArea_.querySelectorAll("colab-resizing-grid,colab-tab-layout,:scope > .draggable-cell");e=Q_(e,c,d);d=b.viewMap_;d.addView(e);
(b=b.getTraits().getView())&&b!=c&&d.views_.has(b)&&d.views_.delete(b);a.notebook_.saveNotebook().then(function(){hA(dA(uI(a.notebook_.getNotebookModel().getTraits()).setView(c),!1))})}};var V1=null,Z=function(a){O.call(this);var b=this;this.notebookModel_=a.notebookModel;this.model=this.notebookModel_.getModel();this.cells_=[];this.embeddedMode_=!!a.embeddedMode;this.realtimeCells_=this.model.getRoot().get("cells");this.history_=new HO(this.realtimeCells_,this.model,{conserve:function(c){QM(b.notebookModel_,c).makeOffline();return c},restore:function(c){var d=b.getNotebookModel(),e=c[iC];e&&(delete e.metadata.id,e=nL(e,d.getModel(),{privateOutputs:RI(d),fileId:d.getFileId(),includeOutputs:!0,
isReadOnly:!1}),delete c[iC],d.offlineCells_.set(e.getId(),e),c=e.realtimeCell_);return c}});this.commandHandler_=a.commandHandler;this.preferences_=a.preferences;W1(this.preferences_.SITE_THEME.getValue());fQ(this.preferences_.EDITOR_AUTO_TRIGGER_COMPLETIONS.getValue());this.kernel_=new X1(this.getNotebookModel());nj(this,this.kernel_);this.header_=new i0(this,this.preferences_);nj(this,this.header_);this.executionQueue_=new qK;this.showScheduleExecutionToolbar_=!1;this.kernel_.listen("connected",
function(){b.onKernelStarted()});this.kernel_.listen("disconnected",function(c){b.onKernelReset(c)});this.kernel_.listen("restarting",function(){for(var c=q(b.getCells()),d=c.next();!d.done;d=c.next())d.value.kernelReset()});this.kernel_.listen("unexpected_restart",function(){Y1(b)});this.kernel_.listen("comm_open",function(c){if("jupyter.widget"==c.targetName)b.notebookModel_.widgets_.onCommOpen(c.commId,c.data)});this.kernel_.listen("comm_msg",function(c){b.notebookModel_.widgets_.onCommMessage(c.commId,
c.data)});this.reconnecting_=!1;this.cellListElement=null;this.kernel_.listen("kernel_resumed_execution",function(c){Z1(b,c)});this.notebookModel_.resourceManager_.kernel_=this.kernel_;this.focusedCell_=null;this.lastFocusedCellId_=this.focusedCellId_="";this.toFocusCellType_=this.toFocusCellId_=null;this.rangeSelectStartCell_=-1;this.lasso_=null;this.originalSelection_=[];this.trashDialogDisplayed_=!1;this.notebookModel_.getTrashed()&&$1(this);this.assistProvider_=this.leftPane_=null;this.idToCellMap_=
new Map;this.busyCellIds_=new Set;this.sectionController_=null;this.collapsedLevelsParam_=void 0;this.thumbnailDiv_=this.findReplace_=null;this.postUpdateSelectionControls_=gc(function(){s0(b.header_)});this.postUpdateSectionLayoutAndFocus_=gc(function(){if(b.inDocument_){if(b.toFocusCellId_){var c=b.toFocusCellId_,d=b.toFocusCellType_;b.toFocusCellId_=null;US(b,c,d)}else g1(b.sectionController_);s0(b.header_)}});this.shortcutHandler_=this.embeddedMode_?null:new KY(this.commandHandler_,this.preferences_);
this.commandPalette_=this.embeddedMode_?null:wZ(new BZ,this.commandHandler_);this.notebookContainer_=document.createElement("colab-shaded-scroller");ZR(this.notebookContainer_);this.notebookContainer_.setAttribute("tabindex","-1");this.notebookContainer_.setAttribute("role","main");this.notebookContainer_.classList.add("notebook-container");this.saveState_=this.runtimeResourceMonitor_=this.viewId_=null;HM(this.notebookModel_)&&(this.saveState_=new s1(this),nj(this,this.saveState_));this.powerMode_=
this.bottomPane_=null;this.portProxies_=[]};t(Z,O);Z.prototype.disposeInternal=function(){this.idToCellMap_.forEach(function(a){return a.dispose()});this.shortcutHandler_&&this.shortcutHandler_.dispose();O.prototype.disposeInternal.call(this);this.runtimeResourceMonitor_&&(this.runtimeResourceMonitor_.stop(),this.runtimeResourceMonitor_=null)};Z.prototype.troubleshootLocalKernel=function(){B(function(a){x(a)})};Z.prototype.getWorker=function(){V1||(V1=new ZO);return V1};
var aX=function(a,b,c,d){d=void 0===d?!0:d;var e=Object.entries(aO).filter(function(g){return g[1]==b});if(!e||!e.length)throw Error("Set bottompane content called with unknown tabname: "+b);e=e[0][0];a.bottomPane_.addTab(e);var f;c instanceof HTMLElement?f=c:f=document.createElement("colab-component-adapter");f.setAttribute("slot",e);Polymer.dom(a.bottomPane_).appendChild(f);c instanceof HTMLElement||(gH(f),f.component=c);d&&a.bottomPane_.open({tabName:b})};Z.prototype.getNotebookModel=function(){return this.notebookModel_};
Z.prototype.getKernel=function(){return this.kernel_};
var b2=function(a){CZ().then(function(b){b&&a2(a,b)})},a2=function(a,b){var c,d;B(function(e){if(1==e.nextAddress)return Y({message:"Importing cell...",timeoutMillis:-1}),y(e,2),u(e,FS(b,a.getNotebookModel()),4);if(2!=e.nextAddress)return c=e.yieldResult,Y({message:"Success"}),c2(a,c.getType(),{rtCell:c.realtimeCell_}),va(e,0);d=z(e);wH("Failed to import the cell.",d);x(e)})},e2=function(a){var b=function(c){d2(a).forEach(function(d){!d.getImportedFrom().url||!c&&TS(d)||SS(d,!0)})};a.cells_.some(function(c){return TS(c)})?
yH({title:"Update external cells",message:"At least one external cell, which was originally from another notebook, has been modified in this notebook. Do you want to overwrite these modifications and re-sync all external cells?",yesText:"Update all cells",noText:"Update only unmodified cells"}).then(function(c){b(c)}):b(!1)};Z.prototype.attemptAutoconnect=function(a){return this.getKernel().attemptAutoconnect(this.getTraits(),{skipCreation:!(!a||!a.skipCreation)})};
Z.prototype.onKernelStarted=function(){var a=this,b,c,d,e,f;return B(function(g){switch(g.nextAddress){case 1:b=a.kernel_;c=b.runtime_;LI().connectionParams_=c.connectionParams;var h=b.isRunning()?b.connection_:null;a.notebookModel_.widgets_.outputSource_=h;y(g,2);return u(g,a.kernel_.getKernelInfo(),4);case 4:d=g.yieldResult;if(a.isDisposed())return g.return();e={kernelLanguage:d.language};c&&c.kernel&&c.kernel.name&&(e.kernelName=c.kernel.name);c&&c.connectionParams.kernelName&&(e.requestedKernelName=
c.connectionParams.kernelName);fJ(2,e);va(g,3);break;case 2:return f=z(g),wH("Failed to fetch runtime information.",f),g.return();case 3:a.runtimeResourceMonitor_||f2(a);if(Zx){h=a.getKernel();var l=a.executionQueue_,m="python",n=h.runtime_;n&&n.kernel&&n.kernel.name&&(m=n.kernel.name);m.toLowerCase().startsWith("python")&&(m="notebook-python");(n=dQ[m])?(m=n,m.kernel=h,m.executionQueue=l):("swift"==m?n=new cQ(h,l):n=new VP(h,l,m,sP),dQ[m]=n,monaco.languages.registerCompletionItemProvider(m,n),oy&&
monaco.languages.registerHoverProvider(m,n),monaco.languages.registerSignatureHelpProvider(m,n),n.autoTriggerCompletions_=eQ)}x(g)}})};
var f2=function(a){if(a.runtimeResourceMonitor_)throw Error("call to startRuntimeResourceMonitor_ with an existing monitor");a.runtimeResourceMonitor_=new RC({usageProvider:function(){return a.getKernel().getResourceUsage()},ramThreshold:VD.MEMORY_UTILIZATION_NOTIFICATION_THRESHOLD,pollInterval:fy});a.runtimeResourceMonitor_.listen("THRESHOLD_EXCEEDED",function(b){g2(a,b)});a.runtimeResourceMonitor_.listen("UPDATE",function(b){a.updateResourceUsage(b.usage)});a.runtimeResourceMonitor_.listen("STOP",
function(){a.resetResourceUsage()});a.runtimeResourceMonitor_.start()},g2=function(a,b){var c,d,e,f,g,h;B(function(l){switch(l.nextAddress){case 1:switch(c=b.usage,d=(c.usage/1073741824).toFixed(2),e=(c.limit/1073741824).toFixed(2),f=!1,b.resourceType){case "ram":return l.jumpTo(2);case "gpu_memory":return l.jumpTo(3);case "disk":return l.jumpTo(4);default:return l.return()}case 2:return Nz.ISOLATED_NOTEBOOKS?l.return():u(l,h2(a,d,e),6);case 6:f=l.yieldResult;l.jumpTo(5);break;case 3:return Nz.ISOLATED_NOTEBOOKS?
l.return():u(l,i2(a,d,e),7);case 7:f=l.yieldResult;l.jumpTo(5);break;case 4:return eG.isDisabled()?l.return():u(l,j2(a,d,e),8);case 8:f=l.yieldResult;l.jumpTo(5);break;case 5:g=b.resourceType+" THRESHOLD_EXCEEDED",h=f?"confirmed":"dismissed",eJ(19,g,h),x(l)}})};Z.prototype.getResourceUsageDisplay_=function(){if(this.isDisposed())return null;var a=P(this.header_);a=I(a.querySelector("colab-connect-button"));return(my?Polymer.dom(a.root):a).querySelector("colab-resource-usage-display")};
Z.prototype.updateResourceUsage=function(a){var b=this.getResourceUsageDisplay_();b&&b.update(a);if(b=P(this.header_).querySelector("colab-connect-button"))b.usage=a};Z.prototype.resetResourceUsage=function(){var a=this.getResourceUsageDisplay_();a&&a.reset()};
var h2=function(a,b,c){var d,e,f;return B(function(g){if(1==g.nextAddress)return d="Your runtime is close to its memory limit. Further use may cause an out-of-memory crash and the loss of in-memory state for all sessions. Would you like to terminate some sessions in order to free up memory (state will be lost for those sessions)? Currently, "+(b+" GB"+(" / "+(c+" GB is being used."))),e={title:"Memory usage is close to the limit",message:d,yesText:"Manage sessions",noText:"Ignore"},u(g,yH(e),2);(f=
g.yieldResult)&&k2(a);return g.return(f)})},j2=function(a,b,c){var d,e,f;return B(function(g){if(1==g.nextAddress)return d="Your disk is almost full. Completely filling the disk will crash your runtime. Currently, "+(b+" GB"+(" / "+(c+" GB is being used. Would you like to delete some files in order to free up disk space?"))),e={title:"Disk is almost full",message:d,yesText:"Show file browser",noText:"Ignore"},u(g,yH(e),2);(f=g.yieldResult)&&l2(a,{page:ZX.Page.FILES,open:!0,userRequested:!0});return g.return(f)})},
i2=function(a,b,c){var d,e;return B(function(f){if(1==f.nextAddress)return d={message:"Your GPU is close to its memory limit. You will not be able to use any additional memory in this session. Currently, "+(b+" GB"+(" / "+(c+" GB is being used. Would you like to terminate some sessions in order to free up GPU memory (state will be lost for those sessions)?"))),yesText:"Manage sessions",noText:"Ignore",title:"GPU memory usage is close to the limit"},u(f,yH(d),2);(e=f.yieldResult)&&k2(a);return f.return(e)})},
k2=function(a){var b=a.getNotebookModel().getAccelerator(),c=Object.values(yz).find(function(d){return d.name==b})||null;pZ.show(a.kernel_,a.runtimeResourceMonitor_,c)};
Z.prototype.onKernelReset=function(a){var b=this;this.idToCellMap_.forEach(function(c){return c.kernelReset()});this.runtimeResourceMonitor_&&(this.runtimeResourceMonitor_.stop(),this.runtimeResourceMonitor_=null);a.userInitiated||(Y({message:"Runtime disconnected",timeoutMillis:1E3}),a=this.kernel_.runtime_,this.reconnecting_||GO(a.sessionId)||(this.reconnecting_=!0,YD(function(){return m2(b).then(function(){b.reconnecting_=!1},function(c){console.warn("attempted reconnect failed",c);throw c;})},
{startDelayMillis:1E3,maxDelayMillis:3E5,maxRetryCount:Number.MAX_SAFE_INTEGER})))};var Y1=function(a){var b=new PG({message:"Your session crashed. Automatically restarting.",timeoutMillis:-1,show:!0});a.kernel_.listenOnce("finished_restarting",function(){a.onKernelCrashRecovery(b)})};Z.prototype.onKernelCrashRecovery=function(a){OG(a,{message:"Your session restarted after a crash.",timeoutMillis:-1})};
var m2=function(a){var b=a.kernel_,c=b.runtime_;if(b.isRunning()||!c||"local"==c.kind||"shared"==c.kind&&lK(a.getNotebookModel()))return Mk();var d=c.connectionParams;(a=SI(a.notebookModel_))&&(d=mA(d,a.name));return b.connect(d,{refreshRuntimeInfo:"private"==c.kind||"shared"==c.kind})},Z1=function(a,b){b.pendingCellIds.forEach(function(d){(d=BR(a,d))&&d instanceof rW&&(YW(d)||d.isRunning()||XW(d))});var c=BR(a,b.cellId);c?c instanceof rW&&c.resumeExecution(b.parentMessageId):console.warn("Ignoring exec resume for missing cell: "+
b.cellId)},n2=function(a,b){a.bottomPane_.open({tabName:b})},o2=function(a){n2(a,"Find/Replace");var b=a.focusedCell_;b&&(b=(b=b.getEditor())?b.getSelection():null)&&(a=a.findReplace_,a.querySelector(".colab-find-input").value=b,a.searchText_=b,a.updateSearch_())};Z.prototype.findNext=function(){this.findReplace_&&(n2(this,"Find/Replace"),this.findReplace_.findNext())};Z.prototype.findPrevious=function(){this.findReplace_&&(n2(this,"Find/Replace"),this.findReplace_.findPrevious())};
var p2=function(a){UQ(a).forEach(function(b){b.format()})},q2=function(a){return!!UQ(a).filter(function(b){return b instanceof rW}).find(function(b){return"form"==b.getViewType()})},r2=function(a){var b=q2(a);UQ(a).forEach(function(c){c instanceof rW&&xW(c,b)})},s2=function(a){var b=a.focusedCell_;b?b instanceof JS&&!b.isEditing()&&b.setEditing(!0):a.lastFocusedCellId_&&BR(a,a.lastFocusedCellId_)?US(a,a.lastFocusedCellId_):aJ(new Cy("Last Focused Cell is not present  or null ("+!a.lastFocusedCellId_+
")."))};
Z.prototype.lint=function(){var a=this,b=TG({message:"Linting notebook...",timeoutMillis:-1}),c=this.getCells().map(function(e){e.getEditor()&&e.getEditor().clearLintFindings();return{id:e.getId(),type:e.getType(),text:e.getText()}}),d=OM(this.notebookModel_);"notebook-python"==d&&(d="python");return Wk(Xk(xA("/lint",JSON.stringify({language:d,cells:c})).then(function(e){var f;e.forEach(function(g){var h=g.cellId,l=BR(a,h),m=l&&l.getEditor();l&&m?(void 0===f&&(f=h),yW(l,"both"),m.addLintFinding({message:g.message,line:g.line,
severity:g.severity})):console.warn("Cell "+h+" gone; lint to /dev/null")});void 0===f?Y({message:"Lint succeeded with no warnings",timeoutMillis:1E4}):(e=Vz(uI(a.getTraits()),f),XG("#"+Lz(e.params_)))}),function(e){e=String(e).trim();Y({message:"Linting failed: "+e.substring(e.lastIndexOf("\n")+1),timeoutMillis:1E4});console.warn(e)}),function(){b.clear()})};
var XQ=function(a){if(!K_(a.viewId_?a.viewId_:a.getTraits().getView())){a.getHandler().unlisten(a.contentBackground_,"mousedown",a.handleContainerMouseDown_);var b=a.getCells();b[0]&&a.expandCellsInParentHeaderAfter(b[0].getId(),!0);new L1(a)}};k=Z.prototype;
k.createDom=function(){var a=pm(u1,{editable:this.isEditable()});if(this.getTraits().getView()&&this.embeddedMode_&&!this.getTraits().params_.skipViewHeader){var b=a.querySelector(".notebook-content");b.parentNode.insertBefore(S_(this),b)}b=a.querySelector(".notebook-container");for(var c=q(b.children),d=c.next();!d.done;d=c.next())this.notebookContainer_.appendChild(d.value);b.parentElement.insertBefore(this.notebookContainer_,b);b.remove();tS(rS(),this.notebookContainer_,I(a.querySelector(".notebook-scroll-shadow")));
this.notebookContent_=a.querySelector(".notebook-content");this.contentBackground_=a.querySelector(".notebook-content-background");this.cellListElement=a.querySelector(".notebook-cell-list");this.element_=a};k.getPreferences=function(){return this.preferences_};k.getTraits=function(){return this.getNotebookModel().getTraits()};
k.showExecutionScheduleToolbar=function(){var a=this;this.showScheduleExecutionToolbar_=!this.showScheduleExecutionToolbar_;this.cells_.forEach(function(b){"code"==b.getType()&&b.showExecutionScheduleToolbar(a.showScheduleExecutionToolbar_)})};k.showSlidesToolbar=function(){};var t2=function(a,b,c){aX(a,b,c,!1)};
Z.prototype.exitDocument=function(){O.prototype.exitDocument.call(this);this.sectionController_&&(this.sectionController_.dispose(),this.sectionController_=null);this.cells_=[];this.focusedCell_=null;this.focusedCellId_="";this.bottomPane_&&wh(this.bottomPane_);this.removeChildren(!0);wh(this.thumbnailDiv_)};
Z.prototype.handleClick_=function(a){!a.metaKey&&!a.ctrlKey&&a.shiftKey||0===QQ(this).length||(null!==Ph(a.target,"main-content")||a.ctrlKey||this.lasso_||this.clearSelection(),Ph(a.target,"add-cell")&&a.stopPropagation())};
var v2=function(a,b,c){var d=b.layouts_;if(d){var e=lh("DIV","layouts-view");O_(d,e);qh(a.cellListElement,e)}c=q(c);for(e=c.next();!e.done;e=c.next()){e=e.value;var f=PM(a.notebookModel_,e);f&&(f=xX(f,a),u2(a,f),d?f.render(P_(b,e)||a.cellListElement):f.render(a.cellListElement))}},w2=function(a,b){var c=[];b&&(a=a.notebookModel_.getView(b))&&a.getCells().forEach(function(d){c.push(d.getId())});return c},y2=function(a){x2(a,a.getTraits());!BI(a.getTraits())&&a.getCells().length&&a.isEditable()&&!a.getTraits().params_.recent&&
US(a,a.getCells()[0].getId(),PN,!1);a.getHandler().listen(window,"hashchange",function(b){b=sI(new URL(b.event_.newURL));x2(a,b)})},WQ=function(a,b){I(!a.getElement());a.viewId_=b};
Z.prototype.enterDocument=function(){var a=this;O.prototype.enterDocument.call(this);this.collapsedLevelsParam_=void 0;this.sectionController_=new f1(this);this.embeddedMode_||(this.addChild(this.header_,!1),yn(this.header_,this.getElement().querySelector(".notebook-horizontal")));if(this.isEditable()){var b=new oS;this.addChild(b,!1);yn(b,this.cellListElement)}this.bottomPane_=document.createElement("colab-bottompane");P(this).appendChild(this.bottomPane_);gH(this.bottomPane_);this.getHandler().listen(this.bottomPane_,
"closed",function(){var f=a.focusedCell_;f&&"code"==f.getType()&&jX(f)});tJ()||t2(this,"History",new Y0(this));this.findReplace_=document.createElement("colab-find-replace");E1(this.findReplace_,this);t2(this,"Find/Replace",this.findReplace_);b=this.getHandler();TI(this.notebookModel_).isCommentable()&&(this.docCommentsView_=new MY(this.notebookModel_,this.commandHandler_),this.addChild(this.docCommentsView_,!1),this.docCommentsView_.render(document.body),this.docCommentsView_.setVisible(!1),b.listen(this.getElement(),
"focusChanged",function(){a.docCommentsView_.setVisible(!1)}),this.commentsSidebar_=new QY(this.notebookModel_),this.addChild(this.commentsSidebar_,!1),this.commentsSidebar_.render(this.getElementByClass("notebook-scrolling-horizontal")));b.listen(this.notebookContent_,"click",this.handleClick_,!0);b.listen(this.preferences_,"change",this.prefsChanged_,!0);if(vy){WU.clear();var c=z2(this,0,!0),d=z2(this,0,!1);$U([c,d])}else oV=nV=null;c=this.viewId_?this.viewId_:this.getTraits().getView();d=w2(this,
c);var e=null;c&&(e=this.notebookModel_.getView(c));L_(c,e)&&P(this.getComponent()).classList.add("views-hide-code");this.powerMode_=new WN(this.preferences_.POWER_LEVEL.getValue(),this.getElementByClass("notebook-horizontal"));b.listen(window,"resize",function(){var f=a.powerMode_;if(f.canvas){var g=f.canvas.parentElement;f.canvas.width=g.offsetWidth;f.canvas.height=g.offsetHeight}});b.listen(this.preferences_.POWER_LEVEL,"change",function(f){var g=a.powerMode_,h=f.oldValue;f=f.newValue;g.powerLevel=
f;VN(g,h,f)});if(e)v2(this,e,d);else for(c=0;c<this.realtimeCells_.length;c++)d=this.realtimeCells_.get(c),d=QM(this.notebookModel_,d),d=xX(d,this),d.setDisplayed(!1),u2(this,d),d.render(this.cellListElement);c=this.realtimeCells_;b.listen(c,AD.VALUES_ADDED,function(f){f=f.event_;var g=f.index;if(null!==f.movedFromIndex)A2(a,f.movedFromIndex,g,f.isLocal);else{for(var h=f.values,l=a.cellListElement,m=a.notebookModel_.isLoadingFromJson_,n=0;n<h.length;n++){var p=QM(a.notebookModel_,h[n]);p=xX(p,a);
u2(a,p,g+n);p.render(l);wh(p.getElement());m||qi(p.getElement(),!1);vh(l,p.getElement(),g+n);m||(new wu(p.getElement(),400)).play();p.refresh()}f.isLocal&&!m&&(f=a.realtimeCells_.get(g+h.length-1),a.toFocusCellId_=B2(f),a.toFocusCellType_=LN);a.postUpdateSectionLayoutAndFocus_();a.commentsSidebar_&&ZY(a.commentsSidebar_)}});b.listen(c,AD.VALUES_REMOVED,function(f){var g=f.event_;if(null===g.movedToIndex){(f=a.notebookModel_.isLoadingFromJson_)&&a.focusedCell_&&(a.toFocusCellId_=a.focusedCell_.getId(),
a.toFocusCellType_=MN);a.postUpdateSectionLayoutAndFocus_();var h=g.index;g=g.values;for(var l=a.focusedCellId_,m=!1,n=0;n<g.length;n++){var p=a.cells_[h],r=p.getId();if(r==l||r==a.toFocusCellId_)m=!0;C2(a,p)}m&&(a.focusedCell_=null,a.focusedCellId_="",h>=a.cells_.length&&h--,0<=h&&h<a.realtimeCells_.length&&!f&&(f=a.realtimeCells_.get(h),a.toFocusCellId_=B2(f),a.toFocusCellType_=MN));a.commentsSidebar_&&ZY(a.commentsSidebar_)}});b.listen(c,AD.VALUES_SET,function(f){var g=f.event_;f=g.index;g=g.newValues;
for(var h=a.cellListElement,l=yh(h),m=0;m<g.length;m++){var n=QM(a.notebookModel_,g[m]);n=xX(n,a);null==n.getElement()&&(n.render(h),wh(n.getElement()));a.cells_[f+m]=n;xh(n.getElement(),l[f+m]);n.refresh()}a.postUpdateSectionLayoutAndFocus_()});b.listen(this,["add_code","add_text"],this.handleAddCell_);b.listen(this.notebookModel_,"trashed",this.onTrashed_);b.listen(this.notebookModel_,"title_changed",this.onTitleChange_);b.listen(this,"section-layout-changed",this.sectionLayoutChanged_);sS(rS());
this.thumbnailDiv_=c=lh("DIV","thumbnail");qh(document.body,c);b.listen(this.contentBackground_,"mousedown",this.handleContainerMouseDown_);b=this.getTraits();this.leftPane_=this.getElement().querySelector("colab-left-pane");b.params_.inlineDoc||b.getView()?this.leftPane_&&(this.leftPane_.remove(),this.leftPane_=null):this.initLeftPane();y2(this)};
var E2=function(a){a.assistProvider_||(a.assistProvider_=new UR(a.getWorker()));var b=a.leftPane_.querySelector("colab-assist-pane");b.isInitialized()||(b.init(a.assistProvider_,a.isEditable(),a.getPreferences()),b.addEventListener(dS.EventType.INSERT_SNIPPET,function(c){D2(a,c.detail.cells,c.detail.fileId)}));Aj(function(){return b.focus()})};
Z.prototype.initLeftPane=function(){var a=this;this.leftPane_.addEventListener(ZX.EventType.OPEN,function(){a.getElement().classList.add("colab-left-pane-open");P(a).dispatchEvent(new Event("resize"))});this.leftPane_.addEventListener(ZX.EventType.REQUEST_OPEN,function(){var b=a.cells_.some(function(c){return"code"!=c.getType()&&!!c.getSectionTitle()})?ZX.Page.TOC:ZX.Page.SNIPPETS;l2(a,{page:b,open:!0,userRequested:!0})});this.leftPane_.addEventListener(ZX.EventType.PAGE_CHANGE,function(){var b=YX(a.leftPane_);
a.onLeftPanePageChange(b)});this.leftPane_.addEventListener(ZX.EventType.CLOSE,function(){a.getElement().classList.remove("colab-left-pane-open");dN(a.notebookModel_,!1);P(a).dispatchEvent(new Event("resize"))});$M(this.notebookModel_)&&l2(this,{page:ZX.Page.TOC,open:!0,userRequested:!1})};Z.prototype.onLeftPanePageChange=function(a){a==ZX.Page.SNIPPETS?E2(this):a==ZX.Page.TOC&&this.leftPane_.querySelector("colab-table-of-contents").init(this,I(this.sectionController_))};
var F2=function(a){if(!document.getElementsByClassName("executed-code-history").length){var b=new NZ;b.classList.add("executed-code-history");a.notebookContainer_.parentNode.appendChild(b);a=a.getElement().querySelector(".notebook-horizontal").offsetHeight;b.init("Executed code history",a);a=document.createElement("colab-component-adapter");b.getContainer().appendChild(a);gH(a);a.component=new PZ;a.show()}},H2=function(a,b){var c=(void 0===b?0:b)?UQ(a)[0]:null,d=c?c.getElement():null;b=new NZ;b.classList.add("scratchpad");
var e=I(a.getElement().querySelector(".notebook-horizontal"));e.appendChild(b);e=e.offsetHeight;b.init("Scratch code cell",d?Math.min(d.offsetHeight,e):200);var f=IX(a,c instanceof rW?c.codeModel_:null),g=f.getId();a.idToCellMap_.set(g,f);f.render(b.getContainer());b.addEventListener(NZ.EventType.CLOSE_REQUESTED,function(){var h=a.lastFocusedCellId_?BR(a,a.lastFocusedCellId_):null;a.focusedCell_==f&&(G2(a),h&&h!=f&&US(a,h.getId()));a.idToCellMap_.delete(g);f.dispose()},!0);c=function(){a.focusedCell_!=
f&&(G2(a),US(a,g));f.setEditing(!0)};b.addEventListener(NZ.EventType.FOCUS,c);c()};Z.prototype.editNotebookTitle=function(){this.header_.editNotebookTitle()};Z.prototype.getHistory=function(){return this.history_};
var I2=function(a,b){b=void 0===b?!0:b;var c;if(c=!!a.sectionController_)a:{c=a.sectionController_;a=d2(a);a=q(a);for(var d=a.next();!d.done;d=a.next())if(d=d.value.getId(),c.sectionSizes_[d]&&(b&&!n1(c,d)||!b&&n1(c,d))){c=!0;break a}c=!1}return c},d2=function(a){var b=QQ(a);return b.length?b:a.getCells()};Z.prototype.sectionLayoutChanged_=function(){this.commentsSidebar_&&TY(this.commentsSidebar_);s0(this.header_)};
var J2=function(a,b){var c=b.params_.collapsedLevels||null;a.collapsedLevelsParam_=c;a.sectionController_.reset(!1);"false"===c||b.getView()?g1(a.sectionController_):c?(b=c.split(",").map(function(d){return parseInt(d,10)-1}).filter(function(d){return!isNaN(d)}),-1===b[0]?g1(a.sectionController_):l1(a.sectionController_,b)):(b=ZM(a.notebookModel_))?(b=b.map(function(d){return BR(a,d)}).filter(function(d){return!!d}),VX(a.sectionController_,b,!1)):m1(a.sectionController_,{maxVisibleCodeCells:a.preferences_.AUTOCOLLAPSE_MAX_CODE_CELLS.getValue(),
maxVisibleCells:a.preferences_.AUTOCOLLAPSE_MAX_CELLS.getValue(),showFirstCells:a.preferences_.AUTOCOLLAPSE_SHOW_FIRST_N_CELLS.getValue()})};Z.prototype.prefsChanged_=function(a){"showLineNumbers"==a.key?this.getElement().classList.toggle("show-line-numbers",a.newValue?!0:!1):"customSnippetURLs"==a.key?rR(this):"siteTheme"==a.key?W1(a.newValue):"editorAutoTriggerCompletions"==a.key&&fQ(a.newValue)};
var W1=function(a){document.querySelector("html").setAttribute("theme",a)},WS=function(a,b,c,d){d=void 0===d?!0:d;c=IN(MN,{editorPosition:new CodeMirror.Pos(c-1,0)});a.focusedCellId_==b&&a.focusedCell_.setFocused(!1);US(a,b,c,d)},x2=function(a,b){(b.params_.collapsedLevels||null)!==a.collapsedLevelsParam_&&J2(a,b);Aj(function(){var c=BI(b);if(c){var d=parseInt(b.getLine(),10);0<=d?WS(a,c,d,!1):a.focusedCellId_!=c&&US(a,c,PN,!1)}})};Z.prototype.onTrashed_=function(){$1(this)};
Z.prototype.onTitleChange_=function(a){var b=this.kernel_;a=a.title;var c=b.runtime_;if(b.isRunning()&&c){c=b.runtimeManager_;var d=b.connection_.session_.kernelSessionId;b=BC(K2(b));c.renameSession({newTitle:a,notebookPath:b,sessionId:d})}else Mk()};Z.prototype.getCells=function(){return this.cells_};
Z.prototype.handleAddCell_=function(a){var b=a.target.getCellId(),c="code";"add_code"===a.type?c="code":"add_text"===a.type&&(c="text");void 0!==b?(a=L2(this,b),M2(this,c,{after:!0,index:a})):N2(this,c,0)};
var N2=function(a,b,c,d,e){c=void 0===c?a.realtimeCells_.length:c;if(!a.isEditable())return null;a.model.beginCompoundOperation("addNewCell",!1);b=d||KD(a.model,b);e&&e(b);e=a.history_;e.model_.beginCompoundOperation("insert",!1);QO(e,"insert","insert",b,c);e.model_.endCompoundOperation();a.model.endCompoundOperation();return b.get("id")},VQ=function(a,b){var c=UQ(a),d=0;c.length&&(d=Math.max(0,L2(a,c[c.length-1].getId())+1));b=hN(a.notebookModel_,b,!0).map(function(e){return e.realtimeCell_});TO(a.history_,
d,b)};Z.prototype.isEditable=function(){return TI(this.notebookModel_).isEditable()};var L2=function(a,b){return a.cells_.findIndex(function(c){return c.getId()===b})},BR=function(a,b){return a.idToCellMap_.get(b)};Z.prototype.kernelAccessAllowed=function(a,b){return"code"!=a.getType()?!1:a.outputArea_.outputs.outputs_[b].localContent_};Z.prototype.clearSelection=function(){var a=this;QQ(this).forEach(function(b){return VS(a,b,!1)});this.rangeSelectStartCell_=-1};
Z.prototype.selectAll=function(){var a=this;this.cells_.forEach(function(b){return VS(a,b,!0)})};
var aZ=function(a,b){var c=BR(a,b),d=!1;if(!c)return 0;c.isDisplayed_||(d=O2(a,L2(a,b),-1),c=a.getCells()[d],d=!0);if(!c)return 0;a=c.getElement();if(!a)return 0;b=0;d&&(b=(d=a.querySelector(".section-header-container"))?d.offsetTop:0);return a?a.offsetTop+b:0},VS=function(a,b,c){if(b.isSelected()!=c){var d=a.getCells(),e=L2(a,b.getId());b.setSelected(c);do d[e].setSelected(c),e+=1;while(e<d.length&&!d[e].isDisplayed_);G2(a);a.postUpdateSelectionControls_()}},Q2=function(a,b){if(b.ctrlKey||b.metaKey||
27==b.keyCode)b=new KeyboardEvent("keydown",b),a.shortcutHandler_&&LY(a.shortcutHandler_,b,!0)&&P2(a)};Z.prototype.processIframeMessage=function(a,b,c){if("load_failed"==c.action)bJ(c),wH(WD.OUTPUT_JAVASCRIPT_LOADING_ERROR,"");else{if((a=BR(this,a))&&"code"==a.getType())return this.processCellMessage(a,b,c);console.warn("Dropping cell message: cannot find codecell.")}};
Z.prototype.processCellMessage=function(a,b,c){switch(c.action){case "invoke_function":if(!this.kernelAccessAllowed(a,b))throw Error("This code cell must be re-executed to allow runtime access.");c=c.payload;return R2(this,a,c.functionName,c.args,c.kwargs);case "keydown":c.event?Q2(this,c.event):(aJ(new Cy("Keydown message from iframe does not contain event.")),console.log("Keydown message from iframe does not contain event:",c));break;case "resize_cell_output":yV(a.outputArea_,c.desiredHeight,b,
c.options);break;case "restart_runtime":if(!this.kernelAccessAllowed(a,b)||!bX(a))throw Error("This code cell must be re-executed to allow runtime access.");this.commandHandler_.execute(JF,3);break;case "window_open":ZG(c.url);break;case "open_snippet":if(!this.kernelAccessAllowed(a,b))throw Error("Execution failed: the cell is not allowed to communicate with the runtime.");qR(this,c.value);break;case "select_cell":S2(this,a,c);break;case "scroll_to_cell":b=c.line;var d=c.exec_count,e;this.getCells().forEach(function(g){"code"===
g.getType()&&g.executionCount_==d&&(e=g.getId())});e||Y({message:"Received a request to scroll to an unknown location. That cell might have been changed or removed."});WS(this,e,b);break;case "outputview_response":xV(bW(a.outputArea_),c.value);break;case "keyboard_input":if(!this.kernelAccessAllowed(a,b))break;this.getKernel().sendInputReply(c.payload);break;case "send_comm_message":if(!this.kernelAccessAllowed(a,b)||!bX(a))throw Error("This code cell must be re-executed to allow runtime access.");
return this.getKernel().sendCommMessage(c.commChannelId,c.data,a).finally(function(){CW(a,!1)});case "get_widget_model_state":return(c=this.notebookModel_.widgets_.getModel(c.modelId))?c.getState():null;case "proxy_port":if(!this.kernelAccessAllowed(a,b)||!bX(a))throw Error("This code cell must be re-executed to allow runtime access.");if(!wy)throw Error("Not allowed");c=c.value;if(0==c||!Number.isSafeInteger(c))throw Error("Invalid port: 0");var f=z2(this,c,!0);return f.loaded().then(function(){return f.url_.toString()});
default:console.warn("Unhandled cell message: "+c.action)}};
var R2=function(a,b,c,d,e){var f,g,h,l,m,n,p,r,w;return B(function(v){if(1==v.nextAddress){if(!bX(b))return v.return(null);CW(b,!0);f=a.getKernel();g=f.runtime_;h=JSON.stringify(d);l=JSON.stringify(e);g.capabilities.supportsColabtools?(m="from google3.research.colab.lib import message as __msg239;",n="__msg239.handler._InvokeFunction("+JSON.stringify(c)+", "+('r"""'+h+'""", r"""'+l+'""")')):(m="from google.colab.output import _js as __js_239;",n="__js_239._invoke_function("+JSON.stringify(c)+", "+
('r"""'+h+'""", r"""'+l+'""")'));ua(v);p=a.getKernel();return u(v,p.execute(m,b,{userExpressions:{expression:n}}),4)}if(2!=v.nextAddress){r=v.yieldResult;w=r.userExpressions.get("expression");if(!w.isSuccess())throw Error(w.evalue);return v.return(w)}wa(v);CW(b,!1);return xa(v,0)})},T2=function(a){Xk(UW(a,"rerun_with_debug"),function(b){if(b instanceof dX)WG();else if(!(b instanceof lC))throw b;})},z2=function(a,b,c){var d=a.portProxies_.find(function(e){return e.getPort()==b&&e.isTrusted()==c});
if(d)return d;d=new EX(a.getKernel(),c,b);nj(a,d);a.portProxies_.push(d);d.render(a.getElement().querySelector(".proxies"));return d};Z.prototype.shouldShowExternalCodeWarning=function(){return!1};Z.prototype.confirmCodeExecution=function(){return Mk()};var S2=function(a,b,c){c.event&&(c.event.ctrlKey||c.event.metaKey)?(document.activeElement.blur(),b.setSelected(!b.isSelected())):US(a,b.getId(),KN)};Z.prototype.updateListeners=function(){};
var U2=function(a,b){var c=d2(a);VX(a.sectionController_,c,b)},O2=function(a,b,c){a=a.cells_;for(b+=c;0<=b&&b<a.length&&!a[b].isDisplayed_;)b+=c;return b},V2=function(a,b){if(a.isEditable()&&0!==b){var c=UQ(a);if(0!=c.length){c[0].isSelected()||VS(a,c[0],!0);var d=function(g){return g.isSelected()},e=a.cells_.findIndex(d),f=Lb(a.cells_,d);c=a.cells_.slice(e,f+1);c.every(d)?(b=0>b?O2(a,e,b):O2(a,f+1,b)-1,0>b?Y({message:"Could not move cells: this cell is already at the top."}):b>=a.cells_.length?Y({message:"Could not move cells: this cell is already at the bottom."}):
(c=c.map(function(g){return g.realtimeCell}),SO(a.history_,b,c))):Y({message:"Could not move cells: selected cells must be contiguous."})}}},B2=function(a){return a.has("id")?a.get("id"):a.id},UQ=function(a){var b=QQ(a);if(0<b.length)return b;var c=a.focusedCell_;if(c){var d=L2(a,c.getId());if(-1==d)return[c];a=a.getCells();do b.push(a[d]),d+=1;while(d<a.length&&!a[d].isDisplayed_);return b}return[]},TQ=function(a,b){if(a.isEditable()&&b&&b.length){var c=[],d=[],e=!1;b.forEach(function(f){f instanceof
rW&&f.isRunning()&&!e&&(a.kernel_.interrupt(),e=!0);d.push(f.getId());c.push(f.realtimeCell)});UO(a.history_,c);a.commentsSidebar_&&TY(a.commentsSidebar_)}},DT=function(a,b){var c=L2(a,a.focusedCellId_),d=c+b;0>d&&(d=0);d>=a.realtimeCells_.length&&(d=a.realtimeCells_.length-1);if(d!=c){c=a.focusedCell_;c=!!c&&c.isEditing();var e=MN;0<b?e=NN:0>b&&(e=ON);b=a.realtimeCells_.get(d);US(a,B2(b),e);a.getCells()[d].setEditing(c)}};Z.prototype.undo=function(){this.history_.undo();W2(this)};
Z.prototype.redo=function(){this.history_.redo();W2(this)};var W2=function(a){a.toFocusCellType_&&(a.toFocusCellType_=IN(a.toFocusCellType_,{editorPosition:"blur"}))};
Z.prototype.saveNotebook=function(a,b){var c=this;a=void 0===a?!1:a;b=void 0===b?!1:b;I(this.notebookModel_.saveable());var d=RI(this.notebookModel_),e=function(g){c.commandHandler_.execute(g,13)},f=YG(!0,d,e);this.preferences_.COLLAPSIBLE_SECTIONS_PERSIST_ON_SAVE.getValue()&&X2(this);return this.notebookModel_.save({pinned:a,force:b}).then(function(){f.clear();YG(!1,d,e);return f},function(g){f.clear();return Y2(c,g)})};
var X2=function(a){for(var b=[],c=q(a.getCells()),d=c.next();!d.done;d=c.next())d=d.value.getId(),n1(a.sectionController_,d)||b.push(d);a=a.notebookModel_;a.isReadOnly()||(c=ZM(a),c&&b.join(",")==c.join(",")||(SM(a),a.getMetadata().set("collapsed_sections",b)))},Y2=function(a,b){var c={title:"Save failed",message:"This file could not be saved. Please use the File menu to download the .ipynb and upload the notebook to make a copy that includes your recent changes.",yesText:"Download .ipynb"};b instanceof
vK&&(c.message="This file could not be saved. Please make a copy to Google Drive to persist your changes.",c.yesText="Make a copy");b instanceof fK&&(c.message="The notebook has been changed outside of this session. Would you like to overwrite existing changes?",c.yesText="Yes");return yH(c).then(function(d){if(!d)throw b;if(b instanceof vK)eJ(13,"ok","Copy to Drive"),a.clone("piper");else{if(b instanceof fK)return a.saveNotebook(void 0,!0);a.downloadIpynb()}})};
Z.prototype.downloadIpynb=function(){var a=ND(this.notebookModel_);tA(uA(this.notebookModel_.getTitle(),".ipynb"),JD(a,!0))};
var c2=function(a,b,c){var d=void 0===c?{}:c;c=void 0===d.after?!0:d.after;var e=void 0===d.fallback?null:d.fallback,f=void 0===d.initializer?void 0:d.initializer;d=void 0===d.rtCell?void 0:d.rtCell;if(a.focusedCellId_)e=L2(a,a.focusedCellId_);else switch(e){case "at_top":e=0;c=!1;break;case "at_end":e=a.realtimeCells_.length-1;c=!0;break;default:Y({message:"Unable to a insert cell when no cell is focused. Select a cell and retry."});return}M2(a,b,{after:c,index:e,rtCell:d,initializer:f})},M2=function(a,
b,c){var d=c.after,e=void 0===c.index?void 0:c.index,f=void 0===c.initializer?void 0:c.initializer;c=void 0===c.rtCell?void 0:c.rtCell;void 0!=e&&d&&(e=O2(a,e,1));(d=N2(a,b,e,c,f))&&"text"==b&&(a=BR(a,d))&&a.setEditing(!0)},Z2=function(a){a=a.cells_.find(function(b){return"toc"===b.getType()});return void 0===a?null:a},$2=function(a){var b=Z2(a);if(b)return TG({message:"Table of contents cell already exists."}),US(a,b.getId()),b;c2(a,"toc",{fallback:"at_top"});return I(Z2(a))},a3=function(a,b){var c;
B(function(d){switch(d.nextAddress){case 1:return y(d,2),u(d,qJ(mJ()),4);case 4:va(d,3);break;case 2:c=z(d);if(c instanceof CH)return d.return();throw c;case 3:UD.showOpenNotebookDialog(b,a.getTraits(),{focus:"upload"}),x(d)}})},b3=function(a,b){var c=a.focusedCell_,d=L2(a,a.focusedCellId_);if(c&&c.getType()!=b){var e=c.getText();b=KD(a.model,b,e,c.getId());a=a.history_;a.model_.beginCompoundOperation("cell conversion",!1);QO(a,"delete","cell conversion",a.cells_.get(d));QO(a,"insert","cell conversion",
b,d);RO(a,2);a.model_.endCompoundOperation()}};Z.prototype.toggleOutput=function(){var a=this.focusedCell_;a&&"code"==a.getType()&&a.toggleOutput()};
var c3=function(a){var b=a.focusedCell_;if(b){var c=b.getEditor();if(c){var d=c.getRange(void 0,c.getCursor());c=c.getRange(c.getCursor());d=d&&c?[d,c]:null}else d=null;!d||2>d.length||(b.getTextModel().setText(d[0]),b=KD(a.model,b.getType(),d[1]),d=L2(a,a.focusedCellId_),a=a.history_,QO(a,"insert","split cell",b,d+1),RO(a,1))}else Y({message:"Unable to split cell when no cell is focused. Select a cell and retry."})},e3=function(a,b){var c=a.focusedCell_;if(c){var d=L2(a,a.focusedCellId_)+b;if(0>
d||d>=a.realtimeCells_.length)Y({message:"Unable to merge cell. Select a cell with a neighboring cell (either up or down depending on merge direction) and retry."});else{var e=QQ(a);d=a.getCells()[d];a.clearSelection();VS(a,c,!0);VS(a,d,!0);d3(a,0>b?1:0);a.clearSelection();e.forEach(function(f){return VS(a,f,!0)})}}else Y({message:"Unable to merge cell. Select a cell with a neighboring cell (either up or down depending on merge direction) and retry."})},d3=function(a,b){b=void 0===b?0:b;var c=QQ(a);
if(0!=c.length){for(var d=L2(a,c[0].getId()),e=0;e<c.length;++e)if(L2(a,c[e].getId())!=d+e){Y({message:"Could not merge cells: selected cells must be contiguous."});return}c[b].getTextModel().setText(c.map(function(f){return f.getTextModel().getText()}).join("\n"));c.splice(b,1);TQ(a,c)}};Z.prototype.refresh=function(){for(var a=0;a<this.cells_.length;a++)this.cells_[a].refresh()};
Z.prototype.commentOnCell=function(){I(TI(this.notebookModel_).isCommentable());var a=this.focusedCell_;a?this.commentsSidebar_&&this.commentsSidebar_.commentOnCell(a.getId()):Y({message:"Unable to add a comment when no cell is focused. Select a cell and retry."})};
var g3=function(a,b){var c=0<a.busyCellIds_.size;a.busyCellIds_.delete(b.getId());c&&0==a.busyCellIds_.size&&f3(b.lastExecutionFailed_?XD.FAVICON.ERROR:XD.FAVICON.DEFAULT)},sR=function(a){return a.getCells().filter(function(b){return b instanceof rW}).some(function(b){return b.isRunning()||YW(b)})},u2=function(a,b,c){b instanceof rW&&(a.getHandler().listen(b,"busy",function(){var d=0==a.busyCellIds_.size;a.busyCellIds_.add(b.getId());d&&f3(XD.FAVICON.BUSY)}),a.getHandler().listen(b,"idle",function(){g3(a,
b)}));void 0!==c?Tb(a.cells_,c,0,b):a.cells_.push(b);a.idToCellMap_.set(b.getId(),b);a.addChild(b)},C2=function(a,b){a.removeChild(b,!0);Ob(a.cells_,b);a.idToCellMap_.delete(b.getId());a.getHandler().unlisten(b,["busy","idle"]);b instanceof rW&&b.isRunning()?Fy(b,"idle").then(function(){g3(a,b);b.dispose()}):b.dispose()},A2=function(a,b,c,d){var e=P(a.cells_[b]);if(c>=a.cells_.length){var f=P(a.cells_[a.cells_.length-1]);uh(e,f)}else f=P(a.cells_[c]),th(e,f);a.commentsSidebar_&&TY(a.commentsSidebar_);
d&&(d=a.focusedCell_,0!==QQ(a).length&&(d=function(g){return g.isSelected()},d=b<c?a.cells_.find(d):Mb(a.cells_,d)),d&&d.scrollIntoView());Zb(a.cells_,b,b>c?c:c-1);a.postUpdateSectionLayoutAndFocus_()},QQ=function(a){return a.cells_.filter(function(b){return b.isSelected()})},YS=function(a){var b=QQ(a);if(1==b.length)return b[0].createMenu(12);var c=function(h){return function(){a.commandHandler_.execute(h,12)}},d=!1,e=!1;b.forEach(function(h){h instanceof rW&&(d=!0,QU(h.formView_)&&(e=!0))});var f=
[];a.isEditable()&&f.push({name:"Delete cells",callback:c(WE),shortcut:bE(WE)});f.push({name:"Copy cells",callback:c(PE),shortcut:gE});a.isEditable()&&f.push({name:"Cut cells",callback:c(VE),shortcut:hE});d&&a.isEditable()&&(f.push({separator:!0}),f.push({name:"Clear selected outputs",callback:c(JE)}));d&&a.isEditable()&&(f.push({separator:!0}),f.push({name:"Run selected cells",callback:c(QF)}));1<b.length&&f.push({name:"Merge selected cells",callback:c(qG)});if(d&&(f.push({separator:!0}),b=q2(a),
f.push({name:b?"Show code":"Hide code",callback:c(lF)}),e)){var g=!!UQ(a).filter(function(h){return h instanceof rW}).find(function(h){return QU(h.formView_)&&"code"==h.getViewType()});f.push({name:g?"Show form":"Hide form",callback:function(){h3(QQ(a),g?"both":"code")}})}return NR(f,a.getHandler())},US=function(a,b,c,d){d=void 0===d?!0:d;if(a.inDocument_){a.clearSelection();var e=a.focusedCell_,f=BR(a,b);if(f)if(f.isFocused())f.updateFocus(c);else{e&&(e.setFocused(!1,c),a.lastFocusedCellId_=e.getId());
(e=f instanceof HX)||a.sectionController_.expandParents(b);a.focusedCellId_=b;a.focusedCell_=f;a.focusedCell_.setFocused(!0,c);a.commentsSidebar_&&WY(a.commentsSidebar_,b);f instanceof nX&&!f.isEditing()&&!jy&&a.notebookContainer_.focus();if(!e&&d){b=uI(tI());d=null;(c=c&&c.editorPosition)&&Pa(c.line)&&(d=c.line+1);c=q(Object.keys(b.params_));for(e=c.next();!e.done;e=c.next())e=e.value,Fz.includes(e)||delete b.params_[e];f=f.getId();d={line:d};d=void 0===d?{}:d;Vz(b,f,{line:void 0===d.line?null:d.line});
f=window.location.pathname+window.location.search+("#"+Lz(b.params_));ye(window.location,f)}s0(a.header_);a.getElement().dispatchEvent(new Event("focusChanged"))}}},P2=function(a){a=a.focusedCell_;var b=document.activeElement;return b&&"IFRAME"==b.tagName?(b.blur(),a&&(a.setFocused(!0),jX(a)),!0):!1},i3=function(a){if(!P2(a))if(a.bottomPane_.isOpen())a.bottomPane_.close();else{var b=a.focusedCell_;b instanceof HX?b.getElement().dispatchEvent(new Event(NZ.EventType.CLOSE_REQUESTED,{bubbles:!0})):b instanceof
JS&&b.isEditing()?b.setEditing(!1):G2(a)}},G2=function(a){if(a.focusedCell_){a.lastFocusedCellId_=a.focusedCell_.getId();a.focusedCell_.setFocused(!1);var b=document.activeElement;a.focusedCell_.getElement().contains(b)&&b.blur();a.focusedCell_=null;a.focusedCellId_="";s0(a.header_);a.notebookContainer_.focus()}},f3=function(a){var b=$g(document,"favicon-link");b&&(cc(b,"HTMLLinkElement"),b.rel="shortcut icon",kd("shortcut icon","stylesheet")?(I(a instanceof Nc,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),
b.href=a.trustedURL_?a.trustedURL_:Pc(a)):b.href=a instanceof Nc?a.trustedURL_?a.trustedURL_:Pc(a):a instanceof od?pd(a):pd(xd(a)))},k3=function(a,b,c){b=Math.max(0,b);c=Math.min(a.cells_.length,c);return j3(a,a.cells_.slice(b,c))},j3=function(a,b){if(!l3(a))return Mk([]);var c=b.filter(function(d){return"code"==d.getType()});return c.some(function(d){return!d.isTrustedContent()})?(WG(),Mk([])):a.confirmCodeExecution().then(function(){return m3(a,c)})},m3=function(a,b){var c=!1,d=function(){c=!0};
b.forEach(function(g){XW(g);g.listen("interrupted",d)});a.kernel_.listen("disconnected",d);var e=b.map(function(g){return function(){if(c)throw new Hk;if(!g.inDocument_)throw new Hk;return Xk(UW(g),function(h){if(h instanceof lC){var l=!1;h instanceof fW&&(l=h.reply&&"aborted"==h.reply.status);l||a.sectionController_.expandParents(g.getId());throw new Hk(h.message);}throw h;})}}),f;hy?f=Qk(e.map(function(g){return g()})):f=Mk(rK(a.executionQueue_,e));return Wk(Xk(f.then(function(g){if(hy)return b.map(function(h){return{cellId:h.getId()}});
g.forEach(function(h,l){h.cellId=b[l].getId()});return g}),function(g){if(g instanceof dX)return WG(),[];if(g instanceof Hk||g instanceof lC)return[];bJ(g);console.warn(g);return Mk([])}),function(){b.forEach(function(g){g.inDocument_&&(g.unlisten("interrupted",d),a.kernel_.unlisten("disconnected",d),WW(g),g.reset())})})},l3=function(a){return a.isEditable()?!0:(Y({message:"Running read-only notebooks is not supported. Make a copy of this notebook or switch to playground mode."}),!1)},n3=function(a){if(l3(a)){var b=
QQ(a);b.length?j3(a,b).then(function(){}):(a=a.focusedCell_)&&"code"==a.getType()?Xk(VW(a,!0),function(c){if(!(c instanceof lC))throw c;}):Mk()}else Mk()};Z.prototype.runAll=function(){return k3(this,0,this.cells_.length)};
var o3=function(a){var b=L2(a,a.focusedCellId_);0>b?(Y({message:"No cell is focused to run. Select a cell and retry."}),Mk([])):(a.preferences_.RUN_BEFORE_INCLUSIVE.getValue()&&b++,k3(a,0,b))},p3=function(a){var b=L2(a,a.focusedCellId_);0<=b?k3(a,b,a.cells_.length):(Y({message:"No cell is focused to run. Select a cell and retry."}),Mk([]))},q3=function(a,b,c){if(l3(a)){var d=BR(a,a.focusedCellId_);if(d){d instanceof rW&&Xk(VW(d),function(h){if(!(h instanceof lC))throw h;});var e=L2(a,a.focusedCellId_);
if(b&&-1!=e){b=e==a.cells_.length-1;var f=""==d.getText(),g="";c||b&&!f?(d.setSelected(!1),g=N2(a,"code",e+1)):b&&f||(g=a.cells_[e+1].getId());null!=g&&US(a,g,NN)}}}},r3=function(a){l3(a)&&(a=BR(a,a.focusedCellId_))&&a instanceof rW&&T2(a)};Z.prototype.clearAllOutputs=function(){s3(this,this.cells_)};
var s3=function(a,b){if(a.isEditable()){a=[];b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c instanceof rW&&a.push(c.codeModel_.clearOutputs());Xk(Qk(a),function(d){bJ(d);Y({message:"Failed to clear code execution outputs."})})}},h3=function(a,b){a.forEach(function(c){"code"===c.getType()&&yW(c,b)})},t3=function(a){if((a=a.focusedCell_)&&"code"===a.getType()){var b=a.getViewType(),c=mc(uz).sort();b=c.indexOf(b);yW(a,c[(b+1)%c.length])}};
Z.prototype.cloneToDrive=function(){var a=this,b,c;return B(function(d){switch(d.nextAddress){case 1:return y(d,2),u(d,qJ(mJ()),4);case 4:va(d,3);break;case 2:b=z(d);if(b instanceof CH)return d.return();throw b;case 3:return c=a.notebookModel_.cloneToDrive(),d.return(u3(c))}})};
var $1=function(a){!a.trashDialogDisplayed_&&a.notebookModel_.getTrashed()&&(a.trashDialogDisplayed_=!0,a.notebookModel_.isOwnedByMe()?yH({title:"Notebook has been moved to the trash",message:"If you still need this notebook, take it out of the trash.",yesText:"Return to Colaboratory",noText:"Take out of trash"}).then(function(b){a.trashDialogDisplayed_=!1;b?ye(window.location,window.location.origin):a.notebookModel_.untrashNotebook()}):yH({title:"Notebook has been moved to the trash",message:"If you need this notebook, make a copy or contact the owner. This notebook may be permanently deleted at any time.",
yesText:"Return to Colaboratory",noText:"Continue anyway"}).then(function(b){a.trashDialogDisplayed_=!1;b&&ye(window.location,window.location.origin)}))},u3=function(a){Y({message:"Creating a copy...",timeoutMillis:-1});return a.then(function(b){var c=eA(jA(Uz(b)),!1).toString();ze(c,window,Gc("_blank"))?Y({message:"Success"}):(UG(),zH({title:"Notebook copy complete",message:"Colaboratory could not open a new browser window. Make sure that pop-up windows are not blocked.",confirmText:"Open in new tab"}).then(function(d){d&&
ze(c,window,Gc("_blank"))}))},function(b){UG();b instanceof CH||wH("Unable to copy notebook.",b)})};
Z.prototype.handleContainerMouseDown_=function(a){var b=this;a.defaultPrevented||0!=a.button||(1!=[a.shiftKey,a.metaKey,a.ctrlKey].reduce(function(c,d){return c+(d?1:0)},0)&&this.clearSelection(),this.lasso_&&(this.lasso_.remove(),this.lasso_=null),a.target&&Nh(a.target,function(c){return c==b.cellListElement},!0)||(this.lasso_=new DZ,this.lasso_.startDrag(a,this.contentBackground_),this.lasso_.listen("selection_change",function(c){b.clearSelection();for(var d=q(b.originalSelection_),e=d.next();!e.done;e=
d.next())(e=BR(b,e.value))&&VS(b,e,!0);d=c.detail.range;c=c.detail.event.ctrlKey?!c.detail.event.metaKey:c.detail.event.metaKey;e=q(b.getCells());for(var f=e.next();!f.done;f=e.next())if(f=f.value,f.isDisplayed_){var g=oi(f.getElement());g.left<=d.left+d.width&&d.left<=g.left+g.width&&g.top<=d.top+d.height&&d.top<=g.top+g.height&&(c?VS(b,f,!f.isSelected()):VS(b,f,!0))}}),this.originalSelection_=QQ(this).map(function(c){return c.getId()})))};
var rR=function(a){var b,c;B(function(d){b=function(e){try{return rI(new URL(e),!0)}catch(f){console.error("Failed to load "+e+": "+f.message)}return null};c=a.preferences_.CUSTOM_SNIPPET_URLS.getValue().split(/\s+/).filter(function(e){return!!e}).map(b).filter(function(e){return!!e});return d.return(a.loadSnippets(c))})};
Z.prototype.loadSnippets=function(a){var b=this,c,d;return B(function(e){if(1==e.nextAddress){if(!a.length)return e.return();c=b.getWorker();y(e,2);return u(e,$O(c,a),4)}if(2!=e.nextAddress)return va(e,0);d=z(e);console.warn("Preloading snippets "+a+" failed: "+d);if(b.isDisposed())return e.return();bJ(d);x(e)})};
var l2=function(a,b){var c=b.page,d=void 0===b.open?null:b.open;b=void 0===b.userRequested?!1:b.userRequested;a.leftPane_&&(null==d&&(d=!a.leftPane_.isOpen()||YX(a.leftPane_)!=c),c==ZX.Page.TOC&&dN(a.notebookModel_,d),d?a.leftPane_.open(c,!!b):a.leftPane_.close())},qR=function(a,b){a.leftPane_&&(l2(a,{page:ZX.Page.SNIPPETS,open:!0,userRequested:!0}),E2(a),a.leftPane_.querySelector("colab-assist-pane").setQuery(b))},v3=function(a,b){var c=!0;b=void 0===b?null:b;c=void 0===c?!0:c;if(!b)return a.realtimeCells_.length;
a=L2(a,b);c&&a++;return a},D2=function(a,b,c){eJ(15,"Insert Snippet",c);c=v3(a,a.focusedCellId_);var d=null,e={};b=q(b.reverse());for(var f=b.next();!f.done;e={$jscomp$loop$prop$cell$315:e.$jscomp$loop$prop$cell$315},f=b.next())e.$jscomp$loop$prop$cell$315=f.value,d=N2(a,e.$jscomp$loop$prop$cell$315.type,c,null,function(g){return function(h){h.get("text").setText(g.$jscomp$loop$prop$cell$315.contents)}}(e));d&&US(a,d)},tX=function(a,b){a.getElement().classList.toggle("notebook-busy",!0);a.sectionController_.setSectionExpanded(b,
!n1(a.sectionController_,b));a.getElement().classList.toggle("notebook-busy",!1)};Z.prototype.expandParents=function(a){this.sectionController_.expandParents(a)};Z.prototype.expandCellsInParentHeaderAfter=function(a,b){this.sectionController_.expandCellsInParentHeaderAfter(a,b)};
var w3=function(a){var b=a.focusedCell_;b&&(b=UX(a.sectionController_,b.getId()))&&(tX(a,b),US(a,b))},x3=function(a){var b=a.focusedCell_;if(!b)return function(){};var c=b.getEditor(),d=null!=c&&b.isEditing()?c.getCursor():null;return function(){US(a,b.getId());d&&c.focus(d)}};k=Z.prototype;k.toggleHeader=function(){this.header_.toggleHeader()};k.getComponent=function(){return this};k.isolationEnabled=function(){return Nz.ISOLATED_NOTEBOOKS};k.completelyLoaded=function(){var a=this;return Qk(this.portProxies_.map(function(b){return b.loaded()})).then(function(){return Promise.all(a.getCells().filter(function(b){return b.isDisplayed_}).map(function(b){return b.cellLoaded()}))}).then(function(){})};
k.installIfNeeded=function(){return B(function(a){x(a)})};k.getSaveState=function(){return this.saveState_};k.viewRuntimeLogs=function(){B(function(a){x(a)})};Z.prototype.getSaveState=Z.prototype.getSaveState;Z.prototype.completelyLoaded=Z.prototype.completelyLoaded;Z.prototype.isolationEnabled=Z.prototype.isolationEnabled;kb("startPresentation",function(){MM()});var y3=function(a){var b=U(Oa(a.saveable)||1===a.saveable||0===a.saveable,"saveable",a.saveable,"boolean"),c=U(Oa(a.privateOutputs)||1===a.privateOutputs||0===a.privateOutputs,"privateOutputs",a.privateOutputs,"boolean"),d=U(Oa(a.allowsUpdatePrivateOutputs)||1===a.allowsUpdatePrivateOutputs||0===a.allowsUpdatePrivateOutputs,"allowsUpdatePrivateOutputs",a.allowsUpdatePrivateOutputs,"boolean"),e=U(Za(a.accelerators),"accelerators",a.accelerators,"!Array<{display_name: (!goog.soy.data.UnsanitizedText|string), name: (!goog.soy.data.UnsanitizedText|string),}>"),
f=U(Pa(a.acceleratorSelectedIndex),"acceleratorSelectedIndex",a.acceleratorSelectedIndex,"number"),g=U(Za(a.kernelSpecs),"kernelSpecs",a.kernelSpecs,"!Array<{display_name: (!goog.soy.data.UnsanitizedText|string), name: (!goog.soy.data.UnsanitizedText|string),}>"),h=U(Pa(a.kernelSpecSelectedIndex),"kernelSpecSelectedIndex",a.kernelSpecSelectedIndex,"number"),l=U(F(a.labelPrivateOutputs)||a.labelPrivateOutputs instanceof N,"labelPrivateOutputs",a.labelPrivateOutputs,"!goog.soy.data.UnsanitizedText|string");
a=U(F(a.msgMoreInfo)||a.msgMoreInfo instanceof N,"msgMoreInfo",a.msgMoreInfo,"!goog.soy.data.UnsanitizedText|string");var m='<div class="content-area"><h2>Notebook settings</h2></div><paper-dialog-scrollable class="notebook-settings"><div class="prefs">';if(g.length){m=m+"<p><paper-dropdown-menu id='kernel-spec-menu' label=\""+S("Runtime type");m+='"><paper-listbox id="kernel-spec" class="dropdown-content nowrap" slot="dropdown-content" selected="'+T(h)+'">';h=g.length;for(var n=0;n<h;n++){var p=
g[n];m+='<paper-item value="'+T(p.name)+'">'+R(p.display_name)+"</paper-item>"}m+="</paper-listbox></paper-dropdown-menu></p>"}if(e.length){m=m+"<p><paper-dropdown-menu id='accelerators-menu' label=\""+S("Hardware accelerator");m+='"><paper-listbox id="accelerator" class="dropdown-content nowrap" slot="dropdown-content" selected="'+T(f)+'">';f=e.length;for(h=0;h<f;h++)n=e[h],m+='<paper-item value="'+T(n.name)+'">'+R(n.display_name)+"</paper-item>";m+='</paper-listbox></paper-dropdown-menu><a href="https://research.google.com/colaboratory/faq.html#gpu-availability" target="_blank"><iron-icon icon="help-outline" id="help-accelerator"></iron-icon></a><paper-tooltip for="help-accelerator" id="help-accelerator-tooltip" offset="8">'+
R(a)+"</paper-tooltip></p>"}m+="<p><paper-checkbox"+(c?" checked":"")+(d?"":" disabled")+" class='private-outputs' noink>"+R(l)+'</paper-checkbox></p></div></paper-dialog-scrollable><div class="buttons"><paper-button id="cancel" class="dismiss" dialog-dismiss>';m+="Cancel</paper-button>";if(b||e.length||g.length)m+='<paper-button id="ok" dialog-confirm>Save</paper-button>';return Q(m+"</div>")};y3.soyTemplateName="colab.settings.templates.settings";var A3=function(a){var b=a.saveable(),c=RI(a),d=[];Wx&&d.push(wz);Xx&&d.push(xz);d.length&&d.unshift(vz);var e=a.getAccelerator(),f=d.findIndex(function(r){return r.name==e}),g=SI(a),h=[];VD.SUPPORTS_PYTHON_3&&(!g||Ez(g,zz)||Ez(g,Az)||h.push(g),h.push(Az),h.push(zz));var l=null==g?0:Math.max(0,h.findIndex(function(r){return g.name==r.name}));f=mH.createWithTemplate(y3,{kernelSpecSelectedIndex:l,privateOutputs:c,accelerators:d,acceleratorSelectedIndex:f,saveable:b,allowsUpdatePrivateOutputs:b&&!Gx,
kernelSpecs:h,labelPrivateOutputs:"Omit code cell output when saving this notebook",msgMoreInfo:"More info"});f.id="notebook-settings";(l=f.querySelector("paper-dropdown-menu,paper-checkbox"))&&!l.hasAttribute("disabled")?hH(l):f.querySelector("#cancel").setAttribute("autofocus","");var m=f.querySelector(".private-outputs"),n=f.querySelector("#accelerator"),p=f.querySelector("#kernel-spec");lH(f).then(function(r){if(r.confirmed){var w=r=null;p&&(r=p.selected,r=null!=r?h[r]:null);n&&(w=n.selected,
w=null!=w?d[w].name:null);a.setRuntime(r,w);b&&m.checked!=c&&z3(m.checked,a)}})},z3=function(a,b){var c,d,e;return B(function(f){switch(f.nextAddress){case 1:return a?u(f,yH({title:"Page reload required",message:"Enabling private outputs requires a page reload and will discard all outputs.",yesText:"Reload",noText:"Disable private outputs"}),2):(TM(b,!1),f.return());case 2:c=f.yieldResult;if(!c)return f.return();TM(b,!0);d=TG({message:"Saving...",timeoutMillis:-1});y(f,3);return u(f,b.clearAllOutputs(),
5);case 5:return u(f,b.save(),6);case 6:B3(b);va(f,0);break;case 3:e=z(f),d.clear(),wH("Save failed",e),x(f)}})},B3=function(a){var b=jb(),c=window.setInterval(function(){var d=jb()-b;if(0==a.getDocument().saveDelay||1E4<d)window.clearInterval(c),window.location.reload()},100)};var C3=function(a,b,c){a.timeOfStartCall=(new Date).getTime();var d=c||D,e=d.document,f=Sa(d);f&&(a.nonce=f);if("help"==a.flow){var g=Ua("document.location.href",d);!a.helpCenterContext&&g&&(a.helpCenterContext=g.substring(0,1200));g=!0;if(b&&JSON&&JSON.stringify){var h=JSON.stringify(b);(g=1200>=h.length)&&(a.psdJson=h)}g||(b={invalidPsd:!0})}b=[a,b,c];d.GOOGLE_FEEDBACK_START_ARGUMENTS=b;c=a.serverUri||"//www.google.com/tools/feedback";if(g=d.GOOGLE_FEEDBACK_START)g.apply(d,b);else{d=c+"/load.js?";
for(var l in a)b=a[l],null!=b&&!bb(b)&&(d+=encodeURIComponent(l)+"="+encodeURIComponent(b)+"&");a=Zg(e).createElement("SCRIPT");f&&a.setAttribute("nonce",f);xe(a,Ar(d));e.body.appendChild(a)}};kb("userfeedback.api.startFeedback",C3);var D3=function(a){this.traits_=this.preferences_=this.notebookModel_=this.notebook_=null;this.history_=a};D3.prototype.init=function(a,b){this.notebook_=a;this.notebookModel_=a.getNotebookModel();this.preferences_=b;this.traits_=this.notebookModel_.getTraits()};D3.prototype.supports=function(a){if(a.isDisabled())return!1;for(var b=q(a.constraint),c=b.next();!c.done;c=b.next())if(!E3(this,c.value,a))return!1;return!0};
var E3=function(a,b,c){var d=a.notebookModel_.getFileId(),e=a.notebook_.focusedCell_;var f=a.notebook_;f=!!f.commandPalette_&&!!f.commandPalette_.restoreFocusCallback_;var g=a.notebook_.getHistory(),h=a.notebookModel_.getTraits();switch(b){case "in-codemirror-editor":return a=document.activeElement,!!Ph(a,"CodeMirror")||!!Ph(a,"monaco-editor");case "not-in-palette":return!f;case "not-editing":return!fH();case "cell-focused":return!!e;case "not-scratch-cell-focused":return!e||!(e instanceof HX);case "cell-focused-or-selected":return!!e||
0<QQ(a.notebook_).length;case "code-cell-focused":return!!e&&"code"===e.getType();case "text-cell-focused":return!!e&&"text"===e.getType();case "not-editing-focused-cell":return!!e&&!fH();case "cells-selected":return 0<QQ(a.notebook_).length;case "multiple-cells-selected":return 1<QQ(a.notebook_).length;case "saveable":return a.notebookModel_.saveable();case "editable":return TI(a.notebookModel_).isEditable();case "undoable":return!(!g||!MO(g));case "redoable":return!(!g||!OO(g));case "selection-contains-expandable-sections":return I2(a.notebook_,
!0);case "selection-contains-collapsible-sections":return I2(a.notebook_,!1);case "shareable":return!0;case "owned-by-me":return a.notebookModel_.isOwnedByMe();case "not-playground-mode":return!h.params_.sandboxMode;case "not-editable":return!E3(a,"editable",c);case "is-drive":return xI(h);case "is-piper":return cz(d);case "not-prod":return Fx;case "commentable":return TI(a.notebookModel_).isCommentable();case "debugging-mode":return!1;case "connected-to-runtime":return a.notebook_.getKernel().isRunning();
case "connected-to-runtime-or-isolated":return a.notebook_.getKernel().isRunning()||Nz.ISOLATED_NOTEBOOKS;case "focused-code-cell-has-form":return e instanceof rW&&QU(e.formView_);case "focused-code-cell-has-no-form":return e instanceof rW&&!QU(e.formView_);case "has-url":return!!F3(a.notebook_,c.id);case "logged-in":return!tJ();default:throw Error("Unknown command constraint: "+b);}},G3=function(a){0===zb(a.notebookModel_,zN).parents_.length?Y({message:"Cannot locate this notebook in Drive. You do not have access to the Drive folder that contains this notebook."}):
(a=XD.getNonColabUrl(a.notebookModel_.getFileId(),DI(a.traits_)))&&ZG(a)},H3=function(a,b){var c=void 0===b.runAll?!1:b.runAll,d;B(function(e){if(1==e.nextAddress)return a.notebook_.getKernel().isRunning()?u(e,yH({title:c?"Restart runtime and run all cells in notebook":"Restart runtime",message:"Are you sure you want to restart the runtime? Runtime state including all local variables will be lost.",yesText:"Yes"}),2):(Y({message:"You are not currently connected to a runtime.",timeoutMillis:4E3}),
e.return());if(4!=e.nextAddress)return(d=e.yieldResult)?u(e,a.notebook_.getKernel().restart(),4):e.jumpTo(0);c&&a.notebook_.runAll();x(e)})};D3.prototype.save_=function(a){this.notebook_.saveNotebook(a)};
D3.prototype.execute=function(a,b){var c=this,d=I(this.notebook_),e=I(this.notebookModel_),f=a.id,g=d.focusedCell_;if(!this.supports(a))throw Error("Notebook does not support command "+f+".");var h=void 0;"clone"==f&&(h="trusted: "+d.shouldShowExternalCodeWarning());eJ(b,f,h);switch(f){case "add-code":c2(d,"code",{fallback:"at_end"});break;case "add-comment":d.commentOnCell();break;case "add-external-cell":b2(d);break;case "add-form":g instanceof rW&&(g.getSectionTitle()||g.editor.insertLine(0,"#@title Default title text"),
g.localViewType_="both",wW(g));break;case "add-form-field":g instanceof rW&&(g.formView_ instanceof GU&&g.formView_.addWidget(),g.localViewType_="both",wW(g));break;case "add-section-header":c2(d,"text",{fallback:"at_end",initializer:function(l){l.get("text").setText("# New Section")}});break;case "add-text":c2(d,"text",{fallback:"at_end"});break;case "add-table-of-contents":$2(d).update();break;case "clear-outputs":d.clearAllOutputs();break;case "clear-focused-or-selected-outputs":s3(d,UQ(d));break;
case "clone":d.clone("drive");break;case "collapse-sections":U2(d,!1);break;case "connect":I3(this,{localhost:!1,attemptExternalLocalReconnect:!1,attemptReconnect:!1});break;case "connect-local":I3(this,{localhost:!0,attemptExternalLocalReconnect:!1,attemptReconnect:!1});break;case "connect-local-troubleshoot":d.troubleshootLocalKernel();break;case "convert-to-code-cell":b3(d,"code");break;case "convert-to-markdown-cell":b3(d,"text");break;case "copy":document.execCommand("copy");break;case "copy-to-gist":d.clone("gist");
break;case "copy-to-github":d.clone("github");break;case "copy-to-piper":d.clone("piper");break;case "copy-to-scratch-cell":H2(d,!0);break;case "create-view":T_(e.getFileId(),void 0,!0);break;case "cut":document.execCommand("cut");break;case "cycle-form-view":t3(d);break;case "debugger-continue":d.getKernel().sendInputReply("continue");break;case "debugger-exit":d.getKernel().sendInputReply("exit");break;case "debugger-next":d.getKernel().sendInputReply("next");break;case "debugger-return":d.getKernel().sendInputReply("return");
break;case "debugger-step":d.getKernel().sendInputReply("step");break;case "delete-cell-or-selection":TQ(d,UQ(d));break;case "delete-selected-cells":e=QQ(d);0<e.length&&(e[0].scrollIntoView(),TQ(d,e));break;case "download-ipynb":d.downloadIpynb();break;case "download-python":d=fA(Uz(e.getFileId())).toString();d=GD(e.getTitle(),e.getDocument().getModel(),d);tA(uA(e.getTitle().toLowerCase(),".py"),d);break;case "edit-selected-test-annotations":UQ(d);break;case "expand-sections":U2(d,!0);break;case "find":o2(d);
break;case "find-next":d.findNext();break;case "find-previous":d.findPrevious();break;case "format-cell":p2(d);break;case "ask-on-stackoverflow":case "help":case "getting-started":case "colabtools-reference":case "faq":case "forms-reference":case "magic-reference":case "open-runtime-logs":case "open-runtime-manager-statusz":case "open-runtime-statusz":case "report-bug":ZG(F3(this.notebook_,f));break;case "hide-code":r2(d);break;case "import-notebook":a3(d,this.history_);break;case "insert-cell-above":c2(d,
"code",{after:!1});break;case "insert-cell-below":c2(d,"code");break;case "interrupt":this.notebook_.getKernel().interrupt();break;case "lint-notebook":d.lint();break;case "locate-in-drive":G3(this);break;case "manage-sessions":k2(this.notebook_);break;case "manage-views":U_(d);break;case "merge-cell-above":e3(d,-1);break;case "merge-cell-below":e3(d,1);break;case "merge-selected-cells":d3(d);break;case "move-cell-down":V2(d,1);break;case "move-cell-up":V2(d,-1);break;case "new":ZG(eA(jA(Yz(new Tz,
!0)),!1).toString());break;case "new-python-2-notebook":ZG(eA(jA(aA(Yz(new Tz,!0),zz)),!1).toString());break;case "new-python-3-notebook":ZG(eA(jA(aA(Yz(new Tz,!0),Az)),!1).toString());break;case "next-cell":DT(d,1);break;case "change-runtime-type":case "notebook-settings":A3(e);break;case "open":UD.showOpenNotebookDialog(this.history_,d.getTraits());break;case "open-comments-thread":d.docCommentsView_.setVisible(!d.docCommentsView_.isVisible());break;case "open-in-playground":J3(this);break;case "open-scratch-code-cell":H2(d);
break;case "powerwash":this.notebook_.getKernel().powerwash();break;case "preferences":I(this.preferences_);eY(this.preferences_);break;case "prevent-navigation":null==a.overriddenShortcut_&&this.supports(XE)&&this.execute(XE,b);break;case "previous-cell":DT(d,-1);break;case "print":K3();break;case "reconnect-local":I3(this,{localhost:!0,attemptExternalLocalReconnect:!0,attemptReconnect:!1});break;case "redo":d.redo();break;case "rename":d.editNotebookTitle();break;case "restart-from-interrupt":this.notebook_.getKernel().isRunning()?
yH({title:"Restart runtime",message:"The executing code is not responding to interrupts. Would you like to try restarting the runtime? Runtime state including all local variables will be lost.",yesText:"Yes"}).then(function(l){l&&c.notebook_.getKernel().restart()}):Y({message:"You are not currently connected to a runtime."});break;case "restart":H3(this,{runAll:!1});break;case "restart-and-run-all":H3(this,{runAll:!0});break;case "runafter":p3(d);break;case "runall":d.runAll();break;case "runbefore":o3(d);
break;case "run-cell-and-insert-new":q3(d,!0,!0);break;case "run-cell-and-select-next":q3(d,!0,!1);break;case "rundebug":r3(d);break;case "runfocused":q3(d);break;case "runselected":n3(d);break;case "save":this.save_(!1);break;case "save-and-checkpoint":this.save_(!0);break;case "save-section-layout":d.preferences_.COLLAPSIBLE_SECTIONS_PERSIST_ON_SAVE.getValue()||X2(d);d.saveNotebook();break;case "runscheduling":d.showExecutionScheduleToolbar();break;case "select-all":d.selectAll();break;case "select-next-cell":DT(d,
1);break;case "select-or-edit-if-selected":s2(d);break;case "select-previous-cell":DT(d,-1);break;case "send-feedback":e={};e.authuser=DI(this.traits_);e.locale=tz;e.productId=101049;C3(e);break;case "set-all-metadata":break;case "share":L3(2==b||12==b,d);break;case "shortcuts":I(this.preferences_);(new mY(this.preferences_)).open();break;case "snippets":l2(d,{page:ZX.Page.SNIPPETS,userRequested:!0});break;case "show-command-palette":d.commandPalette_&&zZ(d.commandPalette_,document.querySelector("#top-toolbar"),
x3(d));break;case "show-executedcode":F2(d);break;case "show-fileinfo":qY(e,this);break;case "show-files":l2(d,{page:ZX.Page.FILES,userRequested:!0});break;case "show-history":n2(d,"History");break;case "show-toc-pane":l2(d,{page:ZX.Page.TOC,userRequested:!0});break;case "paste":Y({message:"Use "+((Jf?"\u2318":"Ctrl")+" +V to paste cell contents")});break;case "show-status-bar":break;case "show-undo-help-message":Y({message:"To undo cell-level action use "+eE});break;case "slides-animation-concave":this.preferences_.SLIDES_ANIMATION.set("concave");
break;case "slides-animation-convex":this.preferences_.SLIDES_ANIMATION.set("convex");break;case "slides-animation-fade":this.preferences_.SLIDES_ANIMATION.set("fade");break;case "slides-animation-none":this.preferences_.SLIDES_ANIMATION.set("none");break;case "slides-animation-slide":this.preferences_.SLIDES_ANIMATION.set("slide");break;case "slides-animation-zoom":this.preferences_.SLIDES_ANIMATION.set("zoom");break;case "slides-layout":d.showSlidesToolbar();break;case "slides-present":break;case "split-at-cursor":c3(d);
break;case "switch-to-prod":M3();break;case "toggle-header":d.toggleHeader();break;case "toggle-line-numbers":d.preferences_.SHOW_LINE_NUMBERS.set(!d.preferences_.SHOW_LINE_NUMBERS.getValue());break;case "toggle-output":d.toggleOutput();break;case "toggle-section":w3(d);break;case "toggle-star":e.setStarred(!e.getStarred());break;case "trash":this.notebookModel_.trashNotebook();$1(this.notebook_);break;case "undo":d.undo();break;case "unfocus-current-cell":i3(d);break;case "update-external-cells":e2(d);
break;case "update-preview":Y({message:"Updating preview...",timeoutMillis:1E4});DN(zb(e,zN),!0);break;case "view-in-english":gA(bA(uI(this.notebookModel_.getTraits())));break;case "view-notebook-source":(e=XD.getNonColabUrl(e.getFileId(),DI(this.traits_)))&&ZG(e);break;case "view-output-fullscreen":g instanceof rW&&g.requestFullscreen();break;case "view-runtime-logs":d.viewRuntimeLogs(b);break;case "workspace-list-button":break;default:throw Error("Unknown command ID: "+f);}};
D3.prototype.isOptionSelected=function(a){var b=this.preferences_.SLIDES_ANIMATION.getValue();switch(a){case "runscheduling":return this.notebook_.showScheduleExecutionToolbar_;case "slides-layout":return!1;case "slides-animation-slide":return"slide"==b;case "slides-animation-fade":return"fade"==b;case "slides-animation-zoom":return"zoom"==b;case "slides-animation-convex":return"convex"==b;case "slides-animation-concave":return"concave"==b;case "slides-animation-none":return"none"==b;default:throw Error("Command ID: "+
a+" does not toggle an option.");}};
var K3=function(){var a=uI(tI());Wz(a,"printMode",!0);hA(a);window.setTimeout(function(){window.print();Wz(a,"printMode",!1);hA(a)},10)},J3=function(a){var b,c,d;B(function(e){if(1==e.nextAddress)return b=a.notebookModel_,b.saveable()&&KM(b)?u(e,a.notebook_.saveNotebook(),2):e.jumpTo(2);c=uI(tI());var f=Wz(c,"forceEdit",!0);Wz(Xz(f,!0),"sandboxMode",!0);d=cz(b.getFileId());!a.traits_.params_.offline&&d&&Xz(c,!1);hA(c);x(e)})},M3=function(){var a=new URL(window.location.toString()),b=new URL(XD.ABSOLUTE_PROD_URL);
a.protocol=b.protocol;a.host=b.hostname;a.pathname="/no-dogfood"+window.location.pathname;b=b.port;""===b&&(b="443");a.port=b;ye(window.location,a.toString())},I3=function(a,b){fX(a.notebook_,{local:b.localhost,attemptExternalLocalReconnect:b.attemptExternalLocalReconnect,attemptReconnect:b.attemptReconnect}).then(function(){},function(c){c instanceof CH||console.warn("command_executor: connectToKernel_: "+c)})},L3=function(a,b){var c,d,e,f,g,h,l;B(function(m){if(1==m.nextAddress)return u(m,b.installIfNeeded(),
2);c=b.getNotebookModel();d=c.getFileId();I(d);return(e=a?UQ(b)[0]:null)?(g=(f=e.getEditor())?f.getCursor():null,h=void 0,g&&g.line&&(h=h=g.line+1),l=fA(iA(Vz(Uz(d),e.getId(),{line:h}))).toString(),u(m,iY(c,l,"Link to cell"),0)):u(m,jY(c),0)})};var N3=function(){};N3.prototype.execute=function(){};N3.prototype.supports=function(){return!1};N3.prototype.isOptionSelected=function(){return!1};Polymer({is:"colab-notebook-list",properties:{data:{type:Array,value:function(){return[]}},descriptionFilterNotebooks:{type:String,value:"Enter a search string to filter the list of notebooks shown below."},finishedLoading:{type:Boolean,value:!1},includeOwner:{type:Boolean,value:!1},labelOwner:{type:String,value:"Owner"},labelTitle:{type:String,value:"Title"},labelFirstOpened:{type:String,value:"First opened"},labelLastOpened:{type:String,value:"Last opened"},labelNoResults:{type:String,value:"No results"},
labelOpenNotebook:{type:String,value:"Open notebook"},labelOpenNotebookInNewTab:{type:String,value:"Open notebook in new tab"},labelFilterNotebooks:{type:String,value:"Filter notebooks"},filterString:{type:String,notify:!0,observer:"filterStringChanged"}},created:function(){this.selectedIndex_=this.generator_=null},MAX_RESULTS_TO_SHOW_:1E3,setTitleLabel:function(a){this.labelTitle=a},setFirstOpenedLabel:function(a){this.labelFirstOpened=a},setLastOpenedLabel:function(a){this.labelLastOpened=a},isFinishedLoading:function(){return this.finishedLoading},
setIncludeOwner:function(a){this.includeOwner=a},filterStringChanged:function(a){this.generator_?this.data=this.generator_(a||"",this.MAX_RESULTS_TO_SHOW_)||[]:console.log("No search provider available")},formatTime:function(a){return AA(a)},sourceIcon:function(a){return jZ(a.source).icon},sourceTitle:function(a){return WD.getFileIdDescription(a.source)},defaultOpenTarget:function(){return Gx?"_blank":""},notebookUrl:function(a){return this.traits_.getFileId()&&a.fileId_==this.traits_.getFileId().fileId_?
"#":eA(jA(Uz(a)),!1).toString()},closeDialog:function(a){Jf&&a.metaKey||a.ctrlKey||this.dispatchEvent(new CustomEvent(mH.EventType.REQUEST_CLOSE,{bubbles:!0,composed:!0}))},metadataText:function(a){if(cz(a)){var b=ez(a);return(a=ez(a).getWorkspace())?"workspace: "+a:Hj(b)}return""},filePathText:function(a){if(cz(a))a=ez(a).path_;else if(bz(a)){if(!bz(a))throw Error("Expected "+a.fileId_+" to be a Google file.");a=a.fileId_.replace("/googlefile","")}else a="";return a},hideNonColabLink:function(a){return!jZ(a.source).includeNonColabLink},
nonColabLinkIcon:function(a){return jZ(a.source).nonColabLinkIcon},nonColabLinkTitle:function(a){return jZ(a.source).nonColabLinkTitle},nonColabUrl:function(a){return XD.getNonColabUrl(a,DI(this.traits_))||""},init:function(a,b){this.generator_=a;this.traits_=b},refresh:function(){this.finishedLoading=!0;this.filterStringChanged(this.filterString)},reset:function(){this.finishedLoading=!1;this.generator_=function(){return[]};this.selectedIndex_=-1},setSelected:function(a){this.selectedIndex_=a},selectedClass:function(a){return null!=
this.selectedIndex_&&this.data[this.selectedIndex_]&&a==this.data[this.selectedIndex_].fileId?"selected-row":""}});var O3=function(a){return function(b){var c=b.toLowerCase().trim().split(" ");return a.filter(function(d){return FA(c,d.title,d.fileId.toString())})}};var P3=function(a){var b=U(Za(a.tabs),"tabs",a.tabs,"!Array<{title: (!goog.soy.data.UnsanitizedText|string),}>"),c=U(Pa(a.selectedTab),"selectedTab",a.selectedTab,"number"),d=U(Za(a.newNotebookOptions),"newNotebookOptions",a.newNotebookOptions,"!Array<{message: (!goog.soy.data.UnsanitizedText|string), url: (!goog.soy.data.UnsanitizedText|string),}>"),e=U(Oa(a.forceOpenInNewTab)||1===a.forceOpenInNewTab||0===a.forceOpenInNewTab,"forceOpenInNewTab",a.forceOpenInNewTab,"boolean");a=U(Oa(a.canCancel)||
1===a.canCancel||0===a.canCancel,"canCancel",a.canCancel,"boolean");for(var f='<paper-tabs noink selected="'+T(c)+'" scrollable fit-container>',g=b.length,h=0;h<g;h++)f+="<paper-tab>"+R(b[h].title)+"</paper-tab>";f+='</paper-tabs><paper-dialog-scrollable class="dialog-main-content"><iron-pages selected="'+T(c)+'">';b=b.length;for(c=0;c<b;c++)f+="<div></div>";f+='</iron-pages></paper-dialog-scrollable><div class="buttons">'+(0<d.length?'<a href="'+T(Do(d[0].url))+'"'+(e?' target="_blank"':"")+' tabindex="-1"><paper-button dialog-dismiss class="new-notebook">'+
R(d[0].message)+"</paper-button></a>":"");if(1<d.length){f+='<paper-menu-button horizontal-align="right" horizontal-offset="40" no-animations><paper-icon-button slot="dropdown-trigger" class="new-notebook dropdown-trigger" icon="icons:arrow-drop-down"></paper-icon-button><paper-listbox slot="dropdown-content" class="dropdown-content">';b=d.length;for(c=0;c<b;c++)g=d[c],f+='<div><a href="'+T(Do(g.url))+'"'+(e?' target="_blank"':"")+'><paper-button dialog-dismiss class="nowrap">'+R(g.message)+"</paper-button></a></div>";
f+="</paper-listbox></paper-menu-button>"}a&&(f+='<paper-button dialog-dismiss class="dismiss">Cancel</paper-button>');return Q(f+"</div>")};P3.soyTemplateName="colab.components.openDialog.templates.openDialog";var Q3=function(){return Q("<div><colab-notebook-list></colab-notebook-list></div>")};Q3.soyTemplateName="colab.components.openDialog.templates.notebookList";var R3=function(){return Q('<div class="upload-file-target"><input type="file" accept=".ipynb" autofocus/><div class="uploading"><paper-spinner-lite class="no-results" active></paper-spinner-lite><div>Uploading...</div></div></div>')};
R3.soyTemplateName="colab.components.openDialog.templates.upload";function S3(a){var b=nm(Q3,{});a.appendChild(b);gH(a);return a.querySelector("colab-notebook-list")}
var X3=function(a,b,c){var d=c.traits,e=c.showNewNotebookButton,f=c.canPrompt,g=c.canCancel,h=c.focus,l,m,n,p,r,w,v,A,H,C,J;return B(function(L){if(1==L.nextAddress)return u(L,zJ({prompt:f}),2);l=L.yieldResult;m=[new T3(d)];n=!1;l&&(a&&(m.push(new U3(a,d,f)),n=!0),m.push(new V3(d)));p=n?1:0;m.push(b);"github"==h&&(p=m.length-1);l&&(m.push(new W3(d)),"upload"==h&&(p=m.length-1));r=e?VD.SUPPORTS_PYTHON_3?[{url:eA(jA(aA(Yz(new Tz,!0),Az)),!1).toString(),message:sz(Az.display_name)},{url:eA(jA(aA(Yz(new Tz,
!0),zz)),!1).toString(),message:sz(zz.display_name)}]:[{url:eA(jA(Yz(new Tz,!0)),!1).toString(),message:"New notebook"}]:[];w=!!Gx;v=mH.createWithTemplate(P3,{tabs:m,selectedTab:p,newNotebookOptions:r,forceOpenInNewTab:w,canCancel:g});v.classList.add("colab-open-dialog");A=!g;lH(v,A);gH(v);H=v.querySelector("paper-tabs");C=v.querySelector("iron-pages");J=function(W){m[W].initialize(C.children[W])};H.addEventListener("iron-select",function(){C.select(H.selected);J(H.selected)});J(p);return u(L,kH(v),
0)})},Y3=function(a,b){this.title=a;this.traits=b;this.initialized_=!1};Y3.prototype.initialize=function(a){this.initialized_||(this.initialized_=!0,this.render(a))};var U3=function(a,b,c){Y3.call(this,"Recent",b);this.history_=a;this.historyPromise_=this.history_.whenReady({canPromptUser:c}).then(function(){});this.handler_=new Om(this)};t(U3,Y3);
U3.prototype.render=function(a){var b=this,c;return B(function(d){if(1==d.nextAddress)return c=S3(a),u(d,b.historyPromise_,2);c.init(function(e,f){return b.history_.search(e,f)||[]},b.traits);c.refresh();b.handler_.listen(b.history_,"changed",function(){c.refresh()});x(d)})};U3.prototype.detachedCallback=function(){this.handler_.removeAll()};var V3=function(a){Y3.call(this,"Google Drive",a)};t(V3,Y3);
V3.prototype.render=function(a){var b=this,c,d,e;return B(function(f){switch(f.nextAddress){case 1:return c=S3(a),c.setIncludeOwner(!0),c.setFirstOpenedLabel("Last modified"),d=null,y(f,2),u(f,bK(),4);case 4:d=f.yieldResult.map(function(g){return{title:g.title,fileId:qI(g.id),lastAccessed:g.lastViewedByMeDate,firstAccessed:g.modifiedDate,owner:g.ownerNames[0]||""}});va(f,3);break;case 2:e=z(f),aJ(e),d=[];case 3:c.init(O3(d),b.traits),c.refresh(),x(f)}})};
var T3=function(a){Y3.call(this,"Examples",a)};t(T3,Y3);T3.prototype.render=function(a){var b=this,c,d;return B(function(e){c=S3(a);c.setFirstOpenedLabel("");c.setLastOpenedLabel("");d=[];Nz.SAMPLE_NOTEBOOKS.forEach(function(f,g){d.push({title:g,fileId:f})});c.init(O3(d),b.traits);c.refresh();x(e)})};function Z3(a){var b=new FileReader;return(new Promise(function(c,d){b.onload=c;b.onerror=d;b.readAsText(a)})).then(function(){return b.result},function(){return null})}
function $3(a,b){var c,d,e,f,g;B(function(h){switch(h.nextAddress){case 1:return b.setAttribute("disabled",""),c=null,y(h,2),u(h,Z3(a),4);case 4:return d=h.yieldResult,u(h,KJ(),5);case 5:return e=h.yieldResult,u(h,GJ({data:d,metadata:{title:a.name,description:"Colaboratory notebook",mimeType:TD.DEFAULT_MIME_TYPE,parents:[{id:e}]}}),6);case 6:c=h.yieldResult;va(h,3);break;case 2:f=z(h),b.removeAttribute("disabled"),wH("Error",f);case 3:c&&c.id&&(Y({message:"Success"}),g=qI(c.id),gA(jA(Uz(g)))),x(h)}})}
var W3=function(a){Y3.call(this,"Upload",a)};t(W3,Y3);
W3.prototype.render=function(a){var b,c,d,e,f;return B(function(g){b=nm(R3,{});a.appendChild(b);gH(a);c=a.querySelector('input[type="file"]');d=I(a.querySelector(".upload-file-target"));c.addEventListener("change",function(){var h=c.files[0];h&&$3(h,d)});e=function(){d.setAttribute("active","")};f=function(){d.removeAttribute("active")};d.addEventListener("dragover",function(h){e();h.preventDefault()});d.addEventListener("dragend",f);d.addEventListener("dragleave",f);d.addEventListener("drop",function(h){f();
h.preventDefault();h.stopPropagation();h.dataTransfer&&h.dataTransfer.files&&(h=h.dataTransfer.files[0])&&$3(h,d)},!0);x(g)})};var a4=function(a){lb.call(this,a)};t(a4,lC);var b4=function(a){lb.call(this,"Runtime died at: \n "+a)};t(b4,lC);var j4=function(a,b,c){M.call(this);var d=this;this.kernelId_=a;this.xhr_=b;this.state_="connecting";this.language_=null;this.messageReplyHandlers_=new Map;this.handlers_=new Map;this.pendingAcknowledgement_=new Map;this.objectInfoCache_=new Map;this.autocompleteCache_=new Map;this.session_=c;this.session_.listen("connected",function(){c4(d,9)});this.session_.listen("closed",function(){d4(d,b4);e4(d,"dead")});this.session_.listen("start_failed",function(){fJ(6)});this.session_.listen("resume_overflowed",
function(){aJ(Error("resume_overflowed"))});"error execute_reply complete_reply kernel_info_reply kernel_reply object_info_reply".split(" ").forEach(function(e){d.session_.listen(e,function(f){var g=f.parentMessageId;if(g){var h=d.messageReplyHandlers_.get(g);h&&(d.messageReplyHandlers_.delete(g),f.reply.isSuccess()?h.promise.resolve(f.reply):h.promise.reject(new fW(f.reply)))}})});this.session_.listen("stdin",function(e){var f=f4(d,e);f=q(f);for(var g=f.next();!g.done;g=f.next())g.value.onUserInputRequest(e.prompt,
e.password)});this.session_.listen("output",function(e){var f=f4(d,e);f=q(f);for(var g=f.next();!g.done&&!g.value.onOutput(e.content);g=f.next());});this.session_.listen("status",function(e){g4(d,e.parentMessageId,e.status)});this.session_.listen("resumed_execution",function(e){e=e.statusMessage;e4(d,"busy");d.dispatchEvent(new h4(e.parentMessageId,e.resumeCellId,e.pendingCellIds||[]));g4(d,e.parentMessageId,e.status)});this.session_.listen("clear_output",function(e){var f=f4(d,e);f=q(f);for(var g=
f.next();!g.done&&!g.value.onClearOutput(e.wait,e.tags);g=f.next());});this.session_.listen("colab_request",function(e){var f=e.colabMsgId,g=e.isSameSession,h=e.requestType,l=e.request;if(void 0==e.parentMessageId)i4(d,f,Promise.resolve(uR(h,l,g)));else for(e=f4(d,e),e=q(e),g=e.next();!g.done;g=e.next())if(g=g.value.onColabRequest(h,l)){i4(d,f,g);break}});this.session_.listen("shutdown_reply",function(e){e.restart||d.disconnect()});this.session_.listen("comm_open",function(e){var f=f4(d,e);f=q(f);
for(var g=f.next();!g.done;g=f.next())g.value.onCommOpen(e.commId,e.targetName,e.data);d.dispatchEvent(e)});this.session_.listen("comm_msg",function(e){var f=f4(d,e);f=q(f);for(var g=f.next();!g.done;g=f.next())g.value.onCommMessage(e.commId,e.data);d.dispatchEvent(e)});this.idlePromises_=new Map;this.busyPromises_=new Map;this.connectCalled_=!1};t(j4,M);
j4.prototype.connect=function(){var a=this;I(!this.connectCalled_);this.connectCalled_=!0;c4(this,3);return Xk(this.session_.connect(this.kernelId_).then(function(){e4(a,"idle")}),function(b){e4(a,"dead");throw b;})};j4.prototype.disconnect=function(){this.session_.stop();this.xhr_.close()};
var f4=function(a,b){if(b=b.parentMessageId)if(a=a.handlers_.get(b))return a;return[]},k4=function(a,b,c){var d=a.handlers_.get(b);d?d.unshift(c):a.handlers_.set(b,[c])},l4=function(a,b,c){var d=a.handlers_.get(b);d&&(c=d.indexOf(c),-1!=c&&(1==d.length?a.handlers_.delete(b):d.splice(c,1)))},uM=function(a,b,c){k4(a,b,c);return new m4(function(){l4(a,b,c)})},wM=function(a,b,c,d){if(a=a.handlers_.get(b))for(a=q(a),b=a.next();!b.done;b=a.next())b.value.onCommMessage(c,d)};j4.prototype.getKernelXhr=function(){return this.xhr_};
var c4=function(a,b){var c={};a.language_&&(c.kernelLanguage=a.language_);fJ(b,c)},g4=function(a,b,c){switch(c){case "starting":d4(a,gW);e4(a,"starting");a.invalidateCache_();c4(a,10);break;case "restarting":e4(a,"autorestarting");a.invalidateCache_();d4(a,gW);c4(a,4);break;case "dead":a.invalidateCache_();c4(a,5);a.disconnect();break;case "idle":"dead"!=a.getState()&&e4(a,"idle");b&&(a=a.idlePromises_.get(b))&&a();break;case "busy":if(b){if(c=a.handlers_.get(b)){a.invalidateCache_();c=q(c);for(var d=
c.next();!d.done;d=c.next())(d=d.value.getCellId())&&a.dispatchEvent(new n4(d))}(b=a.busyPromises_.get(b))&&b()}e4(a,"busy")}},e4=function(a,b){a.state_!=b&&(a.state_=b,a.dispatchEvent("state_change"))},o4=function(a,b){return(new Ik(function(c){a.idlePromises_.set(b,c)})).then(function(){a.idlePromises_.delete(b)})},p4=function(a,b){return(new Ik(function(c){a.busyPromises_.set(b,c)})).then(function(){a.busyPromises_.delete(b)})};k=j4.prototype;k.getState=function(){return this.state_};
k.getKernelId=function(){return this.kernelId_};k.restart=function(){var a=this,b,c,d;return B(function(e){if(1==e.nextAddress)return c4(a,8),b="/api/kernels/"+a.kernelId_+"/restart",u(e,a.xhr_.postJson(b),2);d=c=e.yieldResult;d.id!=a.kernelId_&&(a.kernelId_=d.id,a.session_.connect(a.kernelId_));x(e)})};k.interrupt=function(){this.xhr_.post("/api/kernels/"+this.kernelId_+"/interrupt")};k.connected=function(){return this.session_.isOpen()&&("busy"==this.state_||"idle"==this.state_||"starting"==this.state_)};
k.resumeExecution=function(a,b){var c=Tk();this.messageReplyHandlers_.set(a,{promise:c,stack:Error().stack});return q4(this,c.promise,a,!0,b)};
k.execute=function(a,b,c){c=void 0===c?{}:c;var d=!0;null!=c.silent&&(d=!!c.silent);a={allow_stdin:b.supportsUserInput(),code:a,silent:d,store_history:!!c.storeHistory,user_expressions:c.userExpressions||{},user_variables:[]};d={};c.acknowledgementExecuteRequestId&&(d={colab:{output_ack:c.acknowledgementExecuteRequestId}});c.resumableCellId&&(d={colab:{cell_id:c.resumableCellId}});d=this.session_.createMessage(this.session_.MessageType.EXECUTE_REQUEST,a,d);a=d.header.msg_id;d=r4(this,d);c.resumableCellId&&
Ix&&console.log("connection.js: execute with resumption: "+a);return q4(this,d,a,!!c.resumableCellId,b)};var q4=function(a,b,c,d,e){Xk(b,function(f){f instanceof fW&&"aborted"==f.reply.status&&(f=a.idlePromises_.get(c))&&f()});k4(a,c,e);return Wk(o4(a,c).then(function(){return b}).then(function(f){d&&a.pendingAcknowledgement_.set(f,c);return f},function(f){d&&f instanceof fW&&(I(f.reply instanceof MC),a.pendingAcknowledgement_.set(f.reply,c));throw f;}),function(){l4(a,c,e)})};
j4.prototype.acknowledgeExecuteReply=function(a){var b=this,c=this.pendingAcknowledgement_.get(a);if(!c)throw Error("acknowledgeExecution for unknown execut request");Ix&&console.log("connection.js: acknowledgeExecuteReply for execute requestmessage "+c);return Wk(this.execute("",new HC,{silent:!0,storeHistory:!1,acknowledgementExecuteRequestId:c}).then(void 0,function(){console.log("Ignoring benign error during acknowledgement")}),function(){b.pendingAcknowledgement_.delete(a)})};
j4.prototype.getKernelInfo=function(){var a=this,b=this.session_.createMessage(this.session_.MessageType.KERNEL_INFO_REQUEST,{});return r4(this,b).then(function(c){c.language&&(a.language_=c.language);return c})};
var t4=function(a,b,c,d){b={text:"",line:b,block:null,cursor_pos:c};c={};d&&(b.colab_options=d,c.colab_options=d);d=EA(JSON.stringify({completeRequest:b,metadata:c}));if(a.autocompleteCache_.has(d))return a.autocompleteCache_.get(d);b=a.session_.createMessage(a.session_.MessageType.COMPLETE_REQUEST,b,c);var e;ry?e=Mk(s4(a,b,"complete_request timed out")):e=r4(a,b);e=e.then(function(f){return f});a.autocompleteCache_.set(d,e);return e},s4=function(a,b,c){var d=b.header.msg_id,e=p4(a,d),f=o4(a,d),g=
r4(a,b);b=function(){var h,l,m;return B(function(n){switch(n.nextAddress){case 1:return u(n,e,2);case 2:return y(n,3,4),u(n,Ey(f,1E4,c),6);case 6:return u(n,g,7);case 7:return n.return(n.yieldResult);case 4:wa(n);(h=a.busyPromises_.get(d))&&h();(l=a.idlePromises_.get(d))&&l();xa(n,0);break;case 3:throw m=z(n),m instanceof Dy&&(console.warn(c),aJ(m)),m;}})}.call();return Promise.race([g,b])};j4.prototype.invalidateCache_=function(){this.objectInfoCache_.clear();this.autocompleteCache_.clear()};
j4.prototype.getObjectInfo=function(a,b){if(this.objectInfoCache_.has(a))return this.objectInfoCache_.get(a);var c={oname:a,detail_level:0};b&&(c.colab_options=b);b=this.session_.createMessage(this.session_.MessageType.OBJECT_INFO_REQUEST,c);var d;ry?d=s4(this,b,"object_info_request timed out"):d=r4(this,b);d=d.then(function(e){return e});this.objectInfoCache_.set(a,d);return d};
j4.prototype.sendCommMessage=function(a,b,c){var d=this,e,f,g,h;return B(function(l){if(1==l.nextAddress)return e={comm_id:a,data:b},f=d.session_.createMessage(d.session_.MessageType.COMM_MSG,e),g=f.header.msg_id,k4(d,g,c),h=Promise.resolve(o4(d,g)),d.session_.send(f),ua(l),u(l,h,2);wa(l);l4(d,g,c);return xa(l,0)})};j4.prototype.sendInputReply=function(a){a=this.session_.createMessage(this.session_.MessageType.INPUT_REPLY,{value:a});this.session_.send(a)};
var i4=function(a,b,c){c.then(function(d){a.sendInputReply({type:a.session_.MessageType.COLAB_REPLY,colab_msg_id:b,data:d})},function(d){"string"==typeof d&&d.startsWith("KernelInterruptError")||a.sendInputReply({type:a.session_.MessageType.COLAB_REPLY,colab_msg_id:b,error:String(d)})})},r4=function(a,b){var c=Tk();a.messageReplyHandlers_.set(b.header.msg_id,{promise:c,stack:Error().stack});a.session_.send(b);return c.promise},d4=function(a,b){for(var c=q(a.messageReplyHandlers_.values()),d=c.next();!d.done;d=
c.next())d=d.value,d.promise.reject(new b(d.stack));b=q(a.idlePromises_.values());for(c=b.next();!c.done;c=b.next())c=c.value,c();b=q(a.busyPromises_.values());for(c=b.next();!c.done;c=b.next())c=c.value,c();a.messageReplyHandlers_.clear();a.handlers_.clear()},n4=function(a){K.call(this,"connection_started_execution");this.cellId=a};t(n4,K);var h4=function(a,b,c){K.call(this,"connection_resumed_execution");this.parentMessageId=a;this.cellId=b;this.pendingCellIds=c};t(h4,K);
var m4=function(a){this.callback_=a};m4.prototype.release=function(){this.callback_()};var u4=function(a){this.xhr_=a},x4=function(a){var b=a.xhr;return"v4"==a.protocolVersion?new v4(b):new w4(b)},y4=function(a,b){var c;return B(function(d){if(1==d.nextAddress)return u(d,a.xhr_.postJson("/api/sessions",b),2);c=d.yieldResult;return d.return(c)})};
u4.prototype.terminateSession=function(a){var b=this,c,d;return B(function(e){if(1==e.nextAddress)return FO(a),y(e,2),u(e,b.xhr_.fetch("/api/sessions/"+a,{method:"DELETE"}),4);if(2!=e.nextAddress){c=e.yieldResult;if(!c.ok)throw new VC(c);return va(e,0)}d=z(e);if(d instanceof CloseEvent&&1E3==d.code)return e.return();throw d;})};
var z4=function(a,b){var c=b.request,d=b.sessionId,e;return B(function(f){if(1==f.nextAddress)return u(f,a.xhr_.fetch("/api/sessions/"+d,{method:"PATCH",body:JSON.stringify(c)}),2);e=f.yieldResult;if(!e.ok)throw new VC(e);x(f)})},A4=function(a){var b,c;return B(function(d){if(1==d.nextAddress)return u(d,a.xhr_.fetch("/api/sessions"),2);if(3!=d.nextAddress){b=d.yieldResult;if(!b.ok)throw new VC(b);return u(d,b.json(),3)}c=d.yieldResult;return d.return(c)})},B4=function(a){var b=a.kernelId,c=a.lastActivity,
d=a.notebookIdQueryString,e=a.sessionId,f=a.title;a=void 0===a.usage?void 0:a.usage;c=c?new Date(c):null;var g=a&&E(a.ram.kernels[b])?a.ram.kernels[b]:null;a=a&&E(a.gpu)&&E(a.gpu.kernels[b])?a.gpu.kernels[b]:null;try{var h=new Ll(d),l=rb(h.get("fileId")),m=new yC({fileId:l}),n=h.get("kernelSuffix");if(n){var p=rb(n);m.suffix_=p}var r=h.get("username");if(r){var w=rb(r);m.username_=w}var v=m}catch(A){if(A instanceof nb)return{fileId:null,lastActivity:c,notebookId:null,gpuUsage:a,kernelId:b,ramUsage:g,
sessionId:e,title:"2d42e71a-eefc-4d64-9612-d926be1e1261-prewarmed"==f?f:"Unknown notebook"};throw A;}return{fileId:qI(v.getFileId()),lastActivity:c,notebookId:v,gpuUsage:a,kernelId:b,ramUsage:g,sessionId:e,title:f}},v4=function(){u4.apply(this,arguments)};t(v4,u4);k=v4.prototype;k.getKernelSpecs=function(){return B(function(){throw Error("Not supported in the IPython V4 API");})};
k.callGetOrCreateSession=function(a){var b=this,c;return B(function(d){if(1==d.nextAddress)return u(d,y4(b,a),2);c=d.yieldResult;return d.return(c)})};k.getOrCreateSession=function(a){var b=a.notebookPath,c=a.title,d=this,e,f,g;return B(function(h){if(1==h.nextAddress)return e=encodeURIComponent(c),f={notebook:{name:b,path:e}},u(h,d.callGetOrCreateSession(f),2);g=h.yieldResult;return h.return(g)})};
k.callListSessions=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,A4(a),2);b=c.yieldResult;return c.return(b)})};
k.listNotebookSessions=function(a){a=void 0===a?{}:a;var b=void 0===a.usage?void 0:a.usage,c=this,d;return B(function(e){if(1==e.nextAddress)return u(e,c.callListSessions(),2);d=e.yieldResult;return e.return(d.map(function(f){return B4({kernelId:f.kernel.id,lastActivity:f.kernel.last_activity,notebookIdQueryString:f.notebook.name,sessionId:f.id,title:decodeURIComponent(f.notebook.path),usage:b})}))})};
k.getResourceUsage=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,a.xhr_.get("/colab/resources"),2);b=c.yieldResult;return c.return(JSON.parse(wA(b)))})};k.changeKernelType=function(){return B(function(){throw Error("Not supported in the IPython V4 API");})};k.supportsKernelTypes=function(){return!1};
k.renameSession=function(a){var b=a.newTitle,c=a.notebookPath,d=a.sessionId,e=this,f;B(function(g){return 1==g.nextAddress?(f={notebook:{name:c,path:b}},u(g,e.callPatchSession({request:f,sessionId:d}),2)):g.return(g.yieldResult)})};k.callPatchSession=function(a){var b=a.request,c=a.sessionId,d=this;return B(function(e){return 1==e.nextAddress?u(e,z4(d,{request:b,sessionId:c}),2):e.return(e.yieldResult)})};var w4=function(){u4.apply(this,arguments)};t(w4,u4);k=w4.prototype;
k.getKernelSpecs=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,a.xhr_.get("/api/kernelspecs"),2);b=c.yieldResult;return c.return(JSON.parse(b))})};k.callGetOrCreateSession=function(a){var b=this,c;return B(function(d){if(1==d.nextAddress)return u(d,y4(b,a),2);c=d.yieldResult;return d.return(c)})};
k.getOrCreateSession=function(a){var b=a.kernelName,c=a.notebookPath,d=a.title,e=this,f,g,h;return B(function(l){switch(l.nextAddress){case 1:return f=encodeURIComponent(d),g={name:f,path:c,type:"notebook"},b&&(g.kernel={name:b}),u(l,e.callGetOrCreateSession(g),2);case 2:h=l.yieldResult;if(!b||!h.kernel||h.kernel.name==b){l.jumpTo(3);break}return u(l,e.changeKernelType(h.id,b),4);case 4:return u(l,e.callGetOrCreateSession(g),5);case 5:h=l.yieldResult;case 3:return l.return(h)}})};
k.callListSessions=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,A4(a),2);b=c.yieldResult;return c.return(b)})};k.getResourceUsage=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return u(c,a.xhr_.get("/api/colab/resources"),2);b=c.yieldResult;return c.return(JSON.parse(wA(b)))})};
k.listNotebookSessions=function(a){a=void 0===a?{}:a;var b=void 0===a.usage?void 0:a.usage,c=this,d;return B(function(e){if(1==e.nextAddress)return u(e,c.callListSessions(),2);d=e.yieldResult;return e.return(d.map(function(f){return B4({kernelId:f.kernel.id,lastActivity:f.kernel.last_activity,notebookIdQueryString:f.path,sessionId:f.id,title:decodeURIComponent(f.name),usage:b})}))})};
k.changeKernelType=function(a,b){var c=this,d;return B(function(e){return 1==e.nextAddress?(d={kernel:{name:b},type:"notebook"},u(e,c.callPatchSession({request:d,sessionId:a}),2)):e.return(e.yieldResult)})};k.supportsKernelTypes=function(){return!0};k.renameSession=function(a){var b=a.newTitle,c=a.notebookPath,d=a.sessionId,e=this,f;B(function(g){return 1==g.nextAddress?(f={name:b,path:c,type:"notebook"},u(g,e.callPatchSession({request:f,sessionId:d}),2)):g.return(g.yieldResult)})};
k.callPatchSession=function(a){var b=a.request,c=a.sessionId,d=this;return B(function(e){return 1==e.nextAddress?u(e,z4(d,{request:b,sessionId:c}),2):e.return(e.yieldResult)})};var C4=function(a){var b=a.ename,c=a.traceback,d=a.debug;a=a.errorDetails;this.type="pyerr";this.ename=b;this.traceback=c;this.debug=d;this.errorDetails=a||null};t(C4,FC);
C4.prototype.fillNotebookFormatOutputItem=function(a){a.ename=this.ename;a.evalue="ignored";a.traceback=D4(this.traceback);this.debug&&(a.debug=this.debug);if(this.errorDetails){var b=this.errorDetails.actions.map(function(c){return{action:c.action,actionText:c.action_text,snippetFilter:c.snippet_filter,url:c.url}});a.errorDetails={actions:b}}};
var D4=function(a){var b=a;"string"==typeof b&&(b=a.split("\n"));80<a.length&&(b=a.slice(0,40),b.push("\u001b[1;30;43m... (skipped "+(a.length-80+" stack entries. Use sys.last_value and sys.last_traceback to investigate further.) ...")+"\u001b[0m"),b=b.concat(a.slice(-40)));return b.map(function(c){return 1500>c.length?c:c.split("\n").map(function(d){1500<d.length&&(d=d.substring(0,1497)+"...");return d}).join("\n")})};var E4=function(a){var b=a.data,c=a.metadata;a=a.promptNumber;this.type="pyout";this.data=b;this.metadata=c;this.promptNumber=a};t(E4,FC);E4.prototype.fillNotebookFormatOutputItem=function(a){JC(this.data,this.metadata,"",a);a.prompt_number=this.promptNumber};var F4={CLEAR_OUTPUT:"clear_output",COLAB_REPLY:"colab_reply",COLAB_REQUEST:"colab_request",COMM_MSG:"comm_msg",COMM_OPEN:"comm_open",COMPLETE_REPLY:"complete_reply",COMPLETE_REQUEST:"complete_request",CONNECT_REQUEST:"connect_request",DISPLAY_DATA:"display_data",ERROR:"pyerr",EXECUTE_INPUT:"pyin",EXECUTE_REPLY:"execute_reply",EXECUTE_REQUEST:"execute_request",EXECUTE_RESULT:"pyout",INPUT_REPLY:"input_reply",INPUT_REQUEST:"input_request",KERNEL_INFO_REPLY:"kernel_info_reply",KERNEL_INFO_REQUEST:"kernel_info_request",
KERNEL_REPLY:"kernel_reply",OBJECT_INFO_REPLY:"object_info_reply",OBJECT_INFO_REQUEST:"object_info_request",SHUTDOWN_REPLY:"shutdown_reply",STATUS:"status",STREAM:"stream",UPDATE_DISPLAY_DATA:"display_data"};var J4=function(a,b){XC.call(this,F4,b);var c=this;this.wsHost_=a;this.shell_=VD.createSocket(a);this.stdin_=VD.createSocket(a);this.iopub_=VD.createSocket(a);var d=this.sessionId+":";a={};b=q([this.shell_,this.stdin_,this.iopub_]);for(var e=b.next();!e.done;a={$jscomp$loop$prop$socket$317:a.$jscomp$loop$prop$socket$317},e=b.next())a.$jscomp$loop$prop$socket$317=e.value,a.$jscomp$loop$prop$socket$317.listen("opened",function(f){return function(){f.$jscomp$loop$prop$socket$317.sendString(d)}}(a));
this.shell_.listen("closed",function(){c.stop()});this.shell_.listen("message",function(f){var g=f.message,h=nC(g),l=g.header.msg_type,m=g.content,n=null;if(h)switch(G4(c,g),l){case F4.EXECUTE_REPLY:n=new bD(h,new MC({executionCount:m.execution_count,executionFinished:"aborted"==m.status,payload:m.payload||null,userExpressions:LC(m.user_expressions),status:m.status,ename:m.ename,evalue:m.evalue}));break;case F4.COMPLETE_REPLY:n=new cD(h,H4(m));break;case F4.KERNEL_INFO_REPLY:n=new dD(h,new NC({language:m.language}));
break;case F4.KERNEL_REPLY:n=new aD("kernel_reply",h,new CC({status:m.status}));break;case F4.OBJECT_INFO_REPLY:f=null;m.argspec&&(f=new PC({args:m.argspec.args,defaults:m.argspec.defaults||[],varargs:m.argspec.varargs,kwargs:m.argspec.varkw}));n=new eD(h,new OC({docstring:m.docstring,definition:m.definition,initDocstring:m.init_docstring||"",initDefinition:m.init_definition||"",callDocstring:m.call_docstring||"",isClass:!!m.isclass,name:m.name||"",argSpec:f,stringForm:m.string_form||"",typeName:m.type_name}));
break;default:if(BA(g.metadata,["colab","synthesized"])){I4(c,f)||console.log("Unrecognized session resume message ",g);return}console.log("Unrecognized shell message type ",g)}else console.warn("Received message without parent id"),console.warn(g);null!=n&&c.dispatchEvent(n)});this.stdin_.listen("message",function(f){var g=f.message;f=nC(g);if(g.header.msg_type!=F4.INPUT_REQUEST)console.log("Invalid input request on stdin websocket channel: ",g);else if(f){var h=BA(g,["content","prompt"])||"";g=
BA(g,["content","password"])||!1;c.dispatchEvent(new fD({parentMessageId:f,prompt:h,password:g}))}else console.warn("Received message without parent id"),console.warn(g)});this.stdin_.listen("closed",function(){c.stop()});this.iopub_.listen("message",function(f){I4(c,f)});this.iopub_.listen("closed",function(){c.stop()})};t(J4,XC);J4.prototype.getExecuteRequestMessageType=function(){return F4.EXECUTE_REQUEST};
var I4=function(a,b){var c=b.message,d=c.header.msg_type;b=nC(c);var e=c.parent_header?c.parent_header.session:null,f=e==a.sessionId,g=BA(c.metadata,["colab","parent_header","session"]);f=f||g==a.sessionId;switch(d){case F4.DISPLAY_DATA:case F4.ERROR:case F4.EXECUTE_RESULT:case F4.STREAM:if(!f&&e)return Ix&&console.info("Dropping message targeting different session "+JSON.stringify(c).substring(0,1024)),!0;c=K4(c);a.dispatchEvent(new gD({parentMessageId:b,outputItem:c}));return!0;case F4.STATUS:return f=
BA(c,["content","execution_state"]),e=BA(c.metadata,["colab","parent_header","msg_id"]),c=BA(c.metadata,["colab","cell_id"]),a.dispatchEvent(new hD({status:f,parentMessageId:b,resumeParentId:e,resumeCellId:c,pendingCellIds:null})),!0;case F4.CLEAR_OUTPUT:return f=BA(c,["content","wait"],!1),c=BA(c,["content","output_tags"]),a.dispatchEvent(new iD({parentMessageId:b,wait:f,tags:c})),!0;case F4.COLAB_REQUEST:d=BA(c,["metadata","colab_request_type"]);if(e&&!f&&"runtime_update"!=d)Ix&&console.info("Dropping message targeting different session ",
c);else{e=BA(c,["metadata","colab_msg_id"]);g=BA(c,["content","request"]);if(!e||!d)return console.warn("Unexpected colab request message",c),!1;a.dispatchEvent(new jD({parentMessageId:b,requestType:d,request:g,colabMsgId:e,isSameSession:f}))}return!0;case F4.EXECUTE_INPUT:return!0;case F4.SHUTDOWN_REPLY:return f=BA(c,["content","restart"],!1),c=BA(c,["content","status"],""),a.dispatchEvent(new kD({parentMessageId:b,restart:f,status:c})),!0;default:return console.log("Unrecognized iopub message type ",
c),!1}};J4.prototype.isOpen=function(){return this.shell_.isOpen()};J4.prototype.connect=function(a){var b=this;this.stop();var c=!1;a=this.wsHost_+"/api/kernels/"+a;return Xk(Qk([this.shell_.connect(a+"/shell"),this.stdin_.connect(a+"/stdin"),this.iopub_.connect(a+"/iopub")]).then(function(){return b.resume()}).then(function(){b.dispatchEvent("connected")}),function(d){c||(c=!0,b.dispatchEvent("start_failed"),b.stop());throw d;})};
J4.prototype.stop=function(){this.shell_.isStopped()||(this.shell_.stop(),this.stdin_.stop(),this.iopub_.stop(),this.dispatchEvent("closed"))};J4.prototype.send=function(a){a.header.msg_type==F4.INPUT_REPLY?this.stdin_.send(a):(this.shell_.send(a),G4(this,a))};
var G4=function(a,b){if(ry){var c=b.header.msg_type;c==F4.OBJECT_INFO_REQUEST||c==F4.COMPLETE_REQUEST?a.dispatchEvent(new hD({parentMessageId:b.header.msg_id,status:"busy",pendingCellIds:null,resumeCellId:null,resumeParentId:null})):c!=F4.OBJECT_INFO_REPLY&&c!=F4.COMPLETE_REPLY||a.dispatchEvent(new hD({parentMessageId:nC(b),status:"idle",pendingCellIds:null,resumeCellId:null,resumeParentId:null}))}};
J4.prototype.createMessage=function(a,b,c){c=void 0===c?{}:c;return{header:{msg_id:WC(),username:"username",session:this.sessionId,msg_type:a},metadata:c,content:b,parent_header:{}}};
var K4=function(a){switch(a.msg_type){case F4.STREAM:return a=a.content,new QV({text:a.data||"",stream:a.name||""});case F4.DISPLAY_DATA:return a=a.content,new IC({data:a.data||{},metadata:a.metadata||{}});case F4.EXECUTE_RESULT:return a=a.content,new E4({data:a.data||{},metadata:a.metadata||{},promptNumber:a.execution_count||0});case F4.ERROR:return a=a.content,new C4({ename:a.ename||"",traceback:a.traceback||[],debug:a.debug||null});default:throw Error("Unknown message type: "+a.msg_type);}},H4=
function(a){var b=void 0,c=!1;a.metadata&&a.metadata.elapsed_ms&&1E3<a.metadata.elapsed_ms&&gJ(a.matched_text+" - "+a.matches.join(","),{action:"kernel complete_request",elapsedMs:Math.round(a.metadata.elapsed_ms)});a.metadata&&a.metadata.colab_types_experimental&&(b=a.metadata.colab_types_experimental.map(function(d){return new EC({typeName:d.type_name,definition:d.definition||""})}),c=!!a.metadata.matches_incomplete);return new DC({matches:a.matches||[],matchedText:a.matched_text,status:a.status,
ename:a.ename,evalue:a.evalue,typeMetadata:b,matchesIncomplete:c,cursorStart:-1,cursorEnd:-1})};var L4={CLEAR_OUTPUT:"clear_output",COLAB_REPLY:"colab_reply",COLAB_REQUEST:"colab_request",COMM_MSG:"comm_msg",COMM_OPEN:"comm_open",COMPLETE_REPLY:"complete_reply",COMPLETE_REQUEST:"complete_request",CONNECT_REQUEST:"connect_request",DISPLAY_DATA:"display_data",ERROR:"error",EXECUTE_INPUT:"execute_input",EXECUTE_REPLY:"execute_reply",EXECUTE_REQUEST:"execute_request",EXECUTE_RESULT:"execute_result",INPUT_REPLY:"input_reply",INPUT_REQUEST:"input_request",KERNEL_INFO_REPLY:"kernel_info_reply",KERNEL_INFO_REQUEST:"kernel_info_request",
KERNEL_REPLY:"kernel_reply",OBJECT_INFO_REPLY:"inspect_reply",OBJECT_INFO_REQUEST:"inspect_request",SHUTDOWN_REPLY:"shutdown_reply",STATUS:"status",STREAM:"stream",UPDATE_DISPLAY_DATA:"update_display_data"};var M4=function(a){M.call(this);this.socketUrl_=a;this.url_="";this.socket_=null;this.readyState_=WebSocket.CLOSED};t(M4,oC);k=M4.prototype;k.getReadyState=function(){return this.readyState_};
k.connect=function(a){var b=this;this.url_=a;this.readyState_=WebSocket.CONNECTING;var c=new URL(this.socketUrl_),d=c.pathname;if("/"==d)d="";else if(d.startsWith("/tun/u/")||d.startsWith("/tun/m/"))a=a.replace(d,"");var e=DI(tI());return new Ik(function(f,g){var h={},l=io.connect(c.origin+"/session",{upgrade:!1,multiplex:!1,reconnection:!1,path:d+"/socket.io",query:{authuser:e},transportOptions:{polling:{extraHeaders:(h["X-Colab-Tunnel"]="Google",h)}}}),m=function(n){b.readyState_=window.WebSocket.CLOSED;
n=new CloseEvent("close",{reason:"Socket.io: "+n});b.closed();g(n)};l.on("connect",function(){return l.emit("start",{url:a})});l.on("disconnect",function(n){Hz("socketio: disconnect: "+n);m(n)});l.on("connect_error",function(n){Hz("socketio: connect_error: "+n);m(n)});l.on("connect_timeout",function(n){Hz("socketio: connect_timeout: "+n);m(n)});l.on("open",function(){b.socket_=l;b.readyState_=window.WebSocket.OPEN;b.opened(a);f()});l.on("close",function(n){fJ(11,{error:Error("SocketIo closed: "+n)});
m(n)});l.on("data",function(n){n=JSON.parse(n.data);try{b.dispatchEvent(new pC(n))}catch(p){bJ(p)}});l.on("error",function(n){n=Error("SocketIO error: "+(n.message+": "+n.description+" - "+n.type));b.isOpen()&&pj(n)})})};k.sendString=function(a){if(this.readyState_!=window.WebSocket.OPEN)throw Error("SocketIO is not yet opened");this.socket_.emit("data",{data:a})};
k.stop=function(){this.socket_&&(this.readyState_=WebSocket.CLOSED,this.socket_.emit("stop",{url:this.url_}),this.socket_.close(),this.socket_=null)};k.isStopped=function(){return!this.socket_};var N4=function(a,b,c){XC.call(this,L4,b);var d=this;this.wsHost_=a;this.socket_=c?new M4(c):VD.createSocket(a);this.socket_.listen("closed",function(){d.stop()});this.socket_.listen("message",function(e){d.onMessage(e.message)})};t(N4,XC);k=N4.prototype;k.getExecuteRequestMessageType=function(){return L4.EXECUTE_REQUEST};
k.onMessage=function(a){var b=nC(a);switch(a.channel){case "shell":var c=a.header.msg_type,d=a.content,e=null;if(b)switch(c){case L4.EXECUTE_REPLY:e=new bD(b,O4(d));break;case L4.COMPLETE_REPLY:e=new cD(b,P4(d));break;case L4.KERNEL_INFO_REPLY:a="";d.language_info&&d.language_info.name&&(a=d.language_info.name);e=new dD(b,new NC({language:a}));break;case L4.KERNEL_REPLY:e=new aD("kernel_reply",b,new CC({status:d.status}));break;case L4.OBJECT_INFO_REPLY:c=d.data||{};a=c["text/plain"];(c=c["application/json"])?
(a=null,c.argspec&&(a=new PC({args:c.argspec.args,defaults:c.argspec.defaults||[],varargs:c.argspec.varargs,kwargs:c.argspec.varkw})),a=new OC({docstring:c.docstring,definition:c.definition,initDocstring:c.init_docstring||"",initDefinition:c.init_definition||"",callDocstring:c.call_docstring||"",isClass:!!c.isclass,name:c.name||"",argSpec:a,stringForm:c.string_form||"",typeName:c.type_name,status:d.status})):a=new OC({docstring:zP(a||""),definition:"",initDocstring:"",initDefinition:"",callDocstring:"",
isClass:!1,status:d.status});e=new eD(b,a);break;default:console.log("Unrecognized shell message type ",a)}else console.warn("Received message without parent id"),console.warn(a);null!=e&&this.dispatchEvent(e);break;case "iopub":e=a.header.msg_type;c=a.parent_header?a.parent_header.session:null;d=c==this.sessionId;var f=BA(a.metadata,["colab","parent_header","session"]);d=d||f==this.sessionId;switch(e){case L4.DISPLAY_DATA:case L4.UPDATE_DISPLAY_DATA:case L4.ERROR:case L4.EXECUTE_RESULT:case L4.STREAM:if(!d&&
c){Ix&&console.info("Dropping message targeting different session "+JSON.stringify(a).substring(0,1024));break}a=Q4(a);this.dispatchEvent(new gD({parentMessageId:b,outputItem:a}));break;case L4.STATUS:d=BA(a,["content","execution_state"]);c=BA(a.metadata,["colab","parent_header","msg_id"]);e=BA(a.metadata,["colab","cell_id"]);a=BA(a.metadata,["colab","resume_pending"]);this.dispatchEvent(new hD({parentMessageId:b,status:d,resumeCellId:e,resumeParentId:c,pendingCellIds:a}));break;case L4.CLEAR_OUTPUT:d=
BA(a,["content","wait"],!1);a=BA(a,["content","output_tags"]);this.dispatchEvent(new iD({parentMessageId:b,wait:d,tags:a}));break;case L4.COLAB_REQUEST:e=BA(a,["metadata","colab_request_type"]);c&&!d&&"runtime_update"!=e?Ix&&console.info("Dropping message targeting different session ",a):(c=BA(a,["metadata","colab_msg_id"]),f=BA(a,["content","request"]),c&&e?this.dispatchEvent(new jD({parentMessageId:b,requestType:e,request:f,colabMsgId:c,isSameSession:d})):console.warn("Unexpected colab request message",
a));break;case L4.EXECUTE_INPUT:break;case L4.SHUTDOWN_REPLY:d=BA(a,["content","restart"],!1);a=BA(a,["content","status"],"");this.dispatchEvent(new kD({parentMessageId:b,restart:d,status:a}));break;case L4.COMM_OPEN:a=a.content;this.dispatchEvent(new lD({parentMessageId:b,data:a.data||{},targetName:a.target_name||"",commId:a.comm_id||""}));break;case L4.COMM_MSG:a=a.content;this.dispatchEvent(new mD({parentMessageId:b,data:a.data||{},commId:a.comm_id||""}));break;default:console.log("Unrecognized iopub message type ",
a)}break;case "stdin":a.header.msg_type!=L4.INPUT_REQUEST?console.log("Invalid input request on stdin websocket channel: ",a):b?(d=BA(a,["content","prompt"])||"",a=BA(a,["content","password"])||!1,this.dispatchEvent(new fD({parentMessageId:b,prompt:d,password:a}))):(console.warn("Received message without parent id"),console.warn(a));break;default:console.error("unrecognized message channel",a.channel,a)}};k.isOpen=function(){return this.socket_.isOpen()};
k.connect=function(a){var b=this;this.stop();return Xk(this.socket_.connect(this.wsHost_+"/api/kernels/"+a+"/channels?session_id="+this.sessionId).then(function(){return b.resume()}).then(function(){b.dispatchEvent("connected")}),function(c){b.dispatchEvent("start_failed");b.stop();throw c;})};k.stop=function(){this.socket_.isStopped()||(this.socket_.stop(),this.dispatchEvent("closed"))};k.send=function(a){var b="shell";a.header.msg_type==L4.INPUT_REPLY&&(b="stdin");a.channel=b;this.socket_.send(a)};
k.createMessage=function(a,b,c){c=void 0===c?{}:c;return{header:{msg_id:WC(),username:"username",session:this.sessionId,msg_type:a},metadata:c,content:b,parent_header:{}}};
var Q4=function(a){switch(a.msg_type){case L4.STREAM:var b=a.content;return new QV({text:b.text||"",stream:b.name||""});case L4.DISPLAY_DATA:case L4.UPDATE_DISPLAY_DATA:return a=a.content,a.transient&&a.transient.display_id&&(b=a.transient.display_id),new IC({data:a.data||{},metadata:a.metadata||{},displayId:b});case L4.EXECUTE_RESULT:return b=a.content,new E4({data:b.data||{},metadata:b.metadata||{},promptNumber:b.execution_count||0});case L4.ERROR:return b=a.content,new C4({ename:b.ename||"",traceback:b.traceback||
"",debug:b.debug||null,errorDetails:b.error_details||null});default:throw Error("Unknown message type: "+a.msg_type);}},O4=function(a){var b=(a.payload||[]).map(function(c){if(c.data&&c.source){var d=c.data["text/plain"];return d?{text:d,source:c.source}:null}}).filter(function(c){return!!c});return new MC({executionCount:a.execution_count,executionFinished:"aborted"==a.status,payload:b,userExpressions:LC(a.user_expressions),status:a.status,ename:a.ename,evalue:a.evalue})},P4=function(a){if("ok"!=
a.status)return new DC({matches:null,matchedText:"",status:a.status,matchesIncomplete:!1,cursorStart:-1,cursorEnd:-1});var b=a.cursor_start,c=a.cursor_end,d=c-b,e=a.matches||[],f="";0<d&&0<e.length&&(f=e[0].substring(0,d));d=void 0;a.metadata&&a.metadata.colab_types_experimental&&(d=a.metadata.colab_types_experimental.map(function(g){return new EC({typeName:g.type_name,definition:g.definition||""})}));return new DC({matches:e,status:a.status,matchedText:f,typeMetadata:d,cursorStart:b,cursorEnd:c,
matchesIncomplete:!(!a.metadata||!a.metadata.matches_incomplete)})};var S4=function(a){M.call(this);var b=this;this.notebookModel=a;this.notebookId=a.getFileId().fileId_;this.kernelInfo=this.runtime_=this.connection_=null;this.state_="connect";this.handler_=new Om(this);nj(this,this.handler_);this.pingTimer_=new mn(uD.BACKEND_PING);nj(this,this.pingTimer_);this.pingTimer_.listen("tick",function(){R4(b)});this.isDisconnecting_=!1;this.runtimeManager_=this.xhr_=null;this.isDebugging_=!1;this.supportsRichCompletions_=!0};t(S4,M);
S4.prototype.setState=function(a){a!=this.state_&&(this.state_=a,this.dispatchEvent("state_changed"),"restarting"==this.state_&&this.dispatchEvent("restarting"))};S4.prototype.getState=function(){return this.state_};S4.prototype.connected=function(){var a=this;return this.isConnected()?Mk(this):Pk([Fy(this,"connected"),Fy(this,"disconnected")]).then(function(){if("connected"==a.state_||"kernel idle"==a.state_||"busy"==a.state_)return a;throw Error("await connected: disconnected");})};
S4.prototype.isConnected=function(){return"connected"==this.state_||"kernel idle"==this.state_||"busy"==this.state_};var eX=function(a){return"kernel idle"==a.state_?Mk(a):Fy(a,"state_changed",function(){return"kernel idle"==a.getState()}).then(function(){return a})};S4.prototype.setRuntime=function(a){this.runtime_=a};
var T4=function(a){var b=a.kernelBaseUrl,c=a.notebookId,d=a.params,e=a.sessionIndex,f,g,h,l;return B(function(m){if(1==m.nextAddress)return f=d.version5Kernel?"v5":"v4",g=sC({host:b,withCredentials:d.supportsCredentials,hostSupportsWebSockets:d.forceHttpLocalConnections,sessionIndex:e}),h=x4({protocolVersion:f,xhr:g}),u(m,h.listNotebookSessions(),2);l=m.yieldResult;return m.return(l.some(function(n){return(n=n.notebookId)?n.equals(c):!1}))})};
S4.prototype.listNotebookSessions=function(a){a=void 0===a?{}:a;var b=void 0===a.usage?void 0:a.usage,c=this,d,e;return B(function(f){if(1==f.nextAddress)return d=I(c.runtimeManager_),u(f,d.listNotebookSessions({usage:b}),2);e=f.yieldResult;return f.return(e.map(function(g){return new nD(g)}))})};S4.prototype.terminateSession=function(a){return I(this.runtimeManager_).terminateSession(a.sessionId)};
var U4=function(a){var b=a.connectionParams;return sC({host:a.kernelBaseUrl,hostSupportsWebSockets:b.forceHttpLocalConnections,sessionIndex:a.sessionIndex,withCredentials:b.supportsCredentials})},V4=function(a){return x4({protocolVersion:a.connectionParams.version5Kernel?"v5":"v4",xhr:a.xhr})},Y4=function(a,b){var c=b.kernelBaseUrl,d=b.kernelXhr,e=b.notebookId,f=b.runtime,g,h,l,m,n,p,r,w,v,A,H,C,J,L;return B(function(W){switch(W.nextAddress){case 1:g=f.connectionParams;a.xhr_=d;a.runtimeManager_=
V4({connectionParams:g,xhr:a.xhr_});h=g.kernelName;y(W,2);a.setState("connecting");if(!h){W.jumpTo(4);break}return u(W,a.runtimeManager_.getKernelSpecs(),5);case 5:l=W.yieldResult,Object.keys(l.kernelspecs).includes(h)||(h=l.default);case 4:m=new sD(h,g);a.dispatchEvent(m);n=m.selectionPromise_;if(!n){W.jumpTo(6);break}return u(W,n,7);case 7:if(h=W.yieldResult,!h)throw new CH;case 6:return u(W,a.runtimeManager_.getOrCreateSession({kernelName:h,notebookPath:BC(e),title:a.notebookModel.getTitle()}),
8);case 8:p=W.yieldResult;r=p.kernel;w=p.id;if(a.isDisposed())return W.return();f.kernel=r;f.sessionId=w;v=c.replace(/^http/,"ws");A=f.connectionParams.version5Kernel?new N4(v,w,f.connectionParams.forceSocketIo):new J4(v,w);H=new j4(r.id,a.xhr_,A);W4(a,H);return u(W,H.connect(),9);case 9:return u(W,X4(a),10);case 10:va(W,0);break;case 2:C=z(W);if(C instanceof vw&&(J=C,403==J.status&&J.url&&J.url.startsWith("https://localhost:")))throw console.log("establishConnection: ignoring benign OAuth cancellation"),
a.setState("connect"),new CH;C instanceof CloseEvent&&(L=C,(200>L.code||300<L.code)&&console.log("establishConnection: Received error "+L.code+". "+("Reason: "+L.reason)));if(C instanceof Hk)throw C;a.setState("connect");console.warn("kernel connection error: "+C);throw C;}})},W4=function(a,b){a.connection_=b;a.handler_.listen(a.connection_,"state_change",function(){Z4(a,b.getState())});a.handler_.listen(a.connection_,"connection_resumed_execution",function(c){a.dispatchEvent(new qD(c.parentMessageId,
c.cellId,c.pendingCellIds))});a.handler_.listen(a.connection_,"connection_started_execution",function(c){a.dispatchEvent(new pD(c.cellId))});a.handler_.listen(a.connection_,"comm_open",function(c){a.dispatchEvent(c)});a.handler_.listen(a.connection_,"comm_msg",function(c){a.dispatchEvent(c)})},Z4=function(a,b){var c=function(){a.pingTimer_.stop();a.dispatchEvent(new d1("disconnected",a.runtime_,a.isDisconnecting_))};if(a.connection_&&a.connection_.connected())switch(a.state_){case "initializing":return;
case "connecting":"busy"==b&&a.setState("busy");return;case "restarting":X4(a);return}switch(b){case "autorestarting":a.setState("restarting");c();a.dispatchEvent("unexpected_restart");Aj(function(){return B(function(d){if(1==d.nextAddress)return u(d,R4(a),2);a.dispatchEvent("finished_restarting");x(d)})});return;case "starting":a.setState("connecting");return;case "dead":a.setState("connect");c();return}b=$4.get(b);a.setState(b)};
S4.prototype.disconnect=function(){if(this.connection_){this.isDisconnecting_=!0;try{this.connection_.disconnect(),this.handler_.unlisten(this.connection_,"state_change"),this.handler_.unlisten(this.connection_,"connection_resumed_execution"),this.handler_.unlisten(this.connection_,"connection_started_execution"),this.handler_.unlisten(this.connection_,"comm_open"),this.handler_.unlisten(this.connection_,"comm_msg"),this.connection_=null,this.pingTimer_.stop()}finally{this.isDisconnecting_=!1}}};
S4.prototype.getKernelId=function(){return this.isRunning()?this.connection_.getKernelId():null};S4.prototype.getKernelXhr=function(){return this.xhr_};
var X4=function(a){a.setState("initializing");var b=!1,c=function(){b=!0};a.listen("disconnected",c);var d=function(){return a.connection_.getKernelInfo().then(function(e){if(!a.isDisposed())return a.kernelInfo=e,a.pingTimer_.start(),a5(a,I(a.runtime_))})};return Wk(Xk(Xk(d(),function(e){if(b)throw console.log("Ignoring error during kernel init after a disconnect event: "+(e.name+" "+e.message)),new Hk;var f=e instanceof fW&&"aborted"==e.reply.status;if(e instanceof gW||f)return Ix&&console.warn("RestartedError during initialize. Retrying."),
d();Ix&&(console.warn("Error other than RestartError during initialize"),console.warn("Exception during initialize "+e.name+" "+e.message),console.warn("Exception during initialize stack: "+e.stack));throw e;}).then(function(){a.setState("connected");a.dispatchEvent("connected")}),function(e){e instanceof lC&&a.disconnect();throw e;}),function(){a.unlisten("disconnected",c)})};S4.prototype.connectToDefault=function(){return B(function(a){x(a)})};
var b5=function(a){return B(function(b){if(1==b.nextAddress)return y(b,4),u(b,Ey(R4(a),1500),6);if(4!=b.nextAddress)return b.return();z(b);return b.jumpTo(1)})};S4.prototype.restart=function(){var a=this;return B(function(b){switch(b.nextAddress){case 1:if(!a.connection_){b.jumpTo(0);break}a.setState("restarting");y(b,3);return u(b,a.connection_.restart(),5);case 5:va(b,4);break;case 3:return z(b),a.disconnect(),b.return();case 4:return u(b,b5(a),6);case 6:a.setState("kernel idle"),x(b)}})};
S4.prototype.powerwash=function(){throw Error("powerwash not implemented");};S4.prototype.interrupt=function(){this.connection_&&(this.connection_.interrupt(),this.dispatchEvent(new tD))};var R4=function(a){return a.isRunning()?Xk(a.execute(""),function(b){if(b instanceof lC)console.warn("Ignoring benign restart error: "+b);else throw b;}):(a.pingTimer_.stop(),Mk())};S4.prototype.isRunning=function(){return!!this.connection_&&this.connection_.session_.isOpen()};S4.prototype.sendInputReply=function(a){this.connection_.sendInputReply(a)};
var iX=function(a,b,c,d){c=void 0===c?null:c;a.dispatchEvent(new oD(b));return Xk(a.execute(b,c,d).then(function(e){a.dispatchEvent(new rD(null));return e}),function(e){a.dispatchEvent(new rD(e));throw e;})},RW=function(a,b,c){c=void 0===c?null:c;if(!a.isRunning())throw Error("Not connected to a runtime.");c=c||new HC;return a.connection_.resumeExecution(b,c)};
S4.prototype.execute=function(a,b,c){b=void 0===b?null:b;if(!this.isRunning())throw Error("Not connected to a runtime.");b=b||new HC;return this.connection_.execute(a,b,c)};S4.prototype.acknowledgeExecuteReply=function(a){if(!this.isRunning())throw Error("Not connected to a runtime.");return this.connection_.acknowledgeExecuteReply(a)};var YP=function(a,b,c,d){if(!a.isRunning())throw Error("Not connected to a runtime.");return t4(a.connection_,b,c,d)};
S4.prototype.getObjectInfo=function(a,b){if(!this.isRunning())throw Error("Not connected to a runtime.");return this.connection_.getObjectInfo(a,b)};S4.prototype.sendCommMessage=function(a,b,c){if(!this.isRunning())throw Error("Not connected to a runtime.");return this.connection_.sendCommMessage(a,b,c)};S4.prototype.getKernelInfo=function(){if(!this.isRunning())throw Error("Not connected to a runtime.");if(!this.kernelInfo)throw Error("Kernel info not available");return Mk(this.kernelInfo)};
S4.prototype.fetch=function(a,b){var c=this,d,e,f,g,h,l,m;return B(function(n){if(1==n.nextAddress){y(n,2);if(!c.isRunning())throw Error("Not connected to a runtime.");if("GET"!=a)throw Error("Method not supported.");return u(n,c.execute("import urllib2\nimport json\nimport base64\nimport IPython",null,{userExpressions:{fetch:"IPython.display.Javascript(json.dumps((lambda f: {'value': base64.b64encode(f.read()), 'headers': dict(f.headers)"+('})(urllib2.urlopen("'+b+'"))))')}}),4)}if(2!=n.nextAddress){d=
n.yieldResult;e=d.userExpressions.get("fetch");if(!e.isSuccess())throw Error(e.evalue);f=JSON.parse(e.data["application/javascript"]);g=ng(f.value);h=f.headers;l=new Response(g,{status:200,headers:new Headers(Object.entries(h))});return n.return(l)}m=z(n);return n.return(new Response("",{status:500,statusText:String(m)}))})};var LW=function(a){if(!a.isRunning())throw Error("Not connected to a runtime.");return VD.KERNEL_MANAGER_URI};
S4.prototype.changeKernelType=function(a){var b=this,c,d,e,f;return B(function(g){if(1==g.nextAddress){if(!b.isRunning())throw Error("Not connected to a runtime.");c=b.runtimeManager_;I(c.supportsKernelTypes(),"Runtime type cannot be changed in pre-V5 IPython protocol.");d=b.connection_.session_.kernelSessionId;e=b.runtime_;f=Fy(b.connection_,"state_change",function(){return"dead"==b.connection_.getState()});return u(g,c.changeKernelType(d,a.name),2)}if(3!=g.nextAddress)return u(g,f,3);b.connect(e.connectionParams);
x(g)})};var $4=new Map([["busy","busy"],["dead","connect"],["idle","kernel idle"],["starting","connecting"],["autorestarting","restarting"]]);var c5=function(){M.call(this);this.webSocket_=null};t(c5,oC);k=c5.prototype;k.getReadyState=function(){return this.webSocket_?this.webSocket_.readyState:WebSocket.CLOSED};
k.connect=function(a){var b=this;return new Ik(function(c,d){b.webSocket_=new WebSocket(a);console.log("Connecting to "+a);b.webSocket_.addEventListener("open",function(){b.opened(a);c()});b.webSocket_.addEventListener("close",function(e){if(b.webSocket_){var f={name:"WebSocket",msg:JSON.stringify({code:e.code,reason:e.reason})};fJ(11,{error:f})}b.closed();d(e)});b.webSocket_.addEventListener("message",function(e){e=JSON.parse(e.data);b.dispatchEvent(new pC(e))});b.webSocket_.addEventListener("error",
function(e){e=Error("WebSocket error: "+e.data);b.isOpen()&&pj(e)})})};k.isOpen=function(){return!!this.webSocket_&&this.webSocket_.readyState==WebSocket.OPEN};k.stop=function(){if(this.webSocket_){var a=this.webSocket_;this.webSocket_=null;a.readyState!=WebSocket.CLOSED&&a.close()}};k.isStopped=function(){return!this.webSocket_};k.sendString=function(a){this.webSocket_.send(a)};var d5=Gc("b5278c2458b95a70");var e5={};var f5=function(){CX();DX();CodeMirror.defineMode("notebook-python",function(b){for(var c=[CodeMirror.getMode(b,{name:"python",hangingIndent:4}),zX(b,/^\s*%%bigquery/,"text/x-google-sql")],d=[zX(b,/^\s*%%bash/,"shell"),zX(b,/^\s*%%shell/,"shell"),zX(b,/^\s*%%css/,"css"),zX(b,/^\s*%%html/,"htmlmixed"),zX(b,/^\s*%%javascript/,"javascript")],e=q([["display.Javascript","javascript"],["display.HTML","htmlmixed"]]),f=e.next();!f.done;f=e.next()){var g=q(f.value);f=g.next().value;g=g.next().value;Array.prototype.push.apply(d,
AX(b,f,g))}b=q(d);for(d=b.next();!d.done;d=b.next())c.push(d.value);return CodeMirror.multiplexingMode.apply(void 0,c)});var a={basedOn:"vs/basic-languages/python/python",cellMagics:[{name:"bash",language:"colab-shell"},{name:"html",language:"html"},{name:"javascript",language:"javascript"},{name:"script",language:"colab-shell"},{name:"shell",language:"colab-shell"},{name:"sh",language:"colab-shell"}],multilineFunctions:[{name:"Javascript",language:"javascript"},{name:"HTML",language:"html"},{name:"client.query",
language:"googlesql"},{name:"read_gbq",language:"googlesql"}],configuration:{onEnterRules:[{beforeText:/^\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async).*?:\s*$/,action:{indentAction:1}}],wordPattern:/(-?\d*\.\d\w*)|([^`~!@#\$\^&\*\(\)\-=\+\[\{\]\}\\\|;:'",\.<>\/\?\s]+)/g}};a.cellMagics.push({name:"bigquery",language:"googlesql"});a.cellMagics.push({name:"js",language:"javascript"});oP.set("notebook-python",a)};var g5=function(a){this.saveAsCopy_=void 0===a?!1:a;this.colabLink_=null};t(g5,MD);var h5=function(a,b,c,d){var e;return B(function(f){if(1==f.nextAddress)return c=c||"notebook.ipynb",u(f,eI({title:b.getTitle(),filename:c,contents:d}),2);e=f.yieldResult;return f.return({filename:c,username:a,id:e.id,fileHash:Wy(c)})})};
g5.prototype.save=function(a,b){var c=this,d,e,f,g,h,l,m,n,p;return B(function(r){switch(r.nextAddress){case 1:if(HH.accessToken_){r.jumpTo(2);break}return u(r,oQ(),3);case 3:if(d=r.yieldResult,!d)throw Y({message:"GitHub authorization failed"}),new vK("GitHub authorization failed");case 2:return u(r,WH(),4);case 4:e=r.yieldResult;f=a.getTitle();g=a.getFileId();h="gist"==g.source?Yy(new Dl(g.fileId_)):{id:"",username:e,filename:Uy(f),fileHash:""};h.filename=h.filename||"notebook.ipynb";l=a.currentChangeRevision_;
m=function(){return OD(c,a,b||{})};n=e!=h.username||c.saveAsCopy_;if(!n){r.jumpTo(5);break}Y({message:"Creating a new GitHub Gist..."});return u(r,h5(e,a,h.filename,m()),6);case 6:h=r.yieldResult;case 5:return h.fileHash=Wy(h.filename),p=qd(Zy(h)),c.colabLink_=fA(Uz(new $y(p,"gist"))),u(r,fI(h,{title:f,contents:m()}),7);case 7:return n&&(ZG(eA(jA(Uz(new $y(p,"gist"))),!1).toString()),WM(a,l)),r.return({url:p})}})};
g5.prototype.getIpynb4Notebook=function(a,b,c){a=MD.prototype.getIpynb4Notebook.call(this,a,b,c);i5(a);this.colabLink_&&gI(a,this.colabLink_);return a};g5.prototype.saveTitle=function(a){var b=this;return B(function(c){return u(c,b.save(a),0)})};
var i5=function(a){var b=a.metadata;j5(a);delete b.colab.views;delete b.colab.default_view;a.cells.forEach(function(c){if(c=c.metadata)delete c.pinned,delete c.extraOutputs,delete c.slideshow,c.colab&&(delete c.colab.autoexec,delete c.colab.output_extras,delete c.colab.test)});SH(a);delete b.colab.include_colab_link},j5=function(a){var b=a.metadata;b.colab.provenance=[];delete b.colab.last_runtime;a.cells.forEach(function(c){if(c=c.metadata)delete c.executionInfo,delete c.imported_from})};var k5=function(a,b,c){CM.call(this,a,b,void 0===c?null:c);this.saver_="gist"==b.getFileId().source?new g5:null};t(k5,CM);k5.prototype.getSaver=function(){return this.saver_};var l5=function(a){LR.call(this,a)};t(l5,LR);l5.prototype.customizeCodeMirror=function(){LR.prototype.customizeCodeMirror.call(this);f5()};l5.prototype.createNotebookModel=function(a){var b=a.document,c=a.driveMetadata,d=a.permissions,e=a.traits;a=a.userInfo;var f=I(e.fileId_);return"github"==f.source||"gist"==f.source?new k5(b,e,d):LR.prototype.createNotebookModel.call(this,{document:b,driveMetadata:c,permissions:d,traits:e,userInfo:a})};var m5=function(a){var b=U(Oa(a.showScopeSelector)||1===a.showScopeSelector||0===a.showScopeSelector,"showScopeSelector",a.showScopeSelector,"boolean");a=U(Oa(a.requestFullOAuthScope)||1===a.requestFullOAuthScope||0===a.requestFullOAuthScope,"requestFullOAuthScope",a.requestFullOAuthScope,"boolean");var c='<div class="layout horizontal"><div class="layout grow">Enter a GitHub URL or search by organization or user</div>';b&&(c=c+('<div class="github-scope-selector"><paper-checkbox'+(a?" checked":"")+
" noink>")+"Include private repos</paper-checkbox></div>");c+='</div><div class="layout horizontal"><paper-input class="flex" no-label-float placeholder=""></paper-input><paper-icon-button icon="icons:search" title="';c+=S("Search");c+='"></paper-icon-button></div><colab-github-repo-selector class="layout horizontal"></colab-github-repo-selector><colab-notebook-list></colab-notebook-list>';return Q(c)};m5.soyTemplateName="colab.external.components.github.gitHubOpenTemplates.openGitHubNotebook";var n5=function(a){a=U(Oa(a.showCreateNew)||1===a.showCreateNew||0===a.showCreateNew,"showCreateNew",a.showCreateNew,"boolean");var b='<div class="github-repos"><div>Repository:<a href="https://github.com/" target="_blank"><iron-icon icon="icons:open-in-new" class="open-in-github" title="'+S("View repositories on GitHub");b+='"></iron-icon></a></div><paper-spinner-lite active></paper-spinner-lite><div class="github-api-error" style="display: none">';b=(a?b+'Could not find any public repositories. <a href="https://github.com/new" target="_blank">New repository</a>':
b+"Could not find organization or user.")+'</div></div><div class="github-branches"><div>Branch:<a href="https://github.com/" target="_blank"><iron-icon icon="icons:open-in-new" class="open-in-github" title="'+S("View branches on GitHub");b+='"></iron-icon></a></div><paper-spinner-lite active></paper-spinner-lite><div class="github-api-error" style="display: none">Could not fetch branches. ';a&&(b+='<a href="https://github.com/" target="_blank">View branches on GitHub</a>');return Q(b+"</div></div>")};
n5.soyTemplateName="colab.external.components.github.gitHubRepoSelectorTemplates.dropdowns";var o5=function(a){a=U(Za(a.items),"items",a.items,"!Array<!goog.soy.data.UnsanitizedText|string>");for(var b="<select>",c=a.length,d=0;d<c;d++)b+="<option>"+R(a[d])+"</option>";return Q(b+"</select>")};o5.soyTemplateName="colab.external.components.github.gitHubRepoSelectorTemplates.dropdown";function p5(){var a;return B(function(b){switch(b.nextAddress){case 1:return HH.accessToken_?b.return(!0):u(b,yH({title:"Authorize with GitHub",message:"The GitHub API is responding with a rate limit exceeded error. Authorize Colaboratory to use the GitHub API to get a higher limit.",yesText:"Authorize"}),2);case 2:a=b.yieldResult;if(!a){b.jumpTo(3);break}return u(b,oQ(),4);case 4:return b.return(!!HH.accessToken_);case 3:return b.return(!1)}})}
function q5(a,b){r5(a);qi(a.querySelector("paper-spinner-lite"),!1);qi(a.querySelector(".github-api-error"),!1);b=pm(o5,{items:b});a.appendChild(b);Polymer.dom.flush();return b}function r5(a){var b=a.querySelector("select");b&&b.remove();qi(a.querySelector("paper-spinner-lite"),!0);qi(a.querySelector(".github-api-error"),!1)}function s5(a){r5(a);qi(a.querySelector("paper-spinner-lite"),!1);a=a.querySelector(".github-api-error");qi(a,!0)}
function t5(a,b){for(var c=0;c<a.options.length;c++)if(b==a.options[c].value){a.selectedIndex=c;break}}var u5=function(){return $D.apply(this,arguments)||this};t(u5,$D);u5.prototype.createdCallback=function(){this.repos_=new Map;this.branches_=new Map;this.org_="";this.notebooks_=new Map;var a=nm(n5,{showCreateNew:this.hasAttribute("show-create-new")});this.appendChild(a);this.classList.add("layout","horizontal")};u5.prototype.attachedCallback=function(){document.contains(this)&&gH(this)};
u5.prototype.reset=function(){this.repos_.clear();this.branches_.clear();this.org_="";this.notebooks_.clear()};
u5.prototype.init=function(a,b){b=void 0===b?{}:b;var c=void 0===b.repo?"":b.repo,d=void 0===b.branch?"":b.branch,e=this,f,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:if(e.org_==a){if(!c)return n.return();f=e.querySelector(".github-repos select");t5(f,a+"/"+c);n.jumpTo(2);break}g=e.querySelector(".github-repos a");ve(g,"https://github.com/"+a);e.org_=a;h=I(e.querySelector(".github-repos"));r5(h);qi(I(e.querySelector(".github-branches")),!1);l=[];y(n,3);return u(n,v5(e,a),5);case 5:l=
n.yieldResult;va(n,4);break;case 3:z(n);case 4:if(0==l.length)return s5(h),e.dispatchEvent(new Event("repo-not-found")),n.return();m=q5(h,l.map(function(p){return p.full_name}));m.addEventListener("change",function(){w5(e,{branch:d})});c&&t5(m,a+"/"+c);case 2:w5(e,{branch:d}),x(n)}})};
var v5=function(a,b){var c,d;return B(function(e){switch(e.nextAddress){case 1:if(c=a.repos_.get(b)){e.jumpTo(2);break}y(e,3);return u(e,YH(b),5);case 5:c=e.yieldResult;va(e,4);break;case 3:d=z(e);if(!(d instanceof JH)){e.jumpTo(6);break}return u(e,p5(),7);case 7:if(e.yieldResult)return e.return(v5(a,b));case 6:console.warn(d);case 4:a.repos_.set(b,c);case 2:return e.return(c||[])}})},x5=function(a,b){var c,d;return B(function(e){switch(e.nextAddress){case 1:if(c=a.branches_.get(b.full_name)){e.jumpTo(2);
break}y(e,3);return u(e,ZH(b),5);case 5:c=e.yieldResult;va(e,4);break;case 3:d=z(e);if(!(d instanceof JH)){e.jumpTo(6);break}return u(e,p5(),7);case 7:if(e.yieldResult)return e.return(x5(a,b));case 6:console.warn(d);case 4:a.branches_.set(b.full_name,c);case 2:return e.return(c||[])}})},y5=function(a){var b=a.repos_.get(a.org_);a=a.querySelector(".github-repos select");return b&&a?b[a.selectedIndex]||null:null},z5=function(a){var b=y5(a),c=a.querySelector(".github-branches select");return b&&c?(a=
a.branches_.get(b.full_name))?a[c.selectedIndex]||null:null:null},w5=function(a,b){var c=void 0===b.branch?"":b.branch,d,e,f,g,h,l,m,n;B(function(p){switch(p.nextAddress){case 1:d=y5(a);if(!d)return p.return();e=a.querySelectorAll(".github-branches a");f=q(e);for(g=f.next();!g.done;g=f.next())h=g.value,ve(h,"https://github.com/"+d.full_name+"/branches");l=I(a.querySelector(".github-branches"));qi(l,!0);r5(l);m=[];y(p,2);return u(p,x5(a,d),4);case 4:m=p.yieldResult;va(p,3);break;case 2:z(p);case 3:if(0==
m.length)return s5(l),p.return();n=q5(l,m.map(function(r){return r.name}));n.addEventListener("change",function(){a.dispatchEvent(new Event("branch-selected"))});t5(n,c||"master");a.dispatchEvent(new Event("branch-selected"));x(p)}})},A5=function(a){var b,c,d,e,f,g;return B(function(h){switch(h.nextAddress){case 1:b=y5(a);c=z5(a);if(!b||!c)return h.return([]);d=b.full_name+"/"+c.name;if(e=a.notebooks_.get(d)){h.jumpTo(2);break}f=null;y(h,3);return u(h,VH(b,c),5);case 5:f=h.yieldResult;va(h,4);break;
case 3:g=z(h);if(!(g instanceof JH)){h.jumpTo(6);break}return u(h,p5(),7);case 7:if(h.yieldResult)return h.return(A5(a));case 6:return console.warn(g),h.return([]);case 4:e=f.map(function(l){var m=qd(Qy({org:b.owner.login,repo:b.name,branch:c.name,path:l.path}));return{title:l.path,fileId:qI(m)}}),a.notebooks_.set(d,e);case 2:return h.return(e)}})};bH("colab-github-repo-selector",u5);var B5=function(a,b){Y3.call(this,"GitHub",a);this.gitHubPath_=b;this.lastBranch_=this.lastRepo_=this.input_=this.notebookList_=this.repoSelector_=null};t(B5,Y3);
B5.prototype.render=function(a){var b=this,c=nm(m5,{showScopeSelector:!0,requestFullOAuthScope:!!nQ&&nQ.getValue()});a.appendChild(c);gH(a);a.classList.add("open-github-notebook");this.input_=a.querySelector("paper-input");a.querySelector("paper-icon-button").addEventListener("click",function(){var f=b.input_.value;if(f.includes("github.com/")){var g=null;try{g=qI(f)}catch(h){}g&&gA(jA(Uz(g)));f=!!g}else f=!1;f||C5(b)});var d=function(f){var g;return B(function(h){if(1==h.nextAddress)return u(h,WH(),
2);g=h.yieldResult;!b.input_||b.input_.value&&b.input_.value.trim()!=g||(b.input_.value=g,f&&(b.repoSelector_.reset(),D5(b)),C5(b));x(h)})},e=a.querySelector(".github-scope-selector paper-checkbox");e&&e.addEventListener("change",function(){pQ(e.checked).then(function(f){f&&d(!0)})});this.repoSelector_=a.querySelector("colab-github-repo-selector");this.notebookList_=a.querySelector("colab-notebook-list");this.notebookList_.setTitleLabel("Path");this.notebookList_.setFirstOpenedLabel("");this.notebookList_.setLastOpenedLabel("");
this.input_.addEventListener("keyup",function(f){13==f.keyCode&&C5(b)});this.input_.addEventListener("blur",function(){C5(b)});this.repoSelector_.addEventListener("branch-selected",function(){E5(b)});this.repoSelector_.addEventListener("repo-not-found",function(){D5(b)});HH.accessToken_?d(!1):nQ&&nQ.getValue()&&oQ().then(function(f){f&&d(!1)});null!=this.gitHubPath_&&this.gitHubPath_.org&&(this.input_.value=this.gitHubPath_.org,this.repoSelector_.init(this.gitHubPath_.org,this.gitHubPath_));C5(this)};
var F5=function(a){a=a.input_.value?a.input_.value.trim():"";if(!a||a.startsWith("https://gist.github.com/"))return null;if(a.startsWith("https://github.com/")){var b=a.replace("https://github.com/","").split("/");try{return Ry(b)}catch(c){}}a=a.replace(/^https?:\/\/[^\/]+\//,"");b=a.split("/");return{org:2==b.length?b[0]:a,repo:2==b.length?b[1]:""}},C5=function(a){var b=F5(a);b?(a.repoSelector_.style.visibility="visible",a.repoSelector_.init(b.org,b)):(a.repoSelector_.style.visibility="hidden",D5(a))},
D5=function(a){a.notebookList_.reset();a.notebookList_.refresh()},E5=function(a){var b,c,d,e,f,g;B(function(h){if(1==h.nextAddress){b=y5(a.repoSelector_);c=z5(a.repoSelector_);if(!b||!c)return D5(a),h.return();if(a.notebookList_.finishedLoading&&b==a.lastRepo_&&c==a.lastBranch_)return h.return();a.lastRepo_=b;a.lastBranch_=c;a.notebookList_.reset();return u(h,A5(a.repoSelector_),2)}d=h.yieldResult;a.notebookList_.init(O3(d),a.traits);a.notebookList_.refresh();e=F5(a);e.path&&(f=d.findIndex(function(l){return l.title==
e.path}),0<=f&&(a.notebookList_.setSelected(f),g=a.notebookList_,g.querySelector("iron-list").scrollToIndex(f),g.querySelector(".selected-row a").focus()));x(h)})};var G5=Gc("outputframe.html"),H5={},I5=Gc("service_worker_binary.js"),J5={};
function K5(a){var b=a.filename,c=a.port;a=c+"-"+a.trusted;if(!e5[a]){var d=new Uint32Array(1);window.crypto.getRandomValues(d);d=(d[0]/65536/65536).toString(36).substr(2);e5[a]=d}a=e5[a];d=window.colabVersionTag;I(/^[\w\d-]+$/.test(d));if(Hx)return c={vrz:d},b=Uc(Gc("/v2/usercontent/%{filename}"),{filename:b}),b=Pc(b),b=Vc.exec(b),a=b[3]||"",Sc(b[1]+Xc("?",b[2]||"",c)+Xc("#",a,void 0));wy?(d=Fc(d5),xy&&(d=xy),b="https://"+a+"-"+d+"-"+c+"-colab.googleusercontent.com/"+(""+Fc(b))+("?vrz="+window.colabVersionTag)):
b="https://"+a+"-colab.googleusercontent.com/v2/usercontent/"+(Fc(d5)+"/"+Fc(b))+("?vrz="+window.colabVersionTag);return qe(Gc("Constant format string with validated parameters, and randomly generated origin"),b)};var L5={DEFAULT_SCOPES:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.appdata","https://www.googleapis.com/auth/drive.appfolder","https://www.googleapis.com/auth/drive"],API_KEY:Dx||"AIzaSyCN_sSPJMpYrAzC5AtTrltNC8oRmLtoqBk",ANONYMOUS_API_KEY:Ex||"AIzaSyBTovHviI72805XietPKXCY6k2mlaDXSoE",APP_ID:"1014160490159",CLIENT_ID:"1014160490159-q57gpds0goltt5nsip6uqu6m66satup5.apps.googleusercontent.com",DOMAIN_RESTRICTION:null,DEFAULT_MIME_TYPE:"application/vnd.google.colaboratory",
SHOW_SHARING_MIMETYPE_WARNING:!0,SEARCH_MIMETYPES:["application/vnd.google.colaboratory","application/vnd.google.colab"]};function M5(a,b){var c=b.getDomain();if(a.startsWith("/")||b.scheme_){if(a.startsWith("/v2/"))return"bundled";if("github.com"==c)return"github";if("gist.github.com"==c)return"gist"}else return"drive";return"hosted_path"}var N5=function(){};t(N5,PD);
N5.prototype.showOpenNotebookDialog=function(a,b,c){c=void 0===c?{}:c;var d=void 0===c.showNewNotebookButton?!1:c.showNewNotebookButton,e=void 0===c.canPrompt?!0:c.canPrompt,f=void 0===c.canCancel?!0:c.canCancel,g=void 0===c.focus?null:c.focus,h;return B(function(l){h=new B5(b,wI(b));return u(l,X3(a,h,{traits:b,showNewNotebookButton:wb(d),canPrompt:wb(e),canCancel:wb(f),focus:g}),0)})};var qI=function(a){var b=new Dl(a);return new $y(a,M5(a,b))};
N5.prototype.createFileIdFromPathParts=function(a,b,c){switch(c){case "bundled":return new $y("/v2/external/notebooks/"+b.join("/"),c);case "github":return new $y(qd(Qy(Ry(b))),c);case "gist":return new $y(qd(Zy(Xy(b))),c);default:return PD.prototype.createFileIdFromPathParts.call(this,a,b,c)}};N5.prototype.getFileIdIcon=function(a){switch(a){case "github":case "gist":return Wc(Gc("colab:github-logo"));default:return PD.prototype.getFileIdIcon.call(this,a)}};var O5=new N5;var P5={},Q5=new Set("add-external-cell copy-to-piper create-view debugger-continue debugger-exit debugger-next debugger-return debugger-step edit-selected-test-annotations format-cell help colabtools-reference forms-reference getting-started magic-reference lint-notebook manage-views open-runtime-logs open-runtime-manager-statusz open-runtime-statusz rundebug runscheduling set-all-metadata slides-animation-concave slides-animation-convex slides-animation-fade slides-animation-none slides-animation-slide slides-animation-zoom slides-layout slides-present update-external-cells workspace-list-button".split(" ")),
R5=new Set("collapsibleSectionsPersistOnSave editorFontSize editorKeyMap editorLineHeight markdownPreviewVisible multicursorEnabled runBeforeInclusive".split(" "));(ky||ly)&&R5.delete("editorKeyMap");P5.isCommandDisabled=function(a){return Q5.has(a)};P5.isPreferenceDisabled=function(a){return R5.has(a)};P5.inExperiment_=function(a,b){var c=window.colabUserEmail||"";return 0>=a?!1:EA(c,0)%b<a};P5.ISOLATED_NOTEBOOKS=(0,P5.inExperiment_)(py,100);P5.HIGH_MEMORY=(0,P5.inExperiment_)(qy,1E3);
P5.ADVANCED_DEBUGGER=!1;P5.KERNEL_BUTTON_ONE_CLICK_CONNECTION=!0;P5.DROPDOWN_CONNECT_BUTTON=Lx?!1:!0;P5.SUPPORTS_GO_LINKS=!1;P5.TEMPLATES=!1;P5.PIPER=!1;P5.SPECIFY_PACKAGES=!1;P5.TEST_ANNOTATIONS=!1;P5.VIEWS=!1;
var S5=new Map([["Accessing Files",qI("/v2/external/notebooks/snippets/accessing_files.ipynb")],["Advanced Outputs Snippets",qI("/v2/external/notebooks/snippets/advanced_outputs.ipynb")],["Altair Chart Snippets",qI("/v2/external/notebooks/snippets/altair.ipynb")],["BigQuery Snippets",qI("/v2/external/notebooks/snippets/bigquery.ipynb")],["Google Drive Snippets",qI("/v2/external/notebooks/snippets/drive.ipynb")],["Google Cloud Storage Snippets",qI("/v2/external/notebooks/snippets/gcs.ipynb")],["Forms Snippets",
qI("/v2/external/notebooks/snippets/forms.ipynb")],["Library Import Snippets",qI("/v2/external/notebooks/snippets/importing_libraries.ipynb")],["Google Sheets Snippets",qI("/v2/external/notebooks/snippets/sheets.ipynb")]]);P5.DEFAULT_SNIPPETS=Array.from(S5.values());
P5.SAMPLE_NOTEBOOKS=new Map([["Overview of Colaboratory Features",qI("/v2/external/notebooks/basic_features_overview.ipynb")],["Markdown Guide",qI("/v2/external/notebooks/markdown_guide.ipynb")],["Charts in Colaboratory",qI("/v2/external/notebooks/charts.ipynb")],["External data: Drive, Sheets, and Cloud Storage",qI("/v2/external/notebooks/io.ipynb")],["Getting started with BigQuery",qI("/v2/external/notebooks/bigquery.ipynb")],["Forms",qI("/v2/external/notebooks/forms.ipynb")]].concat(ja(S5)));var T5={createSocket:function(){return new c5},SUPPORTS_KERNEL_ENDPOINT:!1,AUTOCONNECT_ON_WELCOME_NOTEBOOK:!1,DEFAULT_LANGUAGE:Az};T5.KERNEL_MANAGER_URI=new URL("https://localhost:8080");T5.MEMORY_UTILIZATION_NOTIFICATION_THRESHOLD=.8;T5.SUPPORTS_PYTHON_3=!0;var U5=function(){return Q("")};U5.soyTemplateName="colab.external.config.messageTemplates.contactSupport";
var V5=function(a){var b=U(F(a.description)||a.description instanceof N,"description",a.description,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.externalUrl)||a.externalUrl instanceof N,"externalUrl",a.externalUrl,"!goog.soy.data.UnsanitizedText|string");b="<div>There was an error loading this notebook. Ensure that the file is accessible and try again."+((b?"<p>"+R(b)+"</p>":"")+'</div><a href="'+T(Do(a))+'" target="_blank">'+R(a)+"</a>");return Q(b)};V5.soyTemplateName="colab.external.config.messageTemplates.notebookLoadingError";
var W5=function(){return Q("Welcome to Colaboratory!")};W5.soyTemplateName="colab.external.config.messageTemplates.welcomeEmailSubject";
var X5=function(a){a=U(F(a.externalUrl)||a.externalUrl instanceof N,"externalUrl",a.externalUrl,"!goog.soy.data.UnsanitizedText|string");a="Hello,\n\nYou requested access to Colaboratory, and today we\u2019re excited to offer you access!\nYou can now get started creating your own notebooks by simply visiting\n"+(R(a)+"\n\nCopyright 2017 Google Inc. 1600 Amphitheatre Parkway, Mountain View, CA 94043\nYou are receiving this one-time welcome message because you requested access to Colaboratory.");return Q(a)};
X5.soyTemplateName="colab.external.config.messageTemplates.welcomeEmailText";
var Y5=function(a){var b=U(F(a.externalUrl)||a.externalUrl instanceof N,"externalUrl",a.externalUrl,"!goog.soy.data.UnsanitizedText|string");a="<html><head></head><body><p>";b="Hello,<p>You requested access to Colaboratory, and today we\u2019re excited to offer you access! You can now get started creating your own notebooks by simply visiting "+('<a href="'+T(Do(b))+'">'+(R(b)+'</a>.<p><small style="color: #909090">&copy; 2017 Google Inc. 1600 Amphitheatre Parkway, Mountain View, CA 94043<br>You are receiving this one-time welcome message because you requested access to Colaboratory.</small>'));return Q(a+
b+"</p></body></html>")};Y5.soyTemplateName="colab.external.config.messageTemplates.welcomeEmailHTML";var Z5={ANNOUNCEMENTS:[{text:"Check out the dark theme option in Preferences."}],CONTACT_SUPPORT:U5,DOCUMENT_TITLE:"Colaboratory",SHORT_PRODUCT_NAME:"Colaboratory",DRIVE_AUTHORIZATION_FAILED:"You are not logged in or have not granted Colaboratory permission to access your Google Drive.",NOTEBOOK_LOADING_ERROR:V5,OUTPUT_JAVASCRIPT_LOADING_ERROR:"Could not load the JavaScript files needed to display output.\nThis is probably because your Google account login access has expired or because third-party cookies are not allowed by your browser.\n\nPlease reload this page.",
SHOW_DEFAULT_RUNTIME_TOAST:!0,WELCOME_EMAIL_SUBJECT:W5,WELCOME_EMAIL_TEXT:X5,WELCOME_EMAIL_HTML:Y5,getFileIdDescription:function(a){switch(a){case "drive":return"Notebook stored in Google Drive";case "bundled":return"Example notebook";case "github":case "gist":return"Notebook stored in GitHub";default:return"Notebook from unknown source"}},getCommandDescription:function(){return""},getRuntimeDescription:function(a){if("local"==a.kind){var b=pA(a);a="Local "+(b+((b?" ":"")+("runtime on port "+a.connectionParams.hostport)))}else"gce"==
a.kind?(b=pA(a),a=a.getAccelerator(),a=(b+(" Google Compute Engine backend "+(a?"("+a+")":""))).trim()):a="Unknown backend type";return a}};var $5={ABSOLUTE_PROD_URL:"https://colab.research.google.com",CODE_SEARCH_URL_PREFIX:"",DEFAULT_PATH:"/notebook",DOCUMENT_SIZE_LIMIT_HELP:"",FAVICON:{DEFAULT:Wc(Gc("/img/favicon.ico")),BUSY:Wc(Gc("/img/favicon_busy.ico")),ERROR:Wc(Gc("/img/favicon_error.ico"))},GVIZ_BUNDLE:Wc(Gc("/v2/external/js/modules/gviz_loader.js")),MONACO_BASE_PATH:"/v2/external/js/monaco_editor/",RUN_ALL_SECURITY_HELP:"",WELCOME_NOTEBOOK:"/v2/external/notebooks/welcome.ipynb",WORKER_BINARY_PATH:"/v2/external/worker_binary.js",
WORKER_BINARY_UNCOMPILED_PATH:"/jsraw/research/colab/frontend/common/worker/processor/worker_binary_sources",FAQ:"https://research.google.com/colaboratory/faq.html",getNonColabUrl:function(a,b){if(az(a)){a=dz(a);var c=new Dl("https://drive.google.com/drive/");c.queryData_.set("action","locate");c.queryData_.set("id",a);c.queryData_.set("authuser",b);return c.toString()}if("gist"==a.source||"github"==a.source)return a.toString()}};var a6={analytics:{ANALYTICS_ID:"UA-48865479-2"},auth:{StorageKey:{ACCESS_HISTORY:"external_access_history",FORCE_ISOLATION:"datalab_kernelForceIsolation",KERNEL:"datalab_kernelAlloc",LOCAL_STORE:"colab_localstore",PREFS:"datalab_prefs"},getUsername:function(){return window.colabUserEmail||""},init:function(){},reauthenticate:function(){}},cell:{OUTPUT_CSS_COMPILED_URIS:["/v2/external/outputframe.css"],OUTPUT_CSS_UNCOMPILED_URIS:["/v2/raw/research/colab/frontend/common/css/material_styles.css","/v2/raw/research/colab/frontend/common/output/theme.css",
"/v2/raw/research/colab/frontend/common/output/outputframe.css"],OUTPUT_SCRIPTS_COMPILED:["/v2/external/output_binary.js"],OUTPUT_SCRIPTS_UNCOMPILED:["/jsraw/research/colab/frontend/external/output/output_binary_sources"],getOutputframeHtmlUrl:function(a){var b=a.trusted;a=void 0===a.port?0:a.port;var c=b+"-"+a;H5[c]||(H5[c]=K5({trusted:b,port:a||0,filename:G5}));return H5[c]},getServiceWorkerUrl:function(a){var b=a.trusted;a=void 0===a.port?0:a.port;var c=b+"-"+a;J5[c]||(J5[c]=K5({trusted:b,port:a||
0,filename:I5}));return J5[c]}},drive:L5,features:P5,fileUtil:O5,kernel:T5,messages:Z5,urls:$5};var b6=function(){return Q('<div class="file-browser-message">Connecting to a runtime to enable file browsing.</div>')};b6.soyTemplateName="colab.external.files.browser.templates.fileBrowser";
var c6=function(a){var b=U(F(a.refreshText)||a.refreshText instanceof N,"refreshText",a.refreshText,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.uploadText)||a.uploadText instanceof N,"uploadText",a.uploadText,"!goog.soy.data.UnsanitizedText|string");a=U(F(a.uploadButtonTitle)||a.uploadButtonTitle instanceof N,"uploadButtonTitle",a.uploadButtonTitle,"!goog.soy.data.UnsanitizedText|string");return Q('<div class="file-tree-buttons"><div><colab-toolbar-button icon="icons:file-upload" title="'+T(a)+
'">'+R(c)+'</colab-toolbar-button><colab-toolbar-button icon="icons:refresh">'+R(b)+'</colab-toolbar-button></div><input type="file" multiple></div><div class="parent-link"></div><div class="files-root"></div><div class="files-uploading"></div><colab-resource-usage-display id="file-browser-disk-display" disk with-text></colab-resource-usage-display><paper-tooltip for="file-browser-disk-display" id="file-browser-disk-display-tooltip" position="top"></paper-tooltip>')};c6.soyTemplateName="colab.external.files.browser.templates.fileTree";
var d6=function(a){a=U(F(a.name)||a.name instanceof N,"name",a.name,"!goog.soy.data.UnsanitizedText|string");return Q('<span class="file-tree-name">'+R(a)+'</span><div class="file-upload-indicator"><colab-file-progress class="file-upload-icon"></colab-file-progress><iron-icon class="file-upload-error file-upload-icon" icon="icons:error"></iron-icon><iron-icon class="file-upload-cancel file-upload-icon" icon="icons:cancel"></iron-icon></div>')};d6.soyTemplateName="colab.external.files.browser.templates.fileUploader";
var f6=function(a,b,c){b=c||b;c=U(F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|string");a=U(hm(a.icon),"icon",a.icon,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string");return Q(e6({displayHeader:!0,icon:a,indent:0,isDirectory:!1,name:"..",title:c},b))};f6.soyTemplateName="colab.external.files.browser.templates.parentLink";
var e6=function(a){var b=U(F(a.name)||a.name instanceof N,"name",a.name,"!goog.soy.data.UnsanitizedText|string"),c=U(null==a.title||F(a.title)||a.title instanceof N,"title",a.title,"!goog.soy.data.UnsanitizedText|null|string|undefined"),d=U(Pa(a.indent),"indent",a.indent,"number"),e=U(hm(a.icon),"icon",a.icon,"!goog.Uri|!goog.html.SafeUrl|!goog.html.TrustedResourceUrl|!goog.soy.data.SanitizedUri|!goog.soy.data.UnsanitizedText|!soydata.$$EMPTY_STRING_|string"),f=U(Oa(a.isDirectory)||1===a.isDirectory||
0===a.isDirectory,"isDirectory",a.isDirectory,"boolean");a=U(Oa(a.displayHeader)||1===a.displayHeader||0===a.displayHeader,"displayHeader",a.displayHeader,"boolean");return Q((a?'<div class="file-title-row">'+(f?'<iron-icon class="file-icon directory-icon" icon="icons:arrow-drop-down" style="margin-left: '+T(Fo(d))+'px"></iron-icon>':'<div class="file-icon" style="margin-left: '+T(Fo(d))+'px"></div>')+'<iron-icon class="file-icon" icon="'+T(Do(e))+'"></iron-icon><span class="file-tree-name" title="'+
T(c)+'">'+R(b)+"</span></div>":"")+(f?"<div class='child-files'></div>":""))};e6.soyTemplateName="colab.external.files.browser.templates.fileView";var g6=function(){return Q('<svg width="100%" height="100%" viewBox="0 0 120 120"><circle cx="60" cy="60" r="50" fill="none" stroke="#e6e6e6" stroke-width="15"/><circle class="file-progress-fill" cx="60" cy="60" r="50" fill="none" stroke-width="15" stroke-dasharray="314.159" stroke-dashoffset="314.159" transform="rotate(-90 60 60)"/></svg>')};
g6.soyTemplateName="colab.external.files.browser.templates.progress";var h6=function(){return $D.apply(this,arguments)||this};t(h6,$D);h6.prototype.createdCallback=function(){var a=nm(g6,{});this.appendChild(a);this.progressFill_=this.querySelector(".file-progress-fill");this.setValue(this.value_)};h6.prototype.setValue=function(a){null==a?(this.classList.add("indeterminate"),this.progressFill_.setAttribute("stroke-dashoffset",""+Math.PI/2*100)):(this.classList.remove("indeterminate"),this.progressFill_.setAttribute("stroke-dashoffset",""+100*Math.PI*(1-a)))};
var i6=function(a){a.classList.toggle("error",!0);a.setValue(1)};h6.prototype.value_=null;h6.prototype.progressFill_=null;var j6=bH("colab-file-progress",h6);var k6=function(a){var b=a.isDirectory,c=a.mimeType,d=a.path,e=a.sizeBytes;this.name=a.name;this.isDirectory=b;this.mimeType=c;this.path=d;this.sizeBytes=e};k6.prototype.equals=function(a){return this.name==a.name&&this.isDirectory==a.isDirectory&&this.mimeType==a.mimeType&&this.sizeBytes==a.sizeBytes};var l6=function(a){Cy.call(this,"File too large");this.blobProvider=a};t(l6,Cy);var m6=function(a){a=U(F(a.downloadText)||a.downloadText instanceof N,"downloadText",a.downloadText,"!goog.soy.data.UnsanitizedText|string");a='<div class="max-file-size">File is too large to display.\u00a0'+('<a href="#" title="'+T(a)+'">'+R(a)+"</a></div>");return Q(a)};m6.soyTemplateName="colab.external.files.viewer.templates.fileTooLarge";var n6=function(){return $D.apply(this,arguments)||this};t(n6,$D);n6.prototype.refresh=function(){var a=this;return B(function(b){a.setAttribute("filename",a.file.name);a.progressElement.classList.remove("hidden");x(b)})};
var p6=function(a,b){sh(a);var c=nm(m6,{downloadText:"Download"});c.querySelector("a").addEventListener("click",function(d){var e,f;return B(function(g){if(1==g.nextAddress)return d.preventDefault(),u(g,b(),2);e=g.yieldResult;f=new xx;f.init();eJ(18,"file_download",e.size+","+e.type);f.download(e,a.file.name).then(function(){f.dispose()});x(g)})});o6(a);a.appendChild(c)},o6=function(a){a.progressElement.classList.add("hidden")};n6.prototype.file=null;n6.prototype.progressElement=null;var q6=function(){return n6.apply(this,arguments)||this};t(q6,n6);q6.prototype.refresh=function(){var a=this,b,c;return B(function(d){if(1==d.nextAddress)return n6.prototype.refresh.call(a),sh(a),u(d,II(r6(a.file,{maxSize:2097152}),{capture:!0,eventId:"table_viewer_fetch_"+a.file.name}),2);if(3!=d.nextAddress)return b=d.yieldResult,u(d,w0(),3);c=new D0;a.fillTable(c,b);o6(a);a.appendChild(c);O0(c);x(d)})};var s6=function(){return q6.apply(this,arguments)||this};t(s6,q6);s6.prototype.render=function(){var a=this;return B(function(b){return u(b,a.refresh(),0)})};s6.prototype.fillTable=function(a,b){b=ow(b);var c=b.shift();if(c){c=q(c);for(var d=c.next();!d.done;d=c.next())a.addColumn("string",d.value)}b=q(b);for(c=b.next();!c.done;c=b.next())a.addRow(c.value)};var t6=bH("colab-files-csv-viewer",s6),u6=new Set(["text/csv"]);var v6=function(){return n6.apply(this,arguments)||this};t(v6,n6);v6.prototype.render=function(){var a=this;return B(function(b){a.image_=oh("IMG");a.image_.onload=function(){o6(a)};a.appendChild(a.image_);return u(b,a.refresh(),0)})};
v6.prototype.refresh=function(){var a=this,b,c;return B(function(d){if(1==d.nextAddress)return n6.prototype.refresh.call(a),u(d,a.file.fetch(),2);b=d.yieldResult;if(rd.test(b.type)){var e=E(D.URL)&&E(D.URL.createObjectURL)?D.URL:E(D.webkitURL)&&E(D.webkitURL.createObjectURL)?D.webkitURL:E(D.createObjectURL)?D:null;if(null==e)throw Error("This browser doesn't seem to support blob URLs");e=e.createObjectURL(b)}else e="about:invalid#zClosurez";c=td(e);e=I(a.image_);cc(e,"HTMLImageElement");var f=c instanceof
od?c:xd(c,/^data:image\//i.test(c));e.src=pd(f);x(d)})};v6.prototype.image_=null;var w6=bH("colab-files-image-viewer",v6),x6=new Set("image/bmp image/gif image/jpeg image/jpg image/png image/tiff image/webp".split(" "));var y6=function(a){this.kernel_=a;this.xhr_=this.kernel_.getKernelXhr();this.rootPath_=(a=this.kernel_.runtime_)&&"local"==a.kind?"":"content"},z6=function(a){var b=a.path;a=void 0===a.apiPath?"/api/contents":a.apiPath;b.startsWith("/")&&(b=b.substring(1));return a+"/"+Oy(b)};
y6.prototype.getRoot=function(){var a=this,b,c,d,e,f,g;return B(function(h){if(1==h.nextAddress)return b=z6({path:a.rootPath_}),u(h,a.xhr_.get(b),2);c=h.yieldResult;d=JSON.parse(c);e=new A6(d,a);f=d.content;g=B6(a,f);return h.return({root:e,files:g})})};y6.prototype.getFile=function(a){var b=this,c,d,e;return B(function(f){if(1==f.nextAddress)return c=z6({path:a}),u(f,b.xhr_.get(c),2);d=f.yieldResult;e=JSON.parse(d);return f.return(new A6(e,b))})};
var C6=function(a,b){var c,d,e,f;return B(function(g){if(1==g.nextAddress)return c=z6({path:b}),u(g,a.xhr_.get(c),2);d=g.yieldResult;e=JSON.parse(d);f=e.content;return g.return(B6(a,f))})},B6=function(a,b){return b.map(function(c){return new A6(c,a)})};
y6.prototype.upload=function(a,b,c,d){var e=this,f,g,h,l,m,n,p,r,w,v,A,H,C;return B(function(J){switch(J.nextAddress){case 1:return u(J,new Promise(function(L,W){var Ha=new FileReader;Ha.onload=function(){L(Ha.result)};Ha.onerror=W;Ha.readAsArrayBuffer(c)}),2);case 2:f=J.yieldResult,g=0,h=1,l=""==a?"":"/",m=""+a+l+b,n=z6({path:m}),r=null;case 3:if(!(g<f.byteLength)){if(!r){J.jumpTo(7);break}return u(J,r,8)}if(d.canceled)throw new CH;w=Math.min(f.byteLength-g,1048576);v=new Uint8Array(f,g,w);g+=w;
A=lg(v);H={content:A,format:"base64",name:b,path:a,chunk:h,type:"file"};C=JSON.stringify(H);++h;if(!r){J.jumpTo(5);break}return u(J,r,6);case 6:p=J.yieldResult;if(!p.ok)return J.return(p);d.update(g/f.byteLength);case 5:r=e.xhr_.fetch(n,{method:"PUT",body:C});J.jumpTo(3);break;case 8:return p=J.yieldResult,p.ok?u(J,p.blob(),7):J.return(p);case 7:return d.update(1),J.return(p)}})};
y6.prototype.delete=function(a){var b=this,c,d;return B(function(e){if(1==e.nextAddress)return c=z6({path:a}),u(e,b.xhr_.fetch(c,{method:"DELETE"}),2);d=e.yieldResult;if(!d.ok)throw new sA(d);return e.return(d)})};var E6=function(a,b,c,d){var e,f;return B(function(g){if(1==g.nextAddress){if("undefined"===typeof ReadableStream||!d)return g.return(a.blob());e=D6(a,b,c,d);return u(g,e.blob(),3)}f=g.yieldResult;return g.return(new Blob([f],{type:f.type}))})};
y6.prototype.download=function(a,b){var c=this,d,e,f,g,h,l,m,n,p,r;return B(function(w){switch(w.nextAddress){case 1:return d=z6({apiPath:"/files",path:a}),u(w,c.xhr_.fetch(d,{headers:new Headers({Range:"bytes=0-0"})}),2);case 2:e=w.yieldResult;if(416!=e.status){w.jumpTo(3);break}return u(w,c.xhr_.fetch(d),4);case 4:e=w.yieldResult;case 3:if(!e.ok)throw new sA(e);f=parseInt(e.headers.get("X-File-Size"),10);if(200==e.status)return w.return(E6(e,b,0,f||0));g=[];l=h=0;m=Math.min(f,F6);case 5:return n=
new Headers,f&&n.set("Range","bytes="+l+"-"+m),u(w,c.xhr_.fetch(d,{headers:n}),8);case 8:p=w.yieldResult;if(!p.ok){if(416==p.status){w.jumpTo(6);break}throw new sA(p);}return u(w,E6(p,b,l,f),9);case 9:if(r=w.yieldResult,h+=r.size,g.push(r),l=h,m=Math.min(l+F6,f),f&&h<f){w.jumpTo(5);break}case 6:return w.return(new Blob(g,{type:g[0].type}))}})};
function D6(a,b,c,d){var e=c;c={status:a.status,statusText:a.statusText,headers:a.headers};return new Response(new ReadableStream({start:function(f){function g(){var l,m,n,p;return B(function(r){if(1==r.nextAddress)return y(r,2),u(r,h.read(),4);if(2!=r.nextAddress){l=r.yieldResult;m=l.done;n=l.value;if(m)return f.close(),r.return();e+=n.byteLength;b.update(e/d);f.enqueue(n);g();return va(r,0)}p=z(r);f.error(p);x(r)})}var h=a.body.getReader();g()}}),c)}
var A6=function(a,b){k6.call(this,{name:a.name,isDirectory:"directory"==a.type,mimeType:a.mimetype,path:a.path,sizeBytes:a.size});this.item_=a;this.files_=b};t(A6,k6);A6.prototype.list=function(){var a=this;return B(function(b){return b.return(C6(a.files_,a.item_.path))})};A6.prototype.upload=function(a,b,c){return this.files_.upload(this.item_.path,a,b,c)};
A6.prototype.download=function(a){var b=this,c,d,e;return B(function(f){switch(f.nextAddress){case 1:return y(f,2,3),u(f,b.files_.download(b.item_.path,a),5);case 5:d=f.yieldResult,c=!0;case 3:wa(f);eJ(18,"file_download",d.size+","+d.type+","+c);xa(f,4);break;case 2:throw e=z(f),c=!1,e;case 4:G6(b,d),x(f)}})};
A6.prototype.delete=function(){var a=this,b,c;return B(function(d){switch(d.nextAddress){case 1:return y(d,2,3),u(d,a.files_.delete(a.item_.path),5);case 5:b=!0;case 3:wa(d);eJ(18,"file_delete",""+b);xa(d,0);break;case 2:throw c=z(d),b=!1,c;}})};var G6=function(a,b){var c=new xx;c.init();c.download(b,a.item_.name).then(function(){return pn(6E4)}).then(function(){c.dispose()})};
A6.prototype.fetch=function(){var a=this,b;return B(function(c){return 1==c.nextAddress?(b={canceled:!1,update:function(){}},u(c,a.files_.download(a.item_.path,b),2)):c.return(c.yieldResult)})};
var r6=function(a,b){b=void 0===b?{}:b;var c=void 0===b.maxSize?void 0:b.maxSize,d;return B(function(e){if(1==e.nextAddress){if(E(c)&&a.sizeBytes>c)throw new l6(function(){return a.fetch()});return u(e,a.fetch(),2)}d=e.yieldResult;if(E(c)&&d.size>c)throw new l6(function(){return Promise.resolve(d)});return e.return(new Promise(function(f,g){var h=new FileReader;h.onload=function(){f(h.result)};h.onerror=g;h.readAsText(d)}))})},F6=5242880;
kb("colab.external.files.model.KernelFiles.setMaxDownloadChunkSizeForTests",function(a){F6=a});var H6={10:"DEBUG",20:"DEBUG",30:"INFO",40:"WARNING",50:"ERROR",60:"CRITICAL"},I6={0:"CRITICAL",1:"CRITICAL",2:"CRITICAL",3:"ERROR",4:"WARNING",5:"INFO",6:"INFO",7:"DEBUG"},J6=function(a){a=JSON.parse(a);return{timestamp:new Date(a.time||"2000-01-01T01:23:45"),level:H6[a.level]||"INFO",message:a.msg||"<no message>"}};
function K6(a){var b=a.split(",");if(2>b.length)throw Error("Bad record");var c=parseInt(b[0],10)||0;b=parseInt(b[1],10);a=a.split(";")[1];if(void 0===a)throw Error("Bad record");return{timestamp:new Date(1E3*c),level:I6[b]||"INFO",message:a||"<no message>"}}var L6=function(a,b){var c=[],d=a.split("\n");d.reverse();a=0;d=q(d);for(var e=d.next();!e.done;e=d.next()){e=e.value;try{var f=b(e);c.push(f)}catch(g){a++}}1<a&&console.warn("Saw "+a+" malformed log records.");return c};
function M6(a){var b=a.kernelFiles,c=a.loggingName,d=a.parser,e=a.path,f,g,h;return B(function(l){if(1==l.nextAddress)return f=[],u(l,II(b.getFile(e),{capture:!0,eventId:"api_resources_"+c+"_get"}),2);if(3!=l.nextAddress)return g=l.yieldResult,u(l,II(r6(g),{capture:!0,eventId:"files_"+c+"_get"}),3);h=l.yieldResult;f=L6(h,d);return l.return(f)})}
var N6=function(a){var b,c,d,e,f,g,h,l,m,n,p,r,w,v,A;return B(function(H){switch(H.nextAddress){case 1:return b=M6({kernelFiles:a,loggingName:"jupyter_logs",parser:J6,path:"/var/log/colab-jupyter.log"}),c=M6({kernelFiles:a,loggingName:"kernel_logs",parser:K6,path:"/var/colab/ooms"}),u(H,b,2);case 2:return d=H.yieldResult,e=null,y(H,3),u(H,c,5);case 5:e=H.yieldResult;va(H,4);break;case 3:z(H);case 4:g=(f=d.find(function(C){return C.message.includes("KernelRestarter: restarting kernel (1/")}))?f.timestamp:
new Date(0);h=function(C){C=g.getTime()-C.timestamp.getTime();return 6E4>C&&-1E3<C};if(e){l=e.filter(h);if(m=!!l.find(function(C){return C.message.includes("oom-killer")}))return H.return("out_of_memory");if(n=!!l.find(function(C){return C.message.includes("segfault at")}))return H.return("segfault")}p=d.filter(h);return(r=!!p.find(function(C){return C.message.includes("cannot connect to X server")}))?H.return("x_server_error"):(w=!!p.find(function(C){return C.message.includes("ImportError: cannot import name 'create_prompt_application'")}))?
H.return("prompt_toolkit_upgrade"):(v=!!p.find(function(C){return C.message.includes("ERROR:tornado.general:Uncaught exception in ZMQStream callback")}))?H.return("tornado_upgrade"):(A=!!p.find(function(C){return C.message.includes("TimeoutError: Timeout waiting for restart")}))?H.return("restart_timeout"):H.return("unknown")}})};var O6=function(){return q6.apply(this,arguments)||this};t(O6,q6);O6.prototype.render=function(){var a=this;return B(function(b){return u(b,a.refresh(),0)})};O6.prototype.fillTable=function(a,b){a.addColumn("datetime","Timestamp");a.addColumn("string","Level");a.addColumn("string","Message");b=L6(b,J6);b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,a.addRow([c.timestamp,c.level,c.message])};var P6=bH("colab-files-log-viewer",O6);var Q6=function(){return n6.apply(this,arguments)||this};t(Q6,n6);Q6.prototype.render=function(){var a=this;return B(function(b){return u(b,a.refresh(),0)})};
Q6.prototype.refresh=function(){var a=this,b,c,d,e,f,g,h,l;return B(function(m){if(1==m.nextAddress)return n6.prototype.refresh.call(a),sh(a),u(m,r6(a.file),2);if(3!=m.nextAddress)return b=m.yieldResult,c=Ly(b),d=c.text,e=c.math,u(m,SB(d,function(n){return n},null),3);f=m.yieldResult;0<e.length&&(ey?pN(f,e,function(n){bJ(n)}):My(f,e));a.appendChild(f);g=q([].concat(ja(f.querySelectorAll("a[href]"))));for(h=g.next();!h.done;h=g.next())l=h.value,l.setAttribute("target","_blank");o6(a);x(m)})};
var R6=bH("colab-files-markdown-viewer",Q6),S6=new Set(["text/markdown"]);var T6=null,U6=function(){return n6.apply(this,arguments)||this};t(U6,n6);U6.prototype.render=function(){var a=this,b,c;return B(function(d){if(1==d.nextAddress)return T6||(T6=wK.newInMemoryDocument()),b=T6.getModel().createString(""),u(d,hQ(yO(a.preferences_)),2);a.editor_=new vS(b,I(a.preferences_));a.editor_.sizeToContainer_=!0;(c=V6[a.file.mimeType])||(c="text");a.editor_.setSyntaxHighlighting(c);a.editor_.setReadOnly(!0);a.editor_.render(a);return u(d,a.refresh(),0)})};
U6.prototype.detachedCallback=function(){this.editor_&&(this.editor_.exitDocument(),this.editor_.dispose())};U6.prototype.refresh=function(){var a=this,b;return B(function(c){if(1==c.nextAddress)return n6.prototype.refresh.call(a),u(c,r6(a.file,{maxSize:19922944}),2);b=c.yieldResult;a.editor_.setText(b);o6(a);a.lineNumber_&&W6(a,a.lineNumber_);x(c)})};var W6=function(a,b){a.lineNumber_=b;a.editor_&&(a=a.editor_,a.monaco.setPosition(new monaco.Position(b,1)),a.monaco.revealLineInCenter(b),a.selectCurrentLine())};
U6.prototype.preferences_=null;U6.prototype.editor_=null;U6.prototype.lineNumber_=null;var X6=bH("colab-files-text-viewer",U6),V6={"application/javascript":"javascript","application/json":"json","text/html":"html","text/plain":"text","text/x-python":"python","text/x-sh":"colab-shell"};var Y6=function(){return $D.apply(this,arguments)||this};t(Y6,$D);var $6=function(a,b){var c=new Z6;c.preferences_=a;c.files_=new Map;c.viewContainer_=b;return c};
Y6.prototype.open=function(a,b){b=void 0===b?{}:b;var c=void 0===b.lineNumber?void 0:b.lineNumber,d=this,e,f,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:if(!d.files_.has(a.path)){n.jumpTo(2);break}JZ(d.files_.get(a.path).panel);e=d.files_.get(a.path);y(n,3);return u(n,e.viewer.refresh(),5);case 5:va(n,4);break;case 3:throw f=z(n),d.files_.delete(a.path),e.panel.parentNode&&e.panel.remove(),f;case 4:return E(c)&&e.viewer instanceof U6&&W6(e.viewer,c),n.return(e.viewer);case 2:g=document.createElement("paper-progress");
g.setAttribute("indeterminate",!0);h=null;if("var/log/colab-jupyter.log"==a.path){var p=new P6;p.file=a;p.progressElement=g;h=p}else if(a.mimeType in V6){p=I(d.preferences_);var r=new X6;r.file=a;r.progressElement=g;r.preferences_=p;h=r;E(c)&&W6(h,c)}else if(x6.has(a.mimeType))p=new w6,p.file=a,p.progressElement=g,h=p;else if(S6.has(a.mimeType))p=new R6,p.file=a,p.progressElement=g,h=p;else if(u6.has(a.mimeType))p=new t6,p.file=a,p.progressElement=g,h=p;else return n.return(null);l=a7(d,a,h,g);y(n,
6);return u(n,h.render(),8);case 8:va(n,7);break;case 6:m=z(n);if(m instanceof l6)return p6(h,m.blobProvider),n.return(h);d.files_.delete(a.path);l.panel.parentNode&&l.panel.remove();throw m;case 7:return n.return(h)}})};
var a7=function(a,b,c,d){var e=new NZ;a.viewContainer_.appendChild(e);e.init(b.name,a.viewContainer_.offsetHeight);if(c instanceof q6){var f=Math.min(a.viewContainer_.clientHeight-50,a.viewContainer_.clientHeight-400);e.moveTo(5,a.viewContainer_.clientHeight-f);e.style.height=f+"px";e.style.width=a.viewContainer_.clientWidth-10+"px"}else e.querySelector(".panel-container").style.flexGrow=1;e.getContainer().appendChild(d);e.getContainer().appendChild(c);e.addEventListener(NZ.EventType.CLOSE_REQUESTED,
function(){a.files_.delete(b.path)});c={panel:e,viewer:c};a.files_.set(b.path,c);return c};Y6.prototype.preferences_=null;Y6.prototype.files_=null;Y6.prototype.viewContainer_=null;var Z6=bH("colab-file-viewer-manager",Y6);var b7=function(){return $D.apply(this,arguments)||this};t(b7,$D);var d7=function(a,b,c,d){d=void 0===d?!0:d;var e=new c7;e.file_=a;e.depth_=b;e.fileViewerManager_=c;e.handler_=new Om(e);e.displayHeader_=d;e.render_();return e};k=b7.prototype;k.getFile=function(){return I(this.file_)};
k.render_=function(){var a=this;this.childViews_=[];this.handler_.listen(this,"contextmenu",function(c){a.openContextMenu_(c)});this.setAttribute("filename",this.file_.name);var b=this.file_.name;this.file_.isDirectory||(b+=" ("+ko(this.file_.sizeBytes,void 0,!1)+")");b=nm(e6,{name:this.file_.name,indent:20*this.depth_,icon:this.file_.isDirectory?e7:f7,isDirectory:this.file_.isDirectory,displayHeader:this.displayHeader_,title:b});this.appendChild(b);this.displayHeader_&&(b=this.querySelector(".file-title-row"),
this.file_.isDirectory?(this.classList.add("collapsed"),this.handler_.listen(b,"click",function(){if(a.classList.toggle("collapsed")){for(var c=a.querySelector(".child-files"),d;d=c.lastElementChild;)d.remove();a.childViews_=[]}else a.refresh()})):this.handler_.listen(b,"dblclick",function(){g7(a)}))};k.isOpen=function(){return this.file_.isDirectory&&!this.classList.contains("collapsed")};
k.openContextMenu_=function(a){var b=this,c=[];this.file_.isDirectory?c.push({name:"Upload",callback:function(){b.dispatchEvent(new CustomEvent("upload_files",{bubbles:!0}))}}):(c.push({name:"Download",callback:function(){h7(b)}}),c.push({name:"Delete file",callback:function(){i7(b)}}));c.push({name:"Copy path",callback:function(){var d=b.file_.path,e=oh("INPUT");document.body.appendChild(e);e.value=d;e.select();document.execCommand("copy");e.remove()}});c.push({name:"Refresh",callback:function(){b.dispatchEvent(new CustomEvent("refresh_all",
{bubbles:!0}))}});c=NR(c,this.handler_);aH(c,a)};k.refresh=function(a){a=void 0===a?!0:a;var b=this,c;return B(function(d){if(1==d.nextAddress)return u(d,b.file_.list(),2);c=d.yieldResult;if(!b.isOpen())return d.return();j7(b,c,a);x(d)})};
var h7=function(a){var b,c,d;B(function(e){if(1==e.nextAddress)return b=new j6,a.querySelector(".file-title-row").appendChild(b),b.setValue(null),c={canceled:!1,update:function(f){b.setValue(f)}},y(e,2,3),u(e,a.file_.download(c),3);if(2!=e.nextAddress)return wa(e),b.remove(),xa(e,0);d=z(e);wH("Download failed",d);return e.jumpTo(3)})},i7=function(a){var b;B(function(c){if(1==c.nextAddress)return y(c,2,3),u(c,a.file_.delete(),3);if(2!=c.nextAddress)return wa(c),a.dispatchEvent(new CustomEvent("refresh_all",
{bubbles:!0})),xa(c,0);b=z(c);wH("File deletion failed",b);return c.jumpTo(3)})},j7=function(a,b,c){c=void 0===c?!0:c;a.classList.remove("collapsed");for(var d=a.querySelector(".child-files"),e={},f=q(Array.from(I(a.childViews_))),g=f.next();!g.done;e={$jscomp$loop$prop$view$319:e.$jscomp$loop$prop$view$319},g=f.next())e.$jscomp$loop$prop$view$319=g.value,g=b.findIndex(function(h){return function(l){return h.$jscomp$loop$prop$view$319.getFile().equals(l)}}(e)),-1==g?(a.childViews_.splice(a.childViews_.indexOf(e.$jscomp$loop$prop$view$319),
1),e.$jscomp$loop$prop$view$319.remove()):(b.splice(g,1),c&&e.$jscomp$loop$prop$view$319.isOpen()&&e.$jscomp$loop$prop$view$319.refresh());b=q(b);for(c=b.next();!c.done;c=b.next())c=d7(c.value,a.depth_+1,I(a.fileViewerManager_)),e=Ub(a.childViews_,k7||Xb,c),0>e&&(e=-(e+1)),a.childViews_.splice(e,0,c),d.insertBefore(c,a.childViews_[e+1])},g7=function(a){var b,c,d;B(function(e){switch(e.nextAddress){case 1:return b=I(a.file_),y(e,2),u(e,a.fileViewerManager_.open(b),4);case 4:c=e.yieldResult;va(e,3);
break;case 2:return d=z(e),wH(nz(b.name),d),bJ(d),e.return();case 3:if(c)return eJ(18,"file_view",b.mimeType),e.return();h7(a);eJ(18,"dblclick_download",b.mimeType);x(e)}})};function k7(a,b){a=a.getFile();b=b.getFile();return a.isDirectory&&!b.isDirectory?-1:!a.isDirectory&&b.isDirectory?1:a.name<b.name?-1:a.name>b.name||a.path>b.path?1:0}var e7=Wc(Gc("icons:folder")),f7=Wc(Gc("editor:insert-drive-file"));k=b7.prototype;k.file_=null;k.depth_=0;k.handler_=null;k.childViews_=null;k.displayHeader_=!0;
k.fileViewerManager_=null;var c7=bH("colab-file-view",b7);var l7=function(){return $D.apply(this,arguments)||this};t(l7,$D);
l7.prototype.render_=function(){var a=this,b=nm(c6,{refreshText:"Refresh",uploadText:"Upload",uploadButtonTitle:"Upload to session storage"});this.appendChild(b);this.querySelector('[icon="icons:refresh"]').addEventListener("click",function(){a.refresh()});var c=this.querySelector("input[type=file]");this.querySelector('[icon="icons:file-upload"]').addEventListener("click",function(){c.value="";c.click()});c.onchange=function(){var d=c.files,e=a.root_;if(d&&e){m7();for(var f=0;f<d.length;++f)n7(a,
e,d[f])}};this.addEventListener("refresh_all",function(){a.refresh()});this.addEventListener("upload_files",function(d){o7(a,d.target)})};
l7.prototype.refresh=function(){var a=this,b,c,d;return B(function(e){if(1==e.nextAddress)return u(e,a.files_.getRoot(),2);b=e.yieldResult;c=b.root;d=b.files;if(a.root_){if(a.root_.getFile().equals(c))return j7(a.root_,d),e.return();a.root_.remove();a.root_=null;a.parentLink_&&(a.querySelector(".parent-link").removeChild(a.parentLink_),a.parentLink_=null)}c.path&&(a.parentLink_=nm(f6,{icon:Wc(Gc("colab:files-up-one-level")),title:"Up one level"}),a.querySelector(".parent-link").appendChild(a.parentLink_),
a.parentLink_.addEventListener("click",function(){a.files_.rootPath_="";a.refresh();eJ(18,"up_one_level",c.path)}));a.root_=d7(c,-1,I(a.fileViewerManager_),!1);j7(a.root_,d);a.querySelector(".files-root").appendChild(a.root_);x(e)})};
var n7=function(a,b,c){eJ(18,"file_upload",c.size+","+c.type);var d=p7(c.name);a.querySelector(".files-uploading").appendChild(d);gH(d);d.upload(b.getFile(),c).then(function(){b.refresh(!1)})},o7=function(a,b){var c=oh("INPUT");c.type="file";c.multiple=!0;c.onchange=function(){var d=c.files;if(d){m7();for(var e=0;e<d.length;++e)n7(a,b,d[e])}};c.click()},m7=function(){q7||(q7=!0,zH({message:"Reminder, uploaded files will get deleted when this runtime is recycled.",moreInfoUrl:$5.FAQ}))};
l7.prototype.getResourceUsageDisplay_=function(){var a=this.querySelector("colab-resource-usage-display");return a?a:null};l7.prototype.updateUsage=function(a){var b=this.getResourceUsageDisplay_();if(b){b.update(a);var c=this.querySelector("paper-tooltip");Polymer.dom(c).textContent=fZ(b,a)}};l7.prototype.resetUsage=function(){var a=this.getResourceUsageDisplay_();a&&a.reset()};var q7=!1;l7.prototype.files_=null;l7.prototype.fileViewerManager_=null;l7.prototype.root_=null;
l7.prototype.parentLink_=null;var r7=bH("colab-file-tree",l7),s7=function(){return $D.apply(this,arguments)||this};t(s7,$D);var p7=function(a){var b=new t7;b.render_(a);return b};s7.prototype.render_=function(a){var b=this;a=nm(d6,{name:a});this.appendChild(a);this.progressElement_=this.querySelector("colab-file-progress");this.querySelector(".file-upload-cancel").addEventListener("click",function(){b.progress_&&(b.progress_.canceled=!0);b.remove()})};
s7.prototype.upload=function(a,b){var c=this,d,e;return B(function(f){if(1==f.nextAddress)return d={canceled:!1,update:function(g){c.progressElement_.setValue(g)}},c.progress_=d,c.progressElement_.setValue(null),y(f,2),u(f,a.upload(b.name,b,d),4);if(2!=f.nextAddress){e=f.yieldResult;if(!e.ok)throw new sA(e);u7(c);return va(f,0)}z(f);i6(c.progressElement_);x(f)})};var u7=function(a){a.progressElement_.setValue(1);setTimeout(function(){a.remove()},3E3)};s7.prototype.progress_=null;
s7.prototype.progressElement_=null;var t7=bH("colab-file-uploader",s7);var v7=function(){return $D.apply(this,arguments)||this};t(v7,$D);v7.prototype.createdCallback=function(){w7(this);this.schedulePoll_()};v7.prototype.dispose=function(){this.stopped_=!0};var x7=function(a,b,c){a.currentTree_&&(a.currentTree_.remove(),a.currentTree_=null);if(b){sh(a);var d=new r7;d.files_=b;d.fileViewerManager_=c;d.render_();a.currentTree_=d;a.appendChild(d);a.displayed_&&!HA()&&a.currentTree_.refresh()}else w7(a)};
v7.prototype.setDisplayed=function(a){(this.displayed_=a)&&this.currentTree_&&this.currentTree_.refresh()};v7.prototype.schedulePoll_=function(){var a=this;this.stopped_||(this.displayed_&&!HA()&&this.currentTree_?this.currentTree_.refresh().then(function(){return pn(y7)}).then(function(){a.schedulePoll_()}):pn(y7).then(function(){a.schedulePoll_()}))};var w7=function(a){sh(a);var b=nm(b6,{});a.appendChild(b)};v7.prototype.updateUsage=function(a){this.currentTree_&&this.displayed_&&!HA()&&this.currentTree_.updateUsage(a)};
v7.prototype.resetUsage=function(){this.currentTree_&&this.displayed_&&!HA()&&this.currentTree_.resetUsage()};var y7=6E4;v7.prototype.currentTree_=null;v7.prototype.displayed_=!1;v7.prototype.stopped_=!1;var z7=bH("colab-file-browser",v7);var A7=function(a){var b=U(F(a.suggestedPath)||a.suggestedPath instanceof N,"suggestedPath",a.suggestedPath,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.defaultCommitMessage)||a.defaultCommitMessage instanceof N,"defaultCommitMessage",a.defaultCommitMessage,"!goog.soy.data.UnsanitizedText|string");a=U(Oa(a.includeColabLink)||1===a.includeColabLink||0===a.includeColabLink,"includeColabLink",a.includeColabLink,"boolean");var d='<div class="content-area github-saver"><h2>Copy to GitHub</h2><colab-github-repo-selector show-create-new></colab-github-repo-selector><paper-input label="'+
S("File path");d+='" value="'+T(b)+'" required auto-validate placeholder="'+T(b)+'" pattern="^[^/].*"></paper-input><paper-textarea label="';d+=S("Commit message");d+='" value="'+T(c)+'"></paper-textarea><paper-checkbox class="github-colab-link"'+(a?" checked":"")+" noink>";return Q(d+'Include a link to Colaboratory</paper-checkbox></div><div class="buttons"><paper-button id="Cancel" class="dismiss" dialog-dismiss>Cancel</paper-button><paper-button id="Ok" dialog-confirm>OK</paper-button></div>')};
A7.soyTemplateName="colab.external.model.templates.gitHubCopy";var B7=function(a){this.defaultCommitMessage_="Created using Colaboratory";var b=a.getFileId();this.suggestedResource_={org:"",repo:"",branch:"",path:uA(a.getTitle(),".ipynb")};var c=!0;if("github"==b.source){b=new Dl(b.fileId_);try{this.suggestedResource_=Sy(b),c=a.includeColabLink()}catch(d){}}this.dialog_=mH.createWithTemplate(A7,{suggestedPath:this.suggestedResource_.path,defaultCommitMessage:this.defaultCommitMessage_,includeColabLink:c})};
B7.prototype.show=function(){var a=this,b=lH(this.dialog_,!0),c=this.dialog_.querySelector("colab-github-repo-selector");WH().then(function(d){var e=a.dialog_.querySelector(".github-repos a");ve(e,"https://github.com/"+d+"?tab=repositories");c.init(a.suggestedResource_.org||d,{repo:a.suggestedResource_.repo,branch:a.suggestedResource_.branch})});return b.then(function(d){if(!d.confirmed)return null;var e=(d=y5(c))?z5(c):null,f=a.dialog_.querySelector("paper-input").value,g=a.dialog_.querySelector("paper-textarea").value||
a.defaultCommitMessage_,h=a.dialog_.querySelector("paper-checkbox.github-colab-link").checked;return d&&e?{path:f,repo:d,branch:e,commitMessage:g,includeColabLink:h}:null})};var C7=function(a){this.saveOptions_=a};t(C7,MD);
var D7=function(a){var b,c;return B(function(d){if(1==d.nextAddress)return b=new B7(a),u(d,b.show(),2);c=d.yieldResult;return d.return(c?new C7(c):null)})},E7=function(a,b){var c,d,e,f;return B(function(g){return 1==g.nextAddress?(c=a.saveOptions_.repo,d=a.saveOptions_.branch,e=a.saveOptions_.path,f=a.saveOptions_.commitMessage,u(g,dI(c,d,{path:e,data:b,commitMessage:f}),2)):g.return(g.yieldResult)})};
C7.prototype.save=function(a,b){var c=this;return B(function(d){b=b||{};return u(d,E7(c,OD(c,a,b)),0)})};C7.prototype.clone=function(a){var b=this,c,d;return B(function(e){if(1==e.nextAddress)return c=a.currentChangeRevision_,u(e,E7(b,OD(b,a,{clone:!0})),2);d=e.yieldResult;WM(a,c);return e.return(d)})};
C7.prototype.getIpynb4Notebook=function(a,b,c){a=MD.prototype.getIpynb4Notebook.call(this,a,b,c);b=Qy({org:this.saveOptions_.repo.owner.login,repo:this.saveOptions_.repo.name,branch:this.saveOptions_.branch.name,path:this.saveOptions_.path});b=qI(qd(b));b=this.saveOptions_.includeColabLink?fA(Uz(b)):null;i5(a);b&&gI(a,b);return a};C7.prototype.saveTitle=function(a){var b=this;return B(function(c){return u(c,b.save(a),0)})};var F7=function(){lb.apply(this,arguments)};t(F7,lb);var G7=function(){lb.apply(this,arguments)};t(G7,lb);var H7=new URL("/tun/m/assign",window.location.origin),I7=new URL("/tun/m/assignments",window.location.origin);function J7(a){return new kA({forceSocketIo:a.toString(),hostport:a.toString(),kind:"gce",supportsCredentials:!0,version5Kernel:!0})}var X1=function(){S4.apply(this,arguments)};t(X1,S4);
var L7=function(a,b,c){var d,e,f;return B(function(g){return 1==g.nextAddress?(d=K7(b),e=new oA(b),a.setRuntime(e,{cacheAlloc:b.cacheAlloc}),a.disconnect(),f=U4({kernelBaseUrl:d,connectionParams:e.connectionParams,sessionIndex:c}),u(g,Y4(a,{kernelBaseUrl:d,kernelXhr:f,notebookId:K2(a),runtime:e}),2)):g.return(g.yieldResult)})};
X1.prototype.attemptAutoconnect=function(a,b){var c=this,d,e,f,g,h,l,m,n;return B(function(p){switch(p.nextAddress){case 1:if(tJ())return p.return(Promise.resolve());var r=CO(RD.StorageKey.KERNEL);if(null!=r.forceIsolation)var w=r.forceIsolation;else w=new Iw(qO()),w=Jw(w)?"true"==w.get(RD.StorageKey.FORCE_ISOLATION):!1;r.forceIsolation=w;r.cacheAlloc=!1;(d=void 0==r.routingToken||void 0==r.kind?null:new kA(r))&&(e=SI(c.notebookModel))&&(d=mA(d,e.name));if(!b||!b.skipCreation){p.jumpTo(2);break}return u(p,
M7(c,{backendUrl:CI(a)||H7,autoconnect:!0,ignoreAccelerator:!1,forceReassignment:!1,skipCreation:!0}),3);case 3:f=p.yieldResult;if(!f)return p.return();g=lA(J7(f),{cacheAlloc:!1});(h=SI(c.notebookModel))&&(g=mA(g,h.name));l=K7(g);m=new oA(g);return u(p,T4({kernelBaseUrl:l,notebookId:K2(c),params:m.connectionParams,sessionIndex:DI(a)}),4);case 4:if(n=p.yieldResult,!n||"connect"!=c.getState())return p.return();case 2:return d?p.return(L7(c,d,DI(a))):u(p,N7(c,CI(a),{autoconnect:!0}),5);case 5:return p.return(p.yieldResult)}})};
X1.prototype.connectToDefault=function(){var a=this;return B(function(b){return tJ()?b.return():u(b,N7(a,null,{autoconnect:!0}),0)})};var O7=function(a,b){var c,d;return B(function(e){c=new kA({kind:"local",hostport:String(b),supportsCredentials:!1,forceHttpLocalConnections:!0,version5Kernel:!0});(d=SI(a.notebookModel))&&(c=mA(c,d.name));return u(e,a.connect(c),0)})};
X1.prototype.powerwash=function(){var a=this;return yH({title:"Reset all runtimes",message:"Are you sure you want to reset all runtimes? State of all runtimes, including all local variables and files, will be lost.",yesText:"Yes"}).then(function(b){if(b)return N7(a,null,{autoconnect:!0,forceReassignment:!0});throw new eW;})};
var N7=function(a,b,c){c=void 0===c?{}:c;var d=void 0===c.autoconnect?!1:c.autoconnect,e=void 0===c.ignoreAccelerator?!1:c.ignoreAccelerator,f=void 0===c.forceReassignment?!1:c.forceReassignment,g,h,l,m;return B(function(n){switch(n.nextAddress){case 1:a.setState("allocating");if(d){n.jumpTo(2);break}y(n,3);var p={};var r=void 0===p.prompt?!0:p.prompt;p=void 0===p.allowAnonymous?!1:p.allowAnonymous;r=tJ()||!Ux?qJ(mJ(),{prompt:r,allowAnonymous:p}):Promise.resolve();return u(n,r,5);case 5:va(n,2);break;
case 3:throw g=z(n),g instanceof CH&&a.setState("connect"),g;case 2:return u(n,M7(a,{backendUrl:b||H7,autoconnect:!!d,ignoreAccelerator:!!e,forceReassignment:!!f,skipCreation:!1}),6);case 6:h=n.yieldResult;if(!h)throw new eW;if(h&&h.toString().endsWith("/"))throw a.setState("connect"),Error("url hash param shouldn't end in /");l=J7(h);d||(l=lA(l,{cacheAlloc:!1}));(m=SI(a.notebookModel))&&(l=mA(l,m.name));return n.return(L7(a,l,DI(a.notebookModel.getTraits())))}})};
X1.prototype.connect=function(a){return L7(this,a,DI(this.notebookModel.getTraits()))};
var M7=function(a,b){var c=b.backendUrl,d=b.autoconnect,e=b.ignoreAccelerator,f=b.forceReassignment,g=b.skipCreation,h,l,m,n,p,r,w,v,A,H,C,J,L,W,Ha,Ya,tb;return B(function(ma){switch(ma.nextAddress){case 1:g||I("allocating"==a.getState(),"Attempted to fetch assigned VM when not ALLOCATING.");if(c.origin!=window.location.origin)throw Error("Unsupported backend url "+c);if(c.toString()!=H7.toString())return ma.return(c);h=function(Jb){a.setState("connect");Hz("fetchAssignedVM_: disconnected failWith",
Jb);if(!(d||Jb instanceof F7||Jb instanceof G7))throw new a4(String(Jb));throw new Cy("Failed to assign a backend",Jb);};y(ma,2);l=new Dl(c);Sl(l,"authuser",DI(a.notebookModel.getTraits()));(m=e?"":a.notebookModel.getAccelerator())&&Sl(l,"variant",m);Nz.HIGH_MEMORY&&m==vz.name&&Sl(l,"shape","hm");f&&Sl(l,"force","1");Nz.ISOLATED_NOTEBOOKS&&(Sl(l,"isolate","1"),Sl(l,"nbh",AC(K2(a))));return u(ma,fetch(l.toString(),{credentials:"include"}),4);case 4:return n=ma.yieldResult,u(ma,n.text(),5);case 5:p=
ma.yieldResult;if(!n.ok)throw new sA(n);r=wA(p);w=JSON.parse(r);v=function(Jb){var Tc,Bf;return B(function(ic){switch(ic.nextAddress){case 1:return Tc={title:"Failed to assign a backend",message:"No backend with "+(m+" available. Would you like to use a runtime with no accelerator?"),moreInfoUrl:"https://research.google.com/colaboratory/faq.html#gpu-availability",yesText:"Connect",noText:"Cancel"},u(ic,yH(Tc),2);case 2:Bf=ic.yieldResult;if(!Bf){ic.jumpTo(3);break}return u(ic,N7(a,c,{autoconnect:d,
ignoreAccelerator:!0,forceReassignment:f}),4);case 4:return ic.return(null);case 3:h(Jb),x(ic)}})};A=function(Jb){var Tc,Bf;return B(function(ic){switch(ic.nextAddress){case 1:return Tc={title:"Failed to assign a backend",message:"Failed to reset all runtimes. Would you like to continue using a previously-assigned VM?",moreInfoUrl:"https://research.google.com/colaboratory/faq.html#forced-availability",yesText:"Connect",noText:"Cancel"},u(ic,yH(Tc),2);case 2:Bf=ic.yieldResult;if(!Bf){ic.jumpTo(3);
break}return u(ic,N7(a,c,{autoconnect:d,ignoreAccelerator:e}),4);case 4:return ic.return(null);case 3:h(Jb),x(ic)}})};H="";if(w.endpoint){H=w.endpoint;ma.jumpTo(6);break}if(g)return ma.return(null);C=new FormData;w.token&&C.append("token",w.token);return u(ma,fetch(l.toString(),{method:"POST",body:C,credentials:"include"}),7);case 7:return J=ma.yieldResult,u(ma,J.text(),8);case 8:L=ma.yieldResult;if(J.ok){ma.jumpTo(9);break}W=new sA(J);return u(ma,P7(W,m),10);case 10:switch(Ha=ma.yieldResult,Ha){case 1:return ma.jumpTo(11);
case 2:return ma.jumpTo(12);default:throw Error("Unrecognized fallback type: "+Ha);}case 11:return u(ma,v(W),14);case 14:return ma.return(null);case 12:return u(ma,A(W),15);case 15:return ma.return(null);case 9:Ya=JSON.parse(wA(L)),H=Ya.endpoint;case 6:return ma.return(new URL("/tun/m/"+I(H),window.location.origin));case 2:tb=z(ma),h(tb),x(ma)}})},P7=function(a,b){return B(function(c){if(429==a.status)return c.return(2);if(412==a.status)throw new G7;if(b)return c.return(1);if(503==a.status)throw new F7;
throw a;})};
X1.prototype.listNotebookSessions=function(a){a=void 0===a?{}:a;var b=void 0===a.usage?void 0:a.usage,c=void 0===a.accelerator?void 0:a.accelerator,d=this,e,f,g,h,l,m,n,p,r,w,v,A,H;return B(function(C){switch(C.nextAddress){case 1:if(!Nz.ISOLATED_NOTEBOOKS)return C.return(S4.prototype.listNotebookSessions.call(d,{usage:b}));if(!d.isConnected()||null==d.runtime_||"local"!=d.runtime_.kind){C.jumpTo(2);break}e=I(d.runtimeManager_);return u(C,e.listNotebookSessions({usage:b}),3);case 3:return f=C.yieldResult,
C.return(f.map(function(J){return new Q7(J,null)}));case 2:return u(C,R7(d,I(c)),4);case 4:g=C.yieldResult;h=[];l=q(g);for(m=l.next();!m.done;m=l.next())n=m.value,p=S7(d,n),h.push(Ey(p.listNotebookSessions({usage:b}),5E3));return u(C,Rk(h),5);case 5:r=C.yieldResult;w=[];v={};for(A=0;A<r.length;v={$jscomp$loop$prop$tunnelEndpoint$295$321:v.$jscomp$loop$prop$tunnelEndpoint$295$321},A++)H=r[A],v.$jscomp$loop$prop$tunnelEndpoint$295$321=g[A],H.fulfilled?w.push.apply(w,ja(H.value.map(function(J){return function(L){return new Q7(L,
J.$jscomp$loop$prop$tunnelEndpoint$295$321)}}(v)))):Hz("listNotebookSessions: failed to retrieve sessions for tunnel",H.reason);return C.return(w)}})};
X1.prototype.terminateSession=function(a){var b=this,c,d,e,f;return B(function(g){switch(g.nextAddress){case 1:if(!Nz.ISOLATED_NOTEBOOKS)return g.return(S4.prototype.terminateSession.call(b,a));c=zb(a,Q7);if(b.isConnected()&&null!=b.runtime_&&"local"==b.runtime_.kind)return d=I(b.runtimeManager_),g.return(d.terminateSession(a.sessionId));e=I(c.tunnelEndpoint);f=S7(b,e);y(g,2);return u(g,Ey(f.terminateSession(c.sessionId),3E3),4);case 4:va(g,3);break;case 2:z(g),console.warn("terminateSession: failed to terminate IPython session");
case 3:return g.return(T7(b,e))}})};
var T7=function(a,b){var c,d,e,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:c=new URL("/tun/m/unassign/"+b,window.location.origin);if(c.origin!=window.location.origin)throw Error("Unsupported unassign url "+c);c.searchParams.set("authuser",DI(a.notebookModel.getTraits()));return u(m,fetch(c.toString(),{credentials:"include"}),2);case 2:d=m.yieldResult;if(!d.ok)throw new vD(d);return u(m,d.text(),3);case 3:return e=m.yieldResult,f=wA(e),g=JSON.parse(f),h=new FormData,g.token&&h.append("token",
g.token),u(m,fetch(c.toString(),{method:"POST",body:h,credentials:"include"}),4);case 4:l=m.yieldResult;if(!l.ok)throw new vD(l);x(m)}})},S7=function(a,b){b=new URL("/tun/m/"+b,window.location.origin);b=lA(J7(b),{cacheAlloc:!1});var c=K7(b);a=U4({kernelBaseUrl:c,connectionParams:b,sessionIndex:DI(a.notebookModel.getTraits())});return V4({connectionParams:b,xhr:a})},K7=function(a){switch(a.kind){case "gce":var b=a.hostport;break;case "local":a.hostport.includes(":")?b=a.hostport:(b=Qe(a.hostport),
I(!isNaN(b)),b="http://localhost:"+b);break;default:pb(a.kind+" runtimes are not supported by external Colab")}"https:"!=location.protocol||a.forceHttpLocalConnections||(b=b.replace(/^http:\/\//,"https://"));b=b.replace(/\/$/,"");return b=b.replace(/\/kernels.*$/,"")},R7=function(a,b){var c,d,e,f,g,h,l;return B(function(m){switch(m.nextAddress){case 1:if(I7.origin!==window.location.origin)throw Error("Unsupported assignments url "+I7);y(m,2);c=new Dl(I7.toString());Sl(c,"authuser",DI(a.notebookModel.getTraits()));
return u(m,fetch(c.toString(),{credentials:"include"}),4);case 4:d=m.yieldResult;if(!d.ok)throw new sA(d);return u(m,d.text(),5);case 5:return e=m.yieldResult,f=wA(e),g=JSON.parse(f),h=g.endpoints||[],m.return(h.filter(function(n){var p=n.split("-")[0];return Object.values(yz).find(function(r){return r.prefix==p})==b}));case 2:throw l=z(m),Hz("listAssignedTunnelsEndpoints_: failed to retrieve tunnels",l),new Cy("Failed to retrieve assigned endpoints",l);}})};
X1.prototype.getResourceUsage=function(){var a=this,b,c,d;return B(function(e){switch(e.nextAddress){case 1:b={ram:{usage:0,limit:0,kernels:{}}};if((c=a.runtime_)&&"local"==c.kind)return e.return(b);y(e,2);d=a.runtimeManager_;return u(e,d.getResourceUsage(),4);case 4:b=e.yieldResult;va(e,3);break;case 2:z(e);case 3:return U7&&(b=U7),e.return(b)}})};
X1.prototype.fetch=function(a,b,c){if(!this.runtime_)return S4.prototype.fetch.call(this,a,b,c);var d=LW(this);b.host!=d.host&&(b.pathname="/_proxy/"+b.port+b.pathname,b.host=d.host);return this.getKernelXhr().fetch(b.toString(),{body:c,method:a})};
var a5=function(a,b){var c,d;return B(function(e){if(1==e.nextAddress){var f=[];if(gy){var g=JSON.parse(gy);g=vb(g);if(g.length){f.push("import os as _os");g=q(g);for(var h=g.next();!h.done;h=g.next()){var l=h.value;h=V7(l[0]);l=V7(l[1]);h&&l&&f.push("_os.environ['"+h+"'] = '"+l+"'")}f.push("del _os")}}c=f.join("\n");if(!c||"local"==b.kind||"python"!=a.kernelInfo.language.toLowerCase())return e.return(R4(a));y(e,2);return u(e,a.execute(c),4)}if(2!=e.nextAddress)return va(e,0);d=z(e);console.log("Ignoring error while executing kernel initialization code: ",
d);aJ(d);x(e)})},K2=function(a){return new yC({fileId:a.notebookId,perSessionIsolation:!!a.notebookModel.getTraits().params_.sandboxMode})},U7=null;kb("colab.datalab.config.kernel.setFakeResourceUsageForTest",function(a){U7=a});var Q7=function(a,b){nD.call(this,a);this.tunnelEndpoint=b};t(Q7,nD);function V7(a){return a.includes("'")?null:a};var W7=function(a){var b=U(Oa(a.privateOutputs)||1===a.privateOutputs||0===a.privateOutputs,"privateOutputs",a.privateOutputs,"boolean"),c=U(Pa(a.localRuntimePort),"localRuntimePort",a.localRuntimePort,"number");a=U(F(a.labelPrivateOutputs)||a.labelPrivateOutputs instanceof N,"labelPrivateOutputs",a.labelPrivateOutputs,"!goog.soy.data.UnsanitizedText|string");b='<div class="local-kernel-dialog"><div class="content-area"><h2>Local connection settings</h2></div><colab-shaded-scroller><p class="local-kernel-dialog-space-bottom">Create a local connection by following <a href="https://research.google.com/colaboratory/local-runtimes.html" target="_blank">these instructions</a>.</p><p class="local-kernel-dialog-space-bottom"><iron-icon class="local-kernel-dialog-warning-icon" icon="icons:warning"></iron-icon>Make sure you trust the authors of this notebook before executing it. With a local connection, the code you execute can read, write, and delete files on your computer.</p><p><iron-icon class="local-kernel-dialog-warning-icon" icon="icons:warning"></iron-icon>By default, all code cell outputs are stored in Google Drive. If your local connection will access sensitive data and you would like to omit code cell outputs, check the option below or under "Notebook settings".'+
('</p><p class="local-kernel-dialog-space-bottom"><paper-checkbox'+(b?" checked":"")+" id='private-outputs' noink>"+R(a)+'</paper-checkbox></p><p><paper-input autofocus id="local-runtime-port-input" class="nowrap no-spinner local-runtime-port" label="');b+=S("Backend port e.g. 8081");b+='" value="'+T(c)+'" type="number" required auto-validate allowed-pattern="[0-9]"></paper-input></p></colab-shaded-scroller><div class="buttons"><paper-button id="cancel" class="dismiss" dialog-dismiss>';return Q(b+
'Cancel</paper-button><paper-button id="ok" dialog-confirm>Connect</paper-button></div></div>')};W7.soyTemplateName="colab.external.kernel.templates.local_kernel_dialog";
var X7=function(){return Q('<iron-icon class="local-kernel-troubleshooting-success" icon="icons:check-circle"></iron-icon>')},Y7=function(){return Q('<iron-icon class="local-kernel-troubleshooting-failure" icon="icons:error"></iron-icon>')},Z7=function(a){var b=U(Pa(a.localRuntimePort),"localRuntimePort",a.localRuntimePort,"number"),c=U(F(a.requiredExtensionVersion)||a.requiredExtensionVersion instanceof N,"requiredExtensionVersion",a.requiredExtensionVersion,"!goog.soy.data.UnsanitizedText|string"),
d=U(Oa(a.receivedDiagnostics)||1===a.receivedDiagnostics||0===a.receivedDiagnostics,"receivedDiagnostics",a.receivedDiagnostics,"boolean"),e=U(Oa(a.authCookiePresent)||1===a.authCookiePresent||0===a.authCookiePresent,"authCookiePresent",a.authCookiePresent,"boolean"),f=U(F(a.currentExtensionVersion)||a.currentExtensionVersion instanceof N,"currentExtensionVersion",a.currentExtensionVersion,"!goog.soy.data.UnsanitizedText|string"),g=U(Oa(a.extensionOutdated)||1===a.extensionOutdated||0===a.extensionOutdated,
"extensionOutdated",a.extensionOutdated,"boolean");a='<div class="local-kernel-dialog"><div class="content-area"><h2>Troubleshoot local connection</h2></div><colab-shaded-scroller>';d?(a+=X7(),d="Established connection to local server running on port "+R(b),a=a+d+"<br/>",g?(a+=Y7(),f="Colab requires extension version "+(R(c)+(" or greater (found "+(R(f)+")."))),a=a+f+'<ul class="local-kernel-troubleshooting-list"><li><p>',a+="Upgrade your installed Jupyter extension and restart your notebook server.",
a+='</p><pre tabindex="0"><code>pip install --upgrade jupyter_http_over_ws>='+R(c)+"</code></pre></li></ul>"):(a+=X7(),c="Compatible extension version detected ("+(R(f)+")"),a+=c),a+="<br/>",e?(a+=X7(),a+="Jupyter authentication cookie detected"):(c=Q('<iron-icon class="local-kernel-troubleshooting-failure" icon="icons:warning"></iron-icon>'),a=a+c+"Jupyter authentication cookie was not detected",a+='<ul class="local-kernel-troubleshooting-list"><li><p>',b="Navigate to  "+('<a href="http://localhost:'+
T(b)+'" target="_blank">'+("http://localhost:"+(R(b)+"</a>  in a separate browser tab and follow the provided instructions. This will set a browser cookie used for authentication between the browser and the Jupyter notebook server."))),a+=b,a+="</p></li></ul><br/>")):(a+=Y7(),e="Could not establish connection to local server running on port "+R(b),a+=e,a+='<ul class="local-kernel-troubleshooting-list"><li><p>',a+="Ensure the jupyter_http_over_ws Jupyter extension is enabled and up to date on your machine.",
a+='</p><pre tabindex="0"><code>pip install --upgrade jupyter_http_over_ws>='+R(c)+" && \\\n  jupyter serverextension enable --py jupyter_http_over_ws</code></pre></li><li><p>",c="Ensure the notebook server on your machine is running on port "+(R(b)+" and accepting requests from https://colab.research.google.com."),a+=c,a+="</p><pre tabindex=\"0\"><code>jupyter notebook \\\n  --NotebookApp.allow_origin='https://colab.research.google.com' \\\n  --port="+R(b)+" \\\n  --NotebookApp.port_retries=0</code></pre></li></ul>");
a+='</colab-shaded-scroller><div class="buttons"><paper-button id="cancel" class="dismiss" dialog-dismiss tabindex="0">';a+="Cancel";a+='</paper-button><paper-button id="ok" dialog-confirm tabindex="0">';a+="Retry Connect";a+="</paper-button></div></div>";return Q(a)};Z7.soyTemplateName="colab.external.kernel.templates.localKernelTroubleshootingDialog";var $7=function(a,b){var c,d,e,f,g,h,l;return B(function(m){if(1==m.nextAddress)return c=RI(b),d=mH.createWithTemplate(W7,{privateOutputs:c,localRuntimePort:a.CONNECT_LOCAL_DEFAULT_PORT.getValue(),labelPrivateOutputs:"Omit code cell output when saving this notebook"}),d.classList.add("local-kernel-dialog"),e=d.querySelector(".local-runtime-port"),f=d.querySelector("#private-outputs"),u(m,lH(d),2);if(3!=m.nextAddress)return g=m.yieldResult,g.confirmed?f.checked==c?m.jumpTo(3):u(m,z3(f.checked,b),3):
m.return(null);h=parseInt(e.value,10);l=isNaN(h)?null:h;null!=l&&a.CONNECT_LOCAL_DEFAULT_PORT.set(l);return m.return(l)})};var b8=function(a){var b,c,d,e;return B(function(f){switch(f.nextAddress){case 1:return b=a.CONNECT_LOCAL_DEFAULT_PORT.getValue(),c=null,y(f,2),u(f,a8(b),4);case 4:c=f.yieldResult;va(f,3);break;case 2:z(f),console.log("Could not obtain diagnostic connection info");case 3:return d=mH.createWithTemplate(Z7,{localRuntimePort:b,requiredExtensionVersion:"0.0.1a3",receivedDiagnostics:null!=c,currentExtensionVersion:c?c.extension_version:"",authCookiePresent:c?c.has_authentication_cookie:!1,extensionOutdated:c?
c.is_outdated_extension:!1}),d.classList.add("local-kernel-dialog"),u(f,lH(d),5);case 5:return e=f.yieldResult,f.return(e.confirmed)}})},a8=function(a){var b,c,d,e;return B(function(f){if(1==f.nextAddress)return b=Sl(Hl(new Dl("ws://localhost:"+a),"http_over_websocket/diagnose"),"min_version","0.0.1a3"),c=new WebSocket(b.toString()),u(f,new Promise(function(g,h){c.addEventListener("open",g);c.addEventListener("error",h)}),2);d=Tk();e=WC();c.addEventListener("message",function(g){g=JSON.parse(g.data);
g.message_id==e&&(d.resolve(g),c.close())});c.send(e);return f.return(Ey(d.promise,5E3))})};var c8=function(a){var b=U(F(a.ownerEmail)||a.ownerEmail instanceof N,"ownerEmail",a.ownerEmail,"!goog.soy.data.UnsanitizedText|string"),c=U(F(a.externalSiteName)||a.externalSiteName instanceof N,"externalSiteName",a.externalSiteName,"!goog.soy.data.UnsanitizedText|string"),d=U(F(a.externalSiteUrl)||a.externalSiteUrl instanceof N,"externalSiteUrl",a.externalSiteUrl,"!goog.soy.data.UnsanitizedText|string"),e=U(Oa(a.offerPowerwash)||1===a.offerPowerwash||0===a.offerPowerwash,"offerPowerwash",a.offerPowerwash,
"boolean"),f=U(Oa(a.isGoogler)||1===a.isGoogler||0===a.isGoogler,"isGoogler",a.isGoogler,"boolean"),g=U(Oa(a.isolationEnabled)||1===a.isolationEnabled||0===a.isolationEnabled,"isolationEnabled",a.isolationEnabled,"boolean");a='<div class="content-area"><h2>Warning: This notebook was not authored by Google.</h2><div class="flex" style="max-width: 570px">';b?g?(b="This notebook was authored by <b>"+(R(b)+("</b>. It may request access to your data stored with Google, or read data and credentials from other sessions. Please review the source code before executing this notebook. Please contact the creator of this notebook at "+
(R(b)+" with any additional questions."))),a+=b):(b="This notebook was authored by <b>"+(R(b)+("</b>. It may request access to your data stored with Google, or read data and credentials from other sessions. Please review the source code before executing this notebook. To prevent this notebook reading state from other sessions, you can reset all runtimes. Please contact the creator of this notebook at "+(R(b)+" with any additional questions."))),a+=b):g?(b="This notebook is being loaded from "+('<a href="'+
T(Do(d))+'" target="_blank">'+("<b>"+(R(c)+"</b></a>. It may request access to your data stored with Google, or read data and credentials from other sessions. Please review the source code before executing this notebook."))),a+=b):(b="This notebook is being loaded from "+('<a href="'+T(Do(d))+'" target="_blank">'+("<b>"+(R(c)+"</b></a>. It may request access to your data stored with Google, or read data and credentials from other sessions. Please review the source code before executing this notebook. To prevent this notebook reading state from other sessions, you can reset all runtimes."))),
a+=b);f&&(a+='<br><br>Are you the owner of this repo? Want to remove this warning?&nbsp;<a href="http://go/publish-external-colab" target="_blank">go/publish-external-colab</a>');a+="<br><br>";e&&(a+='<paper-checkbox class="powerwash" checked>Reset all runtimes before running</paper-checkbox>');return Q(a+'</div></div><div class="buttons"><paper-button id="cancel" class="dismiss" autofocus dialog-dismiss disabled>Cancel</paper-button><paper-button id="ok" dialog-confirm disabled>Run anyway</paper-button></div>')};
c8.soyTemplateName="colab.external.notebook.templates.externalCodeConfirmation";var d8=function(a){a=U(F(a.timestamp)||a.timestamp instanceof N,"timestamp",a.timestamp,"!goog.soy.data.UnsanitizedText|string");a="A Google Drive timeout has occurred (most recently at "+(R(a)+").");return Q(a+' <a class="document_reload" target="_blank" href="https://research.google.com/colaboratory/faq.html#drive-timeout">More info.</a>')};d8.soyTemplateName="colab.external.notebook.templates.driveUnhealthTimeoutNotification";
var e8=function(){return Q("A Google Drive error has occurred.")};e8.soyTemplateName="colab.external.notebook.templates.driveUnhealthUnknownNotification";var i8=function(a){Z.call(this,a);var b=this;this.driveHealthCheckTimer_=this.idleTimer_=null;this.confirmedCodeExecution_=!1;this.kernelFiles_=this.fileBrowser_=this.fileViewerManager_=null;a=this.getKernel();a.listen("cell_executed",function(){f8(b)});a.listen("cell_execution_completed",function(){g8(b)});a.listen("kernel_selection",function(c){h8(b,c)})};t(i8,Z);i8.prototype.dispose=function(){Z.prototype.dispose.call(this);this.fileBrowser_&&this.fileBrowser_.dispose()};
var j8=function(a){return(a=a.runtime_)&&"local"==a.kind&&a.connectionParams.hostport?(a=parseInt(a.connectionParams.hostport,10),isNaN(a)?0:a):0},k8=function(a){var b,c;B(function(d){if(1==d.nextAddress)return b={title:"Too many sessions",message:"You have too many active sessions. Terminate an existing session to continue.",yesText:"Manage sessions"},u(d,yH(b),2);(c=d.yieldResult)&&k2(a);return d.return(c)})},fX=function(a,b){var c=b.local,d=b.attemptExternalLocalReconnect,e,f,g,h,l,m,n,p;return B(function(r){switch(r.nextAddress){case 1:e=
a.getKernel();f=a.getNotebookModel().getTraits();if(c){if(!d){r.jumpTo(7);break}l=j8(e);if(!(0<l)){r.jumpTo(7);break}y(r,9);return u(r,O7(e,l),11)}y(r,4);return u(r,N7(e,CI(f)),6);case 6:va(r,0);break;case 4:g=z(r);if(g instanceof Hk)return console.log("Ignoring cancellation error during connectToVM"),r.return();g instanceof a4&&(h="Failed to assign a backend\n"+String(g),Y({message:h,timeoutMillis:5E3}));if(g.parent&&g.parent instanceof F7)throw zH({message:"Sorry, no backends available. Please try again later.",
moreInfoUrl:$5.FAQ}),new eW;if(g.parent&&g.parent instanceof G7)throw k8(a),new eW;if(g instanceof CH)throw g;Y({message:"Unable to connect to the runtime.",timeoutMillis:1E4});throw g;case 11:return eJ(11,"attempt_local_connection","true"),r.return();case 9:z(r);case 7:return u(r,$7(a.getPreferences(),a.getNotebookModel()),12);case 12:m=r.yieldResult;if(null==m)throw new CH;y(r,13);return u(r,O7(e,m),15);case 15:eJ(11,"attempt_local_connection","true");va(r,0);break;case 13:throw n=z(r),p=VG("Troubleshoot",
function(w){return B(function(v){w.preventDefault();a.commandHandler_.execute(OE,11);x(v)})}),Y({element:p,message:"Unable to connect to the runtime.",timeoutMillis:1E4}),eJ(11,"attempt_local_connection","false"),n;}})};i8.prototype.troubleshootLocalKernel=function(){var a=this,b;B(function(c){if(1==c.nextAddress)return u(c,b8(a.getPreferences()),2);(b=c.yieldResult)&&a.commandHandler_.execute(NE,13);x(c)})};
i8.prototype.enterDocument=function(){var a=this;Z.prototype.enterDocument.call(this);this.getHandler().listen(this.getNotebookModel(),"runtime-setting-changed",function(){l8(a)});this.fileViewerManager_||(this.fileViewerManager_=$6(this.getPreferences(),I(this.getElement().querySelector(".notebook-horizontal"))),this.getElement().querySelector(".notebook-horizontal").appendChild(this.fileViewerManager_))};
var h8=function(a,b){var c,d,e,f;B(function(g){c=b.kernelName;d=b.connectionParams.kernelName;d&&d==c||!WD.SHOW_DEFAULT_RUNTIME_TOAST||(e=lh("A",{"class":"moreinfo",href:"#"},"Notebook settings"),e.onclick=function(h){h.preventDefault();h.stopPropagation();h=yE("notebook-settings");a.commandHandler_.execute(h,20);return!1},f=c||Az.name,TG({message:d?'Unrecognized runtime "'+(d+('"; defaulting to "'+(f+'"'))):'No runtime specified; defaulting to "'+(f+'"'),timeoutMillis:8E3,element:e}));x(g)})};
i8.prototype.onKernelStarted=function(){var a=Z.prototype.onKernelStarted.call(this),b=this.getKernel().runtime_,c=b&&b.kernel&&b.kernel.name;b=b&&b.connectionParams&&b.connectionParams.kernelName;c&&!b&&(c=Dz(c),this.getNotebookModel().setRuntime(c,null));m8(this);g8(this);this.fileBrowser_&&(this.kernelFiles_=new y6(this.getKernel()),x7(this.fileBrowser_,this.kernelFiles_,I(this.fileViewerManager_)));return a};
i8.prototype.onKernelReset=function(a){Z.prototype.onKernelReset.call(this,a);f8(this);n8(this);if(this.fileBrowser_){a=this.fileViewerManager_;for(var b=q(a.files_.values()),c=b.next();!c.done;c=b.next())c=c.value,c.panel.parentNode&&c.panel.remove();a.files_.clear();x7(this.fileBrowser_,null,I(this.fileViewerManager_));this.kernelFiles_=null}};i8.prototype.onKernelCrashRecovery=function(a){OG(a,{message:"Your session restarted after a crash. Diagnosing...",timeoutMillis:-1});o8(this,a)};
var o8=function(a,b){var c,d,e,f,g,h,l;B(function(m){switch(m.nextAddress){case 1:return c=new FI,y(m,2,3),f=new y6(a.getKernel()),u(m,Ey(N6(f),1E4),5);case 5:e=m.yieldResult;case 3:wa(m);d=c.finish();xa(m,4);break;case 2:g=z(m);aJ(g);e="unknown";m.jumpTo(3);break;case 4:h=VG("View runtime logs",function(n){n.preventDefault();a.viewRuntimeLogs(20);b.clear()});switch(e){case "out_of_memory":l="Your session crashed after using all available RAM.";break;case "x_server_error":l="Your session crashed after requesting an X window. The X Window System is not available in Colab.";
break;default:l="Your session crashed for an unknown reason."}b.set({element:h,message:l,timeoutMillis:-1});eJ(20,"auto_diagnose_crash",e,d);x(m)}})};
i8.prototype.viewRuntimeLogs=function(a){var b=this,c,d,e,f,g,h,l,m;B(function(n){switch(n.nextAddress){case 1:return c=new FI,f=!1,y(n,2,3),g=new y6(b.getKernel()),u(n,II(g.getFile("/var/log/colab-jupyter.log"),{capture:!0,eventId:"api_resources_log_get"}),5);case 5:return h=n.yieldResult,u(n,b.fileViewerManager_.open(h),6);case 6:(l=n.yieldResult)||h.fetch(),d=l?"opened":"downloaded",f=!0;case 3:wa(n);e=c.finish();xa(n,4);break;case 2:m=z(n);wH(nz("/var/log/colab-jupyter.log"),m);bJ(m);n.jumpTo(3);
break;case 4:f&&eJ(a,"view-runtime-logs",d,e),x(n)}})};i8.prototype.onLeftPanePageChange=function(a){Z.prototype.onLeftPanePageChange.call(this,a);this.fileBrowser_&&(a!=ZX.Page.FILES?this.fileBrowser_.setDisplayed(!1):(this.fileBrowser_.currentTree_||(this.getKernel().isRunning()?x7(this.fileBrowser_,new y6(this.getKernel()),I(this.fileViewerManager_)):(a=yE("connect"),this.commandHandler_.execute(a,18))),this.fileBrowser_.setDisplayed(!0),eJ(18,"open_browser")))};
var f8=function(a){null!=a.idleTimer_&&(on(a.idleTimer_),a.idleTimer_=null)},g8=function(a){f8(a);var b=a.getKernel().runtime_;b&&"local"==b.kind||(a.idleTimer_=nn(function(){p8(a)},q8.KERNEL_IDLE_TIMEOUT_MILLIS))},r8=function(a){var b,c,d,e,f,g,h,l;return B(function(m){if(1==m.nextAddress)return b=a.getKernel(),u(m,b.getKernelXhr().get("/api/colab/drive"),2);c=m.yieldResult;d=wA(c);e=JSON.parse(d);f=e.dfs[e.dfs.length-1];var n;if(!(n=!f))try{var p=CO(RD.StorageKey.LOCAL_STORE).drive_health_check_messages;
var r=Za(p)?p:[];r.includes(f)?n=!0:(r.unshift(f),DO("drive_health_check_messages",r.slice(0,10)),n=!1)}catch(w){bJ(w),n=!1}if(n)return m.return();f.endsWith("QueryManager timed out")?(n=f.indexOf("Z"),23!=n?n=null:(n=Date.parse(f.substring(0,n+1)),n=isNaN(n)?null:(new Date(n)).toLocaleTimeString())):n=null;(h=n)?(g="timeout",l=pm(d8,{timestamp:h})):(g="unknown",l=pm(e8));Y({element:l,message:"",timeoutMillis:-1});eJ(20,"drive_unhealth",g);x(m)})},m8=function(a){var b=a.getKernel();(b=b&&b.runtime_)&&
"gce"==b.kind&&(n8(a),a.driveHealthCheckTimer_=nn(function(){return B(function(c){if(1==c.nextAddress)return ua(c),u(c,r8(a),2);wa(c);m8(a);return xa(c,0)})},q8.KERNEL_DRIVE_HEALTH_CHECK_INTERVAL_MILLIS))},n8=function(a){null!=a.driveHealthCheckTimer_&&(on(a.driveHealthCheckTimer_),a.driveHealthCheckTimer_=null)},p8=function(a){a.getKernel().disconnect();yH({title:"Runtime disconnected",message:"The connection to the runtime has timed out.",yesText:"Reconnect",noText:"Close"}).then(function(b){b&&
a.attemptAutoconnect()})};i8.prototype.shouldShowExternalCodeWarning=function(){if(this.confirmedCodeExecution_)return!1;var a=this.getNotebookModel(),b=a.getFileId();return az(b)?(b=a.owners_||[],1!=b.length?!0:b[0].emailAddress.endsWith("@google.com")&&RD.getUsername().endsWith("@google.com")?!1:!a.isOwnedByMe()):"github"==b.source?(a=new Dl(b.fileId_),a=Sy(a),!Yx.includes(a.org+"/"+a.repo)):"gist"==b.source?!0:!1};
i8.prototype.confirmCodeExecution=function(){var a=this;if(!this.shouldShowExternalCodeWarning())return this.confirmedCodeExecution_=!0,Mk();var b=this.getNotebookModel(),c=b.getFileId();b=az(c)?b.getOwnerEmails():"";var d="github"==c.source||"gist"==c.source?"GitHub":"";c=d?XD.getNonColabUrl(c,DI(this.getTraits()))||"":"";var e=!0,f=this.getKernel();f&&f.isRunning()&&(f=f.runtime_)&&"local"==f.kind&&"session-id"!=f.sessionId&&(e=!1);f=RD.getUsername().endsWith("@google.com");Nz.ISOLATED_NOTEBOOKS&&
(e=!1);var g=mH.createWithTemplate(c8,{externalSiteName:d,externalSiteUrl:c,ownerEmail:b,offerPowerwash:e,isGoogler:f,isolationEnabled:Nz.ISOLATED_NOTEBOOKS}),h=g.querySelector(".powerwash"),l=lH(g);return pn(1E3).then(function(){for(var m=q([].concat(ja(g.querySelectorAll("paper-button")))),n=m.next();!n.done;n=m.next())n.value.disabled=!1;return l}).then(function(m){eJ(13,"confirm_code_execution","trusted: "+!!m.confirmed);if(!m.confirmed)throw new eW;if(e&&h.checked)return a.getKernel().powerwash()}).then(function(){a.confirmedCodeExecution_=
!0})};i8.prototype.installIfNeeded=function(){var a,b;return B(function(c){switch(c.nextAddress){case 1:return!Ux||tJ()?c.return():u(c,cK(),2);case 2:if(a=c.yieldResult)return c.return();y(c,3);return u(c,dK(),5);case 5:va(c,0);break;case 3:throw b=z(c),wH("Google Drive installation failed.",b),b;}})};
i8.prototype.saveNotebook=function(a,b){var c=this;a=void 0===a?!1:a;b=void 0===b?!1:b;return this.getNotebookModel().saveable()?Z.prototype.saveNotebook.call(this,a,b):yH({title:"Cannot save changes",message:"This notebook is in playground mode. Changes will not be saved unless you make a copy of the notebook.",yesText:"Save a copy in Drive",noText:"Cancel"}).then(function(d){d&&c.commandHandler_.execute(KE,13)})};
var l8=function(a){var b,c,d,e,f,g,h,l;B(function(m){switch(m.nextAddress){case 1:b=a.getKernel();c=b.runtime_;if(!c||!b.isRunning())return m.return();d=c.getAccelerator();e=a.getNotebookModel().getAccelerator();if(d==e){m.jumpTo(2);break}y(m,3);return u(m,b.connectToDefault(),5);case 5:va(m,4);break;case 3:f=z(m),bJ(f);case 4:c=b.runtime_;case 2:g=c.kernel;h=SI(a.getNotebookModel());if(g.name==h.name){m.jumpTo(0);break}y(m,7);return u(m,b.changeKernelType(h),9);case 9:va(m,0);break;case 7:l=z(m),
bJ(l),x(m)}})};i8.prototype.clone=function(a){switch(a){case "gist":return s8(this);case "github":return t8(this);case "drive":return this.cloneToDrive();default:throw Error("Unrecognized backend type "+a);}};
var s8=function(a){var b;return B(function(c){if(1==c.nextAddress)return Y({message:"Creating a copy...",timeoutMillis:-1}),b=new g5(!0),u(c,b.save(a.getNotebookModel(),{clone:!0}),2);UG();x(c)})},t8=function(a){var b,c,d,e,f,g;return B(function(h){switch(h.nextAddress){case 1:if(HH.accessToken_){h.jumpTo(2);break}return u(h,oQ(),3);case 3:return b=h.yieldResult,b?h.return(t8(a)):(Y({message:"GitHub authorization failed"}),h.return());case 2:return c=a.getNotebookModel(),u(h,D7(c),4);case 4:d=h.yieldResult;
if(!d)return h.return();Y({message:"Creating a copy...",timeoutMillis:-1});y(h,5);return u(h,d.clone(c),7);case 7:e=h.yieldResult;UG();e&&ZG(e);va(h,0);break;case 5:g=f=z(h),UG(),wH(g.message||"Unable to copy notebook.",g),x(h)}})},F3=function(a,b){switch(b){case "faq":return $5.FAQ;case "ask-on-stackoverflow":return"https://stackoverflow.com/questions/ask?tags=google-colaboratory";case "report-bug":return"https://github.com/googlecolab/colabtools/issues";case "view-notebook-source":return XD.getNonColabUrl(a.getNotebookModel().getFileId(),
DI(a.getTraits()))||"";default:throw Error("Command "+b+" is not supported.");}};i8.prototype.downloadIpynb=function(){var a=this.getNotebookModel(),b=ND(a);j5(b);tA(uA(a.getTitle(),".ipynb"),JD(b,!0))};i8.prototype.initLeftPane=function(){var a=this;Z.prototype.initLeftPane.call(this);this.fileBrowser_=new z7;this.leftPane_.addTab("Files",this.fileBrowser_,ZX.Page.FILES);this.leftPane_.addEventListener(ZX.EventType.CLOSE,function(){a.fileBrowser_.setDisplayed(!1)})};
i8.prototype.updateResourceUsage=function(a){Z.prototype.updateResourceUsage.call(this,a);this.fileBrowser_||this.initLeftPane();this.fileBrowser_&&this.fileBrowser_.updateUsage(a)};i8.prototype.processCellMessage=function(a,b,c){switch(c.action){case "view_file":if(!this.kernelAccessAllowed(a,b))throw Error("Execution failed: the cell is not allowed to communicate with the runtime.");u8(this,c.path,c.lineNumber);break;default:return Z.prototype.processCellMessage.call(this,a,b,c)}};
var u8=function(a,b,c){var d,e,f,g;B(function(h){switch(h.nextAddress){case 1:if(!a.kernelFiles_)return h.return();y(h,2);return u(h,a.kernelFiles_.getFile(b),4);case 4:return d=h.yieldResult,u(h,a.fileViewerManager_.open(d,{lineNumber:c}),5);case 5:(e=h.yieldResult)&&eJ(3,"file_view_line",d.mimeType);va(h,0);break;case 2:return f=z(h),g=d?d.name:b,Y({message:nz(g)}),bJ(f),h.return()}})};i8.prototype.resetResourceUsage=function(){Z.prototype.resetResourceUsage.call(this);this.fileBrowser_&&this.fileBrowser_.resetUsage()};
var q8={KERNEL_DRIVE_HEALTH_CHECK_INTERVAL_MILLIS:6E4,KERNEL_IDLE_TIMEOUT_MILLIS:36E5};kb("colab.external.Notebook.config",q8);QD=a6.analytics;RD=a6.auth;SD=a6.cell;TD=a6.drive;Nz=a6.features;UD=a6.fileUtil;VD=a6.kernel;WD=a6.messages;XD=a6.urls;Pz=XD.ABSOLUTE_PROD_URL;Qz=XD.DEFAULT_PATH;new l5(function(){return Promise.resolve(function(a){var b;a.embeddedMode?b=new N3:b=new D3(I(a.accessHistory));var c=new i8({commandHandler:b,notebookModel:a.notebookModel,preferences:a.preferences,embeddedMode:a.embeddedMode});a.embeddedMode||b.init(c,a.preferences);return c})});var v8=document.createElement("style");v8.textContent="[hidden] { display: none !important; }";document.head.appendChild(v8);(function(){Polymer.IronMeta=function(b){Polymer.IronMeta[" "](b);this.type=b&&b.type||"default";this.key=b&&b.key;b&&"value"in b&&(this.value=b.value)};Polymer.IronMeta[" "]=function(){};Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var b=this.type,c=this.key;if(b&&c)return Polymer.IronMeta.types[b]&&Polymer.IronMeta.types[b][c]},set value(b){var c=this.type,d=this.key;c&&d&&(c=Polymer.IronMeta.types[c]=Polymer.IronMeta.types[c]||{},null==b?delete c[d]:c[d]=b)},get list(){if(this.type){var b=
Polymer.IronMeta.types[this.type];return b?Object.keys(b).map(function(c){return a[this.type][c]},this):[]}},byKey:function(b){this.key=b;return this.value}};var a=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(b,c,d){b=new Polymer.IronMeta({type:b,
key:c});void 0!==d&&d!==b.value?b.value=d:this.value!==b.value&&(this.value=b.value);return b},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(b){b&&(this.value=this)},byKey:function(b){return(new Polymer.IronMeta({type:this.type,key:b})).value}})})();Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&
this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});(function(){var a=new Set;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this);this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?
this._parentResizable.stopResizeNotificationsFor(this):(a.delete(this),window.removeEventListener("resize",this._boundNotifyResize));this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(b){this.resizerShouldNotify(b)&&this._notifyDescendant(b)},this),this._fireResize())},assignParentResizable:function(b){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this);(this._parentResizable=b)&&-1===b._interestedResizables.indexOf(this)&&
(b._interestedResizables.push(this),b._subscribeIronResize(this))},stopResizeNotificationsFor:function(b){var c=this._interestedResizables.indexOf(b);-1<c&&(this._interestedResizables.splice(c,1),this._unsubscribeIronResize(b))},_subscribeIronResize:function(b){b.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(b){b.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(b){this._notifyingDescendant?
b.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(b){var c=Polymer.dom(b).rootTarget;c!==this&&(c.assignParentResizable(this),this._notifyDescendant(c),b.stopPropagation())},_parentResizableChanged:function(b){b&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(b){this.isAttached&&(this._notifyingDescendant=!0,b.notifyResize(),
this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var b=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function d(){document.removeEventListener("readystatechange",d);b()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(c){c!==this&&c._findParent()},this):(a.forEach(function(c){c!==this&&c._findParent()},this),window.addEventListener("resize",
this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});this._parentResizable?a.delete(this):a.add(this)}}})();Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};var w8=function(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}};
Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&w8(this,b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(w8(this,this.get(),!1),w8(this,a,!0))},toggle:function(a){w8(this,a,!this.isSelected(a))}};Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,
"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items?this.items.indexOf(a):-1},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length;a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&"function"===typeof this._observer.flush?
this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,this._bindFilterItem);
this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear();this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected)return a=this.indexOf(a),-1===a?null:a;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];
return void 0!=b?b:a.getAttribute(this.attrForSelected)},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(b){this._updateItems();this._updateSelected();this.fire("iron-items-changed",
b,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}});(function(){function a(r,w){var v="";if(r)if(r=r.toLowerCase()," "===r||n.test(r))v="space";else if(p.test(r))v="esc";else if(1==r.length){if(!w||h.test(r))v=r}else v=m.test(r)?r.replace("arrow",""):"multiply"==r?"*":r;return v}function b(r,w){var v=r.hasModifiers;if(w.key)v=a(w.key,v);else if(w.detail&&w.detail.key)v=a(w.detail.key,v);else{v=w.keyIdentifier;var A="";v&&(v in e?A=e[v]:l.test(v)?(v=parseInt(v.replace("U+","0x"),16),A=String.fromCharCode(v).toLowerCase()):A=v.toLowerCase());(v=A)||
(v=w.keyCode,A="",Number(v)&&(65<=v&&90>=v?A=String.fromCharCode(32+v):112<=v&&123>=v?A="f"+(v-112+1):48<=v&&57>=v?A=String(v-48):96<=v&&105>=v?A=String(v-96):A=f[v]),v=A);v=v||""}return v===r.key&&(!r.hasModifiers||!!w.shiftKey===!!r.shiftKey&&!!w.ctrlKey===!!r.ctrlKey&&!!w.altKey===!!r.altKey&&!!w.metaKey===!!r.metaKey)}function c(r){return 1===r.length?{combo:r,key:r,event:"keydown"}:r.split("+").reduce(function(w,v){var A=v.split(":");v=A[0];A=A[1];v in g?(w[g[v]]=!0,w.hasModifiers=!0):(w.key=
v,w.event=A||"keydown");return w},{combo:r.split(":").shift()})}function d(r){return r.trim().split(" ").map(function(w){return c(w)})}var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},f={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},g={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},h=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,n=/^space(bar)?/,p=/^escape$/;
Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(r,w){this._imperativeKeyBindings[r]=w;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(r,w){w=d(w);for(var v=0;v<w.length;++v)if(b(w[v],r))return!0;return!1},_collectKeyBindings:function(){var r=this.behaviors.map(function(w){return w.keyBindings});-1===r.indexOf(this.keyBindings)&&r.push(this.keyBindings);return r},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(v){for(var A in v)this._addKeyBinding(A,v[A])},this);for(var r in this._imperativeKeyBindings)this._addKeyBinding(r,this._imperativeKeyBindings[r]);for(var w in this._keyBindings)this._keyBindings[w].sort(function(v,A){v=v[0].hasModifiers;return v===A[0].hasModifiers?0:v?-1:1})},_addKeyBinding:function(r,w){d(r).forEach(function(v){this._keyBindings[v.event]=this._keyBindings[v.event]||[];this._keyBindings[v.event].push([v,
w])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(r){var w=this._onKeyBindingEvent.bind(this,this._keyBindings[r]);this._boundKeyHandlers.push([this.keyEventTarget,r,w]);this.keyEventTarget.addEventListener(r,w)},this)},_unlistenKeyEventListeners:function(){for(var r,w,v;this._boundKeyHandlers.length;)r=this._boundKeyHandlers.pop(),
w=r[0],v=r[1],r=r[2],w.removeEventListener(v,r)},_onKeyBindingEvent:function(r,w){this.stopKeyboardEventPropagation&&w.stopPropagation();if(!w.defaultPrevented)for(var v=0;v<r.length;v++){var A=r[v][0],H=r[v][1];if(b(A,w)&&(this._triggerKeyHandler(A,H,w),w.defaultPrevented))break}},_triggerKeyHandler:function(r,w,v){var A=Object.create(r);A.keyboardEvent=v;r=new CustomEvent(r.event,{detail:A,cancelable:!0});this[w].call(this,r);r.defaultPrevented&&v.preventDefault()}}})();Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",
this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");
this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a);a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==
a&&(this.active=a,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||
(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):
this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];(function(){function a(d){this.element=d;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}function b(d){this.element=d;this.color=window.getComputedStyle(d).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(d,e,f,g){d-=f;e-=g;return Math.sqrt(d*d+e*e)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(d,e){return Math.max(c.distance(d,e,0,0),c.distance(d,e,this.width,0),c.distance(d,e,0,this.height),c.distance(d,e,this.width,this.height))}};b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},
get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var d=c.now()-this.mouseDownStart;this.mouseUpStart&&(d-=this.mouseUpElapsed);return d},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},
get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var d=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(d*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-d/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,
Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?
this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},draw:function(){this.wave.style.opacity=this.opacity;var d=this.radius/(this.containerMetrics.size/
2);var e=this.xNow-this.containerMetrics.width/2;var f=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+e+"px, "+f+"px)";this.waveContainer.style.transform="translate3d("+e+"px, "+f+"px, 0)";this.wave.style.webkitTransform="scale("+d+","+d+")";this.wave.style.transform="scale3d("+d+","+d+",1)"},downAction:function(d){var e=this.containerMetrics.width/2,f=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=c.now();this.center?
(this.xStart=e,this.yStart=f):(this.xStart=d?d.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=d?d.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=e,this.yEnd=f);this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-
this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,
value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},
attached:function(){11==this.parentNode.nodeType?this.keyEventTarget=Polymer.dom(this).getOwnerRoot().host:this.keyEventTarget=this.parentNode;var d=this.keyEventTarget;this.listen(d,"up","uiUpAction");this.listen(d,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=null},get shouldKeepAnimating(){for(var d=0;d<this.ripples.length;++d)if(!this.ripples[d].isAnimationComplete)return!0;
return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(d){this.noink||this.downAction(d)},downAction:function(d){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(d),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(d){this.noink||this.upAction(d)},upAction:function(d){this.holdDown||(this.ripples.forEach(function(e){e.upAction(d)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=
!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var d=new b(this);Polymer.dom(this.$.waves).appendChild(d.waveContainer);this.$.background.style.backgroundColor=d.color;this.ripples.push(d);this._setAnimating(!0);return d},removeRipple:function(d){var e=this.ripples.indexOf(d);0>e||(this.ripples.splice(e,1),d.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var d;for(d=0;d<this.ripples.length;++d){var e=
this.ripples[d];e.draw();this.$.background.style.opacity=e.outerOpacity;e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(d,e){void 0!==e&&(d?this.downAction():
this.upAction())}})})();Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){b=
Polymer.dom(this._rippleContainer||this);var c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});Polymer({is:"paper-icon-button-light",extends:"button",behaviors:[Polymer.PaperRippleBehavior],listeners:{down:"_rippleDown",up:"_rippleUp",focus:"_rippleDown",blur:"_rippleUp"},_rippleDown:function(){this.getRipple().downAction()},_rippleUp:function(){this.getRipple().upAction()},ensureRipple:function(a){var b=this._ripple;Polymer.PaperRippleBehavior.ensureRipple.apply(this,arguments);this._ripple&&this._ripple!==b&&(this._ripple.center=!0,this._ripple.classList.add("circle"))}});Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var a=Polymer.dom(this).parentNode;return!!a&&!!a.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(a){if(this.link){var b=this.queryEffectiveChildren("a");
b&&a.target!==b&&b.click()}}});Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},applyIcon:function(a,b){this.removeIcon(a);
if(b=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){null==this.__targetIsRTL&&(this.useGlobalRtlAttribute?this.__targetIsRTL="rtl"===(document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement).getAttribute("dir"):(a&&a.nodeType!==Node.ELEMENT_NODE&&
(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction));return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});return a},_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],
this.size,b)},_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.setAttribute("focusable","false");d.style.cssText=
e;d.appendChild(a).removeAttribute("id");return d}return null}});Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||
null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=
a||[];a=(this._valuesToItems(a)||[]).filter(function(c){return null!==c&&void 0!==c});this._selection.clear(a);for(var b=0;b<a.length;b++)w8(this._selection,a[b],!0);this.fallbackSelection&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection)},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&void 0!==a?(this._setSelectedItems([a]),this._setSelectedItem(a)):
(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(b){return this._valueToItem(b)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:"Alt AltGraph CapsLock Control Fn FnLock Hyper Meta NumLock OS ScrollLock Shift Super Symbol SymbolLock".split(" "),_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown",
"iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?
this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"";b+=(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();
a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var e=this.attrForItemTitle||"textContent";e=(d[e]||d.getAttribute(e)||"").trim();if(!(e.length<a)&&e.slice(0,a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<
a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_focusNext:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_applySelection:function(a,b){b?a.setAttribute("aria-selected",
"true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||this.disabled||(a.setAttribute("tabindex","0"),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex",
"-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var b=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);b?this._setFocusedItem(b):this.items[0]&&this._focusNext()}))},_onUpKey:function(a){this._focusPrevious();
a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:
0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious();a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?
this._focusPrevious():this._focusNext();a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down left right esc")||this._focusWithKeyboardEvent(a)}};Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,
value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationTimeout=this._pendingActivationItem=
void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(a){Polymer.dom(this).querySelectorAll("paper-tab").forEach(a?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(a){a.setAttribute("noink","")},_removeNoinkAttribute:function(a){a.removeAttribute("noink")},
_computeScrollButtonClass:function(a,b,c){return!b||c?"hidden":a?"not-visible":""},_computeTabsContentClass:function(a,b){return a?"scrollable"+(b?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(a,b){return a?"hidden":b?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(a){this._tabChanged(a.detail.item,this._previousTab);this._previousTab=a.detail.item;
this.cancelDebouncer("tab-changed")},_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(a,b){this._pendingActivationItem=a;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,b)},_delayedActivationHandler:function(){var a=this._pendingActivationItem;
this._pendingActivationTimeout=this._pendingActivationItem=void 0;a.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationTimeout=this._pendingActivationItem=void 0)},_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(a){a.target===this._pendingActivationItem&&this._cancelPendingActivation()},
get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(a,b){this.scrollable&&this._affectScroll(b&&-b.ddx||0)},_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(a){this.$.tabsContainer.scrollLeft+=a;a=this.$.tabsContainer.scrollLeft;this._leftHidden=0===a;this._rightHidden=a===this._tabContainerScrollSize},
_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(a,b){if(a){var c=this.$.tabsContent.getBoundingClientRect(),
d=c.width,e=a.getBoundingClientRect();c=e.left-c.left;this._pos={width:this._calcPercent(e.width,d),left:this._calcPercent(c,d)};if(this.noSlide||null==b)this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(this._pos.width,this._pos.left);else{var f=b.getBoundingClientRect();b=this.items.indexOf(b);a=this.items.indexOf(a);this.$.selectionBar.classList.add("expand");a=b<a;this._isRTL&&(a=!a);a?this._positionBar(this._calcPercent(e.left+e.width-
f.left,d)-5,this._left):this._positionBar(this._calcPercent(f.left+f.width-e.left,d)-5,this._calcPercent(c,d)+5);this.scrollable&&this._scrollToSelectedIfNeeded(e.width,c)}}else this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(0,0)},_scrollToSelectedIfNeeded:function(a,b){b-=this.$.tabsContainer.scrollLeft;0>b?this.$.tabsContainer.scrollLeft+=b:(b+=a-this.$.tabsContainer.offsetWidth,0<b&&(this.$.tabsContainer.scrollLeft+=b))},_calcPercent:function(a,
b){return 100*a/b},_positionBar:function(a,b){a=a||0;b=b||0;this._width=a;this._left=b;this.transform("translateX("+b+"%) scaleX("+a/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(){var a=this.$.selectionBar.classList;a.contains("expand")?(a.remove("expand"),a.add("contract"),this._positionBar(this._pos.width,this._pos.left)):a.contains("contract")&&a.remove("contract")}});Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",
a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d=
{transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,f=0;e=d[f];f++)a.style[e]=c;a.style[b]=c},complete:function(){}};Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,
b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else{var d;a?d=this.animationConfig[a]:d=this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,
f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(g.isClone||(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,e=0;d=a[e];e++){var f=document.createElement(d.name);if(f.isNeonAnimation){var g=null;f.configure||(f.configure=function(){return null});g=f.configure(d);c.push({result:g,config:d,neonAnimation:f})}else console.warn(this.is+":",d.name,"not found!")}for(a=0;a<c.length;a++){g=c[a].result;d=c[a].config;f=c[a].neonAnimation;try{"function"!=typeof g.cancel&&(g=document.timeline.play(g))}catch(h){g=
null,console.warn("Couldnt play","(",d.name,").",h)}g&&b.push({neonAnimation:f,config:d,animation:g})}return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if("finished"!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{};this._active[a]&&(this._complete(this._active[a]),
delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)this.fire("neon-animation-finish",b,{bubbles:!1});else for(this._active[a]=d,c=0;c<d.length;c++)d[c].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire("neon-animation-finish",b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._active){var b=this._active[a],c;for(c in b)b[c].animation&&b[c].animation.cancel&&b[c].animation.cancel()}this._active=
{}}};Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",
node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":"_onAnimationFinish"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot(),c;this.for?c=Polymer.dom(b).querySelector("#"+this.for):a?c=a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a:c=null;return c},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},show:function(){if(!this._showing){if(""===
Polymer.dom(this).textContent.trim()){for(var a=!0,b=Polymer.dom(this).getEffectiveChildNodes(),c=0;c<b.length;c++)if(""!==b[c].textContent.trim()){a=!1;break}if(a)return}this.cancelAnimation();this._showing=!0;this.toggleClass("hidden",!1,this.$.tooltip);this.updatePosition();this.animationConfig.entry[0].timing=this.animationConfig.entry[0].timing||{};this.animationConfig.entry[0].timing.delay=this.animationDelay;this._animationPlaying=!0;this.playAnimation("entry")}},hide:function(){this._showing&&
(this._animationPlaying?(this.cancelAnimation(),this._showing=!1,this._onAnimationFinish()):(this._showing=!1,this._animationPlaying=!0,this.playAnimation("exit")))},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,g=c.left-b.left,h=c.top-b.top;switch(this.position){case "top":var l=
g+e;var m=h-d.height-a;break;case "bottom":l=g+e;m=h+c.height+a;break;case "left":l=g-d.width-a;m=h+f;break;case "right":l=g+c.width+a,m=h+f}this.fitToVisibleBounds?(b.left+l+d.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,l)+"px",this.style.right="auto"),b.top+m+d.height>window.innerHeight?(this.style.bottom=b.height+"px",this.style.top="auto"):(this.style.top=Math.max(-b.top,m)+"px",this.style.bottom="auto")):(this.style.left=l+"px",this.style.top=
m+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"));this.listen(this,"mouseenter","hide")},_findTarget:function(){this.manualMode||this._removeListeners();this._target=this.target;this.manualMode||this._addListeners()},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},
_onAnimationFinish:function(){this._animationPlaying=!1;this._showing||this.toggleClass("hidden",!0,this.$.tooltip)},_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"));this.unlisten(this,"mouseenter","hide")}});(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(c){var d=[];return this._collectTabbableNodes(c,d)?this._sortByTabIndex(d):d},isFocusable:function(c){return b.call(c,"input, select, textarea, button, object")?b.call(c,":not([disabled])"):b.call(c,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(c){return this.isFocusable(c)&&
b.call(c,':not([tabindex="-1"])')&&this._isVisible(c)},_normalizedTabIndex:function(c){return this.isFocusable(c)?(c=c.getAttribute("tabindex")||0,Number(c)):-1},_collectTabbableNodes:function(c,d){if(c.nodeType!==Node.ELEMENT_NODE||!this._isVisible(c))return!1;var e=this._normalizedTabIndex(c),f=0<e;0<=e&&d.push(c);var g;"content"===c.localName||"slot"===c.localName?g=Polymer.dom(c).getDistributedNodes():g=Polymer.dom(c.root||c).children;for(c=0;c<g.length;c++)f=this._collectTabbableNodes(g[c],d)||
f;return f},_isVisible:function(c){var d=c.style;return"hidden"!==d.visibility&&"none"!==d.display?(d=window.getComputedStyle(c),"hidden"!==d.visibility&&"none"!==d.display):!1},_sortByTabIndex:function(c){var d=c.length;if(2>d)return c;var e=Math.ceil(d/2);d=this._sortByTabIndex(c.slice(0,e));c=this._sortByTabIndex(c.slice(e));return this._mergeSortByTabIndex(d,c)},_mergeSortByTabIndex:function(c,d){for(var e=[];0<c.length&&0<d.length;)this._hasLowerTabOrder(c[0],d[0])?e.push(d.shift()):e.push(c.shift());
return e.concat(c,d)},_hasLowerTabOrder:function(c,d){c=Math.max(c.tabIndex,0);d=Math.max(d.tabIndex,0);return 0===c||0===d?d>c:c>d}}})();Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||
Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){var a;this.fitInto===window?a=0:a=this.fitInto.getBoundingClientRect().left;return a},get _fitTop(){var a;this.fitInto===window?a=0:a=this.fitInto.getBoundingClientRect().top;return a},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===
this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function(){"undefined"===typeof this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction);this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):
(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||
"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,
10)||0}}}},resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.__shouldPosition){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing=
"border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},a,b,c);b=e.left+d.left;e=e.top+d.top;var f=Math.min(c.right-d.right,b+a.width),g=Math.min(c.bottom-d.bottom,e+a.height);b=Math.max(c.left+d.left,Math.min(b,f-this._fitInfo.sizedBy.minWidth));
e=Math.max(c.top+d.top,Math.min(e,g-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=Math.max(f-b,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=Math.max(g-e,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position=
"fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto);g="Width"===e?g.width:g.height;b=b===
d;var h="offset"+e;this.sizingTarget.style["max"+e]=g-f.margin[b?c:d]-(b?g-a[d]:a[c])-(this[h]-this.sizingTarget[h])+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top="0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+
"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getOffscreenArea:function(a,b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,
b,c,d,e,f){var g=[{verticalAlign:"top",horizontalAlign:"left",top:e.top+this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:e.top+this.verticalOffset,left:e.right-c.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:e.bottom-c.height-this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:e.bottom-c.height-this.verticalOffset,left:e.right-c.width-this.horizontalOffset}];
if(this.noOverlap){for(var h=0,l=g.length;h<l;h++){var m={},n;for(n in g[h])m[n]=g[h][n];g.push(m)}g[0].top=g[1].top+=e.height;g[2].top=g[3].top-=e.height;g[4].left=g[6].left+=e.width;g[5].left=g[7].left-=e.width}b="auto"===b?null:b;a="auto"===a?null:a;a&&"center"!==a||(g.push({verticalAlign:"top",horizontalAlign:"center",top:e.top+this.verticalOffset+(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}),g.push({verticalAlign:"bottom",horizontalAlign:"center",top:e.bottom-
c.height-this.verticalOffset-(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}));b&&"middle"!==b||(g.push({verticalAlign:"middle",horizontalAlign:"left",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left+this.horizontalOffset+(this.noOverlap?e.width:0)}),g.push({verticalAlign:"middle",horizontalAlign:"right",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.right-c.width-this.horizontalOffset-(this.noOverlap?e.width:0)}));"middle"===b&&"center"===
a&&g.push({verticalAlign:"middle",horizontalAlign:"center",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left-d.width/2+e.width/2+this.horizontalOffset});for(h=0;h<g.length;h++){d=g[h];e=d.verticalAlign===b;l=d.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&e&&l){var p=d;break}m=(!b||e)&&(!a||l);if(this.dynamicAlign||m){d.offscreenArea=this.__getOffscreenArea(d,c,f);if(0===d.offscreenArea&&m){p=d;break}p=p||d;m=d.offscreenArea-p.offscreenArea;if(0>m||0===m&&(e||l))p=d}}return p}};Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
var x8=function(a){var b=a._overlayWithBackdrop();if(b||a._backdropElement)a.backdropElement.style.zIndex=a._getZ(b)-1,a.backdropElement.opened=!!b,a.backdropElement.prepare()};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){var a=document.activeElement;a&&!1!==a instanceof Element||(a=document.body);for(;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},_bringOverlayAtIndexToFront:function(a){var b=this._overlays[a];if(b){var c=
this._overlays.length-1,d=this._overlays[c];d&&this._shouldBeBehindOverlay(b,d)&&c--;if(!(a>=c)){d=Math.max(this._getZ(this.currentOverlay()),this._minimumZ);for(this._getZ(b)<=d&&this._applyOverlayZ(b,d);a<c;)this._overlays[a]=this._overlays[a+1],a++;this._overlays[c]=b}}},addOverlay:function(a){var b=this._overlays.indexOf(a);if(0<=b)this._bringOverlayAtIndexToFront(b);else{b=this._overlays.length;var c=this._overlays[b-1],d=Math.max(this._getZ(c),this._minimumZ),e=this._getZ(a);c&&this._shouldBeBehindOverlay(a,
c)&&(this._applyOverlayZ(c,d),b--,d=Math.max(this._getZ(this._overlays[b-1]),this._minimumZ));e<=d&&this._applyOverlayZ(a,d);this._overlays.splice(b,0,a)}x8(this)},removeOverlay:function(a){a=this._overlays.indexOf(a);-1!==a&&(this._overlays.splice(a,1),x8(this))},currentOverlay:function(){return this._overlays[this._overlays.length-1]},_overlayWithBackdrop:function(){for(var a=this._overlays.length-1;0<=a;a--)if(this._overlays[a].withBackdrop)return this._overlays[a]},_getZ:function(a){var b=this._minimumZ;
a&&(a=Number(a.style.zIndex||window.getComputedStyle(a).zIndex),a===a&&(b=a));return b},_setZ:function(a,b){a.style.zIndex=b},_applyOverlayZ:function(a,b){this._setZ(a,b+2)},_overlayInPath:function(a){a=a||[];for(var b=0;b<a.length;b++)if(a[b]._manager===this)return a[b]},_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!==b)for(var c=Polymer.dom(a).path,d;(d=this._overlays[b])&&this._overlayInPath(c)!==d;)if(d._onCaptureClick(a),d.allowClickThrough)b--;else break},_onCaptureFocus:function(a){var b=
this.currentOverlay();b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=this.currentOverlay();b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))},_shouldBeBehindOverlay:function(a,b){return!a.alwaysOnTop&&b.alwaysOnTop}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;(function(){var a=0,b=0,c=null,d=[],e=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(f){var g=this.currentLockingElement;if(void 0===g)return!1;if(this._hasCachedLockedElement(f))return!0;if(this._hasCachedUnlockedElement(f))return!1;(g=!!g&&g!==f&&!this._composedTreeContains(g,f))?this._lockedElementCache.push(f):this._unlockedElementCache.push(f);
return g},pushScrollLock:function(f){0<=this._lockingElements.indexOf(f)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(f),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(f){f=this._lockingElements.indexOf(f);-1!==f&&(this._lockingElements.splice(f,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,
_unlockedElementCache:null,_hasCachedLockedElement:function(f){return-1<this._lockedElementCache.indexOf(f)},_hasCachedUnlockedElement:function(f){return-1<this._unlockedElementCache.indexOf(f)},_composedTreeContains:function(f,g){var h,l;if(f.contains(g))return!0;f=Polymer.dom(f).querySelectorAll("content,slot");for(h=0;h<f.length;++h){var m=Polymer.dom(f[h]).getDistributedNodes();for(l=0;l<m.length;++l)if(m[l].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(m[l],g))return!0}return!1},_scrollInteractionHandler:function(f){f.cancelable&&
this._shouldPreventScrolling(f)&&f.preventDefault();f.targetTouches&&(f=f.targetTouches[0],a=f.pageX,b=f.pageY)},_boundScrollHandler:void 0,_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var f=0,g=e.length;f<g;f++)document.addEventListener(e[f],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var f=0,g=e.length;f<g;f++)document.removeEventListener(e[f],this._boundScrollHandler,
{capture:!0,passive:!1})},_shouldPreventScrolling:function(f){var g=Polymer.dom(f).rootTarget;"touchmove"!==f.type&&c!==g&&(c=g,d=this._getScrollableNodes(Polymer.dom(f).path));if(!d.length)return!0;if("touchstart"===f.type)return!1;f=this._getScrollInfo(f);return!this._getScrollingNode(d,f.deltaX,f.deltaY)},_getScrollableNodes:function(f){for(var g=[],h=f.indexOf(this.currentLockingElement),l=0;l<=h;l++)if(f[l].nodeType===Node.ELEMENT_NODE){var m=f[l],n=m.style;"scroll"!==n.overflow&&"auto"!==n.overflow&&
(n=window.getComputedStyle(m));"scroll"!==n.overflow&&"auto"!==n.overflow||g.push(m)}return g},_getScrollingNode:function(f,g,h){if(g||h)for(var l=Math.abs(h)>=Math.abs(g),m=0;m<f.length;m++){var n=f[m];if(l?0>h?0<n.scrollTop:n.scrollTop<n.scrollHeight-n.clientHeight:0>g?0<n.scrollLeft:n.scrollLeft<n.scrollWidth-n.clientWidth)return n}},_getScrollInfo:function(f){var g={deltaX:f.deltaX,deltaY:f.deltaY};"deltaX"in f||("wheelDeltaX"in f&&"wheelDeltaY"in f?(g.deltaX=-f.wheelDeltaX,g.deltaY=-f.wheelDeltaY):
"wheelDelta"in f?(g.deltaX=0,g.deltaY=-f.wheelDelta):"axis"in f?(g.deltaX=1===f.axis?f.detail:0,g.deltaY=2===f.axis?f.detail:0):f.targetTouches&&(f=f.targetTouches[0],g.deltaX=a-f.pageX,g.deltaY=b-f.pageY));return g}}})();Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},
scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=
this.__isAnimating=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__scrollTop=this.__scrollLeft=this.__restoreFocusNode=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var a in this.__rafs)null!==
this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={};this._manager.removeOverlay(this);this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(a){this.fire("iron-overlay-canceled",a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=
!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=
this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&x8(this._manager)},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();this.noAutoFocus&&document.activeElement===
this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=
this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var a=
this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();
var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode;b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else{var d=this._manager.deepActiveElement;c=d===c||d===this}c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||
!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]);c[a]=requestAnimationFrame(function(){c[a]=null;b.call(this)}.bind(this))},__updateScrollObservers:function(a,
b,c){a&&b&&this.__isValidScrollAction(c)?("lock"===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow)for(var a=this;a;)a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host&&this.__rootNodes.push(a),a=a.host||a.assignedSlot||a.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(b){b.addEventListener("scroll",
this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(a){a.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this);this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(a){return"lock"===a||"refit"===a||"cancel"===a},__onCaptureScroll:function(a){if(!(this.__isAnimating||0<=Polymer.dom(a).path.indexOf(this)))switch(this.scrollAction){case "lock":this.__restoreScrollPosition();
break;case "refit":this.__deraf("refit",this.refit);break;case "cancel":this.cancel(a)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=
this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}};Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];Polymer({is:"cascaded-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){this._animations=[];var b=a.nodes,c=[],d=a.nodeDelay||50;a.timing=a.timing||{};a.timing.delay=a.timing.delay||0;for(var e=a.timing.delay,f,g,h=0;g=b[h];h++)if(a.timing.delay+=d,a.node=g,g=document.createElement(a.animation),g.isNeonAnimation){var l=g.configure(a);this._animations.push(g);c.push(l)}else{console.warn(this.is+":",a.animation,"not found!");f=!0;break}a.timing.delay=e;a.node=null;if(!f)return this._effect=
new GroupEffect(c)},complete:function(){for(var a,b=0;a=this._animations[b];b++)a.complete(a.config)}});Polymer.NeonSharedElementAnimationBehaviorImpl={properties:{sharedElements:{type:Object}},findSharedElements:function(a){var b=a.fromPage,c=a.toPage;if(!b||!c)return console.warn(this.is+":",b?"toPage":"fromPage","is undefined!"),null;if(!b.sharedElements||!c.sharedElements)return console.warn(this.is+":","sharedElements are undefined for",b.sharedElements?c:b),null;var d=b.sharedElements[a.id],e=c.sharedElements[a.id];return d&&e?this.sharedElements={from:d,to:e}:(console.warn(this.is+":","sharedElement with id",
a.id,"not found in",d?c:b),null)}};Polymer.NeonSharedElementAnimationBehavior=[Polymer.NeonAnimationBehavior,Polymer.NeonSharedElementAnimationBehaviorImpl];Polymer({is:"hero-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(a){var b=this.findSharedElements(a);if(b){var c=b.from.getBoundingClientRect(),d=b.to.getBoundingClientRect();this._effect=new KeyframeEffect(b.to,[{transform:"translate("+(c.left-d.left)+"px,"+(c.top-d.top)+"px) scale("+c.width/d.width+","+c.height/d.height+")"},{transform:"none"}],this.timingFromConfig(a));this.setPrefixedProperty(b.to,"transformOrigin","0 0");b.to.style.zIndex=1E4;b.from.style.visibility=
"hidden";return this._effect}},complete:function(a){a=this.findSharedElements(a);if(!a)return null;a.to.style.zIndex="";a.from.style.visibility=""}});Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a));b.style.opacity="0";return this._effect},complete:function(a){a.node.style.opacity=""}});Polymer({is:"reverse-ripple-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(a){var b=this.findSharedElements(a);if(!b)return null;var c=b.from.getBoundingClientRect();if(a.gesture){var d=a.gesture.x-(c.left+c.width/2);var e=a.gesture.y-(c.top+c.height/2)}else{var f=b.to.getBoundingClientRect();d=f.left+f.width/2-(c.left+c.width/2);e=f.top+f.height/2-(c.top+c.height/2)}f="translate("+d+"px,"+e+"px)";d=Math.max(c.width+2*Math.abs(d),c.height+2*Math.abs(e));d=Math.sqrt(2*
d*d);this._effect=new KeyframeEffect(b.from,[{transform:f+" "+("scale("+d/c.width+","+d/c.height+")")},{transform:f+" scale(0)"}],this.timingFromConfig(a));this.setPrefixedProperty(b.from,"transformOrigin","50% 50%");b.from.style.borderRadius="50%";return this._effect},complete:function(){this.sharedElements&&(this.setPrefixedProperty(this.sharedElements.from,"transformOrigin",""),this.sharedElements.from.style.borderRadius="")}});Polymer({is:"ripple-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(a){var b=this.findSharedElements(a);if(!b)return null;var c=b.to.getBoundingClientRect();if(a.gesture){var d=a.gesture.x-(c.left+c.width/2);var e=a.gesture.y-(c.top+c.height/2)}else{var f=b.from.getBoundingClientRect();d=f.left+f.width/2-(c.left+c.width/2);e=f.top+f.height/2-(c.top+c.height/2)}f="translate("+d+"px,"+e+"px)";d=Math.max(c.width+2*Math.abs(d),c.height+2*Math.abs(e));d=Math.sqrt(2*
d*d);this._effect=new KeyframeEffect(b.to,[{transform:f+" scale(0)"},{transform:f+" "+("scale("+d/c.width+","+d/c.height+")")}],this.timingFromConfig(a));this.setPrefixedProperty(b.to,"transformOrigin","50% 50%");b.to.style.borderRadius="50%";return this._effect},complete:function(){this.sharedElements&&(this.setPrefixedProperty(this.sharedElements.to,"transformOrigin",""),this.sharedElements.to.style.borderRadius="")}});Polymer({is:"scale-down-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c="scale(0, 0)";"x"===a.axis?c="scale(0, 1)":"y"===a.axis&&(c="scale(1, 0)");this._effect=new KeyframeEffect(b,[{transform:"scale(1,1)"},{transform:c}],this.timingFromConfig(a));a.transformOrigin&&this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin);return this._effect}});Polymer({is:"scale-up-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c="scale(0)";"x"===a.axis?c="scale(0, 1)":"y"===a.axis&&(c="scale(1, 0)");this._effect=new KeyframeEffect(b,[{transform:c},{transform:"scale(1, 1)"}],this.timingFromConfig(a));a.transformOrigin&&this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin);return this._effect}});Polymer({is:"slide-down-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"translateY(0%)"},{transform:"translateY(100%)"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","50% 0");return this._effect}});Polymer({is:"slide-from-bottom-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"translateY(100%)"},{transform:"translateY(0)"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","50% 0");return this._effect}});Polymer({is:"slide-from-left-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"translateX(-100%)"},{transform:"none"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","0 50%");return this._effect}});Polymer({is:"slide-from-right-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"translateX(100%)"},{transform:"none"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","0 50%");return this._effect}});Polymer({is:"slide-from-top-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"translateY(-100%)"},{transform:"translateY(0%)"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","50% 0");return this._effect}});Polymer({is:"slide-left-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"none"},{transform:"translateX(-100%)"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","0 50%");return this._effect}});Polymer({is:"slide-right-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"none"},{transform:"translateX(100%)"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","0 50%");return this._effect}});Polymer({is:"slide-up-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:"translate(0)"},{transform:"translateY(-100%)"}],this.timingFromConfig(a));a.transformOrigin?this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin):this.setPrefixedProperty(b,"transformOrigin","50% 0");return this._effect}});Polymer({is:"transform-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{transform:a.transformFrom||"none"},{transform:a.transformTo||"none"}],this.timingFromConfig(a));a.transformOrigin&&this.setPrefixedProperty(b,"transformOrigin",a.transformOrigin);return this._effect}});Polymer({is:"neon-animatable",behaviors:[Polymer.NeonAnimatableBehavior,Polymer.IronResizableBehavior]});Polymer({is:"neon-animated-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{activateEvent:{type:String,value:""},animateInitialSelection:{type:Boolean,value:!1}},listeners:{"iron-select":"_onIronSelect","neon-animation-finish":"_onNeonAnimationFinish"},_onIronSelect:function(a){var b=a.detail.item;0>this.items.indexOf(b)||(a=this._valueToItem(this._prevSelected)||!1,this._prevSelected=this.selected,a||this.animateInitialSelection?
(this.animationConfig=[],this.entryAnimation?this.animationConfig.push({name:this.entryAnimation,node:b}):b.getAnimationConfig&&this.animationConfig.push({animatable:b,type:"entry"}),a&&(a.classList.contains("neon-animating")&&(this._squelchNextFinishEvent=!0,this.cancelAnimation(),this._completeSelectedChanged(),this._squelchNextFinishEvent=!1),this.exitAnimation?this.animationConfig.push({name:this.exitAnimation,node:a}):a.getAnimationConfig&&this.animationConfig.push({animatable:a,type:"exit"}),
a.classList.add("neon-animating")),b.classList.add("neon-animating"),1<=this.animationConfig.length?this.isAttached?this.playAnimation(void 0,{fromPage:a,toPage:b}):this.async(function(){this.playAnimation(void 0,{fromPage:null,toPage:b})}):this._completeSelectedChanged(a,b)):this._completeSelectedChanged())},_completeSelectedChanged:function(a,b){b&&b.classList.remove("neon-animating");a&&a.classList.remove("neon-animating");if(!b||!a){a=Polymer.dom(this.$.content).getDistributedNodes();for(var c=
0;b=a[c];c++)b.classList&&b.classList.remove("neon-animating")}this.async(this._notifyPageResize)},_onNeonAnimationFinish:function(a){this._squelchNextFinishEvent?this._squelchNextFinishEvent=!1:this._completeSelectedChanged(a.detail.fromPage,a.detail.toPage)},_notifyPageResize:function(){var a=this.selectedItem||this._valueToItem(this.selected);this.resizerShouldNotify=function(b){return b==a};this.notifyResize()}});Polymer.NeonSharedElementAnimatableBehaviorImpl={properties:{sharedElements:{type:Object,value:{}}}};Polymer.NeonSharedElementAnimatableBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonSharedElementAnimatableBehaviorImpl];Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,
this.__prevWithBackdrop=this.withBackdrop,this.withBackdrop=this.noCancelOnEscKey=this.noCancelOnOutsideClick=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{};this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b=Polymer.dom(a).path,
c=0;c<b.indexOf(this);c++){var d=b[c];if(d.hasAttribute&&(d.hasAttribute("dialog-dismiss")||d.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));this.close();a.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget();this.classList.add("no-padding")},attached:function(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",
this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){(this.dialogElement=this.dialogElement||this.parentElement)&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}});Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null);b&&("document"===a?this.scrollTarget=this._doc:"string"===typeof a?this.scrollTarget=(b=this.domHost)&&b.$?b.$[a]:Polymer.dom(this.ownerDocument).querySelector("#"+
a):this._isValidScrollTarget()&&(this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:
0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){if("object"===typeof a){var c=a.left;b=a.top}else c=a;c=c||0;b=b||0;this.scrollTarget===this._doc?window.scrollTo(c,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=c,
this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){b=b===this._doc?window:b;a?this._boundScrollHandler||(this._boundScrollHandler=
this._scrollHandler.bind(this),b.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(b.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(a){this._shouldHaveListener=a;this._toggleScrollListener(a,this.scrollTarget)}};(function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&8<=a[1],c=null!=Polymer.flush,d=c?Polymer.Async.animationFrame:0,e=c?Polymer.Async.idlePeriod:1,f=c?Polymer.Async.microTask:2;Polymer.OptionalMutableDataBehavior||(Polymer.OptionalMutableDataBehavior={});Polymer({is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,
observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronScrollTargetBehavior,Polymer.OptionalMutableDataBehavior],
_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,
_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return Polymer.dom(Polymer.dom(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},
get _maxVirtualStart(){var g=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,g-this._physicalCount)},set _virtualStart(g){g=this._clamp(g,0,this._maxVirtualStart);this.grid&&(g-=g%this._itemsPerRow);this._virtualStartVal=g},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(g){g%=this._physicalCount;0>g&&(g=this._physicalCount+g);this.grid&&(g-=g%this._itemsPerRow);this._physicalStartVal=g},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+
this._physicalCount-1)%this._physicalCount},set _physicalCount(g){this._physicalCountVal=g},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?Infinity:this._viewportHeight*this._maxPages},get _isVisible(){return!(!this.offsetWidth&&!this.offsetHeight)},get firstVisibleIndex(){var g=this._firstVisibleIndexVal;if(null==g){var h=this._physicalTop+this._scrollOffset;this._firstVisibleIndexVal=g=this._iterateItems(function(l,m){h+=this._getPhysicalSizeIncrement(l);
if(h>this._scrollPosition)return this.grid?m-m%this._itemsPerRow:m;if(this.grid&&this._virtualCount-1===m)return m-m%this._itemsPerRow})||0}return g},get lastVisibleIndex(){var g=this._lastVisibleIndexVal;if(null==g){if(this.grid)g=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var h=this._physicalTop+this._scrollOffset;this._iterateItems(function(l,m){h<this._scrollBottom&&(g=m);h+=this._getPhysicalSizeIncrement(l)})}this._lastVisibleIndexVal=g}return g},
get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,d);this.listen(this,"iron-resize",
"_resizeHandler");this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler");this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(g){this.style.webkitOverflowScrolling=g===this?"touch":"";this.style.overflowY=g===this?"auto":"";this._firstVisibleIndexVal=this._lastVisibleIndexVal=null;this._debounce("_render",this._render,d)},updateViewportBoundaries:function(){var g=window.getComputedStyle(this);this._scrollerPaddingTop=
this.scrollTarget===this?0:parseInt(g["padding-top"],10);this._isRTL="rtl"===g.direction;this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var g=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),h=g-this._scrollPosition,l=0<=h;this._scrollPosition=g;this._lastVisibleIndexVal=this._firstVisibleIndexVal=null;Math.abs(h)>this._physicalSize&&0<this._physicalSize?(h-=this._scrollOffset,l=Math.round(h/
this._physicalAverage)*this._itemsPerRow,this._virtualStart+=l,this._physicalStart+=l,this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._update()):0<this._physicalCount&&(g=this._getReusables(l),l?(this._physicalTop=g.physicalTop,this._virtualStart+=g.indexes.length,this._physicalStart+=g.indexes.length):(this._virtualStart=this._virtualStart-g.indexes.length,this._physicalStart=this._physicalStart-g.indexes.length),this._update(g.indexes,l?null:g.indexes),
this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),f))},_getReusables:function(g){var h=[],l=this._hiddenContentSize*this._ratio,m=this._virtualStart,n=this._virtualEnd,p=this._physicalCount,r=this._physicalTop+this._scrollOffset;var w=this._physicalBottom+this._scrollOffset;var v=this._scrollTop,A=this._scrollBottom;if(g){var H=this._physicalStart;w=v-r}else H=this._physicalEnd,w-=A;for(;;){var C=this._getPhysicalSizeIncrement(H);w-=C;if(h.length>=p||w<=l)break;if(g){if(n+
h.length+1>=this._virtualCount)break;if(r+C>=v-this._scrollOffset)break;h.push(H);r+=C;H=(H+1)%p}else{if(0>=m-h.length)break;if(r+this._physicalSize-C<=A)break;h.push(H);r-=C;H=0===H?p-1:H-1}}return{indexes:h,physicalTop:r-this._scrollOffset}},_update:function(g,h){if(!(g&&0===g.length||0===this._physicalCount)){this._manageFocus();this._assignModels(g);this._updateMetrics(g);if(h)for(;h.length;)g=h.pop(),this._physicalTop-=this._getPhysicalSizeIncrement(g);this._positionItems();this._updateScrollerSize()}},
_createPool:function(g){this._ensureTemplatized();var h,l=Array(g);for(h=0;h<g;h++){var m=this.stamp(null);l[h]=m.root.querySelector("*");this._itemsParent.appendChild(m.root)}return l},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(g){g=this._clamp(this._physicalCount+g,3,this._virtualCount-this._virtualStart);g=this._convertIndexToCompleteRow(g);if(this.grid){var h=g%this._itemsPerRow;
h&&g-h<=this._physicalCount&&(g+=this._itemsPerRow);g-=h}g-=this._physicalCount;h=Math.round(.5*this._physicalCount);if(!(0>g)){if(0<g){h=window.performance.now();[].push.apply(this._physicalItems,this._createPool(g));for(var l=0;l<g;l++)this._physicalSizes.push(0);this._physicalCount+=g;this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=g);this._update();this._templateCost=
(window.performance.now()-h)/g;h=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===h||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,h)),e):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,h),f))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var g=this._getReusables(!0);
this._physicalTop=g.physicalTop;this._virtualStart+=g.indexes.length;this._physicalStart+=g.indexes.length;this._update(g.indexes);this._update();this._increasePoolIfNeeded(0)}else 0<this._virtualCount&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){(this._userTemplate=this.queryEffectiveChildren("template"))||console.warn("iron-list requires a template to be provided in light-dom");var g={__key__:!0};g[this.as]=!0;g[this.indexAs]=!0;
g[this.selectedAs]=!0;g.tabIndex=!0;this._instanceProps=g;this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(g,h){"undefined"!==typeof h&&(this.notifyResize(),Polymer.flush?Polymer.flush():Polymer.dom.flush(),g&&this._updateGridMetrics())},_itemsChanged:function(g){if("items"===g.path)this._physicalTop=this._virtualStart=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items&&Polymer.Collection?Polymer.Collection.get(this.items):null,this._physicalIndexForKey=
{},this._lastVisibleIndexVal=this._firstVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,d);else if("items.splices"===g.path){this._adjustVirtualIndex(g.value.indexSplices);this._virtualCount=this.items?this.items.length:0;if(g.value.indexSplices.some(function(l){return 0<
l.addedCount||0<l.removed.length})){var h=this._getActiveElement();this.contains(h)&&h.blur()}g=g.value.indexSplices.some(function(l){return l.index+l.addedCount>=this._virtualStart&&l.index<=this._virtualEnd},this);this._isClientFull()&&!g||this._debounce("_render",this._render,d)}else"items.length"!==g.path&&this._forwardItemPath(g.path,g.value)},_forwardItemPath:function(g,h){g=g.slice(6);var l=g.indexOf(".");-1===l&&(l=g.length);var m,n=this.modelForElement(this._offscreenFocusedItem);if(c){var p=
parseInt(g.substring(0,l),10);if(m=this._isIndexRendered(p)){var r=this._getPhysicalIndex(p);var w=this.modelForElement(this._physicalItems[r])}else n&&(w=n);if(!w||w[this.indexAs]!==p)return}else if(p=g.substring(0,l),n&&n.__key__===p)w=n;else if(r=this._physicalIndexForKey[p],w=this.modelForElement(this._physicalItems[r]),!w||w.__key__!==p)return;g=g.substring(l+1);g=this.as+(g?"."+g:"");c?w._setPendingPropertyOrPath(g,h,!1,!0):w.notifyPath(g,h,!0);w._flushProperties&&w._flushProperties(!0);m&&
(this._updateMetrics([r]),this._positionItems(),this._updateScrollerSize())},_adjustVirtualIndex:function(g){g.forEach(function(h){h.removed.forEach(this._removeItem,this);h.index<this._virtualStart&&(h=Math.max(h.addedCount-h.removed.length,h.index-this._virtualStart),this._virtualStart+=h,0<=this._focusedVirtualIndex&&(this._focusedVirtualIndex+=h))},this)},_removeItem:function(g){this.$.selector.deselect(g);this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===g&&this._removeFocusedItem()},
_iterateItems:function(g,h){var l,m;if(2===arguments.length&&h)for(m=0;m<h.length;m++){var n=h[m];var p=this._computeVidx(n);if(null!=(l=g.call(this,n,p)))return l}else{n=this._physicalStart;for(p=this._virtualStart;n<this._physicalCount;n++,p++)if(null!=(l=g.call(this,n,p)))return l;for(n=0;n<this._physicalStart;n++,p++)if(null!=(l=g.call(this,n,p)))return l}},_computeVidx:function(g){return g>=this._physicalStart?this._virtualStart+(g-this._physicalStart):this._virtualStart+(this._physicalCount-
this._physicalStart)+g},_assignModels:function(g){this._iterateItems(function(h,l){var m=this._physicalItems[h],n=this.items&&this.items[l];if(null!=n){var p=this.modelForElement(m);p.__key__=this._collection?this._collection.getKey(n):null;this._forwardProperty(p,this.as,n);this._forwardProperty(p,this.selectedAs,this.$.selector.isSelected(n));this._forwardProperty(p,this.indexAs,l);this._forwardProperty(p,"tabIndex",this._focusedVirtualIndex===l?0:-1);this._physicalIndexForKey[p.__key__]=h;p._flushProperties&&
p._flushProperties(!0);m.removeAttribute("hidden")}else m.setAttribute("hidden","")},g)},_updateMetrics:function(g){Polymer.flush?Polymer.flush():Polymer.dom.flush();var h=0,l=0,m=this._physicalAverageCount,n=this._physicalAverage;this._iterateItems(function(p){l+=this._physicalSizes[p];this._physicalSizes[p]=this._physicalItems[p].offsetHeight;h+=this._physicalSizes[p];this._physicalAverageCount+=this._physicalSizes[p]?1:0},g);this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/
this._itemsPerRow)*this._rowHeight):(l=1===this._itemsPerRow?l:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+h-l,this._itemsPerRow=1);this._physicalAverageCount!==m&&(this._physicalAverage=Math.round((n*m+h)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200;this._itemsPerRow=
this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var g=this._physicalTop;if(this.grid){var h=(this._viewportWidth-this._itemsPerRow*this._itemWidth)/2;this._iterateItems(function(l,m){var n=Math.floor(m%this._itemsPerRow*this._itemWidth+h);this._isRTL&&(n*=-1);this.translate3d(n+"px",g+"px",0,this._physicalItems[l]);this._shouldRenderNextRow(m)&&(g+=this._rowHeight)})}else this._iterateItems(function(l){this.translate3d(0,
g+"px",0,this._physicalItems[l]);g+=this._physicalSizes[l]})},_getPhysicalSizeIncrement:function(g){return this.grid?this._computeVidx(g)%this._itemsPerRow!==this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[g]},_shouldRenderNextRow:function(g){return g%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var g=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==g){this._physicalTop=this._physicalTop-g;var h=this._scrollTop;
!b&&0<h&&this._resetScrollPosition(h-g)}},_resetScrollPosition:function(g){this.scrollTarget&&0<=g&&(this._scrollPosition=this._scrollTop=g)},_updateScrollerSize:function(g){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;if((g=(g=(g=g||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<
this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight},scrollToItem:function(g){return this.scrollToIndex(this.items.indexOf(g))},scrollToIndex:function(g){if(!("number"!==typeof g||0>g||g>this.items.length-1)&&(Polymer.flush?Polymer.flush():Polymer.dom.flush(),0!==this._physicalCount)){g=this._clamp(g,0,this._virtualCount-1);if(!this._isIndexRendered(g)||g>=this._maxVirtualStart)this._virtualStart=
this.grid?g-2*this._itemsPerRow:g-1;this._manageFocus();this._assignModels();this._updateMetrics();this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var h=this._physicalStart,l=this._virtualStart,m=0,n=this._hiddenContentSize;l<g&&m<=n;)m+=this._getPhysicalSizeIncrement(h),h=(h+1)%this._physicalCount,l++;this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+m);this._increasePoolIfNeeded(0);this._lastVisibleIndexVal=
this._firstVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverageCount=this._physicalAverage=0},_resizeHandler:function(){this._debounce("_render",function(){this._lastVisibleIndexVal=this._firstVisibleIndexVal=null;this.updateViewportBoundaries();this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},d)},selectItem:function(g){return this.selectIndex(this.items.indexOf(g))},selectIndex:function(g){if(!(0>g||g>=this._virtualCount)){!this.multiSelection&&
this.selectedItem&&this.clearSelection();if(this._isIndexRendered(g)){var h=this.modelForElement(this._physicalItems[this._getPhysicalIndex(g)]);h&&(h[this.selectedAs]=!0);this.updateSizeForIndex(g)}this.$.selector.selectIndex?this.$.selector.selectIndex(g):this.$.selector.select(this.items[g])}},deselectItem:function(g){return this.deselectIndex(this.items.indexOf(g))},deselectIndex:function(g){0>g||g>=this._virtualCount||(this._isIndexRendered(g)&&(this.modelForElement(this._physicalItems[this._getPhysicalIndex(g)])[this.selectedAs]=
!1,this.updateSizeForIndex(g)),this.$.selector.deselectIndex?this.$.selector.deselectIndex(g):this.$.selector.deselect(this.items[g]))},toggleSelectionForItem:function(g){return this.toggleSelectionForIndex(this.items.indexOf(g))},toggleSelectionForIndex:function(g){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(g):this.$.selector.isSelected(this.items[g]))?this.deselectIndex(g):this.selectIndex(g)},clearSelection:function(){this._iterateItems(function(g){this.modelForElement(this._physicalItems[g])[this.selectedAs]=
!1});this.$.selector.clearSelection()},_selectionEnabledChanged:function(g){(g?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(g){var h=this.modelForElement(g.target);if(h){var l=Polymer.dom(g).path[0];g=this._getActiveElement();var m=this._physicalItems[this._getPhysicalIndex(h[this.indexAs])];if("input"!==l.localName&&"button"!==l.localName&&"select"!==l.localName){l=h.tabIndex;h.tabIndex=-100;var n=g?g.tabIndex:-1;h.tabIndex=l;g&&m!==g&&m.contains(g)&&
-100!==n||this.toggleSelectionForItem(h[this.as])}}},_multiSelectionChanged:function(g){this.clearSelection();this.$.selector.multi=g},updateSizeForItem:function(g){return this.updateSizeForIndex(this.items.indexOf(g))},updateSizeForIndex:function(g){if(!this._isIndexRendered(g))return null;this._updateMetrics([this._getPhysicalIndex(g)]);this._positionItems();return null},_manageFocus:function(){var g=this._focusedVirtualIndex;0<=g&&g<this._virtualCount?this._isIndexRendered(g)?this._restoreFocusedItem():
this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_convertIndexToCompleteRow:function(g){this._itemsPerRow=this._itemsPerRow||1;return this.grid?Math.ceil(g/this._itemsPerRow)*this._itemsPerRow:g},_isIndexRendered:function(g){return g>=this._virtualStart&&g<=this._virtualEnd},_isIndexVisible:function(g){return g>=this.firstVisibleIndex&&
g<=this.lastVisibleIndex},_getPhysicalIndex:function(g){return c?(this._physicalStart+(g-this._virtualStart))%this._physicalCount:this._physicalIndexForKey[this._collection.getKey(this.items[g])]},focusItem:function(g){this._focusPhysicalItem(g)},_focusPhysicalItem:function(g){if(!(0>g||g>=this._virtualCount)){this._restoreFocusedItem();this._isIndexRendered(g)||this.scrollToIndex(g);var h=this._physicalItems[this._getPhysicalIndex(g)],l=this.modelForElement(h),m;l.tabIndex=-100;-100===h.tabIndex&&
(m=h);m||(m=Polymer.dom(h).querySelector('[tabindex="-100"]'));l.tabIndex=0;this._focusedVirtualIndex=g;m&&m.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem);this._focusedItem=this._focusBackfillItem=this._offscreenFocusedItem=null;this._focusedPhysicalIndex=this._focusedVirtualIndex=-1},_createFocusBackfillItem:function(){var g=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||0>this._focusedVirtualIndex)){if(!this._focusBackfillItem){var h=
this.stamp(null);this._focusBackfillItem=h.root.querySelector("*");this._itemsParent.appendChild(h.root)}this._offscreenFocusedItem=this._physicalItems[g];this.modelForElement(this._offscreenFocusedItem).tabIndex=0;this._physicalItems[g]=this._focusBackfillItem;this._focusedPhysicalIndex=g;this.translate3d(0,"-10000px",0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(0>this._focusedVirtualIndex)){this._assignModels();var g=this._focusedPhysicalIndex,
h=this._physicalItems[g];if(h){var l=this.modelForElement(h),m=this.modelForElement(this._offscreenFocusedItem);l[this.as]===m[this.as]?(this._focusBackfillItem=h,l.tabIndex=-1,this._physicalItems[g]=this._offscreenFocusedItem,this.translate3d(0,"-10000px",0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null);this._offscreenFocusedItem=null}}},_didFocus:function(g){g=this.modelForElement(g.target);var h=this.modelForElement(this._focusedItem),l=null!==this._offscreenFocusedItem,
m=this._focusedVirtualIndex;g&&(h===g?this._isIndexVisible(m)||this.scrollToIndex(m):(this._restoreFocusedItem(),h&&(h.tabIndex=-1),g.tabIndex=0,this._focusedVirtualIndex=m=g[this.indexAs],this._focusedPhysicalIndex=this._getPhysicalIndex(m),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],l&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(g){switch(g.keyCode){case 40:g.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:
1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this.selectionEnabled&&this._selectionHandler(g)}},_clamp:function(g,h,l){return Math.min(l,Math.max(h,g))},_debounce:function(g,h,l){c?(this._debouncers=
this._debouncers||{},this._debouncers[g]=Polymer.Debouncer.debounce(this._debouncers[g],l,h.bind(this)),Polymer.enqueueDebouncer(this._debouncers[g])):Polymer.dom.addDebouncer(this.debounce(g,h))},_forwardProperty:function(g,h,l){c?g._setPendingProperty(h,l):g[h]=l},_forwardHostPropV2:function(g,h){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(l){l&&this.modelForElement(l).forwardHostProp(g,h)},this)},_notifyInstancePropV2:function(g,h,l){Polymer.Path.matches(this.as,
h)&&(g=g[this.indexAs],h==this.as&&(this.items[g]=l),this.notifyPath(Polymer.Path.translate(this.as,"items."+g,h),l))},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(g,h,l){0===h.indexOf(this.as+".")&&this.notifyPath("items."+g.__key__+"."+h.slice(this.as.length+1),l)},_forwardParentPath:function(g,h){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(l){l&&this.modelForElement(l).notifyPath(g,h,!0)},this)},
_forwardParentProp:function(g,h){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(l){l&&(this.modelForElement(l)[g]=h)},this)},_getActiveElement:function(){var g=this._itemsParent.node.domHost;return Polymer.dom(g?g.root:document).activeElement}})})();Polymer.IronA11yAnnouncer=function(){};Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(a){this._text="";this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};Polymer.IronValidatableBehaviorMeta=null;
Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},
minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){var a=this.$.textarea.validity.valid;
a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:""),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:
a.target.value},_constrain:function(a){var b;a=a||[""];for(b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push("");return b.join("<br/>")+"&#160;"},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=
this._constrain(this.tokens)}});Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){Polymer.Element||this.fire("iron-form-element-register")},detached:function(){!Polymer.Element&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},useV2Api:{type:Boolean,value:!1},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChangedV2(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},
registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability();if(this.useV2Api||this.hasAttribute("use-v2-api"))this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this.useV2Api&&(this._observer={},this._observer.__interval=setTimeout(function(){this._initSlottedInput()}.bind(this),2),this._observer.flush=function(){if(this.inputElement)return!1;
window.clearTimeout(this._observer.__interval);this._initSlottedInput();return!0}.bind(this))},detached:function(){this.useV2Api&&this._observer&&clearTimeout(this._observer)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this;this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value);this.fire("iron-input-ready")},_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",
function(){b=!0});try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},_dispatchEventFirefoxIE:function(a){var b=this.disabled;this.disabled=!1;a=this._origDispatchEvent(a);this.disabled=b;return a},get _patternRegExp(){if(this.allowedPattern)var a=new RegExp(this.allowedPattern);else if(this.useV2Api)switch(this.inputElement.type){case "number":a=/[0-9.,e-]/}else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.useV2Api||(this.bindValue=
this.value)},_bindValueChangedV2:function(a,b){this.useV2Api&&b&&(void 0===a?b.value=null:a!==b.value&&(this.inputElement.value=a),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:a}))},_bindValueChanged:function(){this.useV2Api||(this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:""),this.fire("bind-value-changed",{value:this.bindValue}))},_allowedPatternChanged:function(){this.useV2Api||(this.preventInvalidInput=
this.allowedPattern?!0:!1)},_onInput:function(){if(this.useV2Api){if(this.allowedPattern&&!this._patternAlreadyChecked){var a=this._checkPatternValidity();a||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value}else this.preventInvalidInput&&!this._patternAlreadyChecked&&(a=this._checkPatternValidity(),a||(this._announceInvalidCharacter("Invalid string of characters not entered."),
this.value=this._previousValidInput)),this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},_onKeypress:function(a){if(this.useV2Api){if(!this.allowedPattern&&"number"!==this.inputElement.type)return;var b=
this._patternRegExp;if(!b||a.metaKey||a.ctrlKey||a.altKey)return;this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode)}else{if(!this.preventInvalidInput&&"number"!==this.type)return;b=this._patternRegExp;if(!b||a.metaKey||a.ctrlKey||a.altKey)return;this._patternAlreadyChecked=!0;c=String.fromCharCode(a.charCode)}this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))},_checkPatternValidity:function(){var a=this._patternRegExp;
if(!a)return!0;if(this.useV2Api)for(var b=0;b<this.inputElement.value.length;b++){if(!a.test(this.inputElement.value[b]))return!1}else for(b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},validate:function(){if(this.useV2Api){if(!this.inputElement)return this.invalid=!1,!0;var a=this.inputElement.checkValidity();a&&(this.required&&""===this.bindValue?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)))}else(a=this.checkValidity())&&
(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){this.__setAutomaticNodeFindingId();return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},ready:function(){this.__setAutomaticNodeFindingId()},attached:function(){this._updateAriaLabelledBy();
this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){a?a=a+" "+b:a=b;return a},_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b)}},validate:function(){return this.inputElement.validate()},
_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a);this.focused&&!this._shiftTabPressed&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;
this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},
_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},__setAutomaticNodeFindingId:function(){this.$||(this.$={});this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId))}};
Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(){}};Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},
get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):
this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=
this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){if(this.autoValidate){var b;a.validate?b=a.validate(this._inputElementValue):b=a.checkValidity();this.invalid=!b}this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f="input-content";a?e&&(f+=" label-is-hidden"):(a=this.querySelector("label"),b||e?(f+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?f+=" is-invalid":c&&(f+=" label-is-highlighted")):a&&(this.$.labelAndInputContainer.style.position="relative"));c&&(f+=" focused");return f},_computeUnderlineClass:function(a,b){var c="underline";b?c+=" is-invalid":
a&&(c+=" is-highlighted");return c},_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this._focusableElement.setAttribute("aria-labelledby",a)},_ariaDescribedByChanged:function(a){this._focusableElement.setAttribute("aria-describedby",
a)},get _focusableElement(){return this.inputElement.textarea}});Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];Polymer({is:"paper-icon-item",behaviors:[Polymer.PaperItemBehavior]});Polymer({is:"paper-item-body"});Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":
"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a="auto"===a?"":a;b=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;this._desiredSize=a;this._updateTransition(!1);b&&(b=this._calcSize(),""===a&&(this.style[this._dimensionMax]="",a=this._calcSize()),this.style[this._dimensionMax]=b,this.scrollTop=
this.scrollTop,this._updateTransition(!0),b=a!==b);this.style[this._dimensionMax]=a;b||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;this.style["maxWidth"===this._dimensionMax?"maxHeight":"maxWidth"]="";this.updateSize(this.opened?
"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();
this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});(function(){var a=0,b=0,c=null,d=[];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(e){var f=this.currentLockingElement;if(void 0===f)return!1;if(this._hasCachedLockedElement(e))return!0;if(this._hasCachedUnlockedElement(e))return!1;(f=!!f&&f!==e&&!this._composedTreeContains(f,e))?this._lockedElementCache.push(e):this._unlockedElementCache.push(e);return f},pushScrollLock:function(e){0<=this._lockingElements.indexOf(e)||
(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(e),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(e){e=this._lockingElements.indexOf(e);-1!==e&&(this._lockingElements.splice(e,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(e){return-1<
this._lockedElementCache.indexOf(e)},_hasCachedUnlockedElement:function(e){return-1<this._unlockedElementCache.indexOf(e)},_composedTreeContains:function(e,f){var g,h;if(e.contains(f))return!0;e=Polymer.dom(e).querySelectorAll("content");for(g=0;g<e.length;++g){var l=Polymer.dom(e[g]).getDistributedNodes();for(h=0;h<l.length;++h)if(this._composedTreeContains(l[h],f))return!0}return!1},_scrollInteractionHandler:function(e){e.cancelable&&this._shouldPreventScrolling(e)&&e.preventDefault();e.targetTouches&&
(e=e.targetTouches[0],a=e.pageX,b=e.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);document.addEventListener("wheel",this._boundScrollHandler,!0);document.addEventListener("mousewheel",this._boundScrollHandler,!0);document.addEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.addEventListener("touchstart",this._boundScrollHandler,!0);document.addEventListener("touchmove",this._boundScrollHandler,
!0)},_unlockScrollInteractions:function(){document.removeEventListener("wheel",this._boundScrollHandler,!0);document.removeEventListener("mousewheel",this._boundScrollHandler,!0);document.removeEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.removeEventListener("touchstart",this._boundScrollHandler,!0);document.removeEventListener("touchmove",this._boundScrollHandler,!0)},_shouldPreventScrolling:function(e){var f=Polymer.dom(e).rootTarget;"touchmove"!==e.type&&c!==f&&(c=f,d=this._getScrollableNodes(Polymer.dom(e).path));
if(!d.length)return!0;if("touchstart"===e.type)return!1;e=this._getScrollInfo(e);return!this._getScrollingNode(d,e.deltaX,e.deltaY)},_getScrollableNodes:function(e){for(var f=[],g=e.indexOf(this.currentLockingElement),h=0;h<=g;h++)if(e[h].nodeType===Node.ELEMENT_NODE){var l=e[h],m=l.style;"scroll"!==m.overflow&&"auto"!==m.overflow&&(m=window.getComputedStyle(l));"scroll"!==m.overflow&&"auto"!==m.overflow||f.push(l)}return f},_getScrollingNode:function(e,f,g){if(f||g)for(var h=Math.abs(g)>=Math.abs(f),
l=0;l<e.length;l++){var m=e[l];if(h?0>g?0<m.scrollTop:m.scrollTop<m.scrollHeight-m.clientHeight:0>f?0<m.scrollLeft:m.scrollLeft<m.scrollWidth-m.clientWidth)return m}},_getScrollInfo:function(e){var f={deltaX:e.deltaX,deltaY:e.deltaY};"deltaX"in e||("wheelDeltaX"in e?(f.deltaX=-e.wheelDeltaX,f.deltaY=-e.wheelDeltaY):"axis"in e?(f.deltaX=1===e.axis?e.detail:0,f.deltaY=2===e.axis?e.detail:0):e.targetTouches&&(e=e.targetTouches[0],f.deltaX=a-e.pageX,f.deltaY=b-e.pageY));return f}}})();Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&
this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):
(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),
this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?
(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,
document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=
this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});var y8=function(){};k=y8.prototype;k.registered=function(){};k.addOwnKeyBinding=function(){};k.removeOwnKeyBindings=function(){};k.keyboardEventMatchesKeys=function(){};k._collectKeyBindings=function(){};k._prepKeyBindings=function(){};k._addKeyBinding=function(){};k._resetKeyEventListeners=function(){};k._listenKeyEventListeners=function(){};k._unlistenKeyEventListeners=function(){};k._onKeyBindingEvent=function(){};k._triggerKeyHandler=function(){};
k._focusBlurHandler=function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};k._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};k._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};y8=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,
value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(b,c){b?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(b){Polymer.IronControlState._disabledChanged.apply(this,arguments);b&&this.opened&&this.close()},__onIronOverlayCanceled:function(b){var c=b.detail;Polymer.dom(c);var d=this.$.trigger;-1<Polymer.dom(c).path.indexOf(d)&&b.preventDefault()}});Object.keys(a).forEach(function(b){y8[b]=a[b]});Polymer.PaperMenuButton=y8})();Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=this.contentElement;
a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){var b="";a?b=a.label||a.getAttribute("label")||
a.textContent.trim():b="";this._setValue(b);this._setSelectedItemLabel(b)},_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});Polymer({is:"paper-dropdown-menu-light",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0,observer:"_valueChanged"},label:{type:String},placeholder:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,
value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},hasContent:{type:Boolean,readOnly:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{tabindex:0,role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=
this.contentElement;a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){var b="";a?b=a.label||a.getAttribute("label")||
a.textContent.trim():b="";this._setValue(b);this._setSelectedItemLabel(b)},_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)},_computeLabelClass:function(a,b,c){var d="";if(!0===a)return c?"label-is-hidden":"";if(c||!0===b)d+=" label-is-floating";return d},_valueChanged:function(){this.$.input&&
this.$.input.textContent!==this.value&&(this.$.input.textContent=this.value);this._setHasContent(!!this.value)}});Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required",
"true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),b="px",c=a.match(/[A-Za-z]+$/);null!==c&&(b=c[0]);a=parseFloat(a);
c=8/3*a;"px"===b&&(c=Math.floor(c),c%2!==a%2&&c++);this.updateStyles({"--paper-checkbox-ink-size":c+b})}})},_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},_computeCheckmarkClass:function(a){return a?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){a=parseFloat(a);
if(!this.step)return a;a=Math.round((a-this.min)/this.step);return 1>this.step?a/(1/this.step)+this.min:a*this.step+this.min},_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",
a,this.$.primaryProgress)},_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d,e){a=this._clampValue(a);b=this._clampValue(b);var f=100*this._calcRatio(a),g=100*this._calcRatio(b);this._setSecondaryRatio(f);this._transformProgress(this.$.secondaryProgress,f);this._transformProgress(this.$.primaryProgress,g);this.secondaryProgress=a;e?this.removeAttribute("aria-valuenow"):
this.setAttribute("aria-valuenow",b);this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},_hideSecondaryProgress:function(a){return 0===a}});Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{value:{type:Number,value:0},snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,
value:!1,readOnly:!0},ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey",
"up pageup end":"_incrementKey"},ready:function(){this.ignoreBarTouch&&Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")},increment:function(){this.value=this._clampValue(this.value+this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(100*this._calcRatio(a))},_valueChanged:function(){this.fire("value-change",
{composed:!0})},_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change",{composed:!0}):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(100*this._calcRatio(this.immediateValue));
this.$.sliderKnob.style.left=this.ratio+"%";this.dragging&&(this._knobstartx=this.ratio*this._w/100,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(a){return(this.max-this.min)*a/100+this.min},_onTrack:function(a){a.stopPropagation();switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},_trackStart:function(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=
this.ratio*this._w/100;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx*(this._isRTL?-1:1)));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/this._w*100)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var a=
this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},_bartrack:function(a){this._allowBarEvent(a)&&this._onTrack(a)},_barclick:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect();b=(a.detail.x-b.left)/this._w*100;this._isRTL&&
(b=100-b);var c=this.ratio;this._setTransiting(!0);this._positionKnob(b);c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change",{composed:!0})});a.preventDefault();this.focus()},_bardown:function(a){this._allowBarEvent(a)&&(this.debounce("expandKnob",this._expandKnob,60),this._barclick(a))},_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);
if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_allowBarEvent:function(a){return!this.ignoreBarTouch||a.detail.sourceEvent instanceof MouseEvent},get _isRTL(){void 0===
this.__isRTL&&(this.__isRTL="rtl"===window.getComputedStyle(this).direction);return this.__isRTL},_leftKey:function(a){this._isRTL?this._incrementKey(a):this._decrementKey(a)},_rightKey:function(a){this._isRTL?this._decrementKey(a):this._incrementKey(a)},_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),
a.preventDefault())},_changeValue:function(a){this.value=a.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function(a){a.stopPropagation()},_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},__altChanged:function(a){"loading"===a?this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===
a),this.setAttribute("aria-label",a))},__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.__coolingDown=this.active=!1}};Polymer({is:"paper-spinner",behaviors:[Polymer.PaperSpinnerBehavior]});Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});(function(){var a=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},horizontalAlign:{type:String,value:"left"},verticalAlign:{type:String,value:"bottom"},duration:{type:Number,value:3E3},text:{type:String,value:""},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},get visible(){Polymer.Base._warn("`visible` is deprecated, use `opened` instead");
return this.opened},get _canAutoClose(){return 0<this.duration&&Infinity!==this.duration},created:function(){this._autoClose=null;Polymer.IronA11yAnnouncer.requestAvailability()},show:function(b){"string"==typeof b&&(b={text:b});for(var c in b)0===c.indexOf("_")?Polymer.Base._warn('The property "'+c+'" is private and was not set.'):c in this?this[c]=b[c]:Polymer.Base._warn('The property "'+c+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(b){b&&b.target===
this&&"opacity"===b.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null);this.opened?(a&&a!==this&&a.close(),a=this,this.fire("iron-announce",{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):a===this&&(a=null);Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add("paper-toast-open")},
_renderClosed:function(){this.classList.remove("paper-toast-open")},_onFitIntoChanged:function(b){this.positionTarget=b}})})();Polymer({is:"paper-toolbar",hostAttributes:{role:"toolbar"},properties:{bottomJustify:{type:String,value:""},justify:{type:String,value:""},middleJustify:{type:String,value:""}},ready:function(){console.warn(this.is,"is deprecated. Please use app-layout instead!")},attached:function(){this._observer=this._observe(this);this._updateAriaLabelledBy()},detached:function(){this._observer&&this._observer.disconnect()},_observe:function(a){var b=new MutationObserver(function(){this._updateAriaLabelledBy()}.bind(this));
b.observe(a,{childList:!0,subtree:!0});return b},_updateAriaLabelledBy:function(){Polymer.dom.flush();for(var a=[],b=Array.prototype.slice.call(Polymer.dom(this.root).querySelectorAll("slot")).concat(Array.prototype.slice.call(Polymer.dom(this.root).querySelectorAll("content"))),c,d=0;c=b[d];d++){c=Polymer.dom(c).getDistributedNodes();for(var e,f=0;e=c[f];f++)if(e.classList&&e.classList.contains("title"))if(e.id)a.push(e.id);else{var g="paper-toolbar-label-"+Math.floor(1E4*Math.random());e.id=g;a.push(g)}}0<
a.length&&this.setAttribute("aria-labelledby",a.join(" "))},_computeBarExtraClasses:function(a){return a?a+("justified"===a?"":"-justified"):""}});}).call(this);
